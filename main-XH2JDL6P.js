import{a as vC,b as yC,c as bC,d as wC,e as SC,f as xC,g as Xr,h as vr,j as on,m as Yi,r as Ki,s as St,t as Ri,u as pt,v as Xi,w as Ct}from"./chunk-JJIVLHMB.js";import{A as ze,B as EC,C as Um,D as DC,E as kt,F as mt,G as zm,H as qm,I as LC,J as RC,a as RS,b as BS,c as NS,d as Rm,e as Bm,f as Gr,g as Yr,h as VS,i as HS,j as WS,k as US,l as Mn,m as sC,n as Vm,o as oc,p as oe,q as lC,r as cC,s as Fe,t as Ke,u as Ve,v as dC,x as uC,y as pC,z as Kr}from"./chunk-EPH4ZYDD.js";import{$ as b,$c as Hd,$d as We,A as Mm,Ab as Te,Ac as LS,Ad as tl,Ae as Ye,Bb as Z,Bc as pe,Bd as zd,Be as TC,Cb as J,Cd as qd,Db as Q,Dd as eC,Eb as v,Ec as Od,Ed as $d,Ee as Jv,Fb as x,Fd as tC,Gb as O,Gd as ac,Ge as nt,Ha as SS,Hb as Se,He as tt,Ia as ss,Ib as T,Ic as Yt,Id as ce,Ie as AC,J as qv,Ja as Yn,Jb as D,Jc as Lm,Je as MC,Kb as A,Kc as Ut,Ke as Qd,L as ii,La as c,Lb as xe,Lc as FS,Ld as iC,Le as Pi,M as ic,Mb as se,Mc as OS,Md as ne,Me as bt,N as Ge,Na as CS,Nb as Ae,Nc as qt,Nd as Nm,Ne as Li,O as bn,Oa as xS,Ob as li,Oc as ya,Od as nC,Oe as wt,Pa as B,Pb as Kv,Pc as rc,Pd as rC,Pe as kC,Qb as IS,Qc as ja,Qd as $t,Rb as TS,Rc as jS,Rd as yi,Re as PC,S as Wt,Sc as Kn,Sd as ki,T as Qi,Tc as Nd,Te as _r,Ua as re,Ub as DS,Uc as za,Ue as an,V as yS,Va as wn,Ve as ht,Wb as h,Wd as Zn,We as rt,Xb as f,Xc as Js,Xd as aC,Xe as ls,Ya as Sn,Yb as ni,Yc as Fm,Yd as oC,Ye as sn,Z as km,Za as R,Zb as AS,Zc as Vd,Zd as Fn,_ as y,_b as ae,_c as Xn,_d as He,a as gS,aa as Wa,ac as MS,ad as zS,ae as mC,ba as os,bc as nc,bd as Xv,be as hC,ca as ji,cd as Om,ce as sc,db as le,dc as Ee,de as fC,e as Im,eb as g,ec as un,ed as qS,ee as gC,fb as $r,fc as Pm,fd as $S,gb as mi,gc as kS,gd as Wd,ge as _C,ha as et,hb as _e,hd as QS,he as Hm,i as Tm,ia as Ua,ib as si,ic as PS,id as GS,ie as CC,j as Ne,jb as hi,kb as Qv,kd as Io,ke as $a,la as xo,lb as Gv,ld as pn,le as Wm,m as vS,ma as Eo,mb as Yv,md as el,me as qe,nb as d,nd as Ud,ne as Si,ob as u,od as YS,oe as Pe,pb as P,pd as jd,pe as lc,qa as bS,qb as Ue,qd as KS,qe as st,ra as $v,rb as je,rc as zi,sb as Pt,sc as Gi,se as Xe,t as _S,tb as W,tc as ge,td as Zv,te as lt,u as Dm,ua as wS,ub as L,ud as XS,ue as ct,v as ie,vb as w,ve as Ze,wb as Qr,wc as Rn,wd as ZS,we as dt,x as Am,xb as gr,xc as Bn,xe as jm,yb as ES,yc as he,yd as JS,ye as IC,zb as ye,zd as qa,ze as ut}from"./chunk-6IEZ6IO7.js";import{a as z,b as Mt,c as fS,f as Ft}from"./chunk-EQDQRRRY.js";function BC(n){return new ii(3e3,!1)}function m4(){return new ii(3100,!1)}function h4(){return new ii(3101,!1)}function f4(n){return new ii(3001,!1)}function g4(n){return new ii(3003,!1)}function v4(n){return new ii(3004,!1)}function OC(n,e){return new ii(3005,!1)}function NC(){return new ii(3006,!1)}function VC(){return new ii(3007,!1)}function HC(n,e){return new ii(3008,!1)}function WC(n){return new ii(3002,!1)}function UC(n,e,t,i,r){return new ii(3010,!1)}function jC(){return new ii(3011,!1)}function zC(){return new ii(3012,!1)}function qC(){return new ii(3200,!1)}function $C(){return new ii(3202,!1)}function QC(){return new ii(3013,!1)}function GC(n){return new ii(3014,!1)}function YC(n){return new ii(3015,!1)}function KC(n){return new ii(3016,!1)}function XC(n,e){return new ii(3404,!1)}function _4(n){return new ii(3502,!1)}function ZC(n){return new ii(3503,!1)}function JC(){return new ii(3300,!1)}function ex(n){return new ii(3504,!1)}function tx(n){return new ii(3301,!1)}function ix(n,e){return new ii(3302,!1)}function nx(n){return new ii(3303,!1)}function rx(n,e){return new ii(3400,!1)}function ax(n){return new ii(3401,!1)}function ox(n){return new ii(3402,!1)}function sx(n,e){return new ii(3505,!1)}function To(n){switch(n.length){case 0:return new Js;case 1:return n[0];default:return new Fm(n)}}function n_(n,e,t=new Map,i=new Map){let r=[],a=[],o=-1,s=null;if(e.forEach(l=>{let p=l.get("offset"),m=p==o,_=m&&s||new Map;l.forEach((S,C)=>{let E=C,I=S;if(C!=="offset")switch(E=n.normalizePropertyName(E,r),I){case Vd:I=t.get(C);break;case ya:I=i.get(C);break;default:I=n.normalizeStyleValue(C,E,I,r);break}_.set(E,I)}),m||a.push(_),s=_,o=p}),r.length)throw _4(r);return a}function $m(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&e_(t,"start",n)));break;case"done":n.onDone(()=>i(t&&e_(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&e_(t,"destroy",n)));break}}function e_(n,e,t){let i=t.totalTime,r=!!t.disabled,a=Qm(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(a._data=o),a}function Qm(n,e,t,i,r="",a=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!o}}function yr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function r_(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var y4=typeof document>"u"?null:document.documentElement;function Gm(n){let e=n.parentNode||n.host||null;return e===y4?null:e}function b4(n){return n.substring(1,6)=="ebkit"}var il=null,FC=!1;function lx(n){il||(il=w4()||{},FC=il.style?"WebkitAppearance"in il.style:!1);let e=!0;return il.style&&!b4(n)&&(e=n in il.style,!e&&FC&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in il.style)),e}function w4(){return typeof document<"u"?document.body:null}function a_(n,e){for(;e;){if(e===n)return!0;e=Gm(e)}return!1}function o_(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var S4=1e3,s_="{{",C4="}}",l_="ng-enter",Ym="ng-leave",Gd="ng-trigger",Yd=".ng-trigger",c_="ng-animating",Km=".ng-animating";function Qa(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:t_(parseFloat(e[1]),e[2])}function t_(n,e){switch(e){case"s":return n*S4;default:return n}}function Kd(n,e,t){return n.hasOwnProperty("duration")?n:x4(n,e,t)}function x4(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,a=0,o="";if(typeof n=="string"){let s=n.match(i);if(s===null)return e.push(BC(n)),{duration:0,delay:0,easing:""};r=t_(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(a=t_(parseFloat(l),s[4]));let p=s[5];p&&(o=p)}else r=n;if(!t){let s=!1,l=e.length;r<0&&(e.push(m4()),s=!0),a<0&&(e.push(h4()),s=!0),s&&e.splice(l,0,BC(n))}return{duration:r,delay:a,easing:o}}function cx(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function ba(n,e,t){e.forEach((i,r)=>{let a=Xm(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i})}function cs(n,e){e.forEach((t,i)=>{let r=Xm(i);n.style[r]=""})}function cc(n){return Array.isArray(n)?n.length==1?n[0]:jS(n):n}function dx(n,e,t){let i=e.params||{},r=d_(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(f4(a))})}var i_=new RegExp(`${s_}\\s*(.+?)\\s*${C4}`,"g");function d_(n){let e=[];if(typeof n=="string"){let t;for(;t=i_.exec(n);)e.push(t[1]);i_.lastIndex=0}return e}function dc(n,e,t){let i=`${n}`,r=i.replace(i_,(a,o)=>{let s=e[o];return s==null&&(t.push(g4(o)),s=""),s.toString()});return r==i?n:r}var E4=/-+([a-z0-9])/g;function Xm(n){return n.replace(E4,(...e)=>e[1].toUpperCase())}function ux(n,e){return n===0||e===0}function px(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,o)=>{i.has(o)||r.push(o),i.set(o,a)}),r.length)for(let a=1;a<e.length;a++){let o=e[a];r.forEach(s=>o.set(s,Zm(n,s)))}}return e}function br(n,e,t){switch(e.type){case qt.Trigger:return n.visitTrigger(e,t);case qt.State:return n.visitState(e,t);case qt.Transition:return n.visitTransition(e,t);case qt.Sequence:return n.visitSequence(e,t);case qt.Group:return n.visitGroup(e,t);case qt.Animate:return n.visitAnimate(e,t);case qt.Keyframes:return n.visitKeyframes(e,t);case qt.Style:return n.visitStyle(e,t);case qt.Reference:return n.visitReference(e,t);case qt.AnimateChild:return n.visitAnimateChild(e,t);case qt.AnimateRef:return n.visitAnimateRef(e,t);case qt.Query:return n.visitQuery(e,t);case qt.Stagger:return n.visitStagger(e,t);default:throw v4(e.type)}}function Zm(n,e){return window.getComputedStyle(n)[e]}var T_=(()=>{class n{validateStyleProperty(t){return lx(t)}containsElement(t,i){return a_(t,i)}getParentElement(t){return Gm(t)}query(t,i,r){return o_(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,o,s=[],l){return new Js(r,a)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),rl=class{static NOOP=new T_},al=class{};var I4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),nh=class extends al{normalizePropertyName(e,t){return Xm(e)}normalizeStyleValue(e,t,i,r){let a="",o=i.toString().trim();if(I4.has(t)&&i!==0&&i!=="0")if(typeof i=="number")a="px";else{let s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(OC(e,i))}return o+a}};var rh="*";function T4(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>D4(i,t,e)):t.push(n),t}function D4(n,e,t){if(n[0]==":"){let l=A4(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(YC(n)),e;let r=i[1],a=i[2],o=i[3];e.push(mx(r,o));let s=r==rh&&o==rh;a[0]=="<"&&!s&&e.push(mx(o,r))}function A4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(KC(n)),"* => *"}}var Jm=new Set(["true","1"]),eh=new Set(["false","0"]);function mx(n,e){let t=Jm.has(n)||eh.has(n),i=Jm.has(e)||eh.has(e);return(r,a)=>{let o=n==rh||n==r,s=e==rh||e==a;return!o&&t&&typeof r=="boolean"&&(o=r?Jm.has(n):eh.has(n)),!s&&i&&typeof a=="boolean"&&(s=a?Jm.has(e):eh.has(e)),o&&s}}var Cx=":self",M4=new RegExp(`s*${Cx}s*,?`,"g");function xx(n,e,t,i){return new g_(n).build(e,t,i)}var hx="",g_=class{_driver;constructor(e){this._driver=e}build(e,t,i){let r=new v_(t);return this._resetContextStyleTimingState(r),br(this,cc(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=hx,e.collectedStyles=new Map,e.collectedStyles.set(hx,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,a=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(NC()),e.definitions.forEach(s=>{if(this._resetContextStyleTimingState(t),s.type==qt.State){let l=s,p=l.name;p.toString().split(/\s*,\s*/).forEach(m=>{l.name=m,a.push(this.visitState(l,t))}),l.name=p}else if(s.type==qt.Transition){let l=this.visitTransition(s,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(VC())}),{type:qt.Trigger,name:e.name,states:a,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let a=new Set,o=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{d_(l).forEach(p=>{o.hasOwnProperty(p)||a.add(p)})})}),a.size&&t.errors.push(HC(e.name,[...a.values()]))}return{type:qt.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=br(this,cc(e.animation),t),r=T4(e.expr,t.errors);return{type:qt.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:nl(e.options)}}visitSequence(e,t){return{type:qt.Sequence,steps:e.steps.map(i=>br(this,i,t)),options:nl(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,a=e.steps.map(o=>{t.currentTime=i;let s=br(this,o,t);return r=Math.max(r,t.currentTime),s});return t.currentTime=r,{type:qt.Group,steps:a,options:nl(e.options)}}visitAnimate(e,t){let i=R4(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Kn({});if(a.type==qt.Keyframes)r=this.visitKeyframes(a,t);else{let o=e.styles,s=!1;if(!o){s=!0;let p={};i.easing&&(p.easing=i.easing),o=Kn(p)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=s,r=l}return t.currentAnimateTimings=null,{type:qt.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let s of r)typeof s=="string"?s===ya?i.push(s):t.errors.push(WC(s)):i.push(new Map(Object.entries(s)));let a=!1,o=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(o=s.get("easing"),s.delete("easing")),!a)){for(let l of s.values())if(l.toString().indexOf(s_)>=0){a=!0;break}}}),{type:qt.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,l)=>{let p=t.collectedStyles.get(t.currentQuerySelector),m=p.get(l),_=!0;m&&(a!=r&&a>=m.startTime&&r<=m.endTime&&(t.errors.push(UC(l,m.startTime,m.endTime,a,r)),_=!1),a=m.startTime),_&&p.set(l,{startTime:a,endTime:r}),t.options&&dx(s,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:qt.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(jC()),i;let r=1,a=0,o=[],s=!1,l=!1,p=0,m=e.steps.map(F=>{let N=this._makeStyleAst(F,t),U=N.offset!=null?N.offset:L4(N.styles),j=0;return U!=null&&(a++,j=N.offset=U),l=l||j<0||j>1,s=s||j<p,p=j,o.push(j),N});l&&t.errors.push(zC()),s&&t.errors.push(qC());let _=e.steps.length,S=0;a>0&&a<_?t.errors.push($C()):a==0&&(S=r/(_-1));let C=_-1,E=t.currentTime,I=t.currentAnimateTimings,M=I.duration;return m.forEach((F,N)=>{let U=S>0?N==C?1:S*N:o[N],j=U*M;t.currentTime=E+I.delay+j,I.duration=j,this._validateStyleAst(F,t),F.offset=U,i.styles.push(F)}),i}visitReference(e,t){return{type:qt.Reference,animation:br(this,cc(e.animation),t),options:nl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:qt.AnimateChild,options:nl(e.options)}}visitAnimateRef(e,t){return{type:qt.AnimateRef,animation:this.visitReference(e.animation,t),options:nl(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[a,o]=k4(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,yr(t.collectedStyles,t.currentQuerySelector,new Map);let s=br(this,cc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:qt.Query,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:nl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(QC());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Kd(e.timings,t.errors,!0);return{type:qt.Stagger,animation:br(this,cc(e.animation),t),timings:i,options:null}}};function k4(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Cx);return e&&(n=n.replace(M4,"")),n=n.replace(/@\*/g,Yd).replace(/@\w+/g,t=>Yd+"-"+t.slice(1)).replace(/:animating/g,Km),[n,e]}function P4(n){return n?z({},n):null}var v_=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function L4(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function R4(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let a=Kd(n,e).duration;return u_(a,0,"")}let t=n;if(t.split(/\s+/).some(a=>a.charAt(0)=="{"&&a.charAt(1)=="{")){let a=u_(0,0,"");return a.dynamic=!0,a.strValue=t,a}let r=Kd(t,e);return u_(r.duration,r.delay,r.easing)}function nl(n){return n?(n=z({},n),n.params&&(n.params=P4(n.params))):n={},n}function u_(n,e,t){return{duration:n,delay:e,easing:t}}function D_(n,e,t,i,r,a,o=null,s=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:o,subTimeline:s}}var Zd=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},B4=1,F4=":enter",O4=new RegExp(F4,"g"),N4=":leave",V4=new RegExp(N4,"g");function Ex(n,e,t,i,r,a=new Map,o=new Map,s,l,p=[]){return new __().buildKeyframes(n,e,t,i,r,a,o,s,l,p)}var __=class{buildKeyframes(e,t,i,r,a,o,s,l,p,m=[]){p=p||new Zd;let _=new y_(e,t,p,r,a,m,[]);_.options=l;let S=l.delay?Qa(l.delay):0;_.currentTimeline.delayNextStep(S),_.currentTimeline.setStyles([o],null,_.errors,l),br(this,i,_);let C=_.timelines.filter(E=>E.containsAnimation());if(C.length&&s.size){let E;for(let I=C.length-1;I>=0;I--){let M=C[I];if(M.element===t){E=M;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([s],null,_.errors,l)}return C.length?C.map(E=>E.buildKeyframes()):[D_(t,[],[],[],0,S,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);a!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let a=r?.delay;if(a){let o=typeof a=="number"?a:Qa(dc(a,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime,o=i.duration!=null?Qa(i.duration):null,s=i.delay!=null?Qa(i.delay):null;return o!==0&&e.forEach(l=>{let p=t.appendInstructionToTimeline(l,o,s);a=Math.max(a,p.duration+p.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),br(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),a.delay!=null)){r.previousNode.type==qt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ah);let o=Qa(a.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>br(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,a=e.options&&e.options.delay?Qa(e.options.delay):0;e.steps.forEach(o=>{let s=t.createSubContext(e.options);a&&s.delayNextStep(a),br(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?dc(i,t.params,t.errors):i;return Kd(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let a=e.style;a.type==qt.Keyframes?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,s=t.createSubContext().currentTimeline;s.easing=i.easing,e.styles.forEach(l=>{let p=l.offset||0;s.forwardTime(p*a),s.setStyles(l.styles,l.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Qa(r.delay):0;a&&(t.previousNode.type===qt.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ah);let o=i,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;let l=null;s.forEach((p,m)=>{t.currentQueryIndex=m;let _=t.createSubContext(e.options,p);a&&_.delayNextStep(a),p===t.element&&(l=_.currentTimeline),br(this,e.animation,_),_.currentTimeline.applyStylesToKeyframe();let S=_.currentTimeline.currentTime;o=Math.max(o,S)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,a=e.timings,o=Math.abs(a.duration),s=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime;break}let m=t.currentTimeline;l&&m.delayNextStep(l);let _=m.currentTime;br(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-_+(r.startTime-i.currentTimeline.startTime)}},ah={},y_=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ah;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,i,r,a,o,s,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=o,this.timelines=s,this.currentTimeline=l||new oh(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Qa(i.duration)),i.delay!=null&&(r.delay=Qa(i.delay));let a=i.params;if(a){let o=r.params;o||(o=this.options.params={}),Object.keys(a).forEach(s=>{(!t||!o.hasOwnProperty(s))&&(o[s]=dc(a[s],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,a=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=ah,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new b_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,o){let s=[];if(r&&s.push(this.element),e.length>0){e=e.replace(O4,"."+this._enterClassName),e=e.replace(V4,"."+this._leaveClassName);let l=i!=1,p=this._driver.query(this.element,e,l);i!==0&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),s.push(...p)}return!a&&s.length==0&&o.push(GC(t)),s}},oh=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=B4,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ya),this._currentKeyframe.set(t,ya);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let a=r&&r.params||{},o=H4(e,this._globalTimelineStyles);for(let[s,l]of o){let p=dc(l,a,i);this._pendingStyles.set(s,p),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??ya),this._updateStyle(s,p)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,l)=>{let p=new Map([...this._backFill,...s]);p.forEach((m,_)=>{m===Vd?e.add(_):m===ya&&t.add(_)}),i||p.set("offset",l/this.duration),r.push(p)});let a=[...e.values()],o=[...t.values()];if(i){let s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return D_(this.element,r,a,o,this.duration,this.startTime,this.easing,!1)}},b_=class extends oh{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,i,r,a,o,s=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let a=[],o=i+t,s=t/o,l=new Map(e[0]);l.set("offset",0),a.push(l);let p=new Map(e[0]);p.set("offset",fx(s)),a.push(p);let m=e.length-1;for(let _=1;_<=m;_++){let S=new Map(e[_]),C=S.get("offset"),E=t+C*i;S.set("offset",fx(E/o)),a.push(S)}i=o,t=0,r="",e=a}return D_(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function fx(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function H4(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let a of i)t.set(a,ya)}else for(let[a,o]of r)t.set(a,o)}),t}function gx(n,e,t,i,r,a,o,s,l,p,m,_,S){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:o,timelines:s,queriedElements:l,preStyleProps:p,postStyleProps:m,totalTime:_,errors:S}}var p_={},sh=class{_triggerName;ast;_stateStyles;constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return W4(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,o,s,l,p,m){let _=[],S=this.ast.options&&this.ast.options.params||p_,C=s&&s.params||p_,E=this.buildStyles(i,C,_),I=l&&l.params||p_,M=this.buildStyles(r,I,_),F=new Set,N=new Map,U=new Map,j=r==="void",$={params:Ix(I,S),delay:this.ast.options?.delay},X=m?[]:Ex(e,t,this.ast.animation,a,o,E,M,$,p,_),te=0;return X.forEach(G=>{te=Math.max(G.duration+G.delay,te)}),_.length?gx(t,this._triggerName,i,r,j,E,M,[],[],N,U,te,_):(X.forEach(G=>{let de=G.element,Qe=yr(N,de,new Set);G.preStyleProps.forEach(At=>Qe.add(At));let Dt=yr(U,de,new Set);G.postStyleProps.forEach(At=>Dt.add(At)),de!==t&&F.add(de)}),gx(t,this._triggerName,i,r,j,E,M,X,[...F.values()],N,U,te))}};function W4(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}function Ix(n,e){let t=z({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var w_=class{styles;defaultParams;normalizer;constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=Ix(e,this.defaultParams);return this.styles.styles.forEach(a=>{typeof a!="string"&&a.forEach((o,s)=>{o&&(o=dc(o,r,t));let l=this.normalizer.normalizePropertyName(s,t);o=this.normalizer.normalizeStyleValue(s,l,o,t),i.set(s,o)})}),i}};function U4(n,e,t){return new S_(n,e,t)}var S_=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,t.states.forEach(r=>{let a=r.options&&r.options.params||{};this.states.set(r.name,new w_(r.style,a,i))}),vx(this.states,"true","1"),vx(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new sh(e,r,this.states))}),this.fallbackTransition=j4(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function j4(n,e,t){let i=[(o,s)=>!0],r={type:qt.Sequence,steps:[],options:null},a={type:qt.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new sh(n,a,e)}function vx(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var z4=new Zd,C_=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i}register(e,t){let i=[],r=[],a=xx(this._driver,t,i,r);if(i.length)throw ZC(i);this._animations.set(e,a)}_buildPlayer(e,t,i){let r=e.element,a=n_(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],a=this._animations.get(e),o,s=new Map;if(a?(o=Ex(this._driver,t,a,l_,Ym,new Map,new Map,i,z4,r),o.forEach(m=>{let _=yr(s,m.element,new Map);m.postStyleProps.forEach(S=>_.set(S,null))})):(r.push(JC()),o=[]),r.length)throw ex(r);s.forEach((m,_)=>{m.forEach((S,C)=>{m.set(C,this._driver.computeStyle(_,C,ya))})});let l=o.map(m=>{let _=s.get(m.element);return this._buildPlayer(m,new Map,_)}),p=To(l);return this._playersById.set(e,p),p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw tx(e);return t}listen(e,t,i,r){let a=Qm(t,"","","");return $m(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},_x="ng-animate-queued",q4=".ng-animate-queued",m_="ng-animate-disabled",$4=".ng-animate-disabled",Q4="ng-star-inserted",G4=".ng-star-inserted",Y4=[],Tx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},K4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wa="__ng_removed",Jd=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Z4(r),i){let a=e,{value:o}=a,s=fS(a,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},Xd="void",h_=new Jd(Xd),x_=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this._hostClassName="ng-tns-"+e,Zr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw ix(i,t);if(i==null||i.length==0)throw nx(t);if(!J4(i))throw rx(i,t);let a=yr(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};a.push(o);let s=yr(this._engine.statesByElement,e,new Map);return s.has(t)||(Zr(e,Gd),Zr(e,Gd+"-"+t),s.set(t,h_)),()=>{this._engine.afterFlush(()=>{let l=a.indexOf(o);l>=0&&a.splice(l,1),this._triggers.has(t)||s.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw ax(e);return t}trigger(e,t,i,r=!0){let a=this._getTrigger(t),o=new eu(this.id,t,e),s=this._engine.statesByElement.get(e);s||(Zr(e,Gd),Zr(e,Gd+"-"+t),this._engine.statesByElement.set(e,s=new Map));let l=s.get(t),p=new Jd(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&p.absorbOptions(l.options),s.set(t,p),l||(l=h_),!(p.value===Xd)&&l.value===p.value){if(!i5(l.params,p.params)){let I=[],M=a.matchStyles(l.value,l.params,I),F=a.matchStyles(p.value,p.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{cs(e,M),ba(e,F)})}return}let S=yr(this._engine.playersByElement,e,[]);S.forEach(I=>{I.namespaceId==this.id&&I.triggerName==t&&I.queued&&I.destroy()});let C=a.matchTransition(l.value,p.value,e,p.params),E=!1;if(!C){if(!r)return;C=a.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:l,toState:p,player:o,isFallbackTransition:E}),E||(Zr(e,_x),o.onStart(()=>{uc(e,_x)})),o.onDone(()=>{let I=this.players.indexOf(o);I>=0&&this.players.splice(I,1);let M=this._engine.playersByElement.get(e);if(M){let F=M.indexOf(o);F>=0&&M.splice(F,1)}}),this.players.push(o),S.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Yd,!0);i.forEach(r=>{if(r[wa])return;let a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let a=this._engine.statesByElement.get(e),o=new Map;if(a){let s=[];if(a.forEach((l,p)=>{if(o.set(p,l.value),this._triggers.has(p)){let m=this.trigger(e,p,Xd,r);m&&s.push(m)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&To(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(a=>{let o=a.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,p=i.get(o)||h_,m=new Jd(Xd),_=new eu(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:p,toState:m,player:_,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let a=e[wa];(!a||a===Tx)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Zr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let a=i.element,o=this._elementListeners.get(a);o&&o.forEach(s=>{if(s.name==i.triggerName){let l=Qm(a,i.triggerName,i.fromState.value,i.toState.value);l._data=e,$m(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let a=i.transition.ast.depCount,o=r.transition.ast.depCount;return a==0||o==0?a-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},E_=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new x_(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,s=this.driver.getParentElement(t);for(;s;){let l=r.get(s);if(l){let p=i.indexOf(l);i.splice(p+1,0,e),o=!0;break}s=this.driver.getParentElement(s)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}}return t}trigger(e,t,i,r){if(th(t)){let a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!th(t))return;let a=t[wa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zr(e,m_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),uc(e,m_))}removeNode(e,t,i){if(th(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[wa]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return th(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Yd,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Km,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return To(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[wa];if(t&&t.setForRemoval){if(e[wa]=Tx,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(m_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,$4,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Zr(r,Q4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?To(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw ox(e)}_flushAnimations(e,t){let i=new Zd,r=[],a=new Map,o=[],s=new Map,l=new Map,p=new Map,m=new Set;this.disabledNodes.forEach(ue=>{m.add(ue);let we=this.driver.query(ue,q4,!0);for(let Oe=0;Oe<we.length;Oe++)m.add(we[Oe])});let _=this.bodyNode,S=Array.from(this.statesByElement.keys()),C=wx(S,this.collectedEnterElements),E=new Map,I=0;C.forEach((ue,we)=>{let Oe=l_+I++;E.set(we,Oe),ue.forEach(ot=>Zr(ot,Oe))});let M=[],F=new Set,N=new Set;for(let ue=0;ue<this.collectedLeaveElements.length;ue++){let we=this.collectedLeaveElements[ue],Oe=we[wa];Oe&&Oe.setForRemoval&&(M.push(we),F.add(we),Oe.hasAnimation?this.driver.query(we,G4,!0).forEach(ot=>F.add(ot)):N.add(we))}let U=new Map,j=wx(S,Array.from(F));j.forEach((ue,we)=>{let Oe=Ym+I++;U.set(we,Oe),ue.forEach(ot=>Zr(ot,Oe))}),e.push(()=>{C.forEach((ue,we)=>{let Oe=E.get(we);ue.forEach(ot=>uc(ot,Oe))}),j.forEach((ue,we)=>{let Oe=U.get(we);ue.forEach(ot=>uc(ot,Oe))}),M.forEach(ue=>{this.processLeaveNode(ue)})});let $=[],X=[];for(let ue=this._namespaceList.length-1;ue>=0;ue--)this._namespaceList[ue].drainQueuedTransitions(t).forEach(Oe=>{let ot=Oe.player,Ui=Oe.element;if($.push(ot),this.collectedEnterElements.length){let Gn=Ui[wa];if(Gn&&Gn.setForMove){if(Gn.previousTriggersValues&&Gn.previousTriggersValues.has(Oe.triggerName)){let Zs=Gn.previousTriggersValues.get(Oe.triggerName),qr=this.statesByElement.get(Oe.element);if(qr&&qr.has(Oe.triggerName)){let Em=qr.get(Oe.triggerName);Em.value=Zs,qr.set(Oe.triggerName,Em)}}ot.destroy();return}}let dr=!_||!this.driver.containsElement(_,Ui),gn=U.get(Ui),fr=E.get(Ui),pi=this._buildInstruction(Oe,i,fr,gn,dr);if(pi.errors&&pi.errors.length){X.push(pi);return}if(dr){ot.onStart(()=>cs(Ui,pi.fromStyles)),ot.onDestroy(()=>ba(Ui,pi.toStyles)),r.push(ot);return}if(Oe.isFallbackTransition){ot.onStart(()=>cs(Ui,pi.fromStyles)),ot.onDestroy(()=>ba(Ui,pi.toStyles)),r.push(ot);return}let as=[];pi.timelines.forEach(Gn=>{Gn.stretchStartingKeyframe=!0,this.disabledNodes.has(Gn.element)||as.push(Gn)}),pi.timelines=as,i.append(Ui,pi.timelines);let Co={instruction:pi,player:ot,element:Ui};o.push(Co),pi.queriedElements.forEach(Gn=>yr(s,Gn,[]).push(ot)),pi.preStyleProps.forEach((Gn,Zs)=>{if(Gn.size){let qr=l.get(Zs);qr||l.set(Zs,qr=new Set),Gn.forEach((Em,zv)=>qr.add(zv))}}),pi.postStyleProps.forEach((Gn,Zs)=>{let qr=p.get(Zs);qr||p.set(Zs,qr=new Set),Gn.forEach((Em,zv)=>qr.add(zv))})});if(X.length){let ue=[];X.forEach(we=>{ue.push(sx(we.triggerName,we.errors))}),$.forEach(we=>we.destroy()),this.reportError(ue)}let te=new Map,G=new Map;o.forEach(ue=>{let we=ue.element;i.has(we)&&(G.set(we,we),this._beforeAnimationBuild(ue.player.namespaceId,ue.instruction,te))}),r.forEach(ue=>{let we=ue.element;this._getPreviousPlayers(we,!1,ue.namespaceId,ue.triggerName,null).forEach(ot=>{yr(te,we,[]).push(ot),ot.destroy()})});let de=M.filter(ue=>Sx(ue,l,p)),Qe=new Map;bx(Qe,this.driver,N,p,ya).forEach(ue=>{Sx(ue,l,p)&&de.push(ue)});let At=new Map;C.forEach((ue,we)=>{bx(At,this.driver,new Set(ue),l,Vd)}),de.forEach(ue=>{let we=Qe.get(ue),Oe=At.get(ue);Qe.set(ue,new Map([...we?.entries()??[],...Oe?.entries()??[]]))});let dn=[],Qn=[],ui={};o.forEach(ue=>{let{element:we,player:Oe,instruction:ot}=ue;if(i.has(we)){if(m.has(we)){Oe.onDestroy(()=>ba(we,ot.toStyles)),Oe.disabled=!0,Oe.overrideTotalTime(ot.totalTime),r.push(Oe);return}let Ui=ui;if(G.size>1){let gn=we,fr=[];for(;gn=gn.parentNode;){let pi=G.get(gn);if(pi){Ui=pi;break}fr.push(gn)}fr.forEach(pi=>G.set(pi,Ui))}let dr=this._buildAnimation(Oe.namespaceId,ot,te,a,At,Qe);if(Oe.setRealPlayer(dr),Ui===ui)dn.push(Oe);else{let gn=this.playersByElement.get(Ui);gn&&gn.length&&(Oe.parentPlayer=To(gn)),r.push(Oe)}}else cs(we,ot.fromStyles),Oe.onDestroy(()=>ba(we,ot.toStyles)),Qn.push(Oe),m.has(we)&&r.push(Oe)}),Qn.forEach(ue=>{let we=a.get(ue.element);if(we&&we.length){let Oe=To(we);ue.setRealPlayer(Oe)}}),r.forEach(ue=>{ue.parentPlayer?ue.syncPlayerEvents(ue.parentPlayer):ue.destroy()});for(let ue=0;ue<M.length;ue++){let we=M[ue],Oe=we[wa];if(uc(we,Ym),Oe&&Oe.hasAnimation)continue;let ot=[];if(s.size){let dr=s.get(we);dr&&dr.length&&ot.push(...dr);let gn=this.driver.query(we,Km,!0);for(let fr=0;fr<gn.length;fr++){let pi=s.get(gn[fr]);pi&&pi.length&&ot.push(...pi)}}let Ui=ot.filter(dr=>!dr.destroyed);Ui.length?e5(this,we,Ui):this.processLeaveNode(we)}return M.length=0,dn.forEach(ue=>{this.players.push(ue),ue.onDone(()=>{ue.destroy();let we=this.players.indexOf(ue);this.players.splice(we,1)}),ue.play()}),dn}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let o=[];if(t){let s=this.playersByQueriedElement.get(e);s&&(o=s)}else{let s=this.playersByElement.get(e);if(s){let l=!a||a==Xd;s.forEach(p=>{p.queued||!l&&p.triggerName!=r||o.push(p)})}}return(i||r)&&(o=o.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,a=t.element,o=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let p=l.element,m=p!==a,_=yr(i,p,[]);this._getPreviousPlayers(p,m,o,s,t.toState).forEach(C=>{let E=C.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),C.destroy(),_.push(C)})}cs(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,o){let s=t.triggerName,l=t.element,p=[],m=new Set,_=new Set,S=t.timelines.map(E=>{let I=E.element;m.add(I);let M=I[wa];if(M&&M.removedBeforeQueried)return new Js(E.duration,E.delay);let F=I!==l,N=t5((i.get(I)||Y4).map(te=>te.getRealPlayer())).filter(te=>{let G=te;return G.element?G.element===I:!1}),U=a.get(I),j=o.get(I),$=n_(this._normalizer,E.keyframes,U,j),X=this._buildPlayer(E,$,N);if(E.subTimeline&&r&&_.add(I),F){let te=new eu(e,s,I);te.setRealPlayer(X),p.push(te)}return X});p.forEach(E=>{yr(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>X4(this.playersByQueriedElement,E.element,E))}),m.forEach(E=>Zr(E,c_));let C=To(S);return C.onDestroy(()=>{m.forEach(E=>uc(E,c_)),ba(l,t.toStyles)}),_.forEach(E=>{yr(r,E,[]).push(C)}),C}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Js(e.duration,e.delay)}},eu=class{namespaceId;triggerName;element;_player=new Js;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>$m(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){yr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function X4(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function Z4(n){return n??null}function th(n){return n&&n.nodeType===1}function J4(n){return n=="start"||n=="done"}function yx(n,e){let t=n.style.display;return n.style.display=e??"none",t}function bx(n,e,t,i,r){let a=[];t.forEach(l=>a.push(yx(l)));let o=[];i.forEach((l,p)=>{let m=new Map;l.forEach(_=>{let S=e.computeStyle(p,_,r);m.set(_,S),(!S||S.length==0)&&(p[wa]=K4,o.push(p))}),n.set(p,m)});let s=0;return t.forEach(l=>yx(l,a[s++])),o}function wx(n,e){let t=new Map;if(n.forEach(s=>t.set(s,[])),e.length==0)return t;let i=1,r=new Set(e),a=new Map;function o(s){if(!s)return i;let l=a.get(s);if(l)return l;let p=s.parentNode;return t.has(p)?l=p:r.has(p)?l=i:l=o(p),a.set(s,l),l}return e.forEach(s=>{let l=o(s);l!==i&&t.get(l).push(s)}),t}function Zr(n,e){n.classList?.add(e)}function uc(n,e){n.classList?.remove(e)}function e5(n,e,t){To(t).onDone(()=>n.processLeaveNode(e))}function t5(n){let e=[];return Dx(n,e),e}function Dx(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Fm?Dx(i.players,e):e.push(i)}}function i5(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}function Sx(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}var pc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,i){this._driver=t,this._normalizer=i,this._transitionEngine=new E_(e.body,t,i),this._timelineEngine=new C_(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){let o=e+"-"+r,s=this._triggerCache[o];if(!s){let l=[],p=[],m=xx(this._driver,a,l,p);if(l.length)throw XC(r,l);s=U4(r,m,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,r,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[a,o]=r_(i),s=r;this._timelineEngine.command(a,t,o,s)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if(i.charAt(0)=="@"){let[o,s]=r_(i);return this._timelineEngine.listen(o,t,s,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function n5(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=f_(e[0]),e.length>1&&(i=f_(e[e.length-1]))):e instanceof Map&&(t=f_(e)),t||i?new r5(n,t,i):null}var r5=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ba(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ba(this._element,this._initialStyles),this._endStyles&&(ba(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(cs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cs(this._element,this._endStyles),this._endStyles=null),ba(this._element,this._initialStyles),this._state=3)}}return n})();function f_(n){let e=null;return n.forEach((t,i)=>{a5(i)&&(e=e||new Map,e.set(i,t))}),e}function a5(n){return n==="display"||n==="position"}var lh=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:Zm(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},ch=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return a_(e,t)}getParentElement(e){return Gm(e)}query(e,t,i){return o_(e,t,i)}computeStyle(e,t,i){return Zm(e,t)}animate(e,t,i,r,a,o=[]){let s=r==0?"both":"forwards",l={duration:i,delay:r,fill:s};a&&(l.easing=a);let p=new Map,m=o.filter(C=>C instanceof lh);ux(i,r)&&m.forEach(C=>{C.currentSnapshot.forEach((E,I)=>p.set(I,E))});let _=cx(t).map(C=>new Map(C));_=px(e,_,p);let S=n5(e,_);return new lh(e,_,l,S)}};var ih="@",Ax="@.disabled",dh=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==ih&&t==Ax?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,r){return this.delegate.listen(e,t,i,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},I_=class extends dh{factory;constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==ih?t.charAt(1)=="."&&t==Ax?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i,r){if(t.charAt(0)==ih){let a=o5(e),o=t.slice(1),s="";return o.charAt(0)!=ih&&([o,s]=s5(o)),this.engine.listen(this.namespaceId,a,o,s,l=>{let p=l._data||-1;this.factory.scheduleListenerCallback(p,i,l)})}return this.delegate.listen(e,t,i,r)}};function o5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function s5(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var uh=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,t.onRemovalComplete=(r,a)=>{a?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let p=this._rendererCache,m=p.get(r);if(!m){let _=()=>p.delete(r);m=new dh(i,r,this.engine,_),p.set(r,m)}return m}let a=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let s=p=>{Array.isArray(p)?p.forEach(s):this.engine.registerTrigger(a,o,e,p.name,p)};return t.data.animation.forEach(s),new I_(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(a=>{let[o,s]=a;o(s)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var c5=(()=>{class n extends pc{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(Wt(PS),Wt(rl),Wt(al))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();function d5(){return new nh}function u5(n,e,t){return new uh(n,e,t)}var Mx=[{provide:al,useFactory:d5},{provide:pc,useClass:c5},{provide:CS,useFactory:u5,deps:[RS,pc,Ua]}],Roe=[{provide:rl,useClass:T_},{provide:$v,useValue:"NoopAnimations"},...Mx],p5=[{provide:rl,useFactory:()=>new ch},{provide:$v,useFactory:()=>"BrowserAnimations"},...Mx];function kx(){return wS("NgEagerAnimations"),[...p5]}var h5=(n,e)=>({"pi ":!0,"pi-moon":n,"pi-sun":e}),f5=(n,e)=>({nom:n,prenom:e}),g5=n=>({role:n});function v5(n,e){if(n&1&&(d(0,"span",32),v(1),u()),n&2){let t=w();c(),x(t.entiteLogin.nom)}}var tu=class n{constructor(e,t,i,r,a,o){this.translate=e;this.layoutService=t;this.authService=i;this.router=r;this.entiteService=a;this.messageService=o;this.translate.onLangChange.subscribe(()=>{this.updateLocale()})}languageService=Qi(pC);currentLanguage=this.languageService.currentLanguage;showLanguageMenu=!1;changeLanguage(e){this.languageService.setLanguage(e),this.showLanguageMenu=!1}navigateToUsers(){this.router.navigate(["/users"])}toggleLanguageMenu(){this.showLanguageMenu=!this.showLanguageMenu}getCurrentFlagImage(){switch(this.currentLanguage()){case"en":return"assets/images/flags/uk.png";case"fr":return"assets/images/flags/fr.png";case"ar":return"assets/images/flags/tn.png";default:return"assets/images/flags/uk.png"}}items;entiteIdlogin=null;entiteLogin=null;token=null;expiration=null;isTokenValid=!1;userId=null;nom="";prenom="";email="";role="";username="";currentLanguagedefault="en";destroy$=new Im;updateLocale(){this.currentLanguagedefault=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.checkAuthStatus(),this.authService.token$.pipe(qv(this.destroy$),Mm()).subscribe(e=>{e?this.authService.isTokenValid(e)||this.handleInvalidToken():this.handleAutoLogout()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}checkAuthStatus(){if(this.entiteIdlogin=this.authService.getEntiteId(),this.token=this.authService.getToken(),this.token)try{let e=lC(this.token);this.userId=e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"],console.log("User ID:",this.userId),console.log("Username:",e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"]),console.log("Roles:",e["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]),this.expiration=e?.exp?new Date(e.exp*1e3):null,this.isTokenValid=this.authService.isTokenValid(this.token),this.isTokenValid&&this.entiteIdlogin&&this.loadEntite(this.entiteIdlogin),this.authService.getUserById(this.userId,this.entiteIdlogin).subscribe({next:t=>{this.nom=t.details.nom,this.prenom=t.details.prenom,this.email=t.details.email,this.role=t.details.role,this.username=t.details.userName},error:t=>{console.error("Erreur lors de la r\xE9cup\xE9ration des donn\xE9es:",t)}})}catch{this.isTokenValid=!1,this.userId=null}else this.expiration=null,this.isTokenValid=!1,this.userId=null;this.isTokenValid||this.handleInvalidToken()}navigateToEdit(){this.router.navigate(["/edit-user"])}loadEntite(e){this.entiteService.getEntiteById(e).pipe(qv(this.destroy$),ie(t=>(console.error("Error loading entite:",t),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load entite information"}),Ne(()=>t)))).subscribe({next:t=>{t.status===200&&t.details?(this.entiteLogin=t.details,console.log("Entite loaded:",this.entiteLogin)):console.error("Unexpected response format:",t)},error:t=>{console.error("Error in subscription:",t)}})}handleAutoLogout(){this.authService.logout(!0),this.router.navigate(["/auth/login"])}handleInvalidToken(){this.isTokenValid=!1,this.messageService.add({severity:"error",summary:"Invalid Session",detail:"Your session is invalid. Please log in again."}),this.handleAutoLogout()}logout(){this.messageService.add({severity:"success",summary:"Logged Out",detail:"You have been successfully logged out."}),this.authService.logout()}toggleDarkMode(){this.layoutService.layoutConfig.update(e=>Mt(z({},e),{darkTheme:!e.darkTheme}))}static \u0275fac=function(t){return new(t||n)(B(Fe),B(Kr),B(ze),B(Gr),B(oe),B(ne))};static \u0275cmp=re({type:n,selectors:[["app-topbar"]],features:[xe([ne,oe])],decls:55,vars:31,consts:[["rel","stylesheet","href",Yn`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css`],[1,"layout-topbar"],[1,"layout-topbar-logo-container"],[1,"layout-menu-button","layout-topbar-action",3,"click"],[1,"pi","pi-bars"],["routerLink","/",1,"layout-topbar-logo"],["viewBox","0 0 54 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["style","color:var(--primary-color)",4,"ngIf"],[1,"layout-topbar-actions"],[1,"language-switcher"],[1,"layout-topbar-action",3,"click"],["alt","Current language",1,"flag-icon",3,"src"],[1,"language-menu"],[1,"language-option",3,"click"],["src","assets/images/flags/uk.png","alt","English",1,"flag-icon"],["src","assets/images/flags/fr.png","alt","Fran\xE7ais",1,"flag-icon"],["src","assets/images/flags/tn.png","alt","\u0627\u0644\u0639\u0631\u0628\u064A\u0629",1,"flag-icon"],[1,"layout-config-menu"],["type","button",1,"layout-topbar-action",3,"click"],[3,"ngClass"],[1,"relative"],["pStyleClass","@next","enterFromClass","hidden","enterActiveClass","animate-scalein","leaveToClass","hidden","leaveActiveClass","animate-fadeout",1,"layout-topbar-action",3,"hideOnOutsideClick"],[1,"pi","pi-user"],[1,"layout-topbar-menu","hidden"],[1,"layout-topbar-menu-content"],[1,"user-info"],[1,"greeting"],[1,"role-badge"],[1,"pi","pi-cog"],[1,"pi","pi-pencil"],["type","button",1,"layout-topbar-action","logout-btn",3,"click"],[1,"pi","pi-sign-out"],[2,"color","var(--primary-color)"]],template:function(t,i){t&1&&(P(0,"link",0),d(1,"div",1)(2,"div",2)(3,"button",3),L("click",function(){return i.layoutService.onMenuToggle()}),P(4,"i",4),u(),d(5,"a",5),Wa(),P(6,"svg",6),R(7,v5,2,1,"span",7),u()(),os(),d(8,"div",8)(9,"div",9)(10,"button",10),L("click",function(){return i.toggleLanguageMenu()}),P(11,"img",11),u(),d(12,"div",12)(13,"div",13),L("click",function(){return i.changeLanguage("en")}),P(14,"img",14),d(15,"span"),v(16,"English"),u()(),d(17,"div",13),L("click",function(){return i.changeLanguage("fr")}),P(18,"img",15),d(19,"span"),v(20,"Fran\xE7ais"),u()(),d(21,"div",13),L("click",function(){return i.changeLanguage("ar")}),P(22,"img",16),d(23,"span"),v(24,"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"),u()()()(),d(25,"div",17)(26,"button",18),L("click",function(){return i.toggleDarkMode()}),P(27,"i",19),u()(),d(28,"div",20)(29,"button",21),P(30,"i",22),u(),d(31,"div",23)(32,"div",24)(33,"div",25)(34,"span",26),v(35),h(36,"translate"),u(),d(37,"span",27),v(38),h(39,"translate"),u()(),d(40,"button",18),L("click",function(){return i.navigateToUsers()}),P(41,"i",28),d(42,"span"),v(43),h(44,"translate"),u()(),d(45,"button",18),L("click",function(){return i.navigateToEdit()}),P(46,"i",29),d(47,"span"),v(48),h(49,"translate"),u()(),d(50,"button",30),L("click",function(){return i.logout()}),P(51,"i",31),d(52,"span"),v(53),h(54,"translate"),u()()()()()()()),t&2&&(c(7),g("ngIf",i.entiteLogin),c(4),g("src",i.getCurrentFlagImage(),ss),c(),mi("hidden",!i.showLanguageMenu),c(15),g("ngClass",li(23,h5,i.layoutService.isDarkTheme(),!i.layoutService.isDarkTheme())),c(2),g("hideOnOutsideClick",!0),c(6),O(" ",ni(36,11,"userMenu.greeting",li(26,f5,i.nom,i.prenom))," "),c(3),O(" ",ni(39,14,"userMenu.role",Ae(29,g5,i.role))," "),c(5),x(f(44,17,"userMenu.settings")),c(5),x(f(49,19,"userMenu.edit")),c(5),x(f(54,21,"userMenu.logout")))},dependencies:[Mn,Yr,Ve,Ke,pe,zi,ge,oc,Vm],styles:[".layout-topbar-menu[_ngcontent-%COMP%]{position:absolute;right:2rem;top:4rem;border-radius:12px;box-shadow:0 5px 15px #0000001a;width:250px;z-index:1000;overflow:hidden;transition:all .3s ease}.layout-topbar-menu.hidden[_ngcontent-%COMP%]{display:none}.layout-topbar-menu[_ngcontent-%COMP%]   .layout-topbar-menu-content[_ngcontent-%COMP%]{padding:1rem 0}.layout-topbar-menu[_ngcontent-%COMP%]   .layout-topbar-menu-content[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:.5rem 1rem 1rem;margin-bottom:.5rem}.layout-topbar-menu[_ngcontent-%COMP%]   .layout-topbar-menu-content[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .greeting[_ngcontent-%COMP%]{font-weight:600;display:block;margin-bottom:.25rem}.layout-topbar-menu[_ngcontent-%COMP%]   .layout-topbar-menu-content[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem;border-radius:10px}[dir=rtl][_ngcontent-%COMP%]   .layout-topbar-menu[_ngcontent-%COMP%]{right:auto;left:2rem}[dir=rtl][_ngcontent-%COMP%]   .layout-topbar-action[_ngcontent-%COMP%]{text-align:right}[dir=rtl][_ngcontent-%COMP%]   .layout-topbar-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0;margin-left:.75rem}.language-switcher[_ngcontent-%COMP%]{position:relative;margin-right:1rem}.language-switcher[_ngcontent-%COMP%]   .layout-topbar-action[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.5rem;display:flex;align-items:center}.language-switcher[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{width:24px;height:16px;object-fit:cover;border-radius:1px;box-shadow:0 1px 2px #0000001a}.language-switcher[_ngcontent-%COMP%]   .language-menu[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background:var(--surface-card);border-radius:1px;box-shadow:0 2px 4px #0000001a;z-index:1000;min-width:120px;padding:.5rem 0}.language-switcher[_ngcontent-%COMP%]   .language-menu[_ngcontent-%COMP%]   .language-option[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem 1rem;cursor:pointer;transition:background-color .2s;gap:.5rem}.language-switcher[_ngcontent-%COMP%]   .language-menu[_ngcontent-%COMP%]   .language-option[_ngcontent-%COMP%]:hover{background-color:var(--surface-hover)}.language-switcher[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}"]})};var _5=["app-menuitem",""],y5=()=>({paths:"exact",queryParams:"ignored",matrixParams:"ignored",fragment:"ignored"});function b5(n,e){if(n&1&&(d(0,"div",4),v(1),u()),n&2){let t=w();c(),x(t.item.label)}}function w5(n,e){n&1&&P(0,"i",9)}function S5(n,e){if(n&1){let t=W();d(0,"a",5),L("click",function(r){y(t);let a=w();return b(a.itemClick(r))}),P(1,"i",6),d(2,"span",7),v(3),u(),R(4,w5,1,0,"i",8),u()}if(n&2){let t=w();g("ngClass",t.item.styleClass),le("href",t.item.url,ss)("target",t.item.target),c(),g("ngClass",t.item.icon),c(2),x(t.item.label),c(),g("ngIf",t.item.items)}}function C5(n,e){n&1&&P(0,"i",9)}function x5(n,e){if(n&1){let t=W();d(0,"a",10),L("click",function(r){y(t);let a=w();return b(a.itemClick(r))}),P(1,"i",6),d(2,"span",7),v(3),u(),R(4,C5,1,0,"i",8),u()}if(n&2){let t=w();g("ngClass",t.item.styleClass)("routerLink",t.item.routerLink)("routerLinkActiveOptions",t.item.routerLinkActiveOptions||se(14,y5))("fragment",t.item.fragment)("queryParamsHandling",t.item.queryParamsHandling)("preserveFragment",t.item.preserveFragment)("skipLocationChange",t.item.skipLocationChange)("replaceUrl",t.item.replaceUrl)("state",t.item.state)("queryParams",t.item.queryParams),le("target",t.item.target),c(),g("ngClass",t.item.icon),c(2),x(t.item.label),c(),g("ngIf",t.item.items)}}function E5(n,e){if(n&1&&P(0,"li",12),n&2){let t=e.$implicit,i=e.index,r=w(2);si(t.badgeClass),g("item",t)("index",i)("parentKey",r.key)}}function I5(n,e){if(n&1&&(d(0,"ul"),R(1,E5,1,5,"ng-template",11),u()),n&2){let t=w();g("@children",t.submenuAnimation),c(),g("ngForOf",t.item.items)}}var mh=class n{constructor(e,t){this.router=e;this.layoutService=t;this.menuSourceSubscription=this.layoutService.menuSource$.subscribe(i=>{Promise.resolve(null).then(()=>{i.routeEvent?this.active=!!(i.key===this.key||i.key.startsWith(this.key+"-")):i.key!==this.key&&!i.key.startsWith(this.key+"-")&&(this.active=!1)})}),this.menuResetSubscription=this.layoutService.resetSource$.subscribe(()=>{this.active=!1}),this.router.events.pipe(Dm(i=>i instanceof Rm)).subscribe(i=>{this.item.routerLink&&this.updateActiveStateFromRoute()})}item;index;root;parentKey;active=!1;menuSourceSubscription;menuResetSubscription;key="";ngOnInit(){this.key=this.parentKey?this.parentKey+"-"+this.index:String(this.index),this.item.routerLink&&this.updateActiveStateFromRoute()}updateActiveStateFromRoute(){this.router.isActive(this.item.routerLink[0],{paths:"exact",queryParams:"ignored",matrixParams:"ignored",fragment:"ignored"})&&this.layoutService.onMenuStateChange({key:this.key,routeEvent:!0})}itemClick(e){if(this.item.disabled){e.preventDefault();return}this.item.command&&this.item.command({originalEvent:e,item:this.item}),this.item.items&&(this.active=!this.active),this.layoutService.onMenuStateChange({key:this.key})}get submenuAnimation(){return this.root||this.active?"expanded":"collapsed"}get activeClass(){return this.active&&!this.root}ngOnDestroy(){this.menuSourceSubscription&&this.menuSourceSubscription.unsubscribe(),this.menuResetSubscription&&this.menuResetSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(B(Gr),B(Kr))};static \u0275cmp=re({type:n,selectors:[["","app-menuitem",""]],hostVars:4,hostBindings:function(t,i){t&2&&mi("layout-root-menuitem",i.root)("active-menuitem",i.activeClass)},inputs:{item:"item",index:"index",root:"root",parentKey:"parentKey"},features:[xe([Kr])],attrs:_5,decls:5,vars:4,consts:[["class","layout-menuitem-root-text",4,"ngIf"],["tabindex","0","pRipple","",3,"ngClass","click",4,"ngIf"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams","click",4,"ngIf"],[4,"ngIf"],[1,"layout-menuitem-root-text"],["tabindex","0","pRipple","",3,"click","ngClass"],[1,"layout-menuitem-icon",3,"ngClass"],[1,"layout-menuitem-text"],["class","pi pi-fw pi-angle-down layout-submenu-toggler",4,"ngIf"],[1,"pi","pi-fw","pi-angle-down","layout-submenu-toggler"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"click","ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams"],["ngFor","",3,"ngForOf"],["app-menuitem","",3,"item","index","parentKey"]],template:function(t,i){t&1&&(Ue(0),R(1,b5,2,1,"div",0)(2,S5,5,6,"a",1)(3,x5,5,15,"a",2)(4,I5,2,2,"ul",3),je()),t&2&&(c(),g("ngIf",i.root&&i.item.visible!==!1),c(),g("ngIf",(!i.item.routerLink||i.item.items)&&i.item.visible!==!1),c(),g("ngIf",i.item.routerLink&&!i.item.items&&i.item.visible!==!1),c(),g("ngIf",i.item.items&&i.item.visible!==!1))},dependencies:[n,pe,zi,Gi,ge,Mn,Yr,VS,We,He],encapsulation:2,data:{animation:[rc("children",[Nd("collapsed",Kn({height:"0"})),Nd("expanded",Kn({height:"*"})),za("collapsed <=> expanded",ja("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]}})};function T5(n,e){if(n&1&&P(0,"li",4),n&2){let t=w(),i=t.$implicit,r=t.index;g("item",i)("index",r)("root",!0)}}function D5(n,e){n&1&&P(0,"li",5)}function A5(n,e){if(n&1&&(Ue(0),R(1,T5,1,3,"li",2)(2,D5,1,0,"li",3),je()),n&2){let t=e.$implicit;c(),g("ngIf",!t.separator),c(),g("ngIf",t.separator)}}var hh=class n{constructor(e){this.translate=e}model=[];ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.buildMenu()}),this.buildMenu()}buildMenu(){this.model=[{label:this.translate.instant("menu.home"),items:[{label:this.translate.instant("menu.chart"),icon:"pi pi-fw pi-chart-bar",routerLink:["/"]}]},{label:this.translate.instant("menu.calendar"),items:[{label:this.translate.instant("menu.calendar"),icon:"pi pi-fw pi-calendar",routerLink:["CalendarComponent"]}]},{label:this.translate.instant("menu.horses"),items:[{label:this.translate.instant("menu.horse_management"),icon:"fas fa-horse !text-xl",items:[{label:this.translate.instant("menu.horse_list"),icon:"pi pi-fw pi-id-card",routerLink:["cheval"]},{label:this.translate.instant("menu.add_horse"),icon:"pi pi-fw pi-plus",routerLink:["/cheval/addcheval"]}]},{label:this.translate.instant("menu.movement_management"),icon:"pi pi-fw pi-arrow-right-arrow-left",items:[{label:this.translate.instant("menu.movement_list"),icon:"pi pi-fw pi-list",routerLink:["deplacement"]},{label:this.translate.instant("menu.move_horses"),icon:"pi pi-fw pi-arrow-right-arrow-left",routerLink:["/deplacement/adddeplacement"]}]},{label:this.translate.instant("menu.qualification_management"),icon:"pi pi-fw pi-graduation-cap",items:[{label:this.translate.instant("menu.qualification_list"),icon:"pi pi-fw pi-graduation-cap",routerLink:["qualification"]},{label:this.translate.instant("menu.schedule_qualification"),icon:"pi pi-fw pi-plus",routerLink:["/qualification/addqualification"]}]},{label:this.translate.instant("menu.horse_sales"),icon:"pi pi-fw pi-dollar",items:[{label:this.translate.instant("menu.completed_sales"),icon:"pi pi-fw pi-dollar",routerLink:["vendrechevaux"]},{label:this.translate.instant("menu.sell_horses"),icon:"pi pi-fw pi-money-bill",routerLink:["/vendrechevaux/effectuernouvellevente"]}]},{label:this.translate.instant("menu.horse_acte"),icon:"pi pi-fw pi-folder",items:[{label:this.translate.instant("menu.completed_acte"),icon:"pi pi-fw pi-list",routerLink:["acte"]},{label:this.translate.instant("menu.add_acte"),icon:"pi pi-fw pi-plus",routerLink:["/acte/add_acte"]}]}]},{label:this.translate.instant("menu.prescription"),items:[{label:this.translate.instant("menu.prescription_management"),icon:"pi pi-fw pi-pen-to-square",items:[{label:this.translate.instant("menu.prescription_list"),icon:"pi pi-fw pi-list",routerLink:["ordonnance"]},{label:this.translate.instant("menu.add_prescription"),icon:"pi pi-fw pi-plus",routerLink:["/ordonnance/addordonnance"]}]}]},{label:this.translate.instant("menu.category"),items:[{label:this.translate.instant("menu.category_management"),icon:"pi pi-fw pi-folder-open",items:[{label:this.translate.instant("menu.category_list"),icon:"pi pi-fw pi-id-card",routerLink:["categorie"]},{label:this.translate.instant("menu.add_category"),icon:"pi pi-fw pi-plus",routerLink:["categorie/addcategorie"]}]}]},{label:this.translate.instant("menu.contact"),items:[{label:this.translate.instant("menu.contact_management"),icon:"pi pi-fw pi-phone",items:[{label:this.translate.instant("menu.contact_list"),icon:"pi pi-fw pi-list",routerLink:["contact"]},{label:this.translate.instant("menu.add_contact"),icon:"pi pi-fw pi-plus",routerLink:["/contact/addcontact"]}]},{label:this.translate.instant("menu.contact_type_management"),icon:"pi pi-fw pi-bookmark",items:[{label:this.translate.instant("menu.contact_type_list"),icon:"pi pi-fw pi-id-card",routerLink:["typecontact"]},{label:this.translate.instant("menu.add_contact_type"),icon:"pi pi-fw pi-plus",routerLink:["/typecontact/addtypecontact"]}]}]},{label:this.translate.instant("menu.breed"),items:[{label:this.translate.instant("menu.breed_management"),icon:"pi pi-fw pi-receipt ",items:[{label:this.translate.instant("menu.breed_list"),icon:"pi pi-fw pi-list",routerLink:["race"]},{label:this.translate.instant("menu.add_breed"),icon:"pi pi-fw pi-plus",routerLink:["/race/addrace"]}]}]},{label:this.translate.instant("menu.locations"),items:[{label:this.translate.instant("menu.location_management"),icon:"pi pi-fw pi-bookmark",items:[{label:this.translate.instant("menu.location_list"),icon:"pi pi-fw pi-id-card",routerLink:["lieux"]},{label:this.translate.instant("menu.add_location"),icon:"pi pi-fw pi-plus",routerLink:["/lieux/addlieu"]}]}]},{label:this.translate.instant("menu.users"),items:[{label:this.translate.instant("menu.users"),icon:"pi pi-fw pi-person",items:[{label:this.translate.instant("menu.users_list"),icon:"pi pi-fw pi-list",routerLink:["users"]}]}]}]}static \u0275fac=function(t){return new(t||n)(B(Fe))};static \u0275cmp=re({type:n,selectors:[["app-menu"]],decls:2,vars:1,consts:[[1,"layout-menu"],[4,"ngFor","ngForOf"],["app-menuitem","",3,"item","index","root",4,"ngIf"],["class","menu-separator",4,"ngIf"],["app-menuitem","",3,"item","index","root"],[1,"menu-separator"]],template:function(t,i){t&1&&(d(0,"ul",0),R(1,A5,3,2,"ng-container",1),u()),t&2&&(c(),g("ngForOf",i.model))},dependencies:[pe,Gi,ge,mh,Mn],encapsulation:2})};var iu=class n{constructor(e,t){this.el=e;this.translate=t;this.translate.onLangChange.subscribe(i=>{this.isRTL=i.lang==="ar",this.updateSidebarStyles()}),this.updateSidebarStyles()}isRTL=!1;sidebarStyles={};updateSidebarStyles(){let e=this.translate.instant("style.margin-sidebar-right"),t=this.translate.instant("style.margin-sidebar-left");this.sidebarStyles={"margin-right":e,"margin-left":t}}static \u0275fac=function(t){return new(t||n)(B(xo),B(Fe))};static \u0275cmp=re({type:n,selectors:[["app-sidebar"]],decls:2,vars:3,consts:[[1,"layout-sidebar",3,"ngStyle"]],template:function(t,i){t&1&&(d(0,"div",0),P(1,"app-menu"),u()),t&2&&(mi("rtl",i.isRTL),g("ngStyle",i.sidebarStyles))},dependencies:[hh,Rn],styles:[".layout-sidebar[_ngcontent-%COMP%]{transition:all .3s ease}.layout-sidebar.rtl[_ngcontent-%COMP%]{direction:rtl}"]})};var fh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"layout-footer"],["href","http://vnext-consulting.net/","target","_blank","rel","noopener noreferrer",1,"text-primary","font-bold","hover:underline"]],template:function(t,i){t&1&&(d(0,"div",0),v(1," Copyright 2025 "),d(2,"a",1),v(3,"Vnext"),u()())},encapsulation:2})};var Px=(()=>{class n extends gC{pathId;ngOnInit(){this.pathId="url(#"+ac()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275cmp=re({type:n,selectors:[["UploadIcon"]],features:[Sn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Wa(),d(0,"svg",0)(1,"g"),P(2,"path",1),u(),d(3,"defs")(4,"clipPath",2),P(5,"rect",3),u()()()),i&2&&(si(r.getClassNames()),le("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),c(),le("clip-path",r.pathId),c(3),g("id",r.pathId))},encapsulation:2})}return n})();function M5(n,e){if(n&1){let t=W();d(0,"div",2),P(1,"i",3),d(2,"h3",4),v(3),h(4,"translate"),u(),d(5,"p",5),v(6),h(7,"translate"),u(),d(8,"button",6),h(9,"translate"),L("click",function(){y(t);let r=w();return b(r.retryConnection())}),u()()}n&2&&(c(3),x(f(4,3,"ConnectionError.title")),c(3),x(f(7,5,"ConnectionError.message")),c(2),g("label",f(9,7,"ConnectionError.retryButton")))}function k5(n,e){if(n&1&&(d(0,"div",7),P(1,"app-topbar")(2,"app-sidebar"),d(3,"div",8)(4,"div",9),P(5,"router-outlet"),u(),P(6,"app-footer"),u(),P(7,"div",10),u()),n&2){let t=w();g("ngClass",t.containerClass),c(3),g("ngStyle",t.containerStyles)}}var gh=class n{constructor(e,t,i,r,a){this.authService=e;this.layoutService=t;this.renderer=i;this.router=r;this.translate=a;this.overlayMenuOpenSubscription=this.layoutService.overlayOpen$.subscribe(()=>{this.menuOutsideClickListener||(this.menuOutsideClickListener=this.renderer.listen("document","click",o=>{this.isOutsideClicked(o)&&this.hideMenu()})),this.layoutService.layoutState().staticMenuMobileActive&&this.blockBodyScroll()}),this.router.events.pipe(Dm(o=>o instanceof Rm)).subscribe(()=>{this.hideMenu()})}overlayMenuOpenSubscription;retrySubscription=null;menuOutsideClickListener;containerStyles={};isRTL=!1;appSidebar;appTopBar;apiAvailable=!0;checkingApi=!0;retryCount=0;nextRetryIn=0;maxRetries=5;baseDelay=1e3;healthCheckInterval=null;healthCheckIntervalTime=3e4;ngOnInit(){return Ft(this,null,function*(){yield this.checkApiConnection(),this.translate.onLangChange.subscribe(e=>{this.isRTL=e.lang==="ar",this.updateContainerStyles()}),this.updateContainerStyles(),this.startHealthCheckInterval()})}startHealthCheckInterval(){this.healthCheckInterval?.unsubscribe(),this.healthCheckInterval=_S(this.healthCheckIntervalTime).subscribe(()=>{this.apiAvailable&&this.checkApiConnection()})}showConnectionError=!1;lastConnectionStatus=!0;checkApiConnection(){return Ft(this,null,function*(){this.checkingApi=!0;try{let e=this.apiAvailable;this.apiAvailable=yield this.authService.checkApiHealth(),this.apiAvailable?(this.resetRetryState(),e||this.onReconnect(),this.showConnectionError=!1):(this.lastConnectionStatus!==this.apiAvailable&&(this.showConnectionError=!0),this.scheduleRetry()),this.lastConnectionStatus=this.apiAvailable}catch{this.apiAvailable=!1,this.lastConnectionStatus!==this.apiAvailable&&(this.showConnectionError=!0),this.lastConnectionStatus=this.apiAvailable,this.scheduleRetry()}finally{this.checkingApi=!1}})}onReconnect(){console.log("Reconnected to API")}resetRetryState(){this.retryCount=0,this.nextRetryIn=0,this.retrySubscription&&(this.retrySubscription.unsubscribe(),this.retrySubscription=null)}scheduleRetry(){if(this.retryCount>=this.maxRetries)return;this.retryCount++;let e=this.calculateExponentialBackoff(this.retryCount);this.nextRetryIn=Math.ceil(e/1e3);let t=setInterval(()=>{this.nextRetryIn--,this.nextRetryIn<=0&&clearInterval(t)},1e3);this.retrySubscription?.unsubscribe(),this.retrySubscription=new gS(()=>{clearInterval(t)});let i=setTimeout(()=>{this.checkApiConnection()},e);this.retrySubscription.add(()=>clearTimeout(i))}calculateExponentialBackoff(e){return Math.min(this.baseDelay*Math.pow(2,e-1),3e4)*(.5+Math.random()*.5)}retryConnection(){return Ft(this,null,function*(){this.resetRetryState(),yield this.checkApiConnection()})}updateContainerStyles(){let e=this.translate.instant("style.layout-main-container-right"),t=this.translate.instant("style.layout-main-container-left");this.containerStyles={"margin-right":e,"margin-left":t}}isOutsideClicked(e){let t=document.querySelector(".layout-sidebar"),i=document.querySelector(".layout-menu-button"),r=e.target;return!(t?.isSameNode(r)||t?.contains(r)||i?.isSameNode(r)||i?.contains(r))}hideMenu(){this.layoutService.layoutState.update(e=>Mt(z({},e),{overlayMenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1})),this.menuOutsideClickListener&&(this.menuOutsideClickListener(),this.menuOutsideClickListener=null),this.unblockBodyScroll()}blockBodyScroll(){document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"}unblockBodyScroll(){document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")}get containerClass(){return{"layout-overlay":this.layoutService.layoutConfig().menuMode==="overlay","layout-static":this.layoutService.layoutConfig().menuMode==="static","layout-static-inactive":this.layoutService.layoutState().staticMenuDesktopInactive&&this.layoutService.layoutConfig().menuMode==="static","layout-overlay-active":this.layoutService.layoutState().overlayMenuActive,"layout-mobile-active":this.layoutService.layoutState().staticMenuMobileActive}}ngOnDestroy(){this.healthCheckInterval?.unsubscribe(),this.overlayMenuOpenSubscription&&this.overlayMenuOpenSubscription.unsubscribe(),this.menuOutsideClickListener&&this.menuOutsideClickListener(),this.retrySubscription&&this.retrySubscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(B(ze),B(Kr),B(xS),B(Gr),B(Fe))};static \u0275cmp=re({type:n,selectors:[["app-layout"]],viewQuery:function(t,i){if(t&1&&(Te(iu,5),Te(tu,5)),t&2){let r;Z(r=J())&&(i.appSidebar=r.first),Z(r=J())&&(i.appTopBar=r.first)}},decls:2,vars:2,consts:[["class","text-center p-4 connection-error-block",4,"ngIf"],["class","layout-wrapper",3,"ngClass",4,"ngIf"],[1,"text-center","p-4","connection-error-block"],[1,"pi","pi-exclamation-triangle","text-4xl","text-red-500","mb-2"],[1,"text-xl","font-bold","mb-2"],[1,"mb-4"],["pButton","","pRipple","","type","button","icon","pi pi-refresh",3,"click","label"],[1,"layout-wrapper",3,"ngClass"],[1,"layout-main-container",3,"ngStyle"],[1,"layout-main"],[1,"layout-mask","animate-fadein"]],template:function(t,i){t&1&&R(0,M5,10,9,"div",0)(1,k5,8,2,"div",1),t&2&&(g("ngIf",i.showConnectionError),c(),g("ngIf",i.apiAvailable))},dependencies:[Ve,Ke,pe,zi,ge,Rn,tu,iu,Mn,Bm,fh,Pe,qe],encapsulation:2})};var vh=class n{constructor(e){this.router=e}static \u0275fac=function(t){return new(t||n)(B(Gr))};static \u0275cmp=re({type:n,selectors:[["topbar-widget"]],decls:32,vars:6,consts:[["href","#",1,"flex","items-center"],["viewBox","0 0 54 40","fill","none","xmlns","http://www.w3.org/2000/svg",1,"h-12","mr-2"],["fill-rule","evenodd","clip-rule","evenodd","d","M17.1637 19.2467C17.1566 19.4033 17.1529 19.561 17.1529 19.7194C17.1529 25.3503 21.7203 29.915 27.3546 29.915C32.9887 29.915 37.5561 25.3503 37.5561 19.7194C37.5561 19.5572 37.5524 19.3959 37.5449 19.2355C38.5617 19.0801 39.5759 18.9013 40.5867 18.6994L40.6926 18.6782C40.7191 19.0218 40.7326 19.369 40.7326 19.7194C40.7326 27.1036 34.743 33.0896 27.3546 33.0896C19.966 33.0896 13.9765 27.1036 13.9765 19.7194C13.9765 19.374 13.9896 19.0316 14.0154 18.6927L14.0486 18.6994C15.0837 18.9062 16.1223 19.0886 17.1637 19.2467ZM33.3284 11.4538C31.6493 10.2396 29.5855 9.52381 27.3546 9.52381C25.1195 9.52381 23.0524 10.2421 21.3717 11.4603C20.0078 11.3232 18.6475 11.1387 17.2933 10.907C19.7453 8.11308 23.3438 6.34921 27.3546 6.34921C31.36 6.34921 34.9543 8.10844 37.4061 10.896C36.0521 11.1292 34.692 11.3152 33.3284 11.4538ZM43.826 18.0518C43.881 18.6003 43.9091 19.1566 43.9091 19.7194C43.9091 28.8568 36.4973 36.2642 27.3546 36.2642C18.2117 36.2642 10.8 28.8568 10.8 19.7194C10.8 19.1615 10.8276 18.61 10.8816 18.0663L7.75383 17.4411C7.66775 18.1886 7.62354 18.9488 7.62354 19.7194C7.62354 30.6102 16.4574 39.4388 27.3546 39.4388C38.2517 39.4388 47.0855 30.6102 47.0855 19.7194C47.0855 18.9439 47.0407 18.1789 46.9536 17.4267L43.826 18.0518ZM44.2613 9.54743L40.9084 10.2176C37.9134 5.95821 32.9593 3.1746 27.3546 3.1746C21.7442 3.1746 16.7856 5.96385 13.7915 10.2305L10.4399 9.56057C13.892 3.83178 20.1756 0 27.3546 0C34.5281 0 40.8075 3.82591 44.2613 9.54743Z","fill","var(--primary-color)"],["id","mask0_1413_1551","maskUnits","userSpaceOnUse","x","0","y","8","width","54","height","11",2,"mask-type","alpha"],["d","M27 18.3652C10.5114 19.1944 0 8.88892 0 8.88892C0 8.88892 16.5176 14.5866 27 14.5866C37.4824 14.5866 54 8.88892 54 8.88892C54 8.88892 43.4886 17.5361 27 18.3652Z","fill","var(--primary-color)"],["mask","url(#mask0_1413_1551)"],["d","M-4.673e-05 8.88887L3.73084 -1.91434L-8.00806 17.0473L-4.673e-05 8.88887ZM27 18.3652L26.4253 6.95109L27 18.3652ZM54 8.88887L61.2673 17.7127L50.2691 -1.91434L54 8.88887ZM-4.673e-05 8.88887C-8.00806 17.0473 -8.00469 17.0505 -8.00132 17.0538C-8.00018 17.055 -7.99675 17.0583 -7.9944 17.0607C-7.98963 17.0653 -7.98474 17.0701 -7.97966 17.075C-7.96949 17.0849 -7.95863 17.0955 -7.94707 17.1066C-7.92401 17.129 -7.89809 17.1539 -7.86944 17.1812C-7.8122 17.236 -7.74377 17.3005 -7.66436 17.3743C-7.50567 17.5218 -7.30269 17.7063 -7.05645 17.9221C-6.56467 18.3532 -5.89662 18.9125 -5.06089 19.5534C-3.39603 20.83 -1.02575 22.4605 1.98012 24.0457C7.97874 27.2091 16.7723 30.3226 27.5746 29.7793L26.4253 6.95109C20.7391 7.23699 16.0326 5.61231 12.6534 3.83024C10.9703 2.94267 9.68222 2.04866 8.86091 1.41888C8.45356 1.10653 8.17155 0.867278 8.0241 0.738027C7.95072 0.673671 7.91178 0.637576 7.90841 0.634492C7.90682 0.63298 7.91419 0.639805 7.93071 0.65557C7.93897 0.663455 7.94952 0.673589 7.96235 0.686039C7.96883 0.692262 7.97582 0.699075 7.98338 0.706471C7.98719 0.710167 7.99113 0.714014 7.99526 0.718014C7.99729 0.720008 8.00047 0.723119 8.00148 0.724116C8.00466 0.727265 8.00796 0.730446 -4.673e-05 8.88887ZM27.5746 29.7793C37.6904 29.2706 45.9416 26.3684 51.6602 23.6054C54.5296 22.2191 56.8064 20.8465 58.4186 19.7784C59.2265 19.2431 59.873 18.7805 60.3494 18.4257C60.5878 18.2482 60.7841 18.0971 60.9374 17.977C61.014 17.9169 61.0799 17.8645 61.1349 17.8203C61.1624 17.7981 61.1872 17.7781 61.2093 17.7602C61.2203 17.7512 61.2307 17.7427 61.2403 17.7348C61.2452 17.7308 61.2499 17.727 61.2544 17.7233C61.2566 17.7215 61.2598 17.7188 61.261 17.7179C61.2642 17.7153 61.2673 17.7127 54 8.88887C46.7326 0.0650536 46.7357 0.0625219 46.7387 0.0600241C46.7397 0.0592345 46.7427 0.0567658 46.7446 0.0551857C46.7485 0.0520238 46.7521 0.0489887 46.7557 0.0460799C46.7628 0.0402623 46.7694 0.0349487 46.7753 0.0301318C46.7871 0.0204986 46.7966 0.0128495 46.8037 0.00712562C46.818 -0.00431848 46.8228 -0.00808311 46.8184 -0.00463784C46.8096 0.00228345 46.764 0.0378652 46.6828 0.0983779C46.5199 0.219675 46.2165 0.439161 45.7812 0.727519C44.9072 1.30663 43.5257 2.14765 41.7061 3.02677C38.0469 4.79468 32.7981 6.63058 26.4253 6.95109L27.5746 29.7793ZM54 8.88887C50.2691 -1.91433 50.27 -1.91467 50.271 -1.91498C50.2712 -1.91506 50.272 -1.91535 50.2724 -1.9155C50.2733 -1.91581 50.274 -1.91602 50.2743 -1.91616C50.2752 -1.91643 50.275 -1.91636 50.2738 -1.91595C50.2714 -1.91515 50.2652 -1.91302 50.2552 -1.9096C50.2351 -1.90276 50.1999 -1.89078 50.1503 -1.874C50.0509 -1.84043 49.8938 -1.78773 49.6844 -1.71863C49.2652 -1.58031 48.6387 -1.377 47.8481 -1.13035C46.2609 -0.635237 44.0427 0.0249875 41.5325 0.6823C36.215 2.07471 30.6736 3.15796 27 3.15796V26.0151C33.8087 26.0151 41.7672 24.2495 47.3292 22.7931C50.2586 22.026 52.825 21.2618 54.6625 20.6886C55.5842 20.4011 56.33 20.1593 56.8551 19.986C57.1178 19.8993 57.3258 19.8296 57.4735 19.7797C57.5474 19.7548 57.6062 19.7348 57.6493 19.72C57.6709 19.7127 57.6885 19.7066 57.7021 19.7019C57.7089 19.6996 57.7147 19.6976 57.7195 19.696C57.7219 19.6952 57.7241 19.6944 57.726 19.6938C57.7269 19.6934 57.7281 19.693 57.7286 19.6929C57.7298 19.6924 57.7309 19.692 54 8.88887ZM27 3.15796C23.3263 3.15796 17.7849 2.07471 12.4674 0.6823C9.95717 0.0249875 7.73904 -0.635237 6.15184 -1.13035C5.36118 -1.377 4.73467 -1.58031 4.3155 -1.71863C4.10609 -1.78773 3.94899 -1.84043 3.84961 -1.874C3.79994 -1.89078 3.76474 -1.90276 3.74471 -1.9096C3.73469 -1.91302 3.72848 -1.91515 3.72613 -1.91595C3.72496 -1.91636 3.72476 -1.91643 3.72554 -1.91616C3.72593 -1.91602 3.72657 -1.91581 3.72745 -1.9155C3.72789 -1.91535 3.72874 -1.91506 3.72896 -1.91498C3.72987 -1.91467 3.73084 -1.91433 -4.673e-05 8.88887C-3.73093 19.692 -3.72983 19.6924 -3.72868 19.6929C-3.72821 19.693 -3.72698 19.6934 -3.72603 19.6938C-3.72415 19.6944 -3.72201 19.6952 -3.71961 19.696C-3.71482 19.6976 -3.70901 19.6996 -3.7022 19.7019C-3.68858 19.7066 -3.67095 19.7127 -3.6494 19.72C-3.60629 19.7348 -3.54745 19.7548 -3.47359 19.7797C-3.32589 19.8296 -3.11788 19.8993 -2.85516 19.986C-2.33008 20.1593 -1.58425 20.4011 -0.662589 20.6886C1.17485 21.2618 3.74125 22.026 6.67073 22.7931C12.2327 24.2495 20.1913 26.0151 27 26.0151V3.15796Z","fill","var(--primary-color)"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-2xl","leading-normal","mr-20"],["pButton","","severity","secondary","pRipple","","pStyleClass","@next","enterClass","hidden","leaveToClass","hidden",1,"lg:!hidden",3,"text","rounded","hideOnOutsideClick"],[1,"pi","pi-bars","!text-2xl"],[1,"items-center","bg-surface-0","dark:bg-surface-900","grow","justify-between","hidden","lg:flex","absolute","lg:static","w-full","left-0","top-full","px-12","lg:px-0","z-20","rounded-border"],[1,"list-none","p-0","m-0","flex","lg:items-center","select-none","flex-col","lg:flex-row","cursor-pointer","gap-8"],["pRipple","",1,"px-0","py-4","text-surface-900","dark:text-surface-0","font-medium","text-xl",3,"click"],[1,"flex","border-t","lg:border-t-0","border-surface","py-4","lg:py-0","mt-4","lg:mt-0","gap-2"],["pButton","","pRipple","","label","Login","routerLink","/auth/login",3,"rounded","text"],["pButton","","pRipple","","label","Register","routerLink","/auth/login",3,"rounded"]],template:function(t,i){t&1&&(d(0,"a",0),Wa(),d(1,"svg",1),P(2,"path",2),d(3,"mask",3),P(4,"path",4),u(),d(5,"g",5),P(6,"path",6),u()(),os(),d(7,"span",7),v(8,"SAKAI"),u()(),d(9,"a",8),P(10,"i",9),u(),d(11,"div",10)(12,"ul",11)(13,"li")(14,"a",12),L("click",function(){return i.router.navigate(["/landing"],{fragment:"home"})}),d(15,"span"),v(16,"Home"),u()()(),d(17,"li")(18,"a",12),L("click",function(){return i.router.navigate(["/landing"],{fragment:"features"})}),d(19,"span"),v(20,"Features"),u()()(),d(21,"li")(22,"a",12),L("click",function(){return i.router.navigate(["/landing"],{fragment:"highlights"})}),d(23,"span"),v(24,"Highlights"),u()()(),d(25,"li")(26,"a",12),L("click",function(){return i.router.navigate(["/landing"],{fragment:"pricing"})}),d(27,"span"),v(28,"Pricing"),u()()()(),d(29,"div",13),P(30,"button",14)(31,"button",15),u()()),t&2&&(c(9),g("text",!0)("rounded",!0)("hideOnOutsideClick",!0),c(21),g("rounded",!0)("text",!0),c(),g("rounded",!0))},dependencies:[Mn,Yr,oc,Vm,Pe,qe,We,He],encapsulation:2})};var _h=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["hero-widget"]],decls:11,vars:1,consts:[["id","hero",1,"flex","flex-col","pt-6","px-6","lg:px-20","overflow-hidden",2,"background","linear-gradient(0deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2)), radial-gradient(77.36% 256.97% at 77.36% 57.52%, rgb(238, 239, 175) 0%, rgb(195, 227, 250) 100%)","clip-path","ellipse(150% 87% at 93% 13%)"],[1,"mx-6","md:mx-20","mt-0","md:mt-6"],[1,"text-6xl","font-bold","text-gray-900","leading-tight"],[1,"font-light","block"],[1,"font-normal","text-2xl","leading-normal","md:mt-4","text-gray-700"],["pButton","","pRipple","","type","button","label","Get Started",1,"!text-xl","mt-8","!px-4",3,"rounded"],[1,"flex","justify-center","md:justify-end"],["src","https://primefaces.org/cdn/templates/sakai/landing/screen-1.png","alt","Hero Image",1,"w-9/12","md:w-auto"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"h1",2)(3,"span",3),v(4,"Eu sem integer"),u(),v(5,"eget magna fermentum"),u(),d(6,"p",4),v(7,"Sed blandit libero volutpat sed cras. Fames ac turpis egestas integer. Placerat in egestas erat..."),u(),P(8,"button",5),u(),d(9,"div",6),P(10,"img",7),u()()),t&2&&(c(8),g("rounded",!0))},dependencies:[Pe,qe,We,He],encapsulation:2})};var yh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["features-widget"]],decls:97,vars:0,consts:[["id","features",1,"py-6","px-6","lg:px-20","mt-8","mx-0","lg:mx-20"],[1,"grid","grid-cols-12","gap-4","justify-center"],[1,"col-span-12","text-center","mt-20","mb-6"],[1,"text-surface-900","dark:text-surface-0","font-normal","mb-2","text-4xl"],[1,"text-muted-color","text-2xl"],[1,"col-span-12","md:col-span-12","lg:col-span-4","p-0","lg:pr-8","lg:pb-8","mt-6","lg:mt-0"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(253, 228, 165, 0.2), rgba(187, 199, 205, 0.2)), linear-gradient(180deg, rgba(253, 228, 165, 0.2), rgba(187, 199, 205, 0.2))"],[1,"p-4","bg-surface-0","dark:bg-surface-900","h-full",2,"border-radius","8px"],[1,"flex","items-center","justify-center","bg-yellow-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-users","!text-2xl","text-yellow-700"],[1,"mb-2","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-200"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(145, 226, 237, 0.2), rgba(251, 199, 145, 0.2)), linear-gradient(180deg, rgba(253, 228, 165, 0.2), rgba(172, 180, 223, 0.2))"],[1,"flex","items-center","justify-center","bg-cyan-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-palette","!text-2xl","text-cyan-700"],[1,"col-span-12","md:col-span-12","lg:col-span-4","p-0","lg:pb-8","mt-6","lg:mt-0"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(145, 226, 237, 0.2), rgba(172, 180, 223, 0.2)), linear-gradient(180deg, rgba(172, 180, 223, 0.2), rgba(246, 158, 188, 0.2))"],[1,"flex","items-center","justify-center","bg-indigo-200",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-map","!text-2xl","text-indigo-700"],[1,"mt-6","mb-1","text-surface-900","dark:text-surface-0","text-xl","font-semibold"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(187, 199, 205, 0.2), rgba(251, 199, 145, 0.2)), linear-gradient(180deg, rgba(253, 228, 165, 0.2), rgba(145, 210, 204, 0.2))"],[1,"flex","items-center","justify-center","bg-slate-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-id-card","!text-2xl","text-slate-700"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(187, 199, 205, 0.2), rgba(246, 158, 188, 0.2)), linear-gradient(180deg, rgba(145, 226, 237, 0.2), rgba(160, 210, 250, 0.2))"],[1,"flex","items-center","justify-center","bg-orange-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-star","!text-2xl","text-orange-700"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(251, 199, 145, 0.2), rgba(246, 158, 188, 0.2)), linear-gradient(180deg, rgba(172, 180, 223, 0.2), rgba(212, 162, 221, 0.2))"],[1,"flex","items-center","justify-center","bg-pink-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-moon","!text-2xl","text-pink-700"],[1,"col-span-12","md:col-span-12","lg:col-span-4","p-0","lg:pr-8","mt-6","lg:mt-0"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(145, 210, 204, 0.2), rgba(160, 210, 250, 0.2)), linear-gradient(180deg, rgba(187, 199, 205, 0.2), rgba(145, 210, 204, 0.2))"],[1,"flex","items-center","justify-center","bg-teal-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-shopping-cart","!text-2xl","text-teal-700"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(145, 210, 204, 0.2), rgba(212, 162, 221, 0.2)), linear-gradient(180deg, rgba(251, 199, 145, 0.2), rgba(160, 210, 250, 0.2))"],[1,"flex","items-center","justify-center","bg-blue-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-globe","!text-2xl","text-blue-700"],[1,"col-span-12","md:col-span-12","lg:col-span-4","p-0","lg-4","mt-6","lg:mt-0"],[2,"height","160px","padding","2px","border-radius","10px","background","linear-gradient(90deg, rgba(160, 210, 250, 0.2), rgba(212, 162, 221, 0.2)), linear-gradient(180deg, rgba(246, 158, 188, 0.2), rgba(212, 162, 221, 0.2))"],[1,"flex","items-center","justify-center","bg-purple-200","mb-4",2,"width","3.5rem","height","3.5rem","border-radius","10px"],[1,"pi","pi-fw","pi-eye","!text-2xl","text-purple-700"],[1,"col-span-12","mt-20","mb-20","p-2","md:p-20",2,"border-radius","20px","background","linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), radial-gradient(77.36% 256.97% at 77.36% 57.52%, #efe1af 0%, #c3dcfa 100%)"],[1,"flex","flex-col","justify-center","items-center","text-center","px-4","py-4","md:py-0"],[1,"text-gray-900","mb-2","text-3xl","font-semibold"],[1,"text-gray-600","text-2xl"],[1,"text-gray-900","sm:line-height-2","md:line-height-4","text-2xl","mt-6",2,"max-width","800px"],["src","https://primefaces.org/cdn/templates/sakai/landing/peak-logo.svg","alt","Company logo",1,"mt-6"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v(4,"Marvelous Features"),u(),d(5,"span",4),v(6,"Placerat in egestas erat..."),u()(),d(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),P(11,"i",9),u(),d(12,"h5",10),v(13,"Easy to Use"),u(),d(14,"span",11),v(15,"Posuere morbi leo urna molestie."),u()()()(),d(16,"div",5)(17,"div",12)(18,"div",7)(19,"div",13),P(20,"i",14),u(),d(21,"h5",10),v(22,"Fresh Design"),u(),d(23,"span",11),v(24,"Semper risus in hendrerit."),u()()()(),d(25,"div",15)(26,"div",16)(27,"div",7)(28,"div",17),P(29,"i",18),u(),d(30,"div",19),v(31,"Well Documented"),u(),d(32,"span",11),v(33,"Non arcu risus quis varius quam quisque."),u()()()(),d(34,"div",5)(35,"div",20)(36,"div",7)(37,"div",21),P(38,"i",22),u(),d(39,"div",19),v(40,"Responsive Layout"),u(),d(41,"span",11),v(42,"Nulla malesuada pellentesque elit."),u()()()(),d(43,"div",5)(44,"div",23)(45,"div",7)(46,"div",24),P(47,"i",25),u(),d(48,"div",19),v(49,"Clean Code"),u(),d(50,"span",11),v(51,"Condimentum lacinia quis vel eros."),u()()()(),d(52,"div",15)(53,"div",26)(54,"div",7)(55,"div",27),P(56,"i",28),u(),d(57,"div",19),v(58,"Dark Mode"),u(),d(59,"span",11),v(60,"Convallis tellus id interdum velit laoreet."),u()()()(),d(61,"div",29)(62,"div",30)(63,"div",7)(64,"div",31),P(65,"i",32),u(),d(66,"div",19),v(67,"Ready to Use"),u(),d(68,"span",11),v(69,"Mauris sit amet massa vitae."),u()()()(),d(70,"div",29)(71,"div",33)(72,"div",7)(73,"div",34),P(74,"i",35),u(),d(75,"div",19),v(76,"Modern Practices"),u(),d(77,"span",11),v(78,"Elementum nibh tellus molestie nunc non."),u()()()(),d(79,"div",36)(80,"div",37)(81,"div",7)(82,"div",38),P(83,"i",39),u(),d(84,"div",19),v(85,"Privacy"),u(),d(86,"span",11),v(87,"Neque egestas congue quisque."),u()()()(),d(88,"div",40)(89,"div",41)(90,"div",42),v(91,"Jos\xE9phine Miller"),u(),d(92,"span",43),v(93,"Peak Interactive"),u(),d(94,"p",44),v(95," \u201CDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\u201D "),u(),P(96,"img",45),u()()()())},dependencies:[pe],encapsulation:2})};var bh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["highlights-widget"]],decls:26,vars:0,consts:[["id","highlights",1,"py-6","px-6","lg:px-20","mx-0","my-12","lg:mx-20"],[1,"text-center"],[1,"text-surface-900","dark:text-surface-0","font-normal","mb-2","text-4xl"],[1,"text-muted-color","text-2xl"],[1,"grid","grid-cols-12","gap-4","mt-20","pb-2","md:pb-20"],[1,"flex","justify-center","col-span-12","lg:col-span-6","bg-purple-100","p-0","order-1","lg:order-none",2,"border-radius","8px"],["src","https://primefaces.org/cdn/templates/sakai/landing/mockup.png","alt","mockup mobile",1,"w-11/12"],[1,"col-span-12","lg:col-span-6","my-auto","flex","flex-col","lg:items-end","text-center","lg:text-right","gap-4"],[1,"flex","items-center","justify-center","bg-purple-200","self-center","lg:self-end",2,"width","4.2rem","height","4.2rem","border-radius","10px"],[1,"pi","pi-fw","pi-mobile","!text-4xl","text-purple-700"],[1,"leading-none","text-surface-900","dark:text-surface-0","text-3xl","font-normal"],[1,"text-surface-700","dark:text-surface-100","text-2xl","leading-normal","ml-0","md:ml-2",2,"max-width","650px"],[1,"grid","grid-cols-12","gap-4","my-20","pt-2","md:pt-20"],[1,"col-span-12","lg:col-span-6","my-auto","flex","flex-col","text-center","lg:text-left","lg:items-start","gap-4"],[1,"flex","items-center","justify-center","bg-yellow-200","self-center","lg:self-start",2,"width","4.2rem","height","4.2rem","border-radius","10px"],[1,"pi","pi-fw","pi-desktop","!text-3xl","text-yellow-700"],[1,"text-surface-700","dark:text-surface-100","text-2xl","leading-normal","mr-0","md:mr-2",2,"max-width","650px"],[1,"flex","justify-end","order-1","sm:order-2","col-span-12","lg:col-span-6","bg-yellow-100","p-0",2,"border-radius","8px"],["src","https://primefaces.org/cdn/templates/sakai/landing/mockup-desktop.png","alt","mockup",1,"w-11/12"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),v(3,"Powerful Everywhere"),u(),d(4,"span",3),v(5,"Amet consectetur adipiscing elit..."),u()(),d(6,"div",4)(7,"div",5),P(8,"img",6),u(),d(9,"div",7)(10,"div",8),P(11,"i",9),u(),d(12,"div",10),v(13,"Congue Quisque Egestas"),u(),d(14,"span",11),v(15,"Lectus arcu bibendum at varius vel pharetra vel turpis nunc. Eget aliquet nibh praesent tristique magna sit amet purus gravida. Sit amet mattis vulputate enim nulla aliquet."),u()()(),d(16,"div",12)(17,"div",13)(18,"div",14),P(19,"i",15),u(),d(20,"div",10),v(21,"Celerisque Eu Ultrices"),u(),d(22,"span",16),v(23,"Adipiscing commodo elit at imperdiet dui. Viverra nibh cras pulvinar mattis nunc sed blandit libero. Suspendisse in est ante in. Mauris pharetra et ultrices neque ornare aenean euismod elementum nisi."),u()(),d(24,"div",17),P(25,"img",18),u()()())},encapsulation:2})};var wh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["pricing-widget"]],decls:97,vars:0,consts:[["id","pricing",1,"py-6","px-6","lg:px-20","my-2","md:my-6"],[1,"text-center","mb-6"],[1,"text-surface-900","dark:text-surface-0","font-normal","mb-2","text-4xl"],[1,"text-muted-color","text-2xl"],[1,"grid","grid-cols-12","gap-4","justify-between","mt-20","md:mt-0"],[1,"col-span-12","lg:col-span-4","p-0","md:p-4"],[1,"p-4","flex","flex-col","border-surface-200","dark:border-surface-600","pricing-card","cursor-pointer","border-2","hover:border-primary","duration-300","transition-all",2,"border-radius","10px"],[1,"text-surface-900","dark:text-surface-0","text-center","my-8","text-3xl"],["src","https://primefaces.org/cdn/templates/sakai/landing/free.svg","alt","free",1,"w-10/12","mx-auto"],[1,"my-8","flex","flex-col","items-center","gap-4"],[1,"flex","items-center"],[1,"text-5xl","font-bold","mr-2","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-200"],["pButton","","pRipple","","label","Get Started",1,"p-button-rounded","border-0","ml-4","font-light","leading-tight","bg-blue-500","text-white"],[1,"w-full","bg-surface-200"],[1,"my-8","list-none","p-0","flex","text-surface-900","dark:text-surface-0","flex-col","px-8"],[1,"py-2"],[1,"pi","pi-fw","pi-check","text-xl","text-cyan-500","mr-2"],[1,"text-xl","leading-normal"],[1,"col-span-12","lg:col-span-4","p-0","md:p-4","mt-6","md:mt-0"],["src","https://primefaces.org/cdn/templates/sakai/landing/startup.svg","alt","startup",1,"w-10/12","mx-auto"],["src","https://primefaces.org/cdn/templates/sakai/landing/enterprise.svg","alt","enterprise",1,"w-10/12","mx-auto"],["pButton","","pRipple","","label","Try Free",1,"p-button-rounded","border-0","ml-4","font-light","leading-tight","bg-blue-500","text-white"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),v(3,"Matchless Pricing"),u(),d(4,"span",3),v(5,"Amet consectetur adipiscing elit..."),u()(),d(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),v(10,"Free"),u(),P(11,"img",8),d(12,"div",9)(13,"div",10)(14,"span",11),v(15,"$0"),u(),d(16,"span",12),v(17,"per month"),u()(),P(18,"button",13),u(),P(19,"p-divider",14),d(20,"ul",15)(21,"li",16),P(22,"i",17),d(23,"span",18),v(24,"Responsive Layout"),u()(),d(25,"li",16),P(26,"i",17),d(27,"span",18),v(28,"Unlimited Push Messages"),u()(),d(29,"li",16),P(30,"i",17),d(31,"span",18),v(32,"50 Support Ticket"),u()(),d(33,"li",16),P(34,"i",17),d(35,"span",18),v(36,"Free Shipping"),u()()()()(),d(37,"div",19)(38,"div",6)(39,"div",7),v(40,"Startup"),u(),P(41,"img",20),d(42,"div",9)(43,"div",10)(44,"span",11),v(45,"$1"),u(),d(46,"span",12),v(47,"per month"),u()(),P(48,"button",13),u(),P(49,"p-divider",14),d(50,"ul",15)(51,"li",16),P(52,"i",17),d(53,"span",18),v(54,"Responsive Layout"),u()(),d(55,"li",16),P(56,"i",17),d(57,"span",18),v(58,"Unlimited Push Messages"),u()(),d(59,"li",16),P(60,"i",17),d(61,"span",18),v(62,"50 Support Ticket"),u()(),d(63,"li",16),P(64,"i",17),d(65,"span",18),v(66,"Free Shipping"),u()()()()(),d(67,"div",19)(68,"div",6)(69,"div",7),v(70,"Enterprise"),u(),P(71,"img",21),d(72,"div",9)(73,"div",10)(74,"span",11),v(75,"$5"),u(),d(76,"span",12),v(77,"per month"),u()(),P(78,"button",22),u(),P(79,"p-divider",14),d(80,"ul",15)(81,"li",16),P(82,"i",17),d(83,"span",18),v(84,"Responsive Layout"),u()(),d(85,"li",16),P(86,"i",17),d(87,"span",18),v(88,"Unlimited Push Messages"),u()(),d(89,"li",16),P(90,"i",17),d(91,"span",18),v(92,"50 Support Ticket"),u()(),d(93,"li",16),P(94,"i",17),d(95,"span",18),v(96,"Free Shipping"),u()()()()()()())},dependencies:[Um,EC,Pe,qe,We,He],encapsulation:2})};var Sh=class n{constructor(e){this.router=e}static \u0275fac=function(t){return new(t||n)(B(Gr))};static \u0275cmp=re({type:n,selectors:[["footer-widget"]],decls:57,vars:0,consts:[[1,"py-12","px-12","mx-0","mt-20","lg:mx-20"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-2"],[1,"flex","flex-wrap","items-center","justify-center","md:justify-start","md:mb-0","mb-6","cursor-pointer",3,"click"],["viewBox","0 0 54 40","fill","none","xmlns","http://www.w3.org/2000/svg",1,"h-14","mr-2"],["fill-rule","evenodd","clip-rule","evenodd","d","M17.1637 19.2467C17.1566 19.4033 17.1529 19.561 17.1529 19.7194C17.1529 25.3503 21.7203 29.915 27.3546 29.915C32.9887 29.915 37.5561 25.3503 37.5561 19.7194C37.5561 19.5572 37.5524 19.3959 37.5449 19.2355C38.5617 19.0801 39.5759 18.9013 40.5867 18.6994L40.6926 18.6782C40.7191 19.0218 40.7326 19.369 40.7326 19.7194C40.7326 27.1036 34.743 33.0896 27.3546 33.0896C19.966 33.0896 13.9765 27.1036 13.9765 19.7194C13.9765 19.374 13.9896 19.0316 14.0154 18.6927L14.0486 18.6994C15.0837 18.9062 16.1223 19.0886 17.1637 19.2467ZM33.3284 11.4538C31.6493 10.2396 29.5855 9.52381 27.3546 9.52381C25.1195 9.52381 23.0524 10.2421 21.3717 11.4603C20.0078 11.3232 18.6475 11.1387 17.2933 10.907C19.7453 8.11308 23.3438 6.34921 27.3546 6.34921C31.36 6.34921 34.9543 8.10844 37.4061 10.896C36.0521 11.1292 34.692 11.3152 33.3284 11.4538ZM43.826 18.0518C43.881 18.6003 43.9091 19.1566 43.9091 19.7194C43.9091 28.8568 36.4973 36.2642 27.3546 36.2642C18.2117 36.2642 10.8 28.8568 10.8 19.7194C10.8 19.1615 10.8276 18.61 10.8816 18.0663L7.75383 17.4411C7.66775 18.1886 7.62354 18.9488 7.62354 19.7194C7.62354 30.6102 16.4574 39.4388 27.3546 39.4388C38.2517 39.4388 47.0855 30.6102 47.0855 19.7194C47.0855 18.9439 47.0407 18.1789 46.9536 17.4267L43.826 18.0518ZM44.2613 9.54743L40.9084 10.2176C37.9134 5.95821 32.9593 3.1746 27.3546 3.1746C21.7442 3.1746 16.7856 5.96385 13.7915 10.2305L10.4399 9.56057C13.892 3.83178 20.1756 0 27.3546 0C34.5281 0 40.8075 3.82591 44.2613 9.54743Z","fill","var(--primary-color)"],["id","mask0_1413_1551","maskUnits","userSpaceOnUse","x","0","y","8","width","54","height","11",2,"mask-type","alpha"],["d","M27 18.3652C10.5114 19.1944 0 8.88892 0 8.88892C0 8.88892 16.5176 14.5866 27 14.5866C37.4824 14.5866 54 8.88892 54 8.88892C54 8.88892 43.4886 17.5361 27 18.3652Z","fill","var(--primary-color)"],["mask","url(#mask0_1413_1551)"],["d","M-4.673e-05 8.88887L3.73084 -1.91434L-8.00806 17.0473L-4.673e-05 8.88887ZM27 18.3652L26.4253 6.95109L27 18.3652ZM54 8.88887L61.2673 17.7127L50.2691 -1.91434L54 8.88887ZM-4.673e-05 8.88887C-8.00806 17.0473 -8.00469 17.0505 -8.00132 17.0538C-8.00018 17.055 -7.99675 17.0583 -7.9944 17.0607C-7.98963 17.0653 -7.98474 17.0701 -7.97966 17.075C-7.96949 17.0849 -7.95863 17.0955 -7.94707 17.1066C-7.92401 17.129 -7.89809 17.1539 -7.86944 17.1812C-7.8122 17.236 -7.74377 17.3005 -7.66436 17.3743C-7.50567 17.5218 -7.30269 17.7063 -7.05645 17.9221C-6.56467 18.3532 -5.89662 18.9125 -5.06089 19.5534C-3.39603 20.83 -1.02575 22.4605 1.98012 24.0457C7.97874 27.2091 16.7723 30.3226 27.5746 29.7793L26.4253 6.95109C20.7391 7.23699 16.0326 5.61231 12.6534 3.83024C10.9703 2.94267 9.68222 2.04866 8.86091 1.41888C8.45356 1.10653 8.17155 0.867278 8.0241 0.738027C7.95072 0.673671 7.91178 0.637576 7.90841 0.634492C7.90682 0.63298 7.91419 0.639805 7.93071 0.65557C7.93897 0.663455 7.94952 0.673589 7.96235 0.686039C7.96883 0.692262 7.97582 0.699075 7.98338 0.706471C7.98719 0.710167 7.99113 0.714014 7.99526 0.718014C7.99729 0.720008 8.00047 0.723119 8.00148 0.724116C8.00466 0.727265 8.00796 0.730446 -4.673e-05 8.88887ZM27.5746 29.7793C37.6904 29.2706 45.9416 26.3684 51.6602 23.6054C54.5296 22.2191 56.8064 20.8465 58.4186 19.7784C59.2265 19.2431 59.873 18.7805 60.3494 18.4257C60.5878 18.2482 60.7841 18.0971 60.9374 17.977C61.014 17.9169 61.0799 17.8645 61.1349 17.8203C61.1624 17.7981 61.1872 17.7781 61.2093 17.7602C61.2203 17.7512 61.2307 17.7427 61.2403 17.7348C61.2452 17.7308 61.2499 17.727 61.2544 17.7233C61.2566 17.7215 61.2598 17.7188 61.261 17.7179C61.2642 17.7153 61.2673 17.7127 54 8.88887C46.7326 0.0650536 46.7357 0.0625219 46.7387 0.0600241C46.7397 0.0592345 46.7427 0.0567658 46.7446 0.0551857C46.7485 0.0520238 46.7521 0.0489887 46.7557 0.0460799C46.7628 0.0402623 46.7694 0.0349487 46.7753 0.0301318C46.7871 0.0204986 46.7966 0.0128495 46.8037 0.00712562C46.818 -0.00431848 46.8228 -0.00808311 46.8184 -0.00463784C46.8096 0.00228345 46.764 0.0378652 46.6828 0.0983779C46.5199 0.219675 46.2165 0.439161 45.7812 0.727519C44.9072 1.30663 43.5257 2.14765 41.7061 3.02677C38.0469 4.79468 32.7981 6.63058 26.4253 6.95109L27.5746 29.7793ZM54 8.88887C50.2691 -1.91433 50.27 -1.91467 50.271 -1.91498C50.2712 -1.91506 50.272 -1.91535 50.2724 -1.9155C50.2733 -1.91581 50.274 -1.91602 50.2743 -1.91616C50.2752 -1.91643 50.275 -1.91636 50.2738 -1.91595C50.2714 -1.91515 50.2652 -1.91302 50.2552 -1.9096C50.2351 -1.90276 50.1999 -1.89078 50.1503 -1.874C50.0509 -1.84043 49.8938 -1.78773 49.6844 -1.71863C49.2652 -1.58031 48.6387 -1.377 47.8481 -1.13035C46.2609 -0.635237 44.0427 0.0249875 41.5325 0.6823C36.215 2.07471 30.6736 3.15796 27 3.15796V26.0151C33.8087 26.0151 41.7672 24.2495 47.3292 22.7931C50.2586 22.026 52.825 21.2618 54.6625 20.6886C55.5842 20.4011 56.33 20.1593 56.8551 19.986C57.1178 19.8993 57.3258 19.8296 57.4735 19.7797C57.5474 19.7548 57.6062 19.7348 57.6493 19.72C57.6709 19.7127 57.6885 19.7066 57.7021 19.7019C57.7089 19.6996 57.7147 19.6976 57.7195 19.696C57.7219 19.6952 57.7241 19.6944 57.726 19.6938C57.7269 19.6934 57.7281 19.693 57.7286 19.6929C57.7298 19.6924 57.7309 19.692 54 8.88887ZM27 3.15796C23.3263 3.15796 17.7849 2.07471 12.4674 0.6823C9.95717 0.0249875 7.73904 -0.635237 6.15184 -1.13035C5.36118 -1.377 4.73467 -1.58031 4.3155 -1.71863C4.10609 -1.78773 3.94899 -1.84043 3.84961 -1.874C3.79994 -1.89078 3.76474 -1.90276 3.74471 -1.9096C3.73469 -1.91302 3.72848 -1.91515 3.72613 -1.91595C3.72496 -1.91636 3.72476 -1.91643 3.72554 -1.91616C3.72593 -1.91602 3.72657 -1.91581 3.72745 -1.9155C3.72789 -1.91535 3.72874 -1.91506 3.72896 -1.91498C3.72987 -1.91467 3.73084 -1.91433 -4.673e-05 8.88887C-3.73093 19.692 -3.72983 19.6924 -3.72868 19.6929C-3.72821 19.693 -3.72698 19.6934 -3.72603 19.6938C-3.72415 19.6944 -3.72201 19.6952 -3.71961 19.696C-3.71482 19.6976 -3.70901 19.6996 -3.7022 19.7019C-3.68858 19.7066 -3.67095 19.7127 -3.6494 19.72C-3.60629 19.7348 -3.54745 19.7548 -3.47359 19.7797C-3.32589 19.8296 -3.11788 19.8993 -2.85516 19.986C-2.33008 20.1593 -1.58425 20.4011 -0.662589 20.6886C1.17485 21.2618 3.74125 22.026 6.67073 22.7931C12.2327 24.2495 20.1913 26.0151 27 26.0151V3.15796Z","fill","var(--primary-color)"],[1,"font-medium","text-3xl","text-surface-900","dark:text-surface-0"],[1,"col-span-12","md:col-span-10"],[1,"grid","grid-cols-12","gap-8","text-center","md:text-left"],[1,"col-span-12","md:col-span-3"],[1,"font-medium","text-2xl","leading-normal","mb-6","text-surface-900","dark:text-surface-0"],[1,"leading-normal","text-xl","block","cursor-pointer","mb-2","text-surface-700","dark:text-surface-100"],[1,"leading-normal","text-xl","block","cursor-pointer","text-surface-700","dark:text-surface-100"],["src","https://primefaces.org/cdn/templates/sakai/landing/new-badge.svg","alt","badge",1,"ml-2"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),L("click",function(){return i.router.navigate(["/pages/landing"],{fragment:"home"})}),Wa(),d(4,"svg",4),P(5,"path",5),d(6,"mask",6),P(7,"path",7),u(),d(8,"g",8),P(9,"path",9),u()(),os(),d(10,"h4",10),v(11,"SAKAI"),u()()(),d(12,"div",11)(13,"div",12)(14,"div",13)(15,"h4",14),v(16,"Company"),u(),d(17,"a",15),v(18,"About Us"),u(),d(19,"a",15),v(20,"News"),u(),d(21,"a",15),v(22,"Investor Relations"),u(),d(23,"a",15),v(24,"Careers"),u(),d(25,"a",16),v(26,"Media Kit"),u()(),d(27,"div",13)(28,"h4",14),v(29,"Resources"),u(),d(30,"a",15),v(31,"Get Started"),u(),d(32,"a",15),v(33,"Learn"),u(),d(34,"a",16),v(35,"Case Studies"),u()(),d(36,"div",13)(37,"h4",14),v(38,"Community"),u(),d(39,"a",15),v(40,"Discord"),u(),d(41,"a",15),v(42,"Events"),P(43,"img",17),u(),d(44,"a",15),v(45,"FAQ"),u(),d(46,"a",16),v(47,"Blog"),u()(),d(48,"div",13)(49,"h4",14),v(50,"Legal"),u(),d(51,"a",15),v(52,"Brand Policy"),u(),d(53,"a",15),v(54,"Privacy Policy"),u(),d(55,"a",16),v(56,"Terms of Service"),u()()()()()())},dependencies:[Mn],encapsulation:2})};var Ch=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["app-landing"]],decls:8,vars:0,consts:[[1,"bg-surface-0","dark:bg-surface-900"],["id","home",1,"landing-wrapper","overflow-hidden"],[1,"py-6","px-6","mx-0","md:mx-12","lg:mx-20","lg:px-20","flex","items-center","justify-between","relative","lg:static"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1),P(2,"topbar-widget",2)(3,"hero-widget")(4,"features-widget")(5,"highlights-widget")(6,"pricing-widget")(7,"footer-widget"),u()())},dependencies:[Mn,vh,_h,yh,bh,wh,Sh,We,oc,Pe,Um],encapsulation:2})};var xh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["app-notfound"]],decls:42,vars:0,consts:[[1,"flex","items-center","justify-center","min-h-screen","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],["width","54","height","40","viewBox","0 0 54 40","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mb-8","w-32","shrink-0"],["fill-rule","evenodd","clip-rule","evenodd","d","M17.1637 19.2467C17.1566 19.4033 17.1529 19.561 17.1529 19.7194C17.1529 25.3503 21.7203 29.915 27.3546 29.915C32.9887 29.915 37.5561 25.3503 37.5561 19.7194C37.5561 19.5572 37.5524 19.3959 37.5449 19.2355C38.5617 19.0801 39.5759 18.9013 40.5867 18.6994L40.6926 18.6782C40.7191 19.0218 40.7326 19.369 40.7326 19.7194C40.7326 27.1036 34.743 33.0896 27.3546 33.0896C19.966 33.0896 13.9765 27.1036 13.9765 19.7194C13.9765 19.374 13.9896 19.0316 14.0154 18.6927L14.0486 18.6994C15.0837 18.9062 16.1223 19.0886 17.1637 19.2467ZM33.3284 11.4538C31.6493 10.2396 29.5855 9.52381 27.3546 9.52381C25.1195 9.52381 23.0524 10.2421 21.3717 11.4603C20.0078 11.3232 18.6475 11.1387 17.2933 10.907C19.7453 8.11308 23.3438 6.34921 27.3546 6.34921C31.36 6.34921 34.9543 8.10844 37.4061 10.896C36.0521 11.1292 34.692 11.3152 33.3284 11.4538ZM43.826 18.0518C43.881 18.6003 43.9091 19.1566 43.9091 19.7194C43.9091 28.8568 36.4973 36.2642 27.3546 36.2642C18.2117 36.2642 10.8 28.8568 10.8 19.7194C10.8 19.1615 10.8276 18.61 10.8816 18.0663L7.75383 17.4411C7.66775 18.1886 7.62354 18.9488 7.62354 19.7194C7.62354 30.6102 16.4574 39.4388 27.3546 39.4388C38.2517 39.4388 47.0855 30.6102 47.0855 19.7194C47.0855 18.9439 47.0407 18.1789 46.9536 17.4267L43.826 18.0518ZM44.2613 9.54743L40.9084 10.2176C37.9134 5.95821 32.9593 3.1746 27.3546 3.1746C21.7442 3.1746 16.7856 5.96385 13.7915 10.2305L10.4399 9.56057C13.892 3.83178 20.1756 0 27.3546 0C34.5281 0 40.8075 3.82591 44.2613 9.54743Z","fill","var(--primary-color)"],["id","mask0_1413_1551","maskUnits","userSpaceOnUse","x","0","y","8","width","54","height","11",2,"mask-type","alpha"],["d","M27 18.3652C10.5114 19.1944 0 8.88892 0 8.88892C0 8.88892 16.5176 14.5866 27 14.5866C37.4824 14.5866 54 8.88892 54 8.88892C54 8.88892 43.4886 17.5361 27 18.3652Z","fill","var(--primary-color)"],["mask","url(#mask0_1413_1551)"],["d","M-4.673e-05 8.88887L3.73084 -1.91434L-8.00806 17.0473L-4.673e-05 8.88887ZM27 18.3652L26.4253 6.95109L27 18.3652ZM54 8.88887L61.2673 17.7127L50.2691 -1.91434L54 8.88887ZM-4.673e-05 8.88887C-8.00806 17.0473 -8.00469 17.0505 -8.00132 17.0538C-8.00018 17.055 -7.99675 17.0583 -7.9944 17.0607C-7.98963 17.0653 -7.98474 17.0701 -7.97966 17.075C-7.96949 17.0849 -7.95863 17.0955 -7.94707 17.1066C-7.92401 17.129 -7.89809 17.1539 -7.86944 17.1812C-7.8122 17.236 -7.74377 17.3005 -7.66436 17.3743C-7.50567 17.5218 -7.30269 17.7063 -7.05645 17.9221C-6.56467 18.3532 -5.89662 18.9125 -5.06089 19.5534C-3.39603 20.83 -1.02575 22.4605 1.98012 24.0457C7.97874 27.2091 16.7723 30.3226 27.5746 29.7793L26.4253 6.95109C20.7391 7.23699 16.0326 5.61231 12.6534 3.83024C10.9703 2.94267 9.68222 2.04866 8.86091 1.41888C8.45356 1.10653 8.17155 0.867278 8.0241 0.738027C7.95072 0.673671 7.91178 0.637576 7.90841 0.634492C7.90682 0.63298 7.91419 0.639805 7.93071 0.65557C7.93897 0.663455 7.94952 0.673589 7.96235 0.686039C7.96883 0.692262 7.97582 0.699075 7.98338 0.706471C7.98719 0.710167 7.99113 0.714014 7.99526 0.718014C7.99729 0.720008 8.00047 0.723119 8.00148 0.724116C8.00466 0.727265 8.00796 0.730446 -4.673e-05 8.88887ZM27.5746 29.7793C37.6904 29.2706 45.9416 26.3684 51.6602 23.6054C54.5296 22.2191 56.8064 20.8465 58.4186 19.7784C59.2265 19.2431 59.873 18.7805 60.3494 18.4257C60.5878 18.2482 60.7841 18.0971 60.9374 17.977C61.014 17.9169 61.0799 17.8645 61.1349 17.8203C61.1624 17.7981 61.1872 17.7781 61.2093 17.7602C61.2203 17.7512 61.2307 17.7427 61.2403 17.7348C61.2452 17.7308 61.2499 17.727 61.2544 17.7233C61.2566 17.7215 61.2598 17.7188 61.261 17.7179C61.2642 17.7153 61.2673 17.7127 54 8.88887C46.7326 0.0650536 46.7357 0.0625219 46.7387 0.0600241C46.7397 0.0592345 46.7427 0.0567658 46.7446 0.0551857C46.7485 0.0520238 46.7521 0.0489887 46.7557 0.0460799C46.7628 0.0402623 46.7694 0.0349487 46.7753 0.0301318C46.7871 0.0204986 46.7966 0.0128495 46.8037 0.00712562C46.818 -0.00431848 46.8228 -0.00808311 46.8184 -0.00463784C46.8096 0.00228345 46.764 0.0378652 46.6828 0.0983779C46.5199 0.219675 46.2165 0.439161 45.7812 0.727519C44.9072 1.30663 43.5257 2.14765 41.7061 3.02677C38.0469 4.79468 32.7981 6.63058 26.4253 6.95109L27.5746 29.7793ZM54 8.88887C50.2691 -1.91433 50.27 -1.91467 50.271 -1.91498C50.2712 -1.91506 50.272 -1.91535 50.2724 -1.9155C50.2733 -1.91581 50.274 -1.91602 50.2743 -1.91616C50.2752 -1.91643 50.275 -1.91636 50.2738 -1.91595C50.2714 -1.91515 50.2652 -1.91302 50.2552 -1.9096C50.2351 -1.90276 50.1999 -1.89078 50.1503 -1.874C50.0509 -1.84043 49.8938 -1.78773 49.6844 -1.71863C49.2652 -1.58031 48.6387 -1.377 47.8481 -1.13035C46.2609 -0.635237 44.0427 0.0249875 41.5325 0.6823C36.215 2.07471 30.6736 3.15796 27 3.15796V26.0151C33.8087 26.0151 41.7672 24.2495 47.3292 22.7931C50.2586 22.026 52.825 21.2618 54.6625 20.6886C55.5842 20.4011 56.33 20.1593 56.8551 19.986C57.1178 19.8993 57.3258 19.8296 57.4735 19.7797C57.5474 19.7548 57.6062 19.7348 57.6493 19.72C57.6709 19.7127 57.6885 19.7066 57.7021 19.7019C57.7089 19.6996 57.7147 19.6976 57.7195 19.696C57.7219 19.6952 57.7241 19.6944 57.726 19.6938C57.7269 19.6934 57.7281 19.693 57.7286 19.6929C57.7298 19.6924 57.7309 19.692 54 8.88887ZM27 3.15796C23.3263 3.15796 17.7849 2.07471 12.4674 0.6823C9.95717 0.0249875 7.73904 -0.635237 6.15184 -1.13035C5.36118 -1.377 4.73467 -1.58031 4.3155 -1.71863C4.10609 -1.78773 3.94899 -1.84043 3.84961 -1.874C3.79994 -1.89078 3.76474 -1.90276 3.74471 -1.9096C3.73469 -1.91302 3.72848 -1.91515 3.72613 -1.91595C3.72496 -1.91636 3.72476 -1.91643 3.72554 -1.91616C3.72593 -1.91602 3.72657 -1.91581 3.72745 -1.9155C3.72789 -1.91535 3.72874 -1.91506 3.72896 -1.91498C3.72987 -1.91467 3.73084 -1.91433 -4.673e-05 8.88887C-3.73093 19.692 -3.72983 19.6924 -3.72868 19.6929C-3.72821 19.693 -3.72698 19.6934 -3.72603 19.6938C-3.72415 19.6944 -3.72201 19.6952 -3.71961 19.696C-3.71482 19.6976 -3.70901 19.6996 -3.7022 19.7019C-3.68858 19.7066 -3.67095 19.7127 -3.6494 19.72C-3.60629 19.7348 -3.54745 19.7548 -3.47359 19.7797C-3.32589 19.8296 -3.11788 19.8993 -2.85516 19.986C-2.33008 20.1593 -1.58425 20.4011 -0.662589 20.6886C1.17485 21.2618 3.74125 22.026 6.67073 22.7931C12.2327 24.2495 20.1913 26.0151 27 26.0151V3.15796Z","fill","var(--primary-color)"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-table","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0","block"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"],[1,"pi","pi-fw","pi-question-circle","!text-2xl"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],["label","Go to Dashboard","routerLink","/"]],template:function(t,i){t&1&&(P(0,"app-floating-configurator"),d(1,"div",0)(2,"div",1),Wa(),d(3,"svg",2),P(4,"path",3),d(5,"mask",4),P(6,"path",5),u(),d(7,"g",6),P(8,"path",7),u()(),os(),d(9,"div",8)(10,"div",9)(11,"span",10),v(12,"404"),u(),d(13,"h1",11),v(14,"Not Found"),u(),d(15,"div",12),v(16,"Requested resource is not available."),u(),d(17,"a",13)(18,"span",14),P(19,"i",15),u(),d(20,"span",16)(21,"span",17),v(22,"Frequently Asked Questions"),u(),d(23,"span",18),v(24,"Ultricies mi quis hendrerit dolor."),u()()(),d(25,"a",13)(26,"span",14),P(27,"i",19),u(),d(28,"span",16)(29,"span",20),v(30,"Solution Center"),u(),d(31,"span",18),v(32,"Phasellus faucibus scelerisque eleifend."),u()()(),d(33,"a",21)(34,"span",14),P(35,"i",22),u(),d(36,"span",16)(37,"span",20),v(38,"Permission Manager"),u(),d(39,"span",18),v(40,"Accumsan in nisl nisi scelerisque"),u()()(),P(41,"p-button",23),u()()()())},dependencies:[Mn,Yr,DC,Pe,Si],encapsulation:2})};var ri=class n{router=Qi(Gr);authService=Qi(ze);canActivate(){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/auth/login"]),!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var P5=["date"],L5=["header"],R5=["footer"],B5=["disabledDate"],F5=["decade"],O5=["previousicon"],N5=["nexticon"],V5=["triggericon"],H5=["clearicon"],W5=["decrementicon"],U5=["incrementicon"],j5=["inputicon"],z5=["container"],q5=["inputfield"],$5=["contentWrapper"],Q5=[[["p-header"]],[["p-footer"]]],G5=["p-header","p-footer"],Y5=n=>({clickCallBack:n}),K5=n=>({"p-datepicker-input-icon":n}),X5=(n,e)=>({showTransitionParams:n,hideTransitionParams:e}),Z5=n=>({value:"visible",params:n}),Lx=n=>({visibility:n}),A_=n=>({$implicit:n}),J5=(n,e)=>({"p-datepicker-day-cell":!0,"p-datepicker-other-month":n,"p-datepicker-today":e}),e8=(n,e)=>({"p-datepicker-month":!0,"p-datepicker-month-selected":n,"p-disabled":e}),t8=(n,e)=>({"p-datepicker-year":!0,"p-datepicker-year-selected":n,"p-disabled":e}),Rx=n=>[n];function i8(n,e){if(n&1){let t=W();d(0,"TimesIcon",11),L("click",function(){y(t);let r=w(3);return b(r.clear())}),u()}n&2&&si("p-datepicker-clear-icon")}function n8(n,e){}function r8(n,e){n&1&&R(0,n8,0,0,"ng-template")}function a8(n,e){if(n&1){let t=W();d(0,"span",12),L("click",function(){y(t);let r=w(3);return b(r.clear())}),R(1,r8,1,0,null,13),u()}if(n&2){let t=w(3);c(),g("ngTemplateOutlet",t.clearIconTemplate||t._clearIconTemplate)}}function o8(n,e){if(n&1&&(Ue(0),R(1,i8,1,2,"TimesIcon",9)(2,a8,2,1,"span",10),je()),n&2){let t=w(2);c(),g("ngIf",!t.clearIconTemplate&&!t._clearIconTemplate),c(),g("ngIf",t.clearIconTemplate||t._clearIconTemplate)}}function s8(n,e){if(n&1&&P(0,"span",16),n&2){let t=w(3);g("ngClass",t.icon)}}function l8(n,e){n&1&&P(0,"CalendarIcon")}function c8(n,e){}function d8(n,e){n&1&&R(0,c8,0,0,"ng-template")}function u8(n,e){if(n&1&&(Ue(0),R(1,l8,1,0,"CalendarIcon",7)(2,d8,1,0,null,13),je()),n&2){let t=w(3);c(),g("ngIf",!t.triggerIconTemplate&&!t._triggerIconTemplate),c(),g("ngTemplateOutlet",t.triggerIconTemplate||t._triggerIconTemplate)}}function p8(n,e){if(n&1){let t=W();d(0,"button",14),L("click",function(r){y(t),w();let a=Q(1),o=w();return b(o.onButtonClick(r,a))}),R(1,s8,1,1,"span",15)(2,u8,3,2,"ng-container",7),u()}if(n&2){let t,i=w(2);g("disabled",i.disabled),le("aria-label",i.iconButtonAriaLabel)("aria-expanded",(t=i.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",i.overlayVisible?i.panelId:null),c(),g("ngIf",i.icon),c(),g("ngIf",!i.icon)}}function m8(n,e){if(n&1){let t=W();d(0,"CalendarIcon",20),L("click",function(r){y(t);let a=w(3);return b(a.onButtonClick(r))}),u()}if(n&2){let t=w(3);g("ngClass",Ae(1,K5,t.showOnFocus))}}function h8(n,e){n&1&&Pt(0)}function f8(n,e){if(n&1&&(Ue(0),d(1,"span",17),R(2,m8,1,3,"CalendarIcon",18)(3,h8,1,0,"ng-container",19),u(),je()),n&2){let t=w(2);c(2),g("ngIf",!t.inputIconTemplate&&!t._inputIconTemplate),c(),g("ngTemplateOutlet",t.inputIconTemplate||t._inputIconTemplate)("ngTemplateOutletContext",Ae(3,Y5,t.onButtonClick.bind(t)))}}function g8(n,e){if(n&1){let t=W();d(0,"input",6,1),L("focus",function(r){y(t);let a=w();return b(a.onInputFocus(r))})("keydown",function(r){y(t);let a=w();return b(a.onInputKeydown(r))})("click",function(){y(t);let r=w();return b(r.onInputClick())})("blur",function(r){y(t);let a=w();return b(a.onInputBlur(r))})("input",function(r){y(t);let a=w();return b(a.onUserInput(r))}),u(),R(2,o8,3,2,"ng-container",7)(3,p8,3,6,"button",8)(4,f8,4,5,"ng-container",7)}if(n&2){let t,i=w();si(i.inputStyleClass),g("value",i.inputFieldValue)("readonly",i.readonlyInput)("ngStyle",i.inputStyle)("ngClass","p-datepicker-input")("placeholder",i.placeholder||"")("disabled",i.disabled)("pAutoFocus",i.autofocus)("variant",i.variant)("fluid",i.hasFluid),le("id",i.inputId)("name",i.name)("required",i.required)("aria-required",i.required)("aria-expanded",(t=i.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",i.overlayVisible?i.panelId:null)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.tabindex)("inputmode",i.touchUI?"off":null),c(2),g("ngIf",i.showClear&&!i.disabled&&i.value!=null),c(),g("ngIf",i.showIcon&&i.iconDisplay==="button"),c(),g("ngIf",i.iconDisplay==="input"&&i.showIcon)}}function v8(n,e){n&1&&Pt(0)}function _8(n,e){n&1&&P(0,"ChevronLeftIcon")}function y8(n,e){}function b8(n,e){n&1&&R(0,y8,0,0,"ng-template")}function w8(n,e){if(n&1&&(d(0,"span"),R(1,b8,1,0,null,13),u()),n&2){let t=w(4);c(),g("ngTemplateOutlet",t.previousIconTemplate||t._previousIconTemplate)}}function S8(n,e){if(n&1){let t=W();d(0,"button",37),L("click",function(r){y(t);let a=w(4);return b(a.switchToMonthView(r))})("keydown",function(r){y(t);let a=w(4);return b(a.onContainerButtonKeydown(r))}),v(1),u()}if(n&2){let t=w().$implicit,i=w(3);g("disabled",i.switchViewButtonDisabled()),le("aria-label",i.getTranslation("chooseMonth")),c(),O(" ",i.getMonthName(t.month)," ")}}function C8(n,e){if(n&1){let t=W();d(0,"button",38),L("click",function(r){y(t);let a=w(4);return b(a.switchToYearView(r))})("keydown",function(r){y(t);let a=w(4);return b(a.onContainerButtonKeydown(r))}),v(1),u()}if(n&2){let t=w().$implicit,i=w(3);g("disabled",i.switchViewButtonDisabled()),le("aria-label",i.getTranslation("chooseYear")),c(),O(" ",i.getYear(t)," ")}}function x8(n,e){if(n&1&&(Ue(0),v(1),je()),n&2){let t=w(5);c(),Se("",t.yearPickerValues()[0]," - ",t.yearPickerValues()[t.yearPickerValues().length-1],"")}}function E8(n,e){n&1&&Pt(0)}function I8(n,e){if(n&1&&(d(0,"span",39),R(1,x8,2,2,"ng-container",7)(2,E8,1,0,"ng-container",19),u()),n&2){let t=w(4);c(),g("ngIf",!t.decadeTemplate&&t._decadeTemplate),c(),g("ngTemplateOutlet",t.decadeTemplate||t._decadeTemplate)("ngTemplateOutletContext",Ae(3,A_,t.yearPickerValues))}}function T8(n,e){n&1&&P(0,"ChevronRightIcon")}function D8(n,e){}function A8(n,e){n&1&&R(0,D8,0,0,"ng-template")}function M8(n,e){if(n&1&&(d(0,"span"),R(1,A8,1,0,null,13),u()),n&2){let t=w(4);c(),g("ngTemplateOutlet",t.nextIconTemplate||t._nextIconTemplate)}}function k8(n,e){if(n&1&&(d(0,"th",44)(1,"span"),v(2),u()()),n&2){let t=w(5);c(2),x(t.getTranslation("weekHeader"))}}function P8(n,e){if(n&1&&(d(0,"th",45)(1,"span",46),v(2),u()()),n&2){let t=e.$implicit;c(2),x(t)}}function L8(n,e){if(n&1&&(d(0,"td",49)(1,"span",50),v(2),u()()),n&2){let t=w().index,i=w(2).$implicit;c(2),O(" ",i.weekNumbers[t]," ")}}function R8(n,e){if(n&1&&(Ue(0),v(1),je()),n&2){let t=w(2).$implicit;c(),x(t.day)}}function B8(n,e){n&1&&Pt(0)}function F8(n,e){if(n&1&&(Ue(0),R(1,B8,1,0,"ng-container",19),je()),n&2){let t=w(2).$implicit,i=w(6);c(),g("ngTemplateOutlet",i.dateTemplate||i._dateTemplate)("ngTemplateOutletContext",Ae(2,A_,t))}}function O8(n,e){n&1&&Pt(0)}function N8(n,e){if(n&1&&(Ue(0),R(1,O8,1,0,"ng-container",19),je()),n&2){let t=w(2).$implicit,i=w(6);c(),g("ngTemplateOutlet",i.disabledDateTemplate||i._disabledDateTemplate)("ngTemplateOutletContext",Ae(2,A_,t))}}function V8(n,e){if(n&1&&(d(0,"div",53),v(1),u()),n&2){let t=w(2).$implicit;c(),O(" ",t.day," ")}}function H8(n,e){if(n&1){let t=W();Ue(0),d(1,"span",51),L("click",function(r){y(t);let a=w().$implicit,o=w(6);return b(o.onDateSelect(r,a))})("keydown",function(r){y(t);let a=w().$implicit,o=w(3).index,s=w(3);return b(s.onDateCellKeydown(r,a,o))}),R(2,R8,2,1,"ng-container",7)(3,F8,2,4,"ng-container",7)(4,N8,2,4,"ng-container",7),u(),R(5,V8,2,1,"div",52),je()}if(n&2){let t=w().$implicit,i=w(6);c(),g("ngClass",i.dayClass(t)),le("data-date",i.formatDateKey(i.formatDateMetaToDate(t))),c(),g("ngIf",!i.dateTemplate&&!i._dateTemplate&&(t.selectable||!i.disabledDateTemplate&&!i._disabledDateTemplate)),c(),g("ngIf",t.selectable||!i.disabledDateTemplate&&!i._disabledDateTemplate),c(),g("ngIf",!t.selectable),c(),g("ngIf",i.isSelected(t))}}function W8(n,e){if(n&1&&(d(0,"td",16),R(1,H8,6,6,"ng-container",7),u()),n&2){let t=e.$implicit,i=w(6);g("ngClass",li(3,J5,t.otherMonth,t.today)),le("aria-label",t.day),c(),g("ngIf",t.otherMonth?i.showOtherMonths:!0)}}function U8(n,e){if(n&1&&(d(0,"tr"),R(1,L8,3,1,"td",47)(2,W8,2,6,"td",48),u()),n&2){let t=e.$implicit,i=w(5);c(),g("ngIf",i.showWeek),c(),g("ngForOf",t)}}function j8(n,e){if(n&1&&(d(0,"table",40)(1,"thead")(2,"tr"),R(3,k8,3,1,"th",41)(4,P8,3,1,"th",42),u()(),d(5,"tbody"),R(6,U8,3,2,"tr",43),u()()),n&2){let t=w().$implicit,i=w(3);c(3),g("ngIf",i.showWeek),c(),g("ngForOf",i.weekDays),c(2),g("ngForOf",t.dates)}}function z8(n,e){if(n&1){let t=W();d(0,"div",28)(1,"div",29)(2,"p-button",30),L("keydown",function(r){y(t);let a=w(3);return b(a.onContainerButtonKeydown(r))})("onClick",function(r){y(t);let a=w(3);return b(a.onPrevButtonClick(r))}),R(3,_8,1,0,"ChevronLeftIcon",7)(4,w8,2,1,"span",7),u(),d(5,"div",31),R(6,S8,2,3,"button",32)(7,C8,2,3,"button",33)(8,I8,3,5,"span",34),u(),d(9,"p-button",35),L("keydown",function(r){y(t);let a=w(3);return b(a.onContainerButtonKeydown(r))})("onClick",function(r){y(t);let a=w(3);return b(a.onNextButtonClick(r))}),R(10,T8,1,0,"ChevronRightIcon",7)(11,M8,2,1,"span",7),u()(),R(12,j8,7,3,"table",36),u()}if(n&2){let t=e.index,i=w(3);c(2),g("ngStyle",Ae(12,Lx,t===0?"visible":"hidden")),le("aria-label",i.prevIconAriaLabel),c(),g("ngIf",!i.previousIconTemplate&&!i._previousIconTemplate),c(),g("ngIf",i.previousIconTemplate||!i._previousIconTemplate),c(2),g("ngIf",i.currentView==="date"),c(),g("ngIf",i.currentView!=="year"),c(),g("ngIf",i.currentView==="year"),c(),g("ngStyle",Ae(14,Lx,t===i.months.length-1?"visible":"hidden")),le("aria-label",i.nextIconAriaLabel),c(),g("ngIf",!i.nextIconTemplate&&!i._nextIconTemplate),c(),g("ngIf",i.nextIconTemplate||!i._nextIconTemplate),c(),g("ngIf",i.currentView==="date")}}function q8(n,e){if(n&1&&(d(0,"div",53),v(1),u()),n&2){let t=w().$implicit;c(),O(" ",t," ")}}function $8(n,e){if(n&1){let t=W();d(0,"span",56),L("click",function(r){let a=y(t).index,o=w(4);return b(o.onMonthSelect(r,a))})("keydown",function(r){let a=y(t).index,o=w(4);return b(o.onMonthCellKeydown(r,a))}),v(1),R(2,q8,2,1,"div",52),u()}if(n&2){let t=e.$implicit,i=e.index,r=w(4);g("ngClass",li(3,e8,r.isMonthSelected(i),r.isMonthDisabled(i))),c(),O(" ",t," "),c(),g("ngIf",r.isMonthSelected(i))}}function Q8(n,e){if(n&1&&(d(0,"div",54),R(1,$8,3,6,"span",55),u()),n&2){let t=w(3);c(),g("ngForOf",t.monthPickerValues())}}function G8(n,e){if(n&1&&(d(0,"div",53),v(1),u()),n&2){let t=w().$implicit;c(),O(" ",t," ")}}function Y8(n,e){if(n&1){let t=W();d(0,"span",56),L("click",function(r){let a=y(t).$implicit,o=w(4);return b(o.onYearSelect(r,a))})("keydown",function(r){let a=y(t).$implicit,o=w(4);return b(o.onYearCellKeydown(r,a))}),v(1),R(2,G8,2,1,"div",52),u()}if(n&2){let t=e.$implicit,i=w(4);g("ngClass",li(3,t8,i.isYearSelected(t),i.isYearDisabled(t))),c(),O(" ",t," "),c(),g("ngIf",i.isYearSelected(t))}}function K8(n,e){if(n&1&&(d(0,"div",57),R(1,Y8,3,6,"span",55),u()),n&2){let t=w(3);c(),g("ngForOf",t.yearPickerValues())}}function X8(n,e){if(n&1&&(Ue(0),d(1,"div",24),R(2,z8,13,16,"div",25),u(),R(3,Q8,2,1,"div",26)(4,K8,2,1,"div",27),je()),n&2){let t=w(2);c(2),g("ngForOf",t.months),c(),g("ngIf",t.currentView==="month"),c(),g("ngIf",t.currentView==="year")}}function Z8(n,e){n&1&&P(0,"ChevronUpIcon")}function J8(n,e){}function e6(n,e){n&1&&R(0,J8,0,0,"ng-template")}function t6(n,e){n&1&&(Ue(0),v(1,"0"),je())}function i6(n,e){n&1&&P(0,"ChevronDownIcon")}function n6(n,e){}function r6(n,e){n&1&&R(0,n6,0,0,"ng-template")}function a6(n,e){n&1&&P(0,"ChevronUpIcon")}function o6(n,e){}function s6(n,e){n&1&&R(0,o6,0,0,"ng-template")}function l6(n,e){n&1&&(Ue(0),v(1,"0"),je())}function c6(n,e){n&1&&P(0,"ChevronDownIcon")}function d6(n,e){}function u6(n,e){n&1&&R(0,d6,0,0,"ng-template")}function p6(n,e){if(n&1&&(Ue(0),R(1,u6,1,0,null,13),je()),n&2){let t=w(3);c(),g("ngTemplateOutlet",t.decrementIconTemplate||t._decrementIconTemplate)}}function m6(n,e){if(n&1&&(d(0,"div",61)(1,"span"),v(2),u()()),n&2){let t=w(3);c(2),x(t.timeSeparator)}}function h6(n,e){n&1&&P(0,"ChevronUpIcon")}function f6(n,e){}function g6(n,e){n&1&&R(0,f6,0,0,"ng-template")}function v6(n,e){n&1&&(Ue(0),v(1,"0"),je())}function _6(n,e){n&1&&P(0,"ChevronDownIcon")}function y6(n,e){}function b6(n,e){n&1&&R(0,y6,0,0,"ng-template")}function w6(n,e){if(n&1){let t=W();d(0,"div",66)(1,"p-button",60),L("keydown",function(r){y(t);let a=w(3);return b(a.onContainerButtonKeydown(r))})("keydown.enter",function(r){y(t);let a=w(3);return b(a.incrementSecond(r))})("keydown.space",function(r){y(t);let a=w(3);return b(a.incrementSecond(r))})("mousedown",function(r){y(t);let a=w(3);return b(a.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){y(t);let a=w(3);return b(a.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){y(t);let a=w(3);return b(a.onTimePickerElementMouseUp(r))})("keyup.space",function(r){y(t);let a=w(3);return b(a.onTimePickerElementMouseUp(r))})("mouseleave",function(){y(t);let r=w(3);return b(r.onTimePickerElementMouseLeave())}),R(2,h6,1,0,"ChevronUpIcon",7)(3,g6,1,0,null,13),u(),d(4,"span"),R(5,v6,2,0,"ng-container",7),v(6),u(),d(7,"p-button",60),L("keydown",function(r){y(t);let a=w(3);return b(a.onContainerButtonKeydown(r))})("keydown.enter",function(r){y(t);let a=w(3);return b(a.decrementSecond(r))})("keydown.space",function(r){y(t);let a=w(3);return b(a.decrementSecond(r))})("mousedown",function(r){y(t);let a=w(3);return b(a.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){y(t);let a=w(3);return b(a.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){y(t);let a=w(3);return b(a.onTimePickerElementMouseUp(r))})("keyup.space",function(r){y(t);let a=w(3);return b(a.onTimePickerElementMouseUp(r))})("mouseleave",function(){y(t);let r=w(3);return b(r.onTimePickerElementMouseLeave())}),R(8,_6,1,0,"ChevronDownIcon",7)(9,b6,1,0,null,13),u()()}if(n&2){let t=w(3);c(),le("aria-label",t.getTranslation("nextSecond")),c(),g("ngIf",!t.incrementIconTemplate&&!t._incrementIconTemplate),c(),g("ngTemplateOutlet",t.incrementIconTemplate||t._incrementIconTemplate),c(2),g("ngIf",t.currentSecond<10),c(),x(t.currentSecond),c(),le("aria-label",t.getTranslation("prevSecond")),c(),g("ngIf",!t.decrementIconTemplate&&!t._decrementIconTemplate),c(),g("ngTemplateOutlet",t.decrementIconTemplate||t._decrementIconTemplate)}}function S6(n,e){if(n&1&&(d(0,"div",61)(1,"span"),v(2),u()()),n&2){let t=w(3);c(2),x(t.timeSeparator)}}function C6(n,e){n&1&&P(0,"ChevronUpIcon")}function x6(n,e){}function E6(n,e){n&1&&R(0,x6,0,0,"ng-template")}function I6(n,e){n&1&&P(0,"ChevronDownIcon")}function T6(n,e){}function D6(n,e){n&1&&R(0,T6,0,0,"ng-template")}function A6(n,e){if(n&1){let t=W();d(0,"div",67)(1,"p-button",68),L("keydown",function(r){y(t);let a=w(3);return b(a.onContainerButtonKeydown(r))})("onClick",function(r){y(t);let a=w(3);return b(a.toggleAMPM(r))})("keydown.enter",function(r){y(t);let a=w(3);return b(a.toggleAMPM(r))}),R(2,C6,1,0,"ChevronUpIcon",7)(3,E6,1,0,null,13),u(),d(4,"span"),v(5),u(),d(6,"p-button",69),L("keydown",function(r){y(t);let a=w(3);return b(a.onContainerButtonKeydown(r))})("click",function(r){y(t);let a=w(3);return b(a.toggleAMPM(r))})("keydown.enter",function(r){y(t);let a=w(3);return b(a.toggleAMPM(r))}),R(7,I6,1,0,"ChevronDownIcon",7)(8,D6,1,0,null,13),u()()}if(n&2){let t=w(3);c(),le("aria-label",t.getTranslation("am")),c(),g("ngIf",!t.incrementIconTemplate&&!t._incrementIconTemplate),c(),g("ngTemplateOutlet",t.incrementIconTemplate||t._incrementIconTemplate),c(2),x(t.pm?"PM":"AM"),c(),le("aria-label",t.getTranslation("pm")),c(),g("ngIf",!t.decrementIconTemplate&&!t._decrementIconTemplate),c(),g("ngTemplateOutlet",t.decrementIconTemplate||t._decrementIconTemplate)}}function M6(n,e){if(n&1){let t=W();d(0,"div",58)(1,"div",59)(2,"p-button",60),L("keydown",function(r){y(t);let a=w(2);return b(a.onContainerButtonKeydown(r))})("keydown.enter",function(r){y(t);let a=w(2);return b(a.incrementHour(r))})("keydown.space",function(r){y(t);let a=w(2);return b(a.incrementHour(r))})("mousedown",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("keyup.space",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("mouseleave",function(){y(t);let r=w(2);return b(r.onTimePickerElementMouseLeave())}),R(3,Z8,1,0,"ChevronUpIcon",7)(4,e6,1,0,null,13),u(),d(5,"span"),R(6,t6,2,0,"ng-container",7),v(7),u(),d(8,"p-button",60),L("keydown",function(r){y(t);let a=w(2);return b(a.onContainerButtonKeydown(r))})("keydown.enter",function(r){y(t);let a=w(2);return b(a.decrementHour(r))})("keydown.space",function(r){y(t);let a=w(2);return b(a.decrementHour(r))})("mousedown",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("keyup.space",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("mouseleave",function(){y(t);let r=w(2);return b(r.onTimePickerElementMouseLeave())}),R(9,i6,1,0,"ChevronDownIcon",7)(10,r6,1,0,null,13),u()(),d(11,"div",61)(12,"span"),v(13),u()(),d(14,"div",62)(15,"p-button",60),L("keydown",function(r){y(t);let a=w(2);return b(a.onContainerButtonKeydown(r))})("keydown.enter",function(r){y(t);let a=w(2);return b(a.incrementMinute(r))})("keydown.space",function(r){y(t);let a=w(2);return b(a.incrementMinute(r))})("mousedown",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("keyup.space",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("mouseleave",function(){y(t);let r=w(2);return b(r.onTimePickerElementMouseLeave())}),R(16,a6,1,0,"ChevronUpIcon",7)(17,s6,1,0,null,13),u(),d(18,"span"),R(19,l6,2,0,"ng-container",7),v(20),u(),d(21,"p-button",60),L("keydown",function(r){y(t);let a=w(2);return b(a.onContainerButtonKeydown(r))})("keydown.enter",function(r){y(t);let a=w(2);return b(a.decrementMinute(r))})("keydown.space",function(r){y(t);let a=w(2);return b(a.decrementMinute(r))})("mousedown",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("keyup.space",function(r){y(t);let a=w(2);return b(a.onTimePickerElementMouseUp(r))})("mouseleave",function(){y(t);let r=w(2);return b(r.onTimePickerElementMouseLeave())}),R(22,c6,1,0,"ChevronDownIcon",7)(23,p6,2,1,"ng-container",7),u()(),R(24,m6,3,1,"div",63)(25,w6,10,8,"div",64)(26,S6,3,1,"div",63)(27,A6,9,7,"div",65),u()}if(n&2){let t=w(2);c(2),le("aria-label",t.getTranslation("nextHour")),c(),g("ngIf",!t.incrementIconTemplate&&!t._incrementIconTemplate),c(),g("ngTemplateOutlet",t.incrementIconTemplate||t._incrementIconTemplate),c(2),g("ngIf",t.currentHour<10),c(),x(t.currentHour),c(),le("aria-label",t.getTranslation("prevHour")),c(),g("ngIf",!t.decrementIconTemplate&&!t._decrementIconTemplate),c(),g("ngTemplateOutlet",t.decrementIconTemplate||t._decrementIconTemplate),c(3),x(t.timeSeparator),c(2),le("aria-label",t.getTranslation("nextMinute")),c(),g("ngIf",!t.incrementIconTemplate&&!t._incrementIconTemplate),c(),g("ngTemplateOutlet",t.incrementIconTemplate||t._incrementIconTemplate),c(2),g("ngIf",t.currentMinute<10),c(),x(t.currentMinute),c(),le("aria-label",t.getTranslation("prevMinute")),c(),g("ngIf",!t.decrementIconTemplate&&!t._decrementIconTemplate),c(),g("ngIf",t.decrementIconTemplate||t._decrementIconTemplate),c(),g("ngIf",t.showSeconds),c(),g("ngIf",t.showSeconds),c(),g("ngIf",t.hourFormat=="12"),c(),g("ngIf",t.hourFormat=="12")}}function k6(n,e){if(n&1){let t=W();d(0,"div",70)(1,"p-button",71),L("keydown",function(r){y(t);let a=w(2);return b(a.onContainerButtonKeydown(r))})("onClick",function(r){y(t);let a=w(2);return b(a.onTodayButtonClick(r))}),u(),d(2,"p-button",72),L("keydown",function(r){y(t);let a=w(2);return b(a.onContainerButtonKeydown(r))})("onClick",function(r){y(t);let a=w(2);return b(a.onClearButtonClick(r))}),u()()}if(n&2){let t=w(2);c(),g("label",t.getTranslation("today"))("ngClass",Ae(4,Rx,t.todayButtonStyleClass)),c(),g("label",t.getTranslation("clear"))("ngClass",Ae(6,Rx,t.clearButtonStyleClass))}}function P6(n,e){n&1&&Pt(0)}function L6(n,e){if(n&1){let t=W();d(0,"div",21,2),L("@overlayAnimation.start",function(r){y(t);let a=w();return b(a.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){y(t);let a=w();return b(a.onOverlayAnimationDone(r))})("click",function(r){y(t);let a=w();return b(a.onOverlayClick(r))}),gr(2),R(3,v8,1,0,"ng-container",13)(4,X8,5,3,"ng-container",7)(5,M6,28,21,"div",22)(6,k6,3,8,"div",23),gr(7,1),R(8,P6,1,0,"ng-container",13),u()}if(n&2){let t=w();si(t.panelStyleClass),g("ngStyle",t.panelStyle)("ngClass",t.panelClass)("@overlayAnimation",Ae(18,Z5,li(15,X5,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",t.inline===!0),le("id",t.panelId)("aria-label",t.getTranslation("chooseDate"))("role",t.inline?null:"dialog")("aria-modal",t.inline?null:"true"),c(3),g("ngTemplateOutlet",t.headerTemplate||t._headerTemplate),c(),g("ngIf",!t.timeOnly),c(),g("ngIf",(t.showTime||t.timeOnly)&&t.currentView==="date"),c(),g("ngIf",t.showButtonBar),c(2),g("ngTemplateOutlet",t.footerTemplate||t._footerTemplate)}}var R6=({dt:n})=>`
.p-datepicker {
position: relative;
    display: inline-flex;
    max-width: 100%;
}

.p-datepicker-input {
    flex: 1 1 auto;
    width: 1%;
}

.p-datepicker:has(.p-datepicker-dropdown) .p-datepicker-input {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
}

.p-datepicker-dropdown {
    cursor: pointer;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: ${n("datepicker.dropdown.width")};
    border-start-end-radius: ${n("datepicker.dropdown.border.radius")};
    border-end-end-radius: ${n("datepicker.dropdown.border.radius")};
    background: ${n("datepicker.dropdown.background")};
    border: 1px solid ${n("datepicker.dropdown.border.color")};
    border-left: 0 none;
    color: ${n("datepicker.dropdown.color")};
    transition: background ${n("datepicker.transition.duration")}, color ${n("datepicker.transition.duration")}, border-color ${n("datepicker.transition.duration")}, outline-color ${n("datepicker.transition.duration")};
    outline-color: transparent;
}

.p-datepicker-dropdown:not(:disabled):hover {
    background: ${n("datepicker.dropdown.hover.background")};
    border-color: ${n("datepicker.dropdown.hover.border.color")};
    color: ${n("datepicker.dropdown.hover.color")};
}

.p-datepicker-dropdown:not(:disabled):active {
    background: ${n("datepicker.dropdown.active.background")};
    border-color: ${n("datepicker.dropdown.active.border.color")};
    color: ${n("datepicker.dropdown.active.color")};
}

.p-datepicker-dropdown:focus-visible {
    box-shadow: ${n("datepicker.dropdown.focus.ring.shadow")};
    outline: ${n("datepicker.dropdown.focus.ring.width")} ${n("datepicker.dropdown.focus.ring.style")} ${n("datepicker.dropdown.focus.ring.color")};
    outline-offset: ${n("datepicker.dropdown.focus.ring.offset")};
}

.p-datepicker:has(.p-datepicker-input-icon-container) {
    position: relative;
}

.p-datepicker:has(.p-datepicker-input-icon-container) .p-datepicker-input {
    padding-right: calc((${n("form.field.padding.x")} * 2) + ${n("icon.size")});
}

.p-datepicker-input-icon-container {
    cursor: pointer;
    position: absolute;
    top: 50%;
    right: ${n("form.field.padding.x")};
    margin-top: calc(-1 * (${n("icon.size")} / 2));
    color: ${n("datepicker.input.icon.color")};
}

.p-datepicker-fluid {
    display: flex;
}

.p-datepicker-fluid .p-datepicker-input {
    width: 1%;
}

.p-datepicker .p-datepicker-panel {
    min-width: 100%;
}

.p-datepicker-panel {
    position: absolute;
    width: auto;
    padding: ${n("datepicker.panel.padding")};
    background: ${n("datepicker.panel.background")};
    color: ${n("datepicker.panel.color")};
    border: 1px solid ${n("datepicker.panel.border.color")};
    border-radius: ${n("datepicker.panel.border.radius")};
    box-shadow: ${n("datepicker.panel.shadow")};
}

.p-datepicker-panel-inline {
    display: inline-block;
    overflow-x: auto;
    box-shadow: none;
}

.p-datepicker-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${n("datepicker.header.padding")};
    font-weight: ${n("datepicker.header.font.weight")};
    background: ${n("datepicker.header.background")};
    color: ${n("datepicker.header.color")};
    border-bottom: 1px solid ${n("datepicker.header.border.color")};
}

.p-datepicker-title {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${n("datepicker.title.gap")};
    font-weight: ${n("datepicker.title.font.weight")};
}

.p-datepicker-select-year,
.p-datepicker-select-month {
    border: none;
    background: transparent;
    margin: 0;
    cursor: pointer;
    font-weight: inherit;
    transition: background ${n("datepicker.transition.duration")}, color ${n("datepicker.transition.duration")}, border-color ${n("datepicker.transition.duration")}, outline-color ${n("datepicker.transition.duration")}, box-shadow ${n("datepicker.transition.duration")};
}

.p-datepicker-select-month {
    padding: ${n("datepicker.select.month.padding")};
    color: ${n("datepicker.select.month.color")};
    border-radius: ${n("datepicker.select.month.border.radius")};
}

.p-datepicker-select-year {
    padding: ${n("datepicker.select.year.padding")};
    color: ${n("datepicker.select.year.color")};
    border-radius: ${n("datepicker.select.year.border.radius")};
}

.p-datepicker-select-month:enabled:hover {
    background: ${n("datepicker.select.month.hover.background")};
    color: ${n("datepicker.select.month.hover.color")};
}

.p-datepicker-select-year:enabled:hover {
    background: ${n("datepicker.select.year.hover.background")};
    color: ${n("datepicker.select.year.hover.color")};
}

.p-datepicker-calendar-container {
    display: flex;
}

.p-datepicker-calendar-container .p-datepicker-calendar {
    flex: 1 1 auto;
    border-left: 1px solid ${n("datepicker.group.border.color")};
    padding-right: ${n("datepicker.group.gap")};
    padding-left: ${n("datepicker.group.gap")};
}

.p-datepicker-calendar-container .p-datepicker-calendar:first-child {
    padding-left: 0;
    border-left: 0 none;
}

.p-datepicker-calendar-container .p-datepicker-calendar:last-child {
    padding-right: 0;
}

.p-datepicker-day-view {
    width: 100%;
    border-collapse: collapse;
    font-size: 1rem;
    margin: ${n("datepicker.day.view.margin")};
}

.p-datepicker-weekday-cell {
    padding: ${n("datepicker.week.day.padding")};
}

.p-datepicker-weekday {
    font-weight: ${n("datepicker.week.day.font.weight")};
    color: ${n("datepicker.week.day.color")};
}

.p-datepicker-day-cell {
    padding: ${n("datepicker.date.padding")};
}

.p-datepicker-day {
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    margin: 0 auto;
    overflow: hidden;
    position: relative;
    width: ${n("datepicker.date.width")};
    height: ${n("datepicker.date.height")};
    border-radius: ${n("datepicker.date.border.radius")};
    transition: background ${n("datepicker.transition.duration")}, color ${n("datepicker.transition.duration")}, border-color ${n("datepicker.transition.duration")},
        box-shadow ${n("datepicker.transition.duration")}, outline-color ${n("datepicker.transition.duration")};
    border: 1px solid transparent;
    outline-color: transparent;
    color: ${n("datepicker.date.color")};
}

.p-datepicker-day:not(.p-datepicker-day-selected):not(.p-disabled):hover {
    background: ${n("datepicker.date.hover.background")};
    color: ${n("datepicker.date.hover.color")};
}

.p-datepicker-day:focus-visible {
    box-shadow: ${n("datepicker.date.focus.ring.shadow")};
    outline: ${n("datepicker.date.focus.ring.width")} ${n("datepicker.date.focus.ring.style")} ${n("datepicker.date.focus.ring.color")};
    outline-offset: ${n("datepicker.date.focus.ring.offset")};
}

.p-datepicker-day-selected {
    background: ${n("datepicker.date.selected.background")};
    color: ${n("datepicker.date.selected.color")};
}

.p-datepicker-day-selected-range {
    background: ${n("datepicker.date.range.selected.background")};
    color: ${n("datepicker.date.range.selected.color")};
}

.p-datepicker-today > .p-datepicker-day {
    background: ${n("datepicker.today.background")};
    color: ${n("datepicker.today.color")};
}

.p-datepicker-today > .p-datepicker-day-selected {
    background: ${n("datepicker.date.selected.background")};
    color: ${n("datepicker.date.selected.color")};
}

.p-datepicker-today > .p-datepicker-day-selected-range {
    background: ${n("datepicker.date.range.selected.background")};
    color: ${n("datepicker.date.range.selected.color")};
}

.p-datepicker-weeknumber {
    text-align: center
}

.p-datepicker-month-view {
    margin: ${n("datepicker.month.view.margin")};
}

.p-datepicker-month {
    width: 33.3%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    overflow: hidden;
    position: relative;
    padding: ${n("datepicker.month.padding")};
    transition: background ${n("datepicker.transition.duration")}, color ${n("datepicker.transition.duration")}, border-color ${n("datepicker.transition.duration")}, box-shadow ${n("datepicker.transition.duration")}, outline-color ${n("datepicker.transition.duration")};
    border-radius: ${n("datepicker.month.border.radius")};
    outline-color: transparent;
    color: ${n("datepicker.date.color")};
}

.p-datepicker-month:not(.p-disabled):not(.p-datepicker-month-selected):hover {
    color:  ${n("datepicker.date.hover.color")};
    background: ${n("datepicker.date.hover.background")};
}

.p-datepicker-month-selected {
    color: ${n("datepicker.date.selected.color")};
    background: ${n("datepicker.date.selected.background")};
}

.p-datepicker-month:not(.p-disabled):focus-visible {
    box-shadow: ${n("datepicker.date.focus.ring.shadow")};
    outline: ${n("datepicker.date.focus.ring.width")} ${n("datepicker.date.focus.ring.style")} ${n("datepicker.date.focus.ring.color")};
    outline-offset: ${n("datepicker.date.focus.ring.offset")};
}

.p-datepicker-year-view {
    margin: ${n("datepicker.year.view.margin")};
}

.p-datepicker-year {
    width: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    overflow: hidden;
    position: relative;
    padding: ${n("datepicker.year.padding")};
    transition: background ${n("datepicker.transition.duration")}, color ${n("datepicker.transition.duration")}, border-color ${n("datepicker.transition.duration")}, box-shadow ${n("datepicker.transition.duration")}, outline-color ${n("datepicker.transition.duration")};
    border-radius: ${n("datepicker.year.border.radius")};
    outline-color: transparent;
    color: ${n("datepicker.date.color")};
}

.p-datepicker-year:not(.p-disabled):not(.p-datepicker-year-selected):hover {
    color: ${n("datepicker.date.hover.color")};
    background: ${n("datepicker.date.hover.background")};
}

.p-datepicker-year-selected {
    color: ${n("datepicker.date.selected.color")};
    background: ${n("datepicker.date.selected.background")};
}

.p-datepicker-year:not(.p-disabled):focus-visible {
    box-shadow: ${n("datepicker.date.focus.ring.shadow")};
    outline: ${n("datepicker.date.focus.ring.width")} ${n("datepicker.date.focus.ring.style")} ${n("datepicker.date.focus.ring.color")};
    outline-offset: ${n("datepicker.date.focus.ring.offset")};
}

.p-datepicker-buttonbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding:  ${n("datepicker.buttonbar.padding")};
    border-top: 1px solid ${n("datepicker.buttonbar.border.color")};
}

.p-datepicker-buttonbar .p-button {
    width: auto;
}

.p-datepicker-time-picker {
    display: flex;
    justify-content: center;
    align-items: center;
    border-top: 1px solid ${n("datepicker.time.picker.border.color")};
    padding: 0;
    gap: ${n("datepicker.time.picker.gap")};
}

.p-datepicker-calendar-container + .p-datepicker-time-picker {
    padding: ${n("datepicker.time.picker.padding")};
}

.p-datepicker-time-picker > div {
    display: flex;
    align-items: center;
    flex-direction: column;
    gap: ${n("datepicker.time.picker.button.gap")};
}

.p-datepicker-time-picker span {
    font-size: 1rem;
}

.p-datepicker-timeonly .p-datepicker-time-picker {
    border-top: 0 none;
}

.p-datepicker-calendar:not(:first-child):not(:last-child) .p-datepicker-header {
    justify-content: center;
}

/* For PrimeNG */

p-calendar.ng-invalid.ng-dirty .p-datepicker.p-inputwrapper .p-inputtext{
    border-color: ${n("inputtext.invalid.border.color")};
}

p-datePicker.ng-invalid.ng-dirty .p-datepicker.p-inputwrapper .p-inputtext,
p-date-picker.ng-invalid.ng-dirty .p-datepicker.p-inputwrapper .p-inputtext,
p-datepicker.ng-invalid.ng-dirty .p-datepicker.p-inputwrapper .p-inputtext {
    border-color: ${n("inputtext.invalid.border.color")};
}
`,B6={root:({props:n})=>({position:n.appendTo==="self"?"relative":void 0})},F6={root:({instance:n})=>({"p-datepicker p-component p-inputwrapper":!0,"p-datepicker-fluid":n.hasFluid,"p-inputwrapper-filled":n.filled,"p-inputwrapper-focus":n.focus,"p-focus":n.focus||n.overlayVisible}),pcInput:"p-datepicker-input",dropdown:"p-datepicker-dropdown",inputIconContainer:"p-datepicker-input-icon-container",inputIcon:"p-datepicker-input-icon",panel:({instance:n})=>({"p-datepicker-panel p-component":!0,"p-datepicker-panel-inline":n.inline,"p-disabled":n.disabled,"p-datepicker-timeonly":n.timeOnly}),calendarContainer:"p-datepicker-calendar-container",calendar:"p-datepicker-calendar",header:"p-datepicker-header",pcPrevButton:"p-datepicker-prev-button",title:"p-datepicker-title",selectMonth:"p-datepicker-select-month",selectYear:"p-datepicker-select-year",decade:"p-datepicker-decade",pcNextButton:"p-datepicker-next-button",dayView:"p-datepicker-day-view",weekHeader:"p-datepicker-weekheader p-disabled",weekNumber:"p-datepicker-weeknumber",weekLabelContainer:"p-datepicker-weeklabel-container p-disabled",weekDayCell:"p-datepicker-weekday-cell",weekDay:"p-datepicker-weekday",dayCell:({date:n})=>["p-datepicker-day-cell",{"p-datepicker-other-month":n.otherMonth,"p-datepicker-today":n.today}],day:({instance:n,date:e})=>{let t="";return n.isRangeSelection()&&n.isSelected(e)&&e.selectable&&(t=e.day===n.value[0].getDate()||e.day===n.value[1].getDate()?"p-datepicker-day-selected":"p-datepicker-day-selected-range"),{"p-datepicker-day":!0,"p-datepicker-day-selected":!n.isRangeSelection()&&n.isSelected(e)&&e.selectable,"p-disabled":n.disabled||!e.selectable,[t]:!0}},monthView:"p-datepicker-month-view",month:({instance:n,props:e,month:t,index:i})=>["p-datepicker-month",{"p-datepicker-month-selected":n.isMonthSelected(i),"p-disabled":e.disabled||!t.selectable}],yearView:"p-datepicker-year-view",year:({instance:n,props:e,year:t})=>["p-datepicker-year",{"p-datepicker-year-selected":n.isYearSelected(t.value),"p-disabled":e.disabled||!t.selectable}],timePicker:"p-datepicker-time-picker",hourPicker:"p-datepicker-hour-picker",pcIncrementButton:"p-datepicker-increment-button",pcDecrementButton:"p-datepicker-decrement-button",separator:"p-datepicker-separator",minutePicker:"p-datepicker-minute-picker",secondPicker:"p-datepicker-second-picker",ampmPicker:"p-datepicker-ampm-picker",buttonbar:"p-datepicker-buttonbar",pcTodayButton:"p-datepicker-today-button",pcClearButton:"p-datepicker-clear-button"},Bx=(()=>{class n extends Zn{name="datepicker";theme=R6;classes=F6;inlineStyles=B6;static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),O6={provide:lc,useExisting:ic(()=>ci),multi:!0},ci=(()=>{class n extends Fn{zone;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;fluid;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass;clearButtonStyleClass;autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant;get minDate(){return this._minDate}set minDate(t){this._minDate=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(t){this._disabledDates=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(t){this._disabledDays=t,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(t){if(this._yearRange=t,t){let i=t.split(":"),r=parseInt(i[0]),a=parseInt(i[1]);this.populateYearOptions(r,a)}}get showTime(){return this._showTime}set showTime(t){this._showTime=t,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(t){this._responsiveOptions=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(t){this._numberOfMonths=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){this._firstDayOfWeek=t,this.createWeekDays()}set locale(t){console.log("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(t){this._view=t,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(t){if(this._defaultDate=t,this.initialized){let i=t||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}onFocus=new et;onBlur=new et;onClose=new et;onSelect=new et;onClear=new et;onInput=new et;onTodayClick=new et;onClearClick=new et;onMonthChange=new et;onYearChange=new et;onClickOutside=new et;onShow=new et;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;containerViewChild;inputfieldViewChild;set content(t){this.contentViewChild=t,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}_dateTemplate;_headerTemplate;_footerTemplate;_disabledDateTemplate;_decadeTemplate;_previousIconTemplate;_nextIconTemplate;_triggerIconTemplate;_clearIconTemplate;_decrementIconTemplate;_incrementIconTemplate;_inputIconTemplate;_componentStyle=Qi(Bx);contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dayClass(t){return this._componentStyle.classes.day({instance:this,date:t})}_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}get rootClass(){return this._componentStyle.classes.root({instance:this})}get panelClass(){return this._componentStyle.classes.panel({instance:this})}get hasFluid(){let i=this.el.nativeElement.closest("p-fluid");return this.fluid||!!i}constructor(t,i){super(),this.zone=t,this.overlayService=i}ngOnInit(){console.log("Calendar component is deprecated as of v18, use DatePicker component instead."),super.ngOnInit(),this.attributeSelector=ac("pn_id_"),this.panelId=this.attributeSelector+"_panel";let t=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterViewInit(){super.ngAfterViewInit(),this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=Wd(this.containerViewChild?.nativeElement)+"px")))}templates;ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"date":this._dateTemplate=t.template;break;case"decade":this._decadeTemplate=t.template;break;case"disabledDate":this._disabledDateTemplate=t.template;break;case"header":this._headerTemplate=t.template;break;case"inputicon":this._inputIconTemplate=t.template;break;case"previousicon":this._previousIconTemplate=t.template;break;case"nexticon":this._nextIconTemplate=t.template;break;case"triggericon":this._triggerIconTemplate=t.template;break;case"clearicon":this._clearIconTemplate=t.template;break;case"decrementicon":this._decrementIconTemplate=t.template;break;case"incrementicon":this._incrementIconTemplate=t.template;break;case"footer":this._footerTemplate=t.template;break;default:this._dateTemplate=t.template;break}})}getTranslation(t){return this.config.getTranslation(t)}populateYearOptions(t,i){this.yearOptions=[];for(let r=t;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let t=this.getFirstDateOfWeek(),i=this.getTranslation(ki.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[t]),t=t==6?0:++t}monthPickerValues(){let t=[];for(let i=0;i<=11;i++)t.push(this.config.getTranslation("monthNamesShort")[i]);return t}yearPickerValues(){let t=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)t.push(i+r);return t}createMonths(t,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let a=t+r,o=i;a>11&&(a=a%11-1,o=i+1),this.months.push(this.createMonth(a,o))}}getWeekNumber(t){let i=new Date(t.getTime());if(this.startWeekFromFirstDayOfYear){let a=+this.getFirstDateOfWeek();i.setDate(i.getDate()+6+a-i.getDay())}else i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(t,i){let r=[],a=this.getFirstDayOfMonthIndex(t,i),o=this.getDaysCountInMonth(t,i),s=this.getDaysCountInPrevMonth(t,i),l=1,p=new Date,m=[],_=Math.ceil((o+a)/7);for(let S=0;S<_;S++){let C=[];if(S==0){for(let I=s-a+1;I<=s;I++){let M=this.getPreviousMonthAndYear(t,i);C.push({day:I,month:M.month,year:M.year,otherMonth:!0,today:this.isToday(p,I,M.month,M.year),selectable:this.isSelectable(I,M.month,M.year,!0)})}let E=7-C.length;for(let I=0;I<E;I++)C.push({day:l,month:t,year:i,today:this.isToday(p,l,t,i),selectable:this.isSelectable(l,t,i,!1)}),l++}else for(let E=0;E<7;E++){if(l>o){let I=this.getNextMonthAndYear(t,i);C.push({day:l-o,month:I.month,year:I.year,otherMonth:!0,today:this.isToday(p,l-o,I.month,I.year),selectable:this.isSelectable(l-o,I.month,I.year,!0)})}else C.push({day:l,month:t,year:i,today:this.isToday(p,l,t,i),selectable:this.isSelectable(l,t,i,!1)});l++}this.showWeek&&m.push(this.getWeekNumber(new Date(C[0].year,C[0].month,C[0].day))),r.push(C)}return{month:t,year:i,dates:r,weekNumbers:m}}initTime(t){this.pm=t.getHours()>11,this.showTime?(this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds(),this.setCurrentHourPM(t.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(t){if(this.disabled){t.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(t){if(this.disabled){t.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear<t[0]){let i=t[t.length-1]-t[0];this.populateYearOptions(t[0]-i,t[t.length-1]-i)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){this.currentYear++;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear>t[t.length-1]){let i=t[t.length-1]-t[0];this.populateYearOptions(t[0]+i,t[t.length-1]+i)}}switchToMonthView(t){this.setCurrentView("month"),t.preventDefault()}switchToYearView(t){this.setCurrentView("year"),t.preventDefault()}onDateSelect(t,i){if(this.disabled||!i.selectable){t.preventDefault();return}this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,a)=>!this.isDateEquals(r,i)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),(this.isSingleSelection()&&this.hideOnDateTimeSelect||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{t.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),t.preventDefault()}shouldSelectDate(t){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(t,i){this.view==="month"?this.onDateSelect(t,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(t,i){this.view==="year"?this.onDateSelect(t,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let t="";if(this.value){if(this.isSingleSelection())t=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++){let r=this.formatDateTime(this.value[i]);t+=r,i!==this.value.length-1&&(t+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let i=this.value[0],r=this.value[1];t=this.formatDateTime(i),r&&(t+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}}this.inputFieldValue=t,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(t){let i=this.keepInvalid?t:null,r=this.isValidDateForTimeConstraints(t);return this.isValidDate(t)?this.timeOnly?i=this.formatTime(t):(i=this.formatDate(t,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(t))):this.dataType==="string"&&(i=t),i=r?i:"",i}formatDateMetaToDate(t){return new Date(t.year,t.month,t.day)}formatDateKey(t){return`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`}setCurrentHourPM(t){this.hourFormat=="12"?(this.pm=t>11,t>=12?this.currentHour=t==12?12:t-12:this.currentHour=t==0?12:t):this.currentHour=t}setCurrentView(t){this.currentView=t,this.cd.detectChanges(),this.alignOverlay()}selectDate(t){let i=this.formatDateMetaToDate(t);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?i.setHours(this.pm?12:0):i.setHours(this.pm?this.currentHour+12:this.currentHour):i.setHours(this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],a=this.value[1];!a&&i.getTime()>=r.getTime()?a=i:(r=i,a=null),this.updateModel([r,a])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(t){if(this.value=t,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;Array.isArray(this.value)&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(t,i){let r=new Date;r.setDate(1),r.setMonth(t),r.setFullYear(i);let a=r.getDay()+this.getSundayIndex();return a>=7?a-7:a}getDaysCountInMonth(t,i){return 32-this.daylightSavingAdjust(new Date(i,t,32)).getDate()}getDaysCountInPrevMonth(t,i){let r=this.getPreviousMonthAndYear(t,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(t,i){let r,a;return t===0?(r=11,a=i-1):(r=t-1,a=i),{month:r,year:a}}getNextMonthAndYear(t,i){let r,a;return t===11?(r=0,a=i+1):(r=t+1,a=i),{month:r,year:a}}getSundayIndex(){let t=this.getFirstDateOfWeek();return t>0?7-t:0}isSelected(t){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,t);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,t),i)break;return i}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],t)||this.isDateEquals(this.value[1],t)||this.isDateBetween(this.value[0],this.value[1],t):this.isDateEquals(this.value[0],t)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(t){if(this.isComparable()&&!this.isMultipleSelection()){let[i,r]=this.isRangeSelection()?this.value:[this.value,this.value],a=new Date(this.currentYear,t,1);return a>=i&&a<=(r??i)}return!1}isMonthDisabled(t,i){let r=i??this.currentYear;for(let a=1;a<this.getDaysCountInMonth(t,r)+1;a++)if(this.isSelectable(a,t,r,!1))return!1;return!0}isYearDisabled(t){return Array(12).fill(0).every((i,r)=>this.isMonthDisabled(r,t))}isYearSelected(t){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return this.isMultipleSelection()?!1:i.getFullYear()===t}return!1}isDateEquals(t,i){return t&&$d(t)?t.getDate()===i.day&&t.getMonth()===i.month&&t.getFullYear()===i.year:!1}isDateBetween(t,i,r){let a=!1;if($d(t)&&$d(i)){let o=this.formatDateMetaToDate(r);return t.getTime()<=o.getTime()&&i.getTime()>=o.getTime()}return a}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(t,i,r,a){return t.getDate()===i&&t.getMonth()===r&&t.getFullYear()===a}isSelectable(t,i,r,a){let o=!0,s=!0,l=!0,p=!0;return a&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&this.currentView!="year"&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>t))&&(o=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<t))&&(s=!1),this.disabledDates&&(l=!this.isDateDisabled(t,i,r)),this.disabledDays&&(p=!this.isDayDisabled(t,i,r)),o&&s&&l&&p)}isDateDisabled(t,i,r){if(this.disabledDates){for(let a of this.disabledDates)if(a.getFullYear()===r&&a.getMonth()===i&&a.getDate()===t)return!0}return!1}isDayDisabled(t,i,r){if(this.disabledDays){let o=new Date(r,i,t).getDay();return this.disabledDays.indexOf(o)!==-1}return!1}onInputFocus(t){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(t)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(t){this.focus=!1,this.onBlur.emit(t),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(t,i=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}getMonthName(t){return this.config.getTranslation("monthNames")[t]}getYear(t){return this.currentView==="month"?this.currentYear:t.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(t){this.navigationState={backward:!0,button:!0},this.navBackward(t)}onNextButtonClick(t){this.navigationState={backward:!1,button:!0},this.navForward(t)}onContainerButtonKeydown(t){switch(t.which){case 9:if(this.inline||this.trapFocus(t),this.inline){let i=pn(this.containerViewChild?.nativeElement,".p-datepicker-header"),r=t.target;if(this.timeOnly)return;r==i.children[i?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break;default:break}}onInputKeydown(t){this.isKeydown=!0,t.keyCode===40&&this.contentViewChild?this.trapFocus(t):t.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault()):t.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,t.preventDefault()):t.keyCode===9&&this.contentViewChild&&(Ud(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(t,i,r){let a=t.currentTarget,o=a.parentElement,s=this.formatDateMetaToDate(i);switch(t.which){case 40:{a.tabIndex="-1";let E=jd(o),I=o.parentElement.nextElementSibling;if(I){let M=I.children[E].children[0];Xn(M,"p-disabled")?(this.navigationState={backward:!1},this.navForward(t)):(I.children[E].children[0].tabIndex="0",I.children[E].children[0].focus())}else this.navigationState={backward:!1},this.navForward(t);t.preventDefault();break}case 38:{a.tabIndex="-1";let E=jd(o),I=o.parentElement.previousElementSibling;if(I){let M=I.children[E].children[0];Xn(M,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(t)):(M.tabIndex="0",M.focus())}else this.navigationState={backward:!0},this.navBackward(t);t.preventDefault();break}case 37:{a.tabIndex="-1";let E=o.previousElementSibling;if(E){let I=E.children[0];Xn(I,"p-disabled")||Xn(I.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(I.tabIndex="0",I.focus())}else this.navigateToMonth(!0,r);t.preventDefault();break}case 39:{a.tabIndex="-1";let E=o.nextElementSibling;if(E){let I=E.children[0];Xn(I,"p-disabled")?this.navigateToMonth(!1,r):(I.tabIndex="0",I.focus())}else this.navigateToMonth(!1,r);t.preventDefault();break}case 13:case 32:{this.onDateSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.inline||this.trapFocus(t);break}case 33:{a.tabIndex="-1";let E=new Date(s.getFullYear(),s.getMonth()-1,s.getDate()),I=this.formatDateKey(E);this.navigateToMonth(!0,r,`span[data-date='${I}']:not(.p-disabled):not(.p-ink)`),t.preventDefault();break}case 34:{a.tabIndex="-1";let E=new Date(s.getFullYear(),s.getMonth()+1,s.getDate()),I=this.formatDateKey(E);this.navigateToMonth(!1,r,`span[data-date='${I}']:not(.p-disabled):not(.p-ink)`),t.preventDefault();break}case 36:a.tabIndex="-1";let l=new Date(s.getFullYear(),s.getMonth(),1),p=this.formatDateKey(l),m=pn(a.offsetParent,`span[data-date='${p}']:not(.p-disabled):not(.p-ink)`);m&&(m.tabIndex="0",m.focus()),t.preventDefault();break;case 35:a.tabIndex="-1";let _=new Date(s.getFullYear(),s.getMonth()+1,0),S=this.formatDateKey(_),C=pn(a.offsetParent,`span[data-date='${S}']:not(.p-disabled):not(.p-ink)`);_&&(C.tabIndex="0",C.focus()),t.preventDefault();break;default:break}}onMonthCellKeydown(t,i){let r=t.currentTarget;switch(t.which){case 38:case 40:{r.tabIndex="-1";var a=r.parentElement.children,o=jd(r);let s=a[t.which===40?o+3:o-3];s&&(s.tabIndex="0",s.focus()),t.preventDefault();break}case 37:{r.tabIndex="-1";let s=r.previousElementSibling;s?(s.tabIndex="0",s.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{r.tabIndex="-1";let s=r.nextElementSibling;s?(s.tabIndex="0",s.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:{this.onMonthSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.inline||this.trapFocus(t);break}default:break}}onYearCellKeydown(t,i){let r=t.currentTarget;switch(t.which){case 38:case 40:{r.tabIndex="-1";var a=r.parentElement.children,o=jd(r);let s=a[t.which===40?o+2:o-2];s&&(s.tabIndex="0",s.focus()),t.preventDefault();break}case 37:{r.tabIndex="-1";let s=r.previousElementSibling;s?(s.tabIndex="0",s.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{r.tabIndex="-1";let s=r.nextElementSibling;s?(s.tabIndex="0",s.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:{this.onYearSelect(t,i),t.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,t.preventDefault();break}case 9:{this.trapFocus(t);break}default:break}}navigateToMonth(t,i,r){if(t)if(this.numberOfMonths===1||i===0)this.navigationState={backward:!0},this._focusKey=r,this.navBackward(event);else{let a=this.contentViewChild.nativeElement.children[i-1];if(r){let o=pn(a,r);o.tabIndex="0",o.focus()}else{let o=Io(a,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),s=o[o.length-1];s.tabIndex="0",s.focus()}}else if(this.numberOfMonths===1||i===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=r,this.navForward(event);else{let a=this.contentViewChild.nativeElement.children[i+1];if(r){let o=pn(a,r);o.tabIndex="0",o.focus()}else{let o=pn(a,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}}updateFocus(){let t;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?pn(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():pn(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;this.currentView==="month"?i=Io(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?i=Io(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):i=Io(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(t=i[i.length-1])}else this.currentView==="month"?t=pn(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?t=pn(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):t=pn(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t&&(t.tabIndex="0",t.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell()}initFocusableCell(){let t=this.contentViewChild?.nativeElement,i;if(this.currentView==="month"){let r=Io(t,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),a=pn(t,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(o=>o.tabIndex=-1),i=a||r[0],r.length===0&&Io(t,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(s=>s.tabIndex=-1)}else if(this.currentView==="year"){let r=Io(t,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),a=pn(t,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(o=>o.tabIndex=-1),i=a||r[0],r.length===0&&Io(t,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(s=>s.tabIndex=-1)}else if(i=pn(t,"span.p-highlight"),!i){let r=pn(t,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");r?i=r:i=pn(t,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||i.focus()},1),this.preventFocus=!1)}trapFocus(t){let i=Ud(this.contentViewChild.nativeElement);if(i&&i.length>0)if(!i[0].ownerDocument.activeElement)i[0].focus();else{let r=i.indexOf(i[0].ownerDocument.activeElement);if(t.shiftKey)if(r==-1||r===0)if(this.focusTrap)i[i.length-1].focus();else{if(r===-1)return this.hideOverlay();if(r===0)return}else i[r-1].focus();else if(r==-1)if(this.timeOnly)i[0].focus();else{let a=0;for(let o=0;o<i.length;o++)i[o].tagName==="SPAN"&&(a=o);i[a].focus()}else if(r===i.length-1){if(!this.focusTrap&&r!=-1)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}t.preventDefault()}onMonthDropdownChange(t){this.currentMonth=parseInt(t),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(t){this.currentYear=parseInt(t),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(t,i){return this.hourFormat=="12"?t===12?i?12:0:i?t+12:t:t}constrainTime(t,i,r,a){let o=[t,i,r],s,l=this.value,p=this.convertTo24Hour(t,a),m=this.isRangeSelection(),_=this.isMultipleSelection();(m||_)&&(this.value||(this.value=[new Date,new Date]),m&&(l=this.value[1]||this.value[0]),_&&(l=this.value[this.value.length-1]));let C=l?l.toDateString():null,E=this.minDate&&C&&this.minDate.toDateString()===C,I=this.maxDate&&C&&this.maxDate.toDateString()===C;switch(E&&(s=this.minDate.getHours()>=12),!0){case(E&&s&&this.minDate.getHours()===12&&this.minDate.getHours()>p):o[0]=11;case(E&&this.minDate.getHours()===p&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(E&&this.minDate.getHours()===p&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(E&&!s&&this.minDate.getHours()-1===p&&this.minDate.getHours()>p):o[0]=11,this.pm=!0;case(E&&this.minDate.getHours()===p&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(E&&this.minDate.getHours()===p&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(E&&s&&this.minDate.getHours()>p&&p!==12):this.setCurrentHourPM(this.minDate.getHours()),o[0]=this.currentHour;case(E&&this.minDate.getHours()===p&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(E&&this.minDate.getHours()===p&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(E&&this.minDate.getHours()>p):o[0]=this.minDate.getHours();case(E&&this.minDate.getHours()===p&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(E&&this.minDate.getHours()===p&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(I&&this.maxDate.getHours()<p):o[0]=this.maxDate.getHours();case(I&&this.maxDate.getHours()===p&&this.maxDate.getMinutes()<i):o[1]=this.maxDate.getMinutes();case(I&&this.maxDate.getHours()===p&&this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r):o[2]=this.maxDate.getSeconds();break}return o}incrementHour(t){let i=this.currentHour??0,r=(this.currentHour??0)+this.stepHour,a=this.pm;this.hourFormat=="24"?r=r>=24?r-24:r:this.hourFormat=="12"&&(i<12&&r>11&&(a=!this.pm),r=r>=13?r-12:r),this.toggleAMPMIfNotMinDate(a),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(r,this.currentMinute,this.currentSecond,a),t.preventDefault()}toggleAMPMIfNotMinDate(t){let i=this.value,r=i?i.toDateString():null;this.minDate&&r&&this.minDate.toDateString()===r&&this.minDate.getHours()>=12?this.pm=!0:this.pm=t}onTimePickerElementMouseDown(t,i,r){this.disabled||(this.repeat(t,null,i,r),t.preventDefault())}onTimePickerElementMouseUp(t){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(t,i,r,a){let o=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(t,100,r,a),this.cd.markForCheck()},o),r){case 0:a===1?this.incrementHour(t):this.decrementHour(t);break;case 1:a===1?this.incrementMinute(t):this.decrementMinute(t);break;case 2:a===1?this.incrementSecond(t):this.decrementSecond(t);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(t){let i=(this.currentHour??0)-this.stepHour,r=this.pm;this.hourFormat=="24"?i=i<0?24+i:i:this.hourFormat=="12"&&(this.currentHour===12&&(r=!this.pm),i=i<=0?12+i:i),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(i,this.currentMinute,this.currentSecond,r),t.preventDefault()}incrementMinute(t){let i=(this.currentMinute??0)+this.stepMinute;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),t.preventDefault()}decrementMinute(t){let i=(this.currentMinute??0)-this.stepMinute;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),t.preventDefault()}incrementSecond(t){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),t.preventDefault()}decrementSecond(t){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),t.preventDefault()}updateTime(){let t=this.value;this.isRangeSelection()&&(t=this.value[1]||this.value[0]),this.isMultipleSelection()&&(t=this.value[this.value.length-1]),t=t?new Date(t.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?t.setHours(this.pm?12:0):t.setHours(this.pm?this.currentHour+12:this.currentHour):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?t=[this.value[0],t]:t=[t,null]),this.isMultipleSelection()&&(t=[...this.value.slice(0,-1),t]),this.updateModel(t),this.onSelect.emit(t),this.updateInputfield()}toggleAMPM(t){let i=!this.pm;this.pm=i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,i),this.updateTime(),t.preventDefault()}onUserInput(t){if(!this.isKeydown)return;this.isKeydown=!1;let i=t.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)?(this.updateModel(r),this.updateUI()):this.keepInvalid&&this.updateModel(r)}catch{let a=this.keepInvalid?i:null;this.updateModel(a)}this.filled=i!=null&&i.length,this.onInput.emit(t)}isValidSelection(t){if(this.isSingleSelection())return this.isSelectable(t.getDate(),t.getMonth(),t.getFullYear(),!1);let i=t.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1));return i&&this.isRangeSelection()&&(i=t.length===1||t.length>1&&t[1]>=t[0]),i}parseValueFromString(t){if(!t||t.trim().length===0)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(t);else if(this.isMultipleSelection()){let r=t.split(this.multipleSeparator);i=[];for(let a of r)i.push(this.parseDateTime(a.trim()))}else if(this.isRangeSelection()){let r=t.split(" "+this.rangeSeparator+" ");i=[];for(let a=0;a<r.length;a++)i[a]=this.parseDateTime(r[a].trim())}return i}parseDateTime(t){let i,r=t.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{let a=this.getDateFormat();if(this.showTime){let o=this.hourFormat=="12"?r.pop():null,s=r.pop();i=this.parseDate(r.join(" "),a),this.populateTime(i,s,o)}else i=this.parseDate(t,a)}return i}populateTime(t,i,r){if(this.hourFormat=="12"&&!r)throw"Invalid Time";this.pm=r==="PM"||r==="pm";let a=this.parseTime(i);t.setHours(a.hour),t.setMinutes(a.minute),t.setSeconds(a.second)}isValidDate(t){return $d(t)&&qa(t)}updateUI(){let t=this.value;Array.isArray(t)&&(t=t.length===2?t[1]:t[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:t&&this.isValidDate(t)?t:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(t){switch(t.toState){case"visible":case"visibleTouchUI":if(!this.inline){this.overlay=t.element,this.overlay?.setAttribute(this.attributeSelector,"");let i=this.inline?void 0:{position:"absolute",top:"0",left:"0"};$S(this.overlay,i),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Qd.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Qd.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(t)}break;case"void":this.onOverlayHide(),this.onClose.emit(t);break}}onOverlayAnimationDone(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Qd.clear(t.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):GS(this.appendTo,this.overlay))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width=Wd(this.overlay)+"px",this.overlay.style.minWidth=Wd(this.inputfieldViewChild?.nativeElement)+"px"):this.overlay.style.width=Wd(this.inputfieldViewChild?.nativeElement)+"px",qS(this.overlay,this.inputfieldViewChild?.nativeElement)):QS(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(t){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(t.style.zIndex)-1)),Hd(this.mask,"p-overlay-mask p-datepicker-mask p-datepicker-mask-scrollblocker p-overlay-mask p-overlay-mask-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),zS())}disableModality(){this.mask&&(Hd(this.mask,"p-overlay-mask-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let t=this.document.body.children,i;for(let r=0;r<t.length;r++){let a=t[r];if(Xn(a,"p-datepicker-mask-scrollblocker")){i=!0;break}}i||Om(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(t){if(this.value=t,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=t)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(ki.FIRST_DAY_OF_WEEK)}formatDate(t,i){if(!t)return"";let r,a=m=>{let _=r+1<i.length&&i.charAt(r+1)===m;return _&&r++,_},o=(m,_,S)=>{let C=""+_;if(a(m))for(;C.length<S;)C="0"+C;return C},s=(m,_,S,C)=>a(m)?C[_]:S[_],l="",p=!1;if(t)for(r=0;r<i.length;r++)if(p)i.charAt(r)==="'"&&!a("'")?p=!1:l+=i.charAt(r);else switch(i.charAt(r)){case"d":l+=o("d",t.getDate(),2);break;case"D":l+=s("D",t.getDay(),this.getTranslation(ki.DAY_NAMES_SHORT),this.getTranslation(ki.DAY_NAMES));break;case"o":l+=o("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=o("m",t.getMonth()+1,2);break;case"M":l+=s("M",t.getMonth(),this.getTranslation(ki.MONTH_NAMES_SHORT),this.getTranslation(ki.MONTH_NAMES));break;case"y":l+=a("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*1e4+this.ticksTo1970;break;case"'":a("'")?l+="'":p=!0;break;default:l+=i.charAt(r)}return l}formatTime(t){if(!t)return"";let i="",r=t.getHours(),a=t.getMinutes(),o=t.getSeconds();return this.hourFormat=="12"&&r>11&&r!=12&&(r-=12),this.hourFormat=="12"?i+=r===0?12:r<10?"0"+r:r:i+=r<10?"0"+r:r,i+=":",i+=a<10?"0"+a:a,this.showSeconds&&(i+=":",i+=o<10?"0"+o:o),this.hourFormat=="12"&&(i+=t.getHours()>11?" PM":" AM"),i}parseTime(t){let i=t.split(":"),r=this.showSeconds?3:2;if(i.length!==r)throw"Invalid time";let a=parseInt(i[0]),o=parseInt(i[1]),s=this.showSeconds?parseInt(i[2]):null;if(isNaN(a)||isNaN(o)||a>23||o>59||this.hourFormat=="12"&&a>12||this.showSeconds&&(isNaN(s)||s>59))throw"Invalid time";return this.hourFormat=="12"&&(a!==12&&this.pm?a+=12:!this.pm&&a===12&&(a-=12)),{hour:a,minute:o,second:s}}parseDate(t,i){if(i==null||t==null)throw"Invalid arguments";if(t=typeof t=="object"?t.toString():t+"",t==="")return null;let r,a,o,s=0,l=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),p=-1,m=-1,_=-1,S=-1,C=!1,E,I=U=>{let j=r+1<i.length&&i.charAt(r+1)===U;return j&&r++,j},M=U=>{let j=I(U),$=U==="@"?14:U==="!"?20:U==="y"&&j?4:U==="o"?3:2,X=U==="y"?$:1,te=new RegExp("^\\d{"+X+","+$+"}"),G=t.substring(s).match(te);if(!G)throw"Missing number at position "+s;return s+=G[0].length,parseInt(G[0],10)},F=(U,j,$)=>{let X=-1,te=I(U)?$:j,G=[];for(let de=0;de<te.length;de++)G.push([de,te[de]]);G.sort((de,Qe)=>-(de[1].length-Qe[1].length));for(let de=0;de<G.length;de++){let Qe=G[de][1];if(t.substr(s,Qe.length).toLowerCase()===Qe.toLowerCase()){X=G[de][0],s+=Qe.length;break}}if(X!==-1)return X+1;throw"Unknown name at position "+s},N=()=>{if(t.charAt(s)!==i.charAt(r))throw"Unexpected literal at position "+s;s++};for(this.view==="month"&&(_=1),r=0;r<i.length;r++)if(C)i.charAt(r)==="'"&&!I("'")?C=!1:N();else switch(i.charAt(r)){case"d":_=M("d");break;case"D":F("D",this.getTranslation(ki.DAY_NAMES_SHORT),this.getTranslation(ki.DAY_NAMES));break;case"o":S=M("o");break;case"m":m=M("m");break;case"M":m=F("M",this.getTranslation(ki.MONTH_NAMES_SHORT),this.getTranslation(ki.MONTH_NAMES));break;case"y":p=M("y");break;case"@":E=new Date(M("@")),p=E.getFullYear(),m=E.getMonth()+1,_=E.getDate();break;case"!":E=new Date((M("!")-this.ticksTo1970)/1e4),p=E.getFullYear(),m=E.getMonth()+1,_=E.getDate();break;case"'":I("'")?N():C=!0;break;default:N()}if(s<t.length&&(o=t.substr(s),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(p===-1?p=new Date().getFullYear():p<100&&(p+=new Date().getFullYear()-new Date().getFullYear()%100+(p<=l?0:-100)),S>-1){m=1,_=S;do{if(a=this.getDaysCountInMonth(p,m-1),_<=a)break;m++,_-=a}while(!0)}if(this.view==="year"&&(m=m===-1?1:m,_=_===-1?1:_),E=this.daylightSavingAdjust(new Date(p,m-1,_)),E.getFullYear()!==p||E.getMonth()+1!==m||E.getDate()!==_)throw"Invalid date";return E}daylightSavingAdjust(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(t){return this.keepInvalid?!0:(!this.minDate||t>=this.minDate)&&(!this.maxDate||t<=this.maxDate)}onTodayButtonClick(t){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(i.getMonth(),i.getFullYear()),this.onDateSelect(t,r),this.onTodayClick.emit(i)}onClearButtonClick(t){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(t)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let t="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!!(r.breakpoint&&r.numMonths)).sort((r,a)=>-1*r.breakpoint.localeCompare(a.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:a,numMonths:o}=i[r],s=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${o}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let l=o;l<this.numberOfMonths;l++)s+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${l+1}) {
                                display: none !important;
                            }
                        `;t+=`
                        @media screen and (max-width: ${a}) {
                            ${s}
                        }
                    `}}this.responsiveStyleElement.innerHTML=t,ZS(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce)}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,"mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new hC(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.isNavIconClicked(t)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isNavIconClicked(t){return Xn(t.target,"p-datepicker-prev")||Xn(t.target,"p-datepicker-prev-icon")||Xn(t.target,"p-datepicker-next")||Xn(t.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!XS()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Qd.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||n)(B(Ua),B(Nm))};static \u0275cmp=re({type:n,selectors:[["p-calendar"]],contentQueries:function(i,r,a){if(i&1&&(ye(a,P5,4),ye(a,L5,4),ye(a,R5,4),ye(a,B5,4),ye(a,F5,4),ye(a,O5,4),ye(a,N5,4),ye(a,V5,4),ye(a,H5,4),ye(a,W5,4),ye(a,U5,4),ye(a,j5,4),ye(a,$t,4)),i&2){let o;Z(o=J())&&(r.dateTemplate=o.first),Z(o=J())&&(r.headerTemplate=o.first),Z(o=J())&&(r.footerTemplate=o.first),Z(o=J())&&(r.disabledDateTemplate=o.first),Z(o=J())&&(r.decadeTemplate=o.first),Z(o=J())&&(r.previousIconTemplate=o.first),Z(o=J())&&(r.nextIconTemplate=o.first),Z(o=J())&&(r.triggerIconTemplate=o.first),Z(o=J())&&(r.clearIconTemplate=o.first),Z(o=J())&&(r.decrementIconTemplate=o.first),Z(o=J())&&(r.incrementIconTemplate=o.first),Z(o=J())&&(r.inputIconTemplate=o.first),Z(o=J())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Te(z5,5),Te(q5,5),Te($5,5)),i&2){let a;Z(a=J())&&(r.containerViewChild=a.first),Z(a=J())&&(r.inputfieldViewChild=a.first),Z(a=J())&&(r.content=a.first)}},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[2,"disabled","disabled",Ee],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[2,"inline","inline",Ee],showOtherMonths:[2,"showOtherMonths","showOtherMonths",Ee],selectOtherMonths:[2,"selectOtherMonths","selectOtherMonths",Ee],showIcon:[2,"showIcon","showIcon",Ee],fluid:[2,"fluid","fluid",Ee],icon:"icon",appendTo:"appendTo",readonlyInput:[2,"readonlyInput","readonlyInput",Ee],shortYearCutoff:"shortYearCutoff",monthNavigator:[2,"monthNavigator","monthNavigator",Ee],yearNavigator:[2,"yearNavigator","yearNavigator",Ee],hourFormat:"hourFormat",timeOnly:[2,"timeOnly","timeOnly",Ee],stepHour:[2,"stepHour","stepHour",un],stepMinute:[2,"stepMinute","stepMinute",un],stepSecond:[2,"stepSecond","stepSecond",un],showSeconds:[2,"showSeconds","showSeconds",Ee],required:[2,"required","required",Ee],showOnFocus:[2,"showOnFocus","showOnFocus",Ee],showWeek:[2,"showWeek","showWeek",Ee],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[2,"showClear","showClear",Ee],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[2,"maxDateCount","maxDateCount",un],showButtonBar:[2,"showButtonBar","showButtonBar",Ee],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[2,"autofocus","autofocus",Ee],autoZIndex:[2,"autoZIndex","autoZIndex",Ee],baseZIndex:[2,"baseZIndex","baseZIndex",un],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[2,"keepInvalid","keepInvalid",Ee],hideOnDateTimeSelect:[2,"hideOnDateTimeSelect","hideOnDateTimeSelect",Ee],touchUI:[2,"touchUI","touchUI",Ee],timeSeparator:"timeSeparator",focusTrap:[2,"focusTrap","focusTrap",Ee],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[2,"tabindex","tabindex",un],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[xe([O6,Bx]),Sn],ngContentSelectors:G5,decls:4,vars:6,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["pInputText","","type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","ngClass","placeholder","disabled","pAutoFocus","variant","fluid"],[4,"ngIf"],["type","button","aria-haspopup","dialog","class","p-datepicker-dropdown","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"class","click",4,"ngIf"],["class","p-datepicker-clear-icon",3,"click",4,"ngIf"],[3,"click"],[1,"p-datepicker-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","tabindex","0",1,"p-datepicker-dropdown",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-datepicker-input-icon-container"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-datepicker-time-picker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-calendar-container"],["class","p-datepicker-calendar",4,"ngFor","ngForOf"],["class","p-datepicker-month-view",4,"ngIf"],["class","p-datepicker-year-view",4,"ngIf"],[1,"p-datepicker-calendar"],[1,"p-datepicker-header"],["size","small","rounded","","text","","styleClass","p-datepicker-prev-button p-button-icon-only","type","button",3,"keydown","onClick","ngStyle"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-select-month","pRipple","",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-select-year","pRipple","",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["rounded","","text","","size","small","styleClass","p-datepicker-next-button p-button-icon-only",3,"keydown","onClick","ngStyle"],["class","p-datepicker-day-view","role","grid",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-select-month",3,"click","keydown","disabled"],["type","button","pRipple","",1,"p-datepicker-select-year",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],["role","grid",1,"p-datepicker-day-view"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["class","p-datepicker-weekday-cell","scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col",1,"p-datepicker-weekday-cell"],[1,"p-datepicker-weekday"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-datepicker-weeklabel-container","p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-datepicker-month-view"],["pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",3,"click","keydown","ngClass"],[1,"p-datepicker-year-view"],[1,"p-datepicker-time-picker"],[1,"p-datepicker-hour-picker"],["rounded","","text","","size","small","styleClass","p-datepicker-increment-button p-button-icon-only",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-datepicker-separator"],[1,"p-datepicker-minute-picker"],["class","p-datepicker-separator",4,"ngIf"],["class","p-datepicker-second-picker",4,"ngIf"],["class","p-datepicker-ampm-picker",4,"ngIf"],[1,"p-datepicker-second-picker"],[1,"p-datepicker-ampm-picker"],["size","small","text","","rounded","","styleClass","p-datepicker-increment-button p-button-icon-only",3,"keydown","onClick","keydown.enter"],["size","small","text","","rounded","","styleClass","p-datepicker-increment-button p-button-icon-only",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["size","small","styleClass","p-datepicker-today-button",3,"keydown","onClick","label","ngClass"],["size","small","styleClass","p-datepicker-clear-button",3,"keydown","onClick","label","ngClass"]],template:function(i,r){i&1&&(Qr(Q5),d(0,"span",3,0),R(2,g8,5,24,"ng-template",4)(3,L6,9,20,"div",5),u()),i&2&&(si(r.styleClass),g("ngClass",r.rootClass)("ngStyle",r.style),c(2),g("ngIf",!r.inline),c(),g("ngIf",r.inline||r.overlayVisible))},dependencies:[pe,zi,Gi,ge,Bn,Rn,Si,He,yC,bC,wC,Hm,$a,vC,sc,nt,yi],encapsulation:2,data:{animation:[rc("overlayAnimation",[Nd("visibleTouchUI",Kn({transform:"translate(-50%,-50%)",opacity:1})),za("void => visible",[Kn({opacity:0,transform:"scaleY(0.8)"}),ja("{{showTransitionParams}}",Kn({opacity:1,transform:"*"}))]),za("visible => void",[ja("{{hideTransitionParams}}",Kn({opacity:0}))]),za("void => visibleTouchUI",[Kn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),ja("{{showTransitionParams}}")]),za("visibleTouchUI => void",[ja("{{hideTransitionParams}}",Kn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return n})(),ft=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wn({type:n});static \u0275inj=bn({imports:[ci,yi,yi]})}return n})();var N6=["removeicon"],V6=["*"];function H6(n,e){if(n&1){let t=W();d(0,"img",4),L("error",function(r){y(t);let a=w();return b(a.imageError(r))}),u()}if(n&2){let t=w();g("src",t.image,ss)("alt",t.alt)}}function W6(n,e){if(n&1&&P(0,"span",6),n&2){let t=w(2);si(t.icon),g("ngClass","p-chip-icon"),le("data-pc-section","icon")}}function U6(n,e){if(n&1&&R(0,W6,1,4,"span",5),n&2){let t=w();g("ngIf",t.icon)}}function j6(n,e){if(n&1&&(d(0,"div",7),v(1),u()),n&2){let t=w();le("data-pc-section","label"),c(),x(t.label)}}function z6(n,e){if(n&1){let t=W();d(0,"span",11),L("click",function(r){y(t);let a=w(3);return b(a.close(r))})("keydown",function(r){y(t);let a=w(3);return b(a.onKeydown(r))}),u()}if(n&2){let t=w(3);si(t.removeIcon),g("ngClass","p-chip-remove-icon"),le("data-pc-section","removeicon")("aria-label",t.removeAriaLabel)}}function q6(n,e){if(n&1){let t=W();d(0,"TimesCircleIcon",12),L("click",function(r){y(t);let a=w(3);return b(a.close(r))})("keydown",function(r){y(t);let a=w(3);return b(a.onKeydown(r))}),u()}if(n&2){let t=w(3);si("p-chip-remove-icon"),le("data-pc-section","removeicon")("aria-label",t.removeAriaLabel)}}function $6(n,e){if(n&1&&(Ue(0),R(1,z6,1,5,"span",9)(2,q6,1,4,"TimesCircleIcon",10),je()),n&2){let t=w(2);c(),g("ngIf",t.removeIcon),c(),g("ngIf",!t.removeIcon)}}function Q6(n,e){}function G6(n,e){n&1&&R(0,Q6,0,0,"ng-template")}function Y6(n,e){if(n&1){let t=W();d(0,"span",13),L("click",function(r){y(t);let a=w(2);return b(a.close(r))})("keydown",function(r){y(t);let a=w(2);return b(a.onKeydown(r))}),R(1,G6,1,0,null,14),u()}if(n&2){let t=w(2);le("data-pc-section","removeicon")("aria-label",t.removeAriaLabel),c(),g("ngTemplateOutlet",t.removeIconTemplate||t._removeIconTemplate)}}function K6(n,e){if(n&1&&(Ue(0),R(1,$6,3,2,"ng-container",3)(2,Y6,2,3,"span",8),je()),n&2){let t=w();c(),g("ngIf",!t.removeIconTemplate&&!t._removeIconTemplate),c(),g("ngIf",t.removeIconTemplate||t._removeIconTemplate)}}var X6=({dt:n})=>`
.p-chip {
    display: inline-flex;
    align-items: center;
    background: ${n("chip.background")};
    color: ${n("chip.color")};
    border-radius: ${n("chip.border.radius")};
    padding: ${n("chip.padding.y")} ${n("chip.padding.x")};
    gap: ${n("chip.gap")};
}

.p-chip-icon {
    color: ${n("chip.icon.color")};
    font-size: ${n("chip.icon.font.size")};
    width: ${n("chip.icon.size")};
    height: ${n("chip.icon.size")};
}

.p-chip-image {
    border-radius: 50%;
    width: ${n("chip.image.width")};
    height: ${n("chip.image.height")};
    margin-left: calc(-1 * ${n("chip.padding.y")});
}

.p-chip:has(.p-chip-remove-icon) {
    padding-inline-end: ${n("chip.padding.y")};
}

.p-chip:has(.p-chip-image) {
    padding-top: calc(${n("chip.padding.y")} / 2);
    padding-bottom: calc(${n("chip.padding.y")} / 2);
}

.p-chip-remove-icon {
    cursor: pointer;
    font-size: ${n("chip.remove.icon.font.size")};
    width: ${n("chip.remove.icon.size")};
    height: ${n("chip.remove.icon.size")};
    color: ${n("chip.remove.icon.color")};
    border-radius: 50%;
    transition: outline-color ${n("chip.transition.duration")}, box-shadow ${n("chip.transition.duration")};
    outline-color: transparent;
}

.p-chip-remove-icon:focus-visible {
    box-shadow: ${n("chip.remove.icon.focus.ring.shadow")};
    outline: ${n("chip.remove.icon.focus.ring.width")} ${n("chip.remove.icon.focus.ring.style")} ${n("chip.remove.icon.focus.ring.color")};
    outline-offset: ${n("chip.remove.icon.focus.ring.offset")};
}
`,Z6={root:"p-chip p-component",image:"p-chip-image",icon:"p-chip-icon",label:"p-chip-label",removeIcon:"p-chip-remove-icon"},Fx=(()=>{class n extends Zn{name="chip";theme=X6;classes=Z6;static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();var Sa=(()=>{class n extends Fn{label;icon;image;alt;style;styleClass;removable=!1;removeIcon;onRemove=new et;onImageError=new et;visible=!0;get removeAriaLabel(){return this.config.getTranslation(ki.ARIA).removeLabel}get chipProps(){return this._chipProps}set chipProps(t){this._chipProps=t,t&&typeof t=="object"&&Object.entries(t).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}_chipProps;_componentStyle=Qi(Fx);removeIconTemplate;templates;_removeIconTemplate;ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"removeicon":this._removeIconTemplate=t.template;break;default:this._removeIconTemplate=t.template;break}})}ngOnChanges(t){if(super.ngOnChanges(t),t.chipProps&&t.chipProps.currentValue){let{currentValue:i}=t.chipProps;i.label!==void 0&&(this.label=i.label),i.icon!==void 0&&(this.icon=i.icon),i.image!==void 0&&(this.image=i.image),i.alt!==void 0&&(this.alt=i.alt),i.style!==void 0&&(this.style=i.style),i.styleClass!==void 0&&(this.styleClass=i.styleClass),i.removable!==void 0&&(this.removable=i.removable),i.removeIcon!==void 0&&(this.removeIcon=i.removeIcon)}}containerClass(){let t="p-chip p-component";return this.styleClass&&(t+=` ${this.styleClass}`),t}close(t){this.visible=!1,this.onRemove.emit(t)}onKeydown(t){(t.key==="Enter"||t.key==="Backspace")&&this.close(t)}imageError(t){this.onImageError.emit(t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275cmp=re({type:n,selectors:[["p-chip"]],contentQueries:function(i,r,a){if(i&1&&(ye(a,N6,4),ye(a,$t,4)),i&2){let o;Z(o=J())&&(r.removeIconTemplate=o.first),Z(o=J())&&(r.templates=o)}},hostVars:9,hostBindings:function(i,r){i&2&&(le("data-pc-name","chip")("aria-label",r.label)("data-pc-section","root"),_e(r.style),si(r.containerClass()),$r("display",!r.visible&&"none"))},inputs:{label:"label",icon:"icon",image:"image",alt:"alt",style:"style",styleClass:"styleClass",removable:[2,"removable","removable",Ee],removeIcon:"removeIcon",chipProps:"chipProps"},outputs:{onRemove:"onRemove",onImageError:"onImageError"},features:[xe([Fx]),Sn,km],ngContentSelectors:V6,decls:6,vars:4,consts:[["iconTemplate",""],["class","p-chip-image",3,"src","alt","error",4,"ngIf","ngIfElse"],["class","p-chip-label",4,"ngIf"],[4,"ngIf"],[1,"p-chip-image",3,"error","src","alt"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-label"],["tabindex","0","class","p-chip-remove-icon","role","button",3,"click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","ngClass","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"click","keydown","ngClass"],["tabindex","0","role","button",3,"click","keydown"],["tabindex","0","role","button",1,"p-chip-remove-icon",3,"click","keydown"],[4,"ngTemplateOutlet"]],template:function(i,r){if(i&1&&(Qr(),gr(0),R(1,H6,1,2,"img",1)(2,U6,1,1,"ng-template",null,0,ae)(4,j6,2,2,"div",2)(5,K6,3,2,"ng-container",3)),i&2){let a=Q(3);c(),g("ngIf",r.image)("ngIfElse",a),c(3),g("ngIf",r.label),c(),g("ngIf",r.removable)}},dependencies:[pe,zi,ge,Bn,Wm,yi],encapsulation:2,changeDetection:0})}return n})(),ds=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wn({type:n});static \u0275inj=bn({imports:[Sa,yi,yi]})}return n})();var nu=n=>({height:n}),J6=(n,e,t)=>({"p-multiselect-option-selected":n,"p-disabled":e,"p-focus":t}),Nx=n=>({$implicit:n}),eP=(n,e)=>({checked:n,class:e});function tP(n,e){}function iP(n,e){n&1&&R(0,tP,0,0,"ng-template")}function nP(n,e){if(n&1&&R(0,iP,1,0,null,4),n&2){let t=e.class,i=w(2);g("ngTemplateOutlet",i.itemCheckboxIconTemplate)("ngTemplateOutletContext",li(2,eP,i.selected,t))}}function rP(n,e){n&1&&(Ue(0),R(1,nP,1,5,"ng-template",null,0,ae),je())}function aP(n,e){if(n&1&&(d(0,"span"),v(1),u()),n&2){let t,i=w();c(),x((t=i.label)!==null&&t!==void 0?t:"empty")}}function oP(n,e){n&1&&Pt(0)}var sP=["item"],lP=["group"],cP=["loader"],dP=["header"],uP=["filter"],pP=["footer"],mP=["emptyfilter"],hP=["empty"],fP=["selecteditems"],gP=["checkicon"],vP=["loadingicon"],_P=["filtericon"],yP=["removetokenicon"],bP=["chipicon"],wP=["clearicon"],SP=["dropdownicon"],CP=["itemcheckboxicon"],xP=["headercheckboxicon"],EP=["overlay"],IP=["filterInput"],TP=["focusInput"],DP=["items"],AP=["scroller"],MP=["lastHiddenFocusableEl"],kP=["firstHiddenFocusableEl"],PP=["headerCheckbox"],LP=[[["p-header"]],[["p-footer"]]],RP=["p-header","p-footer"],BP=()=>({class:"p-multiselect-chip-icon"}),FP=(n,e)=>({$implicit:n,removeChip:e}),Vx=n=>({options:n}),OP=(n,e,t)=>({checked:n,partialSelected:e,class:t}),Hx=(n,e)=>({$implicit:n,options:e}),NP=()=>({});function VP(n,e){if(n&1&&(Ue(0),v(1),je()),n&2){let t=w(2);c(),x(t.label()||"empty")}}function HP(n,e){if(n&1&&v(0),n&2){let t=w(3);O(" ",t.getSelectedItemsLabel()," ")}}function WP(n,e){n&1&&Pt(0)}function UP(n,e){if(n&1){let t=W();d(0,"span",28),L("click",function(r){y(t);let a=w(4).$implicit,o=w(4);return b(o.removeOption(a,r))}),R(1,WP,1,0,"ng-container",29),u()}if(n&2){let t=w(8);le("data-pc-section","clearicon")("aria-hidden",!0),c(),g("ngTemplateOutlet",t.chipIconTemplate||t._chipIconTemplate||t.removeTokenIconTemplate||t._removeTokenIconTemplate)("ngTemplateOutletContext",se(4,BP))}}function jP(n,e){if(n&1&&(Ue(0),R(1,UP,2,5,"span",27),je()),n&2){let t=w(7);c(),g("ngIf",t.chipIconTemplate||t._chipIconTemplate||t.removeTokenIconTemplate||t._removeTokenIconTemplate)}}function zP(n,e){if(n&1&&R(0,jP,2,1,"ng-container",20),n&2){let t=w(6);g("ngIf",!t.disabled&&!t.readonly)}}function qP(n,e){n&1&&(Ue(0),R(1,zP,1,1,"ng-template",null,5,ae),je())}function $P(n,e){if(n&1){let t=W();d(0,"div",24,4)(2,"p-chip",26),L("onRemove",function(r){let a=y(t).$implicit,o=w(4);return b(o.removeOption(a,r))}),R(3,qP,3,0,"ng-container",20),u()()}if(n&2){let t=e.$implicit,i=w(4);c(2),g("label",i.getLabelByValue(t))("removable",!i.disabled&&!i.readonly)("removeIcon",i.chipIcon),c(),g("ngIf",i.chipIconTemplate||i._chipIconTemplate||i.removeTokenIconTemplate||i._removeTokenIconTemplate)}}function QP(n,e){if(n&1&&R(0,$P,4,4,"div",25),n&2){let t=w(3);g("ngForOf",t.chipSelectedItems())}}function GP(n,e){if(n&1&&(Ue(0),v(1),je()),n&2){let t=w(3);c(),x(t.placeholder()||t.defaultLabel||"empty")}}function YP(n,e){if(n&1&&(Ue(0),R(1,HP,1,1)(2,QP,1,1,"div",24)(3,GP,2,1,"ng-container",20),je()),n&2){let t=w(2);c(),hi(t.chipSelectedItems()&&t.chipSelectedItems().length===t.maxSelectedLabels?1:2),c(2),g("ngIf",!t.modelValue()||t.modelValue().length===0)}}function KP(n,e){if(n&1&&(Ue(0),R(1,VP,2,1,"ng-container",20)(2,YP,4,2,"ng-container",20),je()),n&2){let t=w();c(),g("ngIf",t.display==="comma"),c(),g("ngIf",t.display==="chip")}}function XP(n,e){n&1&&Pt(0)}function ZP(n,e){if(n&1&&(Ue(0),v(1),je()),n&2){let t=w(2);c(),x(t.placeholder()||t.defaultLabel||"empty")}}function JP(n,e){if(n&1&&(Ue(0),R(1,XP,1,0,"ng-container",29)(2,ZP,2,1,"ng-container",20),je()),n&2){let t=w();c(),g("ngTemplateOutlet",t.selectedItemsTemplate||t._selectedItemsTemplate)("ngTemplateOutletContext",li(3,FP,t.selectedOptions,t.removeOption.bind(t))),c(),g("ngIf",!t.modelValue()||t.modelValue().length===0)}}function eL(n,e){if(n&1){let t=W();d(0,"TimesIcon",31),L("click",function(r){y(t);let a=w(2);return b(a.clear(r))}),u()}n&2&&le("data-pc-section","clearicon")("aria-hidden",!0)}function tL(n,e){}function iL(n,e){n&1&&R(0,tL,0,0,"ng-template")}function nL(n,e){if(n&1){let t=W();d(0,"span",31),L("click",function(r){y(t);let a=w(2);return b(a.clear(r))}),R(1,iL,1,0,null,32),u()}if(n&2){let t=w(2);le("data-pc-section","clearicon")("aria-hidden",!0),c(),g("ngTemplateOutlet",t.clearIconTemplate||t._clearIconTemplate)}}function rL(n,e){if(n&1&&(Ue(0),R(1,eL,1,2,"TimesIcon",30)(2,nL,2,3,"span",30),je()),n&2){let t=w();c(),g("ngIf",!t.clearIconTemplate&&!t._clearIconTemplate),c(),g("ngIf",t.clearIconTemplate||t._clearIconTemplate)}}function aL(n,e){n&1&&Pt(0)}function oL(n,e){if(n&1&&(Ue(0),R(1,aL,1,0,"ng-container",32),je()),n&2){let t=w(2);c(),g("ngTemplateOutlet",t.loadingIconTemplate||t._loadingIconTemplate)}}function sL(n,e){if(n&1&&P(0,"span",35),n&2){let t=w(3);g("ngClass","p-multiselect-loading-icon pi-spin "+t.loadingIcon)}}function lL(n,e){n&1&&P(0,"span",36),n&2&&si("p-multiselect-loading-icon pi pi-spinner pi-spin")}function cL(n,e){if(n&1&&(Ue(0),R(1,sL,1,1,"span",33)(2,lL,1,2,"span",34),je()),n&2){let t=w(2);c(),g("ngIf",t.loadingIcon),c(),g("ngIf",!t.loadingIcon)}}function dL(n,e){if(n&1&&(Ue(0),R(1,oL,2,1,"ng-container",20)(2,cL,3,2,"ng-container",20),je()),n&2){let t=w();c(),g("ngIf",t.loadingIconTemplate||t._loadingIconTemplate),c(),g("ngIf",!t.loadingIconTemplate&&!t._loadingIconTemplate)}}function uL(n,e){if(n&1&&P(0,"span",40),n&2){let t=w(3);g("ngClass",t.dropdownIcon),le("data-pc-section","triggericon")("aria-hidden",!0)}}function pL(n,e){n&1&&P(0,"ChevronDownIcon",41),n&2&&(g("styleClass","p-multiselect-dropdown-icon"),le("data-pc-section","triggericon")("aria-hidden",!0))}function mL(n,e){if(n&1&&(Ue(0),R(1,uL,1,3,"span",38)(2,pL,1,3,"ChevronDownIcon",39),je()),n&2){let t=w(2);c(),g("ngIf",t.dropdownIcon),c(),g("ngIf",!t.dropdownIcon)}}function hL(n,e){}function fL(n,e){n&1&&R(0,hL,0,0,"ng-template")}function gL(n,e){if(n&1&&(d(0,"span",42),R(1,fL,1,0,null,32),u()),n&2){let t=w(2);le("data-pc-section","triggericon")("aria-hidden",!0),c(),g("ngTemplateOutlet",t.dropdownIconTemplate||t._dropdownIconTemplate)}}function vL(n,e){if(n&1&&R(0,mL,3,2,"ng-container",20)(1,gL,2,3,"span",37),n&2){let t=w();g("ngIf",!t.dropdownIconTemplate&&!t._dropdownIconTemplate),c(),g("ngIf",t.dropdownIconTemplate||t._dropdownIconTemplate)}}function _L(n,e){n&1&&Pt(0)}function yL(n,e){n&1&&Pt(0)}function bL(n,e){if(n&1&&(Ue(0),R(1,yL,1,0,"ng-container",29),je()),n&2){let t=w(3);c(),g("ngTemplateOutlet",t.filterTemplate||t._filterTemplate)("ngTemplateOutletContext",Ae(2,Vx,t.filterOptions))}}function wL(n,e){if(n&1&&P(0,"CheckIcon",41),n&2){let t=w().class;g("styleClass",t),le("data-pc-section","icon")}}function SL(n,e){}function CL(n,e){n&1&&R(0,SL,0,0,"ng-template")}function xL(n,e){if(n&1&&R(0,wL,1,2,"CheckIcon",39)(1,CL,1,0,null,29),n&2){let t=e.class,i=w(5);g("ngIf",!i.headerCheckboxIconTemplate&&!i._headerCheckboxIconTemplate&&i.allSelected()),c(),g("ngTemplateOutlet",i.headerCheckboxIconTemplate||i._headerCheckboxIconTemplate)("ngTemplateOutletContext",Kv(3,OP,i.allSelected(),i.partialSelected(),t))}}function EL(n,e){if(n&1){let t=W();d(0,"p-checkbox",51,10),L("onChange",function(r){y(t);let a=w(4);return b(a.onToggleAll(r))}),R(2,xL,2,7,"ng-template",null,11,ae),u()}if(n&2){let t=w(4);g("ngModel",t.allSelected())("ariaLabel",t.toggleAllAriaLabel)("binary",!0)("variant",t.variant)("disabled",t.disabled)}}function IL(n,e){n&1&&P(0,"SearchIcon",41),n&2&&g("styleClass","p-multiselect-filter-icon")}function TL(n,e){}function DL(n,e){n&1&&R(0,TL,0,0,"ng-template")}function AL(n,e){if(n&1&&(d(0,"span",55),R(1,DL,1,0,null,32),u()),n&2){let t=w(5);c(),g("ngTemplateOutlet",t.filterIconTemplate||t._filterIconTemplate)}}function ML(n,e){if(n&1){let t=W();d(0,"div",52)(1,"p-iconfield")(2,"input",53,12),L("input",function(r){y(t);let a=w(4);return b(a.onFilterInputChange(r))})("keydown",function(r){y(t);let a=w(4);return b(a.onFilterKeyDown(r))})("click",function(r){y(t);let a=w(4);return b(a.onInputClick(r))})("blur",function(r){y(t);let a=w(4);return b(a.onFilterBlur(r))}),u(),d(4,"p-inputicon"),R(5,IL,1,1,"SearchIcon",39)(6,AL,2,1,"span",54),u()()()}if(n&2){let t=w(4);c(2),g("variant",t.variant)("value",t._filterValue()||"")("disabled",t.disabled),le("autocomplete",t.autocomplete)("aria-owns",t.id+"_list")("aria-activedescendant",t.focusedOptionId)("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel),c(3),g("ngIf",!t.filterIconTemplate&&!t._filterIconTemplate),c(),g("ngIf",t.filterIconTemplate||t._filterIconTemplate)}}function kL(n,e){if(n&1&&R(0,EL,4,5,"p-checkbox",49)(1,ML,7,10,"div",50),n&2){let t=w(3);g("ngIf",t.showToggleAll&&!t.selectionLimit),c(),g("ngIf",t.filter)}}function PL(n,e){if(n&1&&(d(0,"div",48),gr(1),R(2,bL,2,4,"ng-container",22)(3,kL,2,2,"ng-template",null,9,ae),u()),n&2){let t=Q(4),i=w(2);c(2),g("ngIf",i.filterTemplate||i._filterTemplate)("ngIfElse",t)}}function LL(n,e){n&1&&Pt(0)}function RL(n,e){if(n&1&&R(0,LL,1,0,"ng-container",29),n&2){let t=e.$implicit,i=e.options;w(2);let r=Q(9);g("ngTemplateOutlet",r)("ngTemplateOutletContext",li(2,Hx,t,i))}}function BL(n,e){n&1&&Pt(0)}function FL(n,e){if(n&1&&R(0,BL,1,0,"ng-container",29),n&2){let t=e.options,i=w(4);g("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",Ae(2,Vx,t))}}function OL(n,e){n&1&&(Ue(0),R(1,FL,1,4,"ng-template",null,14,ae),je())}function NL(n,e){if(n&1){let t=W();d(0,"p-scroller",56,13),L("onLazyLoad",function(r){y(t);let a=w(2);return b(a.onLazyLoad.emit(r))}),R(2,RL,1,5,"ng-template",null,3,ae)(4,OL,3,0,"ng-container",20),u()}if(n&2){let t=w(2);_e(Ae(9,nu,t.scrollHeight)),g("items",t.visibleOptions())("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("tabindex",-1)("lazy",t.lazy)("options",t.virtualScrollOptions),c(4),g("ngIf",t.loaderTemplate||t._loaderTemplate)}}function VL(n,e){n&1&&Pt(0)}function HL(n,e){if(n&1&&(Ue(0),R(1,VL,1,0,"ng-container",29),je()),n&2){w();let t=Q(9),i=w();c(),g("ngTemplateOutlet",t)("ngTemplateOutletContext",li(3,Hx,i.visibleOptions(),se(2,NP)))}}function WL(n,e){if(n&1&&(d(0,"span"),v(1),u()),n&2){let t=w(2).$implicit,i=w(3);c(),x(i.getOptionGroupLabel(t.optionGroup))}}function UL(n,e){n&1&&Pt(0)}function jL(n,e){if(n&1&&(Ue(0),d(1,"li",60),R(2,WL,2,1,"span",20)(3,UL,1,0,"ng-container",29),u(),je()),n&2){let t=w(),i=t.$implicit,r=t.index,a=w().options,o=w(2);c(),g("ngStyle",Ae(5,nu,a.itemSize+"px")),le("id",o.id+"_"+o.getOptionIndex(r,a)),c(),g("ngIf",!o.groupTemplate),c(),g("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",Ae(7,Nx,i.optionGroup))}}function zL(n,e){if(n&1){let t=W();Ue(0),d(1,"p-multiselect-item",61),L("onClick",function(r){y(t);let a=w().index,o=w().options,s=w(2);return b(s.onOptionSelect(r,!1,s.getOptionIndex(a,o)))})("onMouseEnter",function(r){y(t);let a=w().index,o=w().options,s=w(2);return b(s.onOptionMouseEnter(r,s.getOptionIndex(a,o)))}),u(),je()}if(n&2){let t=w(),i=t.$implicit,r=t.index,a=w().options,o=w(2);c(),g("id",o.id+"_"+o.getOptionIndex(r,a))("option",i)("selected",o.isSelected(i))("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate||o._itemTemplate)("checkIconTemplate",o.checkIconTemplate||o._checkIconTemplate)("itemCheckboxIconTemplate",o.itemCheckboxIconTemplate||o._itemCheckboxIconTemplate)("itemSize",a.itemSize)("focused",o.focusedOptionIndex()===o.getOptionIndex(r,a))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(r,a)))("ariaSetSize",o.ariaSetSize)("variant",o.variant)("highlightOnSelect",o.highlightOnSelect)}}function qL(n,e){if(n&1&&R(0,jL,4,9,"ng-container",20)(1,zL,2,14,"ng-container",20),n&2){let t=e.$implicit,i=w(3);g("ngIf",i.isOptionGroup(t)),c(),g("ngIf",!i.isOptionGroup(t))}}function $L(n,e){if(n&1&&v(0),n&2){let t=w(4);O(" ",t.emptyFilterMessageLabel," ")}}function QL(n,e){n&1&&Pt(0)}function GL(n,e){if(n&1&&R(0,QL,1,0,"ng-container",32),n&2){let t=w(4);g("ngTemplateOutlet",t.emptyFilterTemplate||t._emptyFilterTemplate||t.emptyTemplate||t._emptyFilterTemplate)}}function YL(n,e){if(n&1&&(d(0,"li",62),R(1,$L,1,1)(2,GL,1,1,"ng-container"),u()),n&2){let t=w().options,i=w(2);g("ngStyle",Ae(2,nu,t.itemSize+"px")),c(),hi(!i.emptyFilterTemplate&&!i._emptyFilterTemplate&&!i.emptyTemplate&&!i._emptyTemplate?1:2)}}function KL(n,e){if(n&1&&v(0),n&2){let t=w(4);O(" ",t.emptyMessageLabel," ")}}function XL(n,e){n&1&&Pt(0)}function ZL(n,e){if(n&1&&R(0,XL,1,0,"ng-container",32),n&2){let t=w(4);g("ngTemplateOutlet",t.emptyTemplate||t._emptyTemplate)}}function JL(n,e){if(n&1&&(d(0,"li",62),R(1,KL,1,1)(2,ZL,1,1,"ng-container"),u()),n&2){let t=w().options,i=w(2);g("ngStyle",Ae(2,nu,t.itemSize+"px")),c(),hi(!i.emptyTemplate&&!i._emptyTemplate?1:2)}}function e7(n,e){if(n&1&&(d(0,"ul",57,15),R(2,qL,2,2,"ng-template",58)(3,YL,3,4,"li",59)(4,JL,3,4,"li",59),u()),n&2){let t=e.$implicit,i=e.options,r=w(2);_e(i.contentStyle),g("ngClass",i.contentStyleClass),le("aria-label",r.listLabel),c(2),g("ngForOf",t),c(),g("ngIf",r.hasFilter()&&r.isEmpty()),c(),g("ngIf",!r.hasFilter()&&r.isEmpty())}}function t7(n,e){n&1&&Pt(0)}function i7(n,e){if(n&1&&(d(0,"div"),gr(1,1),R(2,t7,1,0,"ng-container",32),u()),n&2){let t=w(2);c(2),g("ngTemplateOutlet",t.footerTemplate||t._footerTemplate)}}function n7(n,e){if(n&1){let t=W();d(0,"div",43)(1,"span",44,6),L("focus",function(r){y(t);let a=w();return b(a.onFirstHiddenFocus(r))}),u(),R(3,_L,1,0,"ng-container",32)(4,PL,5,2,"div",45),d(5,"div",46),R(6,NL,5,11,"p-scroller",47)(7,HL,2,6,"ng-container",20)(8,e7,5,7,"ng-template",null,7,ae),u(),R(10,i7,3,1,"div",20),d(11,"span",44,8),L("focus",function(r){y(t);let a=w();return b(a.onLastHiddenFocus(r))}),u()()}if(n&2){let t=w();si(t.panelStyleClass),g("ngClass","p-multiselect-overlay p-component")("ngStyle",t.panelStyle),le("id",t.id+"_list"),c(),le("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),c(2),g("ngTemplateOutlet",t.headerTemplate||t._headerTemplate),c(),g("ngIf",t.showHeader),c(),$r("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),c(),g("ngIf",t.virtualScroll),c(),g("ngIf",!t.virtualScroll),c(3),g("ngIf",t.footerFacet||t.footerTemplate||t._footerTemplate),c(),le("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var r7=({dt:n})=>`
.p-multiselect {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
    background: ${n("multiselect.background")};
    border: 1px solid ${n("multiselect.border.color")};
    transition: background ${n("multiselect.transition.duration")}, color ${n("multiselect.transition.duration")}, border-color ${n("multiselect.transition.duration")}, outline-color ${n("multiselect.transition.duration")}, box-shadow ${n("multiselect.transition.duration")};
    border-radius: ${n("multiselect.border.radius")};
    outline-color: transparent;
    box-shadow: ${n("multiselect.shadow")};
}

.p-multiselect.ng-invalid.ng-dirty {
    border-color: ${n("multiselect.invalid.border.color")};
}

.p-multiselect:not(.p-disabled):hover {
    border-color: ${n("multiselect.hover.border.color")};
}

.p-multiselect:not(.p-disabled).p-focus {
    border-color: ${n("multiselect.focus.border.color")};
    box-shadow: ${n("multiselect.focus.ring.shadow")};
    outline: ${n("multiselect.focus.ring.width")} ${n("multiselect.focus.ring.style")} ${n("multiselect.focus.ring.color")};
    outline-offset: ${n("multiselect.focus.ring.offset")};
}

.p-multiselect.p-variant-filled {
    background: ${n("multiselect.filled.background")};
}

.p-multiselect.p-variant-filled:not(.p-disabled):hover {
    background: ${n("multiselect.filled.hover.background")};
}

.p-multiselect.p-variant-filled.p-focus {
    background: ${n("multiselect.filled.focus.background")};
}

.p-multiselect.p-disabled {
    opacity: 1;
    background: ${n("multiselect.disabled.background")};
}

.p-multiselect-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: ${n("multiselect.dropdown.color")};
    width: ${n("multiselect.dropdown.width")};
    border-start-end-radius: ${n("multiselect.border.radius")};
    border-end-end-radius: ${n("multiselect.border.radius")};
}

.p-multiselect-label-container {
    overflow: hidden;
    flex: 1 1 auto;
    cursor: pointer;
}

.p-multiselect-label {
    display: flex;
    align-items-center;
    gap: calc(${n("multiselect.padding.y")} / 2);
    white-space: nowrap;
    cursor: pointer;
    overflow: hidden;
    text-overflow: ellipsis;
    padding: ${n("multiselect.padding.y")} ${n("multiselect.padding.x")};
    color: ${n("multiselect.color")};
}

.p-multiselect-label.p-placeholder {
    color: ${n("multiselect.placeholder.color")};
}

p-multiSelect.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder,
p-multi-select.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder,
p-multiselect.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder {
    color: ${n("multiselect.invalid.placeholder.color")};
}

.p-multiselect.p-disabled .p-multiselect-label {
    color: ${n("multiselect.disabled.color")};
}

.p-multiselect-label-empty {
    overflow: hidden;
    visibility: hidden;
}

.p-multiselect .p-multiselect-overlay {
    min-width: 100%;
}

.p-multiselect-overlay {
    background: ${n("multiselect.overlay.background")};
    color: ${n("multiselect.overlay.color")};
    border: 1px solid ${n("multiselect.overlay.border.color")};
    border-radius: ${n("multiselect.overlay.border.radius")};
    box-shadow: ${n("multiselect.overlay.shadow")};
}

.p-multiselect-header {
    display: flex;
    align-items: center;
    padding: ${n("multiselect.list.header.padding")};
}

.p-multiselect-header .p-checkbox {
    margin-inline-end: ${n("multiselect.option.gap")};
}

.p-multiselect-filter-container {
    flex: 1 1 auto;
}

.p-multiselect-filter {
    width: 100%;
}

.p-multiselect-list-container {
    overflow: auto;
}

.p-multiselect-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    padding: ${n("multiselect.list.padding")};
    display: flex;
    flex-direction: column;
    gap: ${n("multiselect.list.gap")}
}

.p-multiselect-option {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    gap: ${n("multiselect.option.gap")};
    padding: ${n("multiselect.option.padding")};
    border: 0 none;
    color: ${n("multiselect.option.color")};
    background: transparent;
    transition: background ${n("multiselect.transition.duration")}, color ${n("multiselect.transition.duration")}, border-color ${n("multiselect.transition.duration")}, box-shadow ${n("multiselect.transition.duration")}, outline-color ${n("multiselect.transition.duration")};
    border-radius: ${n("multiselect.option.border.radius")}
}

.p-multiselect-option:not(.p-multiselect-option-selected):not(.p-disabled).p-focus {
    background: ${n("multiselect.option.focus.background")};
    color: ${n("multiselect.option.focus.color")};
}

.p-multiselect-option.p-multiselect-option-selected {
    background: ${n("multiselect.option.selected.background")};
    color: ${n("multiselect.option.selected.color")};
}

.p-multiselect-option.p-multiselect-option-selected.p-focus {
    background: ${n("multiselect.option.selected.focus.background")};
    color: ${n("multiselect.option.selected.focus.color")};
}

.p-multiselect-option-group {
    cursor: auto;
    margin: 0;
    padding: ${n("multiselect.option.group.padding")};
    background: ${n("multiselect.option.group.background")};
    color: ${n("multiselect.option.group.color")};
    font-weight: ${n("multiselect.option.group.font.weight")};
}

.p-multiselect-empty-message {
    padding: ${n("multiselect.empty.message.padding")};
}

.p-multiselect-label .p-chip {
    padding-top: calc(${n("multiselect.padding.y")} / 2);
    padding-bottom: calc(${n("multiselect.padding.y")} / 2);
    border-radius: ${n("multiselect.chip.border.radius")};
}

.p-multiselect-label:has(.p-chip) {
    padding: calc(${n("multiselect.padding.y")} / 2) calc(${n("multiselect.padding.x")} / 2);
}

.p-multiselect-fluid {
    display: flex;
}

.p-multiselect-sm .p-multiselect-label {
    font-size: ${n("multiselect.sm.font.size")};
    padding-block: ${n("multiselect.sm.padding.y")};
    padding-inline: ${n("multiselect.sm.padding.x")};
}

.p-multiselect-sm .p-multiselect-dropdown .p-icon {
    font-size: ${n("multiselect.sm.font.size")};
    width: ${n("multiselect.sm.font.size")};
    height: ${n("multiselect.sm.font.size")};
}

.p-multiselect-lg .p-multiselect-label {
    font-size: ${n("multiselect.lg.font.size")};
    padding-block: ${n("multiselect.lg.padding.y")};
    padding-inline: ${n("multiselect.lg.padding.x")};
}

.p-multiselect-lg .p-multiselect-dropdown .p-icon {
    font-size: ${n("multiselect.lg.font.size")};
    width: ${n("multiselect.lg.font.size")};
    height: ${n("multiselect.lg.font.size")};
}

.p-multiselect-clear-icon {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: ${n("multiselect.clear.icon.color")};
}`,a7={root:({props:n})=>({position:n.appendTo==="self"?"relative":void 0})},o7={root:({instance:n})=>({"p-multiselect p-component p-inputwrapper":!0,"p-multiselect-display-chip":n.display==="chip","p-disabled":n.disabled,"p-invalid":n.invalid,"p-variant-filled":n.variant?n.variant==="filled":n.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":n.filled,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-multiselect-open":n.overlayVisible,"p-multiselect-fluid":n.hasFluid,"p-multiselect-sm p-inputfield-sm":n.size==="small","p-multiselect-lg p-inputfield-lg":n.size==="large"}),labelContainer:"p-multiselect-label-container",label:({instance:n})=>({"p-multiselect-label":!0,"p-placeholder":n.label()===n.placeholder(),"p-multiselect-label-empty":!n.placeholder()&&!n.defaultLabel&&(!n.modelValue()||n.modelValue().length===0)}),chipItem:"p-multiselect-chip-item",pcChip:"p-multiselect-chip",chipIcon:"p-multiselect-chip-icon",dropdown:"p-multiselect-dropdown",loadingIcon:"p-multiselect-loading-icon",dropdownIcon:"p-multiselect-dropdown-icon",overlay:"p-multiselect-overlay p-component",header:"p-multiselect-header",pcFilterContainer:"p-multiselect-filter-container",pcFilter:"p-multiselect-filter",listContainer:"p-multiselect-list-container",list:"p-multiselect-list",optionGroup:"p-multiselect-option-group",option:({instance:n,option:e,index:t,getItemOptions:i})=>({"p-multiselect-option":!0,"p-multiselect-option-selected":n.isSelected(e)&&n.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(t,i),"p-disabled":n.isOptionDisabled(e)}),emptyMessage:"p-multiselect-empty-message"},Ox=(()=>{class n extends Zn{name="multiselect";theme=r7;classes=o7;inlineStyles=a7;static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();var s7={provide:lc,useExisting:ic(()=>Kt),multi:!0},l7=(()=>{class n extends Fn{id;option;selected;label;disabled;itemSize;focused;ariaPosInset;ariaSetSize;variant;template;checkIconTemplate;itemCheckboxIconTemplate;highlightOnSelect;onClick=new et;onMouseEnter=new et;onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option,selected:this.selected}),t.stopPropagation(),t.preventDefault()}onOptionMouseEnter(t){this.onMouseEnter.emit({originalEvent:t,option:this.option,selected:this.selected})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275cmp=re({type:n,selectors:[["p-multiSelectItem"],["p-multiselect-item"]],inputs:{id:"id",option:"option",selected:[2,"selected","selected",Ee],label:"label",disabled:[2,"disabled","disabled",Ee],itemSize:[2,"itemSize","itemSize",un],focused:[2,"focused","focused",Ee],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",variant:"variant",template:"template",checkIconTemplate:"checkIconTemplate",itemCheckboxIconTemplate:"itemCheckboxIconTemplate",highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",Ee]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Sn],decls:5,vars:28,consts:[["checkboxicon",""],["pRipple","","role","option",1,"p-multiselect-option",3,"click","mouseenter","ngStyle","ngClass","id"],[3,"ngModel","binary","tabindex","variant","ariaLabel"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(d(0,"li",1),L("click",function(o){return r.onOptionClick(o)})("mouseenter",function(o){return r.onOptionMouseEnter(o)}),d(1,"p-checkbox",2),R(2,rP,3,0,"ng-container",3),u(),R(3,aP,2,1,"span",3)(4,oP,1,0,"ng-container",4),u()),i&2&&(g("ngStyle",Ae(20,nu,r.itemSize+"px"))("ngClass",Kv(22,J6,r.selected&&r.highlightOnSelect,r.disabled,r.focused))("id",r.id),le("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled)("aria-checked",r.selected),c(),g("ngModel",r.selected)("binary",!0)("tabindex",-1)("variant",r.variant)("ariaLabel",r.label),c(),g("ngIf",r.itemCheckboxIconTemplate),c(),g("ngIf",!r.template),c(),g("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Ae(26,Nx,r.option)))},dependencies:[pe,zi,ge,Bn,Rn,Jv,Ye,Xe,Ze,He,yi],encapsulation:2})}return n})(),Kt=(()=>{class n extends Fn{zone;filterService;overlayService;id;ariaLabel;style;styleClass;panelStyle;panelStyleClass;inputId;disabled;fluid;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex=0;variant;appendTo;dataKey;name;ariaLabelledBy;set displaySelectedLabel(t){this._displaySelectedLabel=t}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(t){this._maxSelectedLabels=t}get maxSelectedLabels(){return this._maxSelectedLabels}selectionLimit;selectedItemsLabel;showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;chipIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;loading=!1;virtualScrollItemSize;loadingIcon;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!1;display="comma";autocomplete="off";size;showClear=!1;autofocus;get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.log("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.log("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.log("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.log("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(t){this._defaultLabel=t,console.log("defaultLabel property is deprecated since 16.6.0, use placeholder instead")}get defaultLabel(){return this._defaultLabel}set placeholder(t){this._placeholder.set(t)}get placeholder(){return this._placeholder.asReadonly()}get options(){return this._options()}set options(t){JS(this._options(),t)||this._options.set(t)}get filterValue(){return this._filterValue()}set filterValue(t){this._filterValue.set(t)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.log("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get selectAll(){return this._selectAll}set selectAll(t){this._selectAll=t}focusOnHover=!0;filterFields;selectOnFocus=!1;autoOptionFocus=!1;highlightOnSelect=!0;onChange=new et;onFilter=new et;onFocus=new et;onBlur=new et;onClick=new et;onClear=new et;onPanelShow=new et;onPanelHide=new et;onLazyLoad=new et;onRemove=new et;onSelectAllChange=new et;overlayViewChild;filterInputChild;focusInputViewChild;itemsViewChild;scroller;lastHiddenFocusableElementOnOverlay;firstHiddenFocusableElementOnOverlay;headerCheckboxViewChild;footerFacet;headerFacet;_componentStyle=Qi(Ox);searchValue;searchTimeout;_selectAll=null;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_defaultLabel;_placeholder=Eo(void 0);_itemSize;_selectionLimit;_disableTooltip=!1;value;_filteredOptions;onModelChange=()=>{};onModelTouched=()=>{};valuesAsString;focus;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;checkIconTemplate;loadingIconTemplate;filterIconTemplate;removeTokenIconTemplate;chipIconTemplate;clearIconTemplate;dropdownIconTemplate;itemCheckboxIconTemplate;headerCheckboxIconTemplate;templates;_itemTemplate;_groupTemplate;_loaderTemplate;_headerTemplate;_filterTemplate;_footerTemplate;_emptyFilterTemplate;_emptyTemplate;_selectedItemsTemplate;_checkIconTemplate;_loadingIconTemplate;_filterIconTemplate;_removeTokenIconTemplate;_chipIconTemplate;_clearIconTemplate;_dropdownIconTemplate;_itemCheckboxIconTemplate;_headerCheckboxIconTemplate;ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this._itemTemplate=t.template;break;case"group":this._groupTemplate=t.template;break;case"selectedItems":case"selecteditems":this._selectedItemsTemplate=t.template;break;case"header":this._headerTemplate=t.template;break;case"filter":this._filterTemplate=t.template;break;case"emptyfilter":this._emptyFilterTemplate=t.template;break;case"empty":this._emptyTemplate=t.template;break;case"footer":this._footerTemplate=t.template;break;case"loader":this._loaderTemplate=t.template;break;case"checkicon":this._checkIconTemplate=t.template,console.warn("checkicon is deprecated and will removed in future. Use itemcheckboxicon or headercheckboxicon templates instead.");break;case"headercheckboxicon":this._headerCheckboxIconTemplate=t.template;break;case"loadingicon":this._loadingIconTemplate=t.template;break;case"filtericon":this._filterIconTemplate=t.template;break;case"removetokenicon":this._removeTokenIconTemplate=t.template;break;case"clearicon":this._clearIconTemplate=t.template;break;case"dropdownicon":this._dropdownIconTemplate=t.template;break;case"itemcheckboxicon":this._itemCheckboxIconTemplate=t.template;break;case"chipicon":this._chipIconTemplate=t.template;break;default:this._itemTemplate=t.template;break}})}headerCheckboxFocus;filterOptions;preventModelTouched;preventDocumentDefault;focused=!1;itemsWrapper;_displaySelectedLabel=!0;_maxSelectedLabels=3;modelValue=Eo(null);_filterValue=Eo(null);_options=Eo(null);startRangeIndex=Eo(-1);focusedOptionIndex=Eo(-1);selectedOptions;clickInProgress=!1;get hostClasses(){let t=[];return typeof this.rootClass=="string"?t.push(this.rootClass):Array.isArray(this.rootClass)?t.push(...this.rootClass):typeof this.rootClass=="object"&&Object.keys(this.rootClass).filter(i=>this.rootClass[i]).forEach(i=>t.push(i)),this.styleClass&&t.push(this.styleClass),t.join(" ")}get rootClass(){return this._componentStyle.classes.root({instance:this})}get labelClass(){return this._componentStyle.classes.label({instance:this})}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(ki.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(ki.EMPTY_FILTER_MESSAGE)}get filled(){return typeof this.modelValue()=="string"?!!this.modelValue():qa(this.modelValue())}get isVisibleClearIcon(){return this.modelValue()!=null&&this.modelValue()!==""&&qa(this.modelValue())&&this.showClear&&!this.disabled&&!this.readonly&&this.filled}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}get listLabel(){return this.config.getTranslation(ki.ARIA).listLabel}get hasFluid(){let i=this.el.nativeElement.closest("p-fluid");return this.fluid||!!i}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}visibleOptions=Pm(()=>{let t=this.getAllVisibleAndNonVisibleOptions(),i=eC(t)&&AC.isObject(t[0]);if(this._filterValue()){let r;if(i?r=this.filterService.filter(t,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):r=t.filter(a=>a.toString().toLocaleLowerCase().includes(this._filterValue().toLocaleLowerCase())),this.group){let a=this.options||[],o=[];return a.forEach(s=>{let p=this.getOptionGroupChildren(s).filter(m=>r.includes(m));p.length>0&&o.push(Mt(z({},s),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...p]}))}),this.flatOptions(o)}return r}return t});label=Pm(()=>{let t,i=this.modelValue();if(i&&i.length&&this.displaySelectedLabel){if(qa(this.maxSelectedLabels)&&i.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();t="";for(let r=0;r<i.length;r++)r!==0&&(t+=", "),t+=this.getLabelByValue(i[r])}else t=this.placeholder()||this.defaultLabel||"";return t});chipSelectedItems=Pm(()=>qa(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue().length>this.maxSelectedLabels?this.modelValue().slice(0,this.maxSelectedLabels):this.modelValue());constructor(t,i,r){super(),this.zone=t,this.filterService=i,this.overlayService=r,kS(()=>{let a=this.modelValue(),o=this.getAllVisibleAndNonVisibleOptions();o&&qa(o)&&(this.optionValue&&this.optionLabel&&a?this.selectedOptions=o.filter(s=>a.includes(s[this.optionLabel])||a.includes(s[this.optionValue])):this.selectedOptions=a,this.cd.markForCheck())})}ngOnInit(){super.ngOnInit(),this.id=this.id||ac("pn_id_"),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return this.selectionLimit&&this.modelValue()&&this.modelValue().length===this.selectionLimit}ngAfterViewInit(){super.ngAfterViewInit(),this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(t){return(t||[]).reduce((i,r,a)=>{i.push({optionGroup:r,group:!0,index:a});let o=this.getOptionGroupChildren(r);return o&&o.forEach(s=>i.push(s)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());let t=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[t]})}}updateModel(t,i){this.value=t,this.onModelChange(t),this.modelValue.set(t)}onInputClick(t){t.stopPropagation(),t.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(t,i=!1,r=-1){let{originalEvent:a,option:o}=t;if(this.disabled||this.isOptionDisabled(o))return;let s=this.isSelected(o),l=null;s?l=this.modelValue().filter(p=>!zd(p,this.getOptionValue(o),this.equalityKey())):l=[...this.modelValue()||[],this.getOptionValue(o)],this.updateModel(l,a),r!==-1&&this.focusedOptionIndex.set(r),i&&el(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:t,value:l,itemValue:o})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(t=>this.isValidSelectedOption(t)):-1}onOptionSelectRange(t,i=-1,r=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(r,!0)),r===-1&&(r=this.findNearestSelectedOptionIndex(i)),i!==-1&&r!==-1){let a=Math.min(i,r),o=Math.max(i,r),s=this.visibleOptions().slice(a,o+1).filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(s,t)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(t,i=!1){let r=-1;return this.hasSelectedOption()&&(i?(r=this.findPrevSelectedOptionIndex(t),r=r===-1?this.findNextSelectedOptionIndex(t):r):(r=this.findNextSelectedOptionIndex(t),r=r===-1?this.findPrevSelectedOptionIndex(t):r)),r>-1?r:t}findPrevSelectedOptionIndex(t){let i=this.hasSelectedOption()&&t>0?qd(this.visibleOptions().slice(0,t),r=>this.isValidSelectedOption(r)):-1;return i>-1?i:-1}findFirstFocusedOptionIndex(){let t=this.findFirstSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t}findFirstOptionIndex(){return this.visibleOptions().findIndex(t=>this.isValidOption(t))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(t=>this.isValidSelectedOption(t)):-1}findNextSelectedOptionIndex(t){let i=this.hasSelectedOption()&&t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidSelectedOption(r)):-1;return i>-1?i+t+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return qa(this.modelValue())}isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)}isOptionGroup(t){return(this.group||this.optionGroupLabel)&&t.optionGroup&&t.group}isValidOption(t){return t&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))}isOptionDisabled(t){return this.maxSelectionLimitReached()&&!this.isSelected(t)?!0:this.optionDisabled?tl(t,this.optionDisabled):t&&t.disabled!==void 0?t.disabled:!1}isSelected(t){let i=this.getOptionValue(t);return(this.modelValue()||[]).some(r=>zd(r,i,this.equalityKey()))}isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}getOptionIndex(t,i){return this.virtualScrollerDisabled?t:i&&i.getItemOptions(t).index}getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions().slice(0,t).filter(i=>this.isOptionGroup(i)).length:t)+1}get ariaSetSize(){return this.visibleOptions().filter(t=>!this.isOptionGroup(t)).length}getLabelByValue(t){let r=(this.group?this.flatOptions(this._options()):this._options()||[]).find(a=>!this.isOptionGroup(a)&&zd(this.getOptionValue(a),t,this.equalityKey()));return r?this.getOptionLabel(r):null}getSelectedItemsLabel(){let t=/{(.*?)}/,i=this.selectedItemsLabel?this.selectedItemsLabel:this.config.getTranslation(ki.SELECTION_MESSAGE);return t.test(i)?i.replace(i.match(t)[0],this.modelValue().length+""):i}getOptionLabel(t){return this.optionLabel?tl(t,this.optionLabel):t&&t.label!=null?t.label:t}getOptionValue(t){return this.optionValue?tl(t,this.optionValue):!this.optionLabel&&t&&t.value!==void 0?t.value:t}getOptionGroupLabel(t){return this.optionGroupLabel?tl(t,this.optionGroupLabel):t&&t.label!=null?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?tl(t,this.optionGroupChildren):t.items}onKeyDown(t){if(this.disabled){t.preventDefault();return}let i=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Enter":case"Space":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(t.code==="KeyA"&&i){let r=this.visibleOptions().filter(a=>this.isValidOption(a)).map(a=>this.getOptionValue(a));this.updateModel(r,t),t.preventDefault();break}!i&&tC(t.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(t,t.key),t.preventDefault());break}}onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break;default:break}}onArrowLeftKey(t,i=!1){i&&this.focusedOptionIndex.set(-1)}onArrowDownKey(t){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();t.shiftKey&&this.onOptionSelectRange(t,this.startRangeIndex(),i),this.changeFocusedOptionIndex(t,i),!this.overlayVisible&&this.show(),t.preventDefault(),t.stopPropagation()}onArrowUpKey(t,i=!1){if(t.altKey&&!i)this.focusedOptionIndex()!==-1&&this.onOptionSelect(t,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),t.preventDefault();else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();t.shiftKey&&this.onOptionSelectRange(t,r,this.startRangeIndex()),this.changeFocusedOptionIndex(t,r),!this.overlayVisible&&this.show(),t.preventDefault()}t.stopPropagation()}onHomeKey(t,i=!1){let{currentTarget:r}=t;if(i){let a=r.value.length;r.setSelectionRange(0,t.shiftKey?a:0),this.focusedOptionIndex.set(-1)}else{let a=t.metaKey||t.ctrlKey,o=this.findFirstOptionIndex();t.shiftKey&&a&&this.onOptionSelectRange(t,o,this.startRangeIndex()),this.changeFocusedOptionIndex(t,o),!this.overlayVisible&&this.show()}t.preventDefault()}onEndKey(t,i=!1){let{currentTarget:r}=t;if(i){let a=r.value.length;r.setSelectionRange(t.shiftKey?0:a,a),this.focusedOptionIndex.set(-1)}else{let a=t.metaKey||t.ctrlKey,o=this.findLastFocusedOptionIndex();t.shiftKey&&a&&this.onOptionSelectRange(t,this.startRangeIndex(),o),this.changeFocusedOptionIndex(t,o),!this.overlayVisible&&this.show()}t.preventDefault()}onPageDownKey(t){this.scrollInView(this.visibleOptions().length-1),t.preventDefault()}onPageUpKey(t){this.scrollInView(0),t.preventDefault()}onEnterKey(t){this.overlayVisible?this.focusedOptionIndex()!==-1&&(t.shiftKey?this.onOptionSelectRange(t,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:t,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(t),t.preventDefault()}onEscapeKey(t){this.overlayVisible&&this.hide(!0),t.stopPropagation(),t.preventDefault()}onDeleteKey(t){this.showClear&&(this.clear(t),t.preventDefault())}onTabKey(t,i=!1){i||(this.overlayVisible&&this.hasFocusableElements()?(el(t.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),t.preventDefault()):(this.focusedOptionIndex()!==-1&&this.onOptionSelect({originalEvent:t,option:this.visibleOptions()[this.focusedOptionIndex()]}),this.overlayVisible&&this.hide(this.filter)))}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(t){if(!(this.disabled||this.loading||this.readonly||t.target.isSameNode(this.focusInputViewChild?.nativeElement))){if(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(t.target)){if(this.clickInProgress)return;this.clickInProgress=!0,setTimeout(()=>{this.clickInProgress=!1},150),this.overlayVisible?this.hide(!0):this.show(!0)}this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(t),this.cd.detectChanges()}}onFirstHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?YS(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;el(i)}onInputFocus(t){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:t})}onInputBlur(t){this.focused=!1,this.onBlur.emit({originalEvent:t}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(t){let i=t.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:t,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onLastHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?KS(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;el(i)}onOptionMouseEnter(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)}onHeaderCheckboxKeyDown(t){if(this.disabled){t.preventDefault();return}switch(t.code){case"Space":this.onToggleAll(t);break;case"Enter":this.onToggleAll(t);break;default:break}}onFilterBlur(t){this.focusedOptionIndex.set(-1)}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onToggleAll(t){if(!(this.disabled||this.readonly)){if(this.selectAll!=null)this.onSelectAllChange.emit({originalEvent:t,checked:!this.allSelected()});else{let i=this.getAllVisibleAndNonVisibleOptions().filter(l=>this.isSelected(l)&&(this.optionDisabled?tl(l,this.optionDisabled):l&&l.disabled!==void 0?l.disabled:!1)),r=this.allSelected()?this.visibleOptions().filter(l=>!this.isValidOption(l)&&this.isSelected(l)):this.visibleOptions().filter(l=>this.isSelected(l)||this.isValidOption(l)),o=[...this.filter&&!this.allSelected()?this.getAllVisibleAndNonVisibleOptions().filter(l=>this.isSelected(l)&&this.isValidOption(l)):[],...i,...r].map(l=>this.getOptionValue(l)),s=[...new Set(o)];this.updateModel(s,t),(!s.length||s.length===this.getAllVisibleAndNonVisibleOptions().length)&&this.onSelectAllChange.emit({originalEvent:t,checked:!!s.length})}this.partialSelected()&&(this.selectedOptions=null,this.cd.markForCheck()),this.onChange.emit({originalEvent:t,value:this.value}),mC.focus(this.headerCheckboxViewChild?.inputViewChild?.nativeElement),this.headerCheckboxFocus=!0,t.originalEvent.preventDefault(),t.originalEvent.stopPropagation()}}changeFocusedOptionIndex(t,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=pn(this.itemsViewChild.nativeElement,`li[id="${i}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(t!==-1?t:this.focusedOptionIndex())},0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}writeValue(t){this.value=t,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}allSelected(){return this.selectAll!==null?this.selectAll:qa(this.visibleOptions())&&this.visibleOptions().every(t=>this.isOptionGroup(t)||this.isOptionDisabled(t)||this.isSelected(t))}partialSelected(){return this.selectedOptions&&this.selectedOptions.length>0&&this.selectedOptions.length<this.options.length}show(t){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),t&&el(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(t){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.overlayOptions?.mode==="modal"&&Om(),t&&el(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(t){if(t.toState==="visible"){if(this.itemsWrapper=pn(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-list-container"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=pn(this.itemsWrapper,'[data-p-highlight="true"]');i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit(t)}t.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onPanelHide.emit(t))}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}close(t){this.hide(),t.preventDefault(),t.stopPropagation()}clear(t){this.value=null,this.updateModel(null,t),this.selectedOptions=null,this.onClear.emit(),this._disableTooltip=!0,t.stopPropagation()}labelContainerMouseLeave(){this._disableTooltip&&(this._disableTooltip=!1)}removeOption(t,i){let r=this.modelValue().filter(a=>!zd(a,t,this.equalityKey()));this.updateModel(r,i),this.onChange.emit({originalEvent:i,value:r,itemValue:t}),this.onRemove.emit({newValue:r,removed:t}),i&&i.stopPropagation()}findNextItem(t){let i=t.nextElementSibling;return i?Xn(i.children[0],"p-disabled")||Zv(i.children[0])||Xn(i,"p-multiselect-item-group")?this.findNextItem(i):i.children[0]:null}findPrevItem(t){let i=t.previousElementSibling;return i?Xn(i.children[0],"p-disabled")||Zv(i.children[0])||Xn(i,"p-multiselect-item-group")?this.findPrevItem(i):i.children[0]:null}findNextOptionIndex(t){let i=t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+t+1:t}findPrevOptionIndex(t){let i=t>0?qd(this.visibleOptions().slice(0,t),r=>this.isValidOption(r)):-1;return i>-1?i:t}findLastSelectedOptionIndex(){return this.hasSelectedOption()?qd(this.visibleOptions(),t=>this.isValidSelectedOption(t)):-1}findLastFocusedOptionIndex(){let t=this.findLastSelectedOptionIndex();return t<0?this.findLastOptionIndex():t}findLastOptionIndex(){return qd(this.visibleOptions(),t=>this.isValidOption(t))}searchOptions(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,a=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),r!==-1&&(a=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let t=[];for(let i of this.options){let r=this.filterService.filter(this.getOptionGroupChildren(i),this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);r&&r.length&&t.push(Mt(z({},i),{[this.optionGroupChildren]:r}))}this._filteredOptions=t}else this._filteredOptions=this.filterService.filter(this.options,this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);else this._filteredOptions=null}hasFocusableElements(){return Ud(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}static \u0275fac=function(i){return new(i||n)(B(Ua),B(iC),B(Nm))};static \u0275cmp=re({type:n,selectors:[["p-multiSelect"],["p-multiselect"],["p-multi-select"]],contentQueries:function(i,r,a){if(i&1&&(ye(a,rC,5),ye(a,nC,5),ye(a,sP,4),ye(a,lP,4),ye(a,cP,4),ye(a,dP,4),ye(a,uP,4),ye(a,pP,4),ye(a,mP,4),ye(a,hP,4),ye(a,fP,4),ye(a,gP,4),ye(a,vP,4),ye(a,_P,4),ye(a,yP,4),ye(a,bP,4),ye(a,wP,4),ye(a,SP,4),ye(a,CP,4),ye(a,xP,4),ye(a,$t,4)),i&2){let o;Z(o=J())&&(r.footerFacet=o.first),Z(o=J())&&(r.headerFacet=o.first),Z(o=J())&&(r.itemTemplate=o.first),Z(o=J())&&(r.groupTemplate=o.first),Z(o=J())&&(r.loaderTemplate=o.first),Z(o=J())&&(r.headerTemplate=o.first),Z(o=J())&&(r.filterTemplate=o.first),Z(o=J())&&(r.footerTemplate=o.first),Z(o=J())&&(r.emptyFilterTemplate=o.first),Z(o=J())&&(r.emptyTemplate=o.first),Z(o=J())&&(r.selectedItemsTemplate=o.first),Z(o=J())&&(r.checkIconTemplate=o.first),Z(o=J())&&(r.loadingIconTemplate=o.first),Z(o=J())&&(r.filterIconTemplate=o.first),Z(o=J())&&(r.removeTokenIconTemplate=o.first),Z(o=J())&&(r.chipIconTemplate=o.first),Z(o=J())&&(r.clearIconTemplate=o.first),Z(o=J())&&(r.dropdownIconTemplate=o.first),Z(o=J())&&(r.itemCheckboxIconTemplate=o.first),Z(o=J())&&(r.headerCheckboxIconTemplate=o.first),Z(o=J())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Te(EP,5),Te(IP,5),Te(TP,5),Te(DP,5),Te(AP,5),Te(MP,5),Te(kP,5),Te(PP,5)),i&2){let a;Z(a=J())&&(r.overlayViewChild=a.first),Z(a=J())&&(r.filterInputChild=a.first),Z(a=J())&&(r.focusInputViewChild=a.first),Z(a=J())&&(r.itemsViewChild=a.first),Z(a=J())&&(r.scroller=a.first),Z(a=J())&&(r.lastHiddenFocusableElementOnOverlay=a.first),Z(a=J())&&(r.firstHiddenFocusableElementOnOverlay=a.first),Z(a=J())&&(r.headerCheckboxViewChild=a.first)}},hostVars:7,hostBindings:function(i,r){i&1&&L("click",function(o){return r.onContainerClick(o)}),i&2&&(le("id",r.id),_e(r.style),si(r.hostClasses),mi("p-variant-filled",r.variant==="filled"||r.config.inputVariant()==="filled"||r.config.inputStyle()==="filled"))},inputs:{id:"id",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:[2,"disabled","disabled",Ee],fluid:[2,"fluid","fluid",Ee],readonly:[2,"readonly","readonly",Ee],group:[2,"group","group",Ee],filter:[2,"filter","filter",Ee],filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:[2,"overlayVisible","overlayVisible",Ee],tabindex:[2,"tabindex","tabindex",un],variant:"variant",appendTo:"appendTo",dataKey:"dataKey",name:"name",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:[2,"selectionLimit","selectionLimit",un],selectedItemsLabel:"selectedItemsLabel",showToggleAll:[2,"showToggleAll","showToggleAll",Ee],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",Ee],dropdownIcon:"dropdownIcon",chipIcon:"chipIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:[2,"showHeader","showHeader",Ee],filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",Ee],virtualScroll:[2,"virtualScroll","virtualScroll",Ee],loading:[2,"loading","loading",Ee],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",un],loadingIcon:"loadingIcon",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:[2,"autofocusFilter","autofocusFilter",Ee],display:"display",autocomplete:"autocomplete",size:"size",showClear:[2,"showClear","showClear",Ee],autofocus:[2,"autofocus","autofocus",Ee],autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize",selectAll:"selectAll",focusOnHover:[2,"focusOnHover","focusOnHover",Ee],filterFields:"filterFields",selectOnFocus:[2,"selectOnFocus","selectOnFocus",Ee],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",Ee],highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",Ee]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[xe([s7,Ox]),Sn],ngContentSelectors:RP,decls:16,vars:35,consts:[["focusInput",""],["elseBlock",""],["overlay",""],["content",""],["token",""],["removeicon",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["checkboxicon",""],["filterInput",""],["scroller",""],["loader",""],["items",""],[1,"p-hidden-accessible"],["role","combobox",3,"focus","blur","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus"],[1,"p-multiselect-label-container",3,"mouseleave","pTooltip","tooltipDisabled","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"ngClass"],[4,"ngIf"],[1,"p-multiselect-dropdown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],[1,"p-multiselect-chip-item"],["class","p-multiselect-chip-item",4,"ngFor","ngForOf"],["styleClass","p-multiselect-chip",3,"onRemove","label","removable","removeIcon"],["class","p-multiselect-chip-icon",3,"click",4,"ngIf"],[1,"p-multiselect-chip-icon",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[1,"p-multiselect-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-multiselect-dropdown-icon",4,"ngIf"],["class","p-multiselect-dropdown-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-dropdown-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-dropdown-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-list-container"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-multiselect-header"],[3,"ngModel","ariaLabel","binary","variant","disabled","onChange",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],[3,"onChange","ngModel","ariaLabel","binary","variant","disabled"],[1,"p-multiselect-filter-container"],["pInputText","","type","text","role","searchbox",1,"p-multiselect-filter",3,"input","keydown","click","blur","variant","value","disabled"],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-list",3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-multiselect-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-multiselect-option-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","selected","label","disabled","template","checkIconTemplate","itemCheckboxIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize","variant","highlightOnSelect"],["role","option",1,"p-multiselect-empty-message",3,"ngStyle"]],template:function(i,r){if(i&1){let a=W();Qr(LP),d(0,"div",16)(1,"input",17,0),L("focus",function(s){return y(a),b(r.onInputFocus(s))})("blur",function(s){return y(a),b(r.onInputBlur(s))})("keydown",function(s){return y(a),b(r.onKeyDown(s))}),u()(),d(3,"div",18),L("mouseleave",function(){return y(a),b(r.labelContainerMouseLeave())}),d(4,"div",19),R(5,KP,3,2,"ng-container",20)(6,JP,3,6,"ng-container",20),u()(),R(7,rL,3,2,"ng-container",20),d(8,"div",21),R(9,dL,3,2,"ng-container",22)(10,vL,2,2,"ng-template",null,1,ae),u(),d(12,"p-overlay",23,2),A("visibleChange",function(s){return y(a),D(r.overlayVisible,s)||(r.overlayVisible=s),b(s)}),L("onAnimationStart",function(s){return y(a),b(r.onOverlayAnimationStart(s))})("onHide",function(){return y(a),b(r.hide())}),R(14,n7,13,18,"ng-template",null,3,ae),u()}if(i&2){let a,o=Q(11);le("data-p-hidden-accessible",!0),c(),g("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("pAutoFocus",r.autofocus),le("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(a=r.overlayVisible)!==null&&a!==void 0?a:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("value",r.label()||"empty"),c(2),g("pTooltip",r.tooltip)("tooltipDisabled",r._disableTooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass),c(),g("ngClass",r.labelClass),c(),g("ngIf",!r.selectedItemsTemplate&&!r._selectedItemsTemplate),c(),g("ngIf",r.selectedItemsTemplate||r._selectedItemsTemplate),c(),g("ngIf",r.isVisibleClearIcon),c(2),g("ngIf",r.loading)("ngIfElse",o),c(3),T("visible",r.overlayVisible),g("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:[pe,zi,Gi,ge,Bn,Rn,l7,kC,yi,_r,PC,sc,_C,CC,$a,Hm,Pi,Li,nt,Sa,Jv,Ye,Xe,Ze],encapsulation:2,changeDetection:0})}return n})(),gt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wn({type:n});static \u0275inj=bn({imports:[Kt,yi,yi]})}return n})();var c7=["container"],d7=["icon"],u7=["closeicon"],p7=["*"],m7=(n,e)=>({showTransitionParams:n,hideTransitionParams:e}),h7=n=>({value:"visible()",params:n}),f7=n=>({closeCallback:n});function g7(n,e){n&1&&Pt(0)}function v7(n,e){if(n&1&&R(0,g7,1,0,"ng-container",7),n&2){let t=w(2);g("ngTemplateOutlet",t.iconTemplate||t.iconTemplate)}}function _7(n,e){if(n&1&&P(0,"i",3),n&2){let t=w(2);g("ngClass",t.icon)}}function y7(n,e){if(n&1&&P(0,"span",9),n&2){let t=w(3);g("ngClass",t.cx("text"))("innerHTML",t.text,SS)}}function b7(n,e){if(n&1&&(d(0,"div"),R(1,y7,1,2,"span",8),u()),n&2){let t=w(2);c(),g("ngIf",!t.escape)}}function w7(n,e){if(n&1&&(d(0,"span",5),v(1),u()),n&2){let t=w(3);g("ngClass",t.cx("text")),c(),x(t.text)}}function S7(n,e){if(n&1&&R(0,w7,2,2,"span",10),n&2){let t=w(2);g("ngIf",t.escape&&t.text)}}function C7(n,e){n&1&&Pt(0)}function x7(n,e){if(n&1&&R(0,C7,1,0,"ng-container",11),n&2){let t=w(2);g("ngTemplateOutlet",t.containerTemplate||t.containerTemplate)("ngTemplateOutletContext",Ae(2,f7,t.close.bind(t)))}}function E7(n,e){if(n&1&&(d(0,"span",5),gr(1),u()),n&2){let t=w(2);g("ngClass",t.cx("text"))}}function I7(n,e){if(n&1&&P(0,"i",13),n&2){let t=w(3);g("ngClass",t.closeIcon)}}function T7(n,e){n&1&&Pt(0)}function D7(n,e){if(n&1&&R(0,T7,1,0,"ng-container",7),n&2){let t=w(3);g("ngTemplateOutlet",t.closeIconTemplate||t._closeIconTemplate)}}function A7(n,e){n&1&&P(0,"TimesIcon",14)}function M7(n,e){if(n&1){let t=W();d(0,"button",12),L("click",function(r){y(t);let a=w(2);return b(a.close(r))}),R(1,I7,1,1,"i",13)(2,D7,1,1,"ng-container")(3,A7,1,0,"TimesIcon",14),u()}if(n&2){let t=w(2);le("aria-label",t.closeAriaLabel),c(),hi(t.closeIcon?1:-1),c(),hi(t.closeIconTemplate||t._closeIconTemplate?2:-1),c(),hi(!t.closeIconTemplate&&!t._closeIconTemplate&&!t.closeIcon?3:-1)}}function k7(n,e){if(n&1&&(d(0,"div",1)(1,"div",2),R(2,v7,1,1,"ng-container")(3,_7,1,1,"i",3)(4,b7,2,1,"div",4)(5,S7,1,1,"ng-template",null,0,ae)(7,x7,1,4,"ng-container")(8,E7,2,1,"span",5)(9,M7,4,4,"button",6),u()()),n&2){let t=Q(6),i=w();g("ngClass",i.containerClass)("@messageAnimation",Ae(13,h7,li(10,m7,i.showTransitionOptions,i.hideTransitionOptions))),le("aria-live","polite")("role","alert"),c(2),hi(i.iconTemplate||i._iconTemplate?2:-1),c(),hi(i.icon?3:-1),c(),g("ngIf",!i.escape)("ngIfElse",t),c(3),hi(i.containerTemplate||i._containerTemplate?7:8),c(2),hi(i.closable?9:-1)}}var P7=({dt:n})=>`
.p-message {
    border-radius: ${n("message.border.radius")};
    outline-width: ${n("message.border.width")};
    outline-style: solid;
}

.p-message-content {
    display: flex;
    align-items: center;
    padding: ${n("message.content.padding")};
    gap: ${n("message.content.gap")};
    height: 100%;
}

.p-message-icon {
    flex-shrink: 0;
}

.p-message-close-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    margin-inline-start: auto;
    overflow: hidden;
    position: relative;
    width: ${n("message.close.button.width")};
    height: ${n("message.close.button.height")};
    border-radius: ${n("message.close.button.border.radius")};
    background: transparent;
    transition: background ${n("message.transition.duration")}, color ${n("message.transition.duration")}, outline-color ${n("message.transition.duration")}, box-shadow ${n("message.transition.duration")}, opacity 0.3s;
    outline-color: transparent;
    color: inherit;
    padding: 0;
    border: none;
    cursor: pointer;
    user-select: none;
}

.p-message-close-icon {
    font-size: ${n("message.close.icon.size")};
    width: ${n("message.close.icon.size")};
    height: ${n("message.close.icon.size")};
}

.p-message-close-button:focus-visible {
    outline-width: ${n("message.close.button.focus.ring.width")};
    outline-style: ${n("message.close.button.focus.ring.style")};
    outline-offset: ${n("message.close.button.focus.ring.offset")};
}

.p-message-info {
    background: ${n("message.info.background")};
    outline-color: ${n("message.info.border.color")};
    color: ${n("message.info.color")};
    box-shadow: ${n("message.info.shadow")};
}

.p-message-info .p-message-close-button:focus-visible {
    outline-color: ${n("message.info.close.button.focus.ring.color")};
    box-shadow: ${n("message.info.close.button.focus.ring.shadow")};
}

.p-message-info .p-message-close-button:hover {
    background: ${n("message.info.close.button.hover.background")};
}

.p-message-info.p-message-outlined {
    color: ${n("message.info.outlined.color")};
    outline-color: ${n("message.info.outlined.border.color")};
}

.p-message-info.p-message-simple {
    color: ${n("message.info.simple.color")};
}

.p-message-success {
    background: ${n("message.success.background")};
    outline-color: ${n("message.success.border.color")};
    color: ${n("message.success.color")};
    box-shadow: ${n("message.success.shadow")};
}

.p-message-success .p-message-close-button:focus-visible {
    outline-color: ${n("message.success.close.button.focus.ring.color")};
    box-shadow: ${n("message.success.close.button.focus.ring.shadow")};
}

.p-message-success .p-message-close-button:hover {
    background: ${n("message.success.close.button.hover.background")};
}

.p-message-success.p-message-outlined {
    color: ${n("message.success.outlined.color")};
    outline-color: ${n("message.success.outlined.border.color")};
}

.p-message-success.p-message-simple {
    color: ${n("message.success.simple.color")};
}

.p-message-warn {
    background: ${n("message.warn.background")};
    outline-color: ${n("message.warn.border.color")};
    color: ${n("message.warn.color")};
    box-shadow: ${n("message.warn.shadow")};
}

.p-message-warn .p-message-close-button:focus-visible {
    outline-color: ${n("message.warn.close.button.focus.ring.color")};
    box-shadow: ${n("message.warn.close.button.focus.ring.shadow")};
}

.p-message-warn .p-message-close-button:hover {
    background: ${n("message.warn.close.button.hover.background")};
}

.p-message-warn.p-message-outlined {
    color: ${n("message.warn.outlined.color")};
    outline-color: ${n("message.warn.outlined.border.color")};
}

.p-message-warn.p-message-simple {
    color: ${n("message.warn.simple.color")};
}

.p-message-error {
    background: ${n("message.error.background")};
    outline-color: ${n("message.error.border.color")};
    color: ${n("message.error.color")};
    box-shadow: ${n("message.error.shadow")};
}

.p-message-error .p-message-close-button:focus-visible {
    outline-color: ${n("message.error.close.button.focus.ring.color")};
    box-shadow: ${n("message.error.close.button.focus.ring.shadow")};
}

.p-message-error .p-message-close-button:hover {
    background: ${n("message.error.close.button.hover.background")};
}

.p-message-error.p-message-outlined {
    color: ${n("message.error.outlined.color")};
    outline-color: ${n("message.error.outlined.border.color")};
}

.p-message-error.p-message-simple {
    color: ${n("message.error.simple.color")};
}

.p-message-secondary {
    background: ${n("message.secondary.background")};
    outline-color: ${n("message.secondary.border.color")};
    color: ${n("message.secondary.color")};
    box-shadow: ${n("message.secondary.shadow")};
}

.p-message-secondary .p-message-close-button:focus-visible {
    outline-color: ${n("message.secondary.close.button.focus.ring.color")};
    box-shadow: ${n("message.secondary.close.button.focus.ring.shadow")};
}

.p-message-secondary .p-message-close-button:hover {
    background: ${n("message.secondary.close.button.hover.background")};
}

.p-message-secondary.p-message-outlined {
    color: ${n("message.secondary.outlined.color")};
    outline-color: ${n("message.secondary.outlined.border.color")};
}

.p-message-secondary.p-message-simple {
    color: ${n("message.secondary.simple.color")};
}

.p-message-contrast {
    background: ${n("message.contrast.background")};
    outline-color: ${n("message.contrast.border.color")};
    color: ${n("message.contrast.color")};
    box-shadow: ${n("message.contrast.shadow")};
}

.p-message-contrast .p-message-close-button:focus-visible {
    outline-color: ${n("message.contrast.close.button.focus.ring.color")};
    box-shadow: ${n("message.contrast.close.button.focus.ring.shadow")};
}

.p-message-contrast .p-message-close-button:hover {
    background: ${n("message.contrast.close.button.hover.background")};
}

.p-message-contrast.p-message-outlined {
    color: ${n("message.contrast.outlined.color")};
    outline-color: ${n("message.contrast.outlined.border.color")};
}

.p-message-contrast.p-message-simple {
    color: ${n("message.contrast.simple.color")};
}

.p-message-text {
    display: inline-flex;
    align-items: center;
    font-size: ${n("message.text.font.size")};
    font-weight: ${n("message.text.font.weight")};
}

.p-message-icon {
    font-size: ${n("message.icon.size")};
    width: ${n("message.icon.size")};
    height: ${n("message.icon.size")};
}

.p-message-enter-from {
    opacity: 0;
}

.p-message-enter-active {
    transition: opacity 0.3s;
}

.p-message.p-message-leave-from {
    max-height: 1000px;
}

.p-message.p-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin: 0;
}

.p-message-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin 0.3s;
}

.p-message-leave-active .p-message-close-button {
    opacity: 0;
}

.p-message-sm .p-message-content {
    padding: ${n("message.content.sm.padding")};
}

.p-message-sm .p-message-text {
    font-size: ${n("message.text.sm.font.size")};
}

.p-message-sm .p-message-icon {
    font-size: ${n("message.icon.sm.size")};
    width: ${n("message.icon.sm.size")};
    height: ${n("message.icon.sm.size")};
}

.p-message-sm .p-message-close-icon {
    font-size: ${n("message.close.icon.sm.size")};
    width: ${n("message.close.icon.sm.size")};
    height: ${n("message.close.icon.sm.size")};
}

.p-message-lg .p-message-content {
    padding: ${n("message.content.lg.padding")};
}

.p-message-lg .p-message-text {
    font-size: ${n("message.text.lg.font.size")};
}

.p-message-lg .p-message-icon {
    font-size: ${n("message.icon.lg.size")};
    width: ${n("message.icon.lg.size")};
    height: ${n("message.icon.lg.size")};
}

.p-message-lg .p-message-close-icon {
    font-size: ${n("message.close.icon.lg.size")};
    width: ${n("message.close.icon.lg.size")};
    height: ${n("message.close.icon.lg.size")};
}

.p-message-outlined {
    background: transparent;
    outline-width: ${n("message.outlined.border.width")};
}

.p-message-simple {
    background: transparent;
    outline-color: transparent;
    box-shadow: none;
}

.p-message-simple .p-message-content {
    padding: ${n("message.simple.content.padding")};
}

.p-message-outlined .p-message-close-button:hover,
.p-message-simple .p-message-close-button:hover {
    background: transparent;
}`,L7={root:({props:n})=>["p-message p-component p-message-"+n.severity,{"p-message-simple":n.variant==="simple"}],content:"p-message-content",icon:"p-message-icon",text:"p-message-text",closeButton:"p-message-close-button",closeIcon:"p-message-close-icon"},Wx=(()=>{class n extends Zn{name="message";theme=P7;classes=L7;static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();var Ux=(()=>{class n extends Fn{severity="info";text;escape=!0;style;styleClass;closable=!1;icon;closeIcon;life;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";size;variant;onClose=new et;get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}get containerClass(){let t=this.variant==="outlined"?"p-message-outlined":this.variant==="simple"?"p-message-simple":"",i=this.size==="small"?"p-message-sm":this.size==="large"?"p-message-lg":"";return`p-message-${this.severity} ${t} ${i}`.trim()+(this.styleClass?" "+this.styleClass:"")}visible=Eo(!0);_componentStyle=Qi(Wx);containerTemplate;iconTemplate;closeIconTemplate;templates;_containerTemplate;_iconTemplate;_closeIconTemplate;ngOnInit(){super.ngOnInit(),this.life&&setTimeout(()=>{this.visible.set(!1)},this.life)}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"container":this._containerTemplate=t.template;break;case"icon":this._iconTemplate=t.template;break;case"closeicon":this._closeIconTemplate=t.template;break}})}close(t){this.visible.set(!1),this.onClose.emit({originalEvent:t})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275cmp=re({type:n,selectors:[["p-message"]],contentQueries:function(i,r,a){if(i&1&&(ye(a,c7,4),ye(a,d7,4),ye(a,u7,4),ye(a,$t,4)),i&2){let o;Z(o=J())&&(r.containerTemplate=o.first),Z(o=J())&&(r.iconTemplate=o.first),Z(o=J())&&(r.closeIconTemplate=o.first),Z(o=J())&&(r.templates=o)}},inputs:{severity:"severity",text:"text",escape:[2,"escape","escape",Ee],style:"style",styleClass:"styleClass",closable:[2,"closable","closable",Ee],icon:"icon",closeIcon:"closeIcon",life:"life",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",size:"size",variant:"variant"},outputs:{onClose:"onClose"},features:[xe([Wx]),Sn],ngContentSelectors:p7,decls:1,vars:1,consts:[["escapeOut",""],[1,"p-message","p-component",3,"ngClass"],[1,"p-message-content"],[1,"p-message-icon",3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"ngClass"],["pRipple","","type","button",1,"p-message-close-button"],[4,"ngTemplateOutlet"],[3,"ngClass","innerHTML",4,"ngIf"],[3,"ngClass","innerHTML"],[3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pRipple","","type","button",1,"p-message-close-button",3,"click"],[1,"p-message-close-icon",3,"ngClass"],["styleClass","p-message-close-icon"]],template:function(i,r){i&1&&(Qr(),R(0,k7,10,15,"div",1)),i&2&&hi(r.visible()?0:-1)},dependencies:[pe,zi,ge,Bn,$a,He,yi],encapsulation:2,data:{animation:[rc("messageAnimation",[za(":enter",[Kn({opacity:0,transform:"translateY(-25%)"}),ja("{{showTransitionParams}}")]),za(":leave",[ja("{{hideTransitionParams}}",Kn({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return n})();var R7=["content"],B7=(n,e)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":n,"p-progressbar-indeterminate":e}),F7=n=>({$implicit:n});function O7(n,e){if(n&1&&(d(0,"div"),v(1),u()),n&2){let t=w(2);$r("display",t.value!=null&&t.value!==0?"flex":"none"),le("data-pc-section","label"),c(),Se("",t.value,"",t.unit,"")}}function N7(n,e){n&1&&Pt(0)}function V7(n,e){if(n&1&&(d(0,"div",3)(1,"div",4),R(2,O7,2,5,"div",5)(3,N7,1,0,"ng-container",6),u()()),n&2){let t=w();si(t.valueStyleClass),$r("width",t.value+"%")("background",t.color),g("ngClass","p-progressbar-value p-progressbar-value-animate"),le("data-pc-section","value"),c(2),g("ngIf",t.showValue&&!t.contentTemplate&&!t._contentTemplate),c(),g("ngTemplateOutlet",t.contentTemplate||t._contentTemplate)("ngTemplateOutletContext",Ae(11,F7,t.value))}}function H7(n,e){if(n&1&&(d(0,"div",7),P(1,"div",8),u()),n&2){let t=w();si(t.valueStyleClass),g("ngClass","p-progressbar-indeterminate-container"),le("data-pc-section","container"),c(),$r("background",t.color),le("data-pc-section","value")}}var W7=({dt:n})=>`
.p-progressbar {
    position: relative;
    overflow: hidden;
    height: ${n("progressbar.height")};
    background: ${n("progressbar.background")};
    border-radius: ${n("progressbar.border.radius")};
}

.p-progressbar-value {
    margin: 0;
    background: ${n("progressbar.value.background")};
}

.p-progressbar-label {
    color: ${n("progressbar.label.color")};
    font-size: ${n("progressbar.label.font.size")};
    font-weight: ${n("progressbar.label.font.weight")};
}

.p-progressbar-determinate .p-progressbar-value {
    height: 100%;
    width: 0%;
    position: absolute;
    display: none;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    transition: width 1s ease-in-out;
}

.p-progressbar-determinate .p-progressbar-label {
    display: inline-flex;
}

.p-progressbar-indeterminate .p-progressbar-value::before {
    content: "";
    position: absolute;
    background: inherit;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    will-change: inset-inline-start, inset-inline-end;
    animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
}

.p-progressbar-indeterminate .p-progressbar-value::after {
    content: "";
    position: absolute;
    background: inherit;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    will-change: inset-inline-start, inset-inline-end;
    animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    animation-delay: 1.15s;
}

@-webkit-keyframes p-progressbar-indeterminate-anim {
    0% {
        inset-inline-start: -35%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
    100% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
}
@keyframes p-progressbar-indeterminate-anim {
    0% {
        inset-inline-start: -35%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
    100% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
}
@-webkit-keyframes p-progressbar-indeterminate-anim-short {
    0% {
        inset-inline-start: -200%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
    100% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
}
@keyframes p-progressbar-indeterminate-anim-short {
    0% {
        inset-inline-start: -200%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
    100% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
}
`,U7={root:({instance:n})=>["p-progressbar p-component",{"p-progressbar-determinate":n.determinate,"p-progressbar-indeterminate":n.indeterminate}],value:"p-progressbar-value",label:"p-progressbar-label"},jx=(()=>{class n extends Zn{name="progressbar";theme=W7;classes=U7;static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();var ru=(()=>{class n extends Fn{value;showValue=!0;styleClass;valueStyleClass;style;unit="%";mode="determinate";color;contentTemplate;_componentStyle=Qi(jx);templates;_contentTemplate;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this._contentTemplate=t.template;break;default:this._contentTemplate=t.template}})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275cmp=re({type:n,selectors:[["p-progressBar"],["p-progressbar"],["p-progress-bar"]],contentQueries:function(i,r,a){if(i&1&&(ye(a,R7,4),ye(a,$t,4)),i&2){let o;Z(o=J())&&(r.contentTemplate=o.first),Z(o=J())&&(r.templates=o)}},inputs:{value:[2,"value","value",un],showValue:[2,"showValue","showValue",Ee],styleClass:"styleClass",valueStyleClass:"valueStyleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[xe([jx]),Sn],decls:3,vars:15,consts:[["role","progressbar",3,"ngStyle","ngClass"],["style","display:flex",3,"ngClass","class","width","background",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[2,"display","flex",3,"ngClass"],[1,"p-progressbar-label"],[3,"display",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(i,r){i&1&&(d(0,"div",0),R(1,V7,4,13,"div",1)(2,H7,2,7,"div",2),u()),i&2&&(si(r.styleClass),g("ngStyle",r.style)("ngClass",li(12,B7,r.mode==="determinate",r.mode==="indeterminate")),le("aria-valuemin",0)("aria-valuenow",r.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root")("aria-label",r.value+r.unit),c(),g("ngIf",r.mode==="determinate"),c(),g("ngIf",r.mode==="indeterminate"))},dependencies:[pe,zi,ge,Bn,Rn,yi],encapsulation:2,changeDetection:0})}return n})(),zx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wn({type:n});static \u0275inj=bn({imports:[ru,yi,yi]})}return n})();var z7=["file"],q7=["header"],qx=["content"],$7=["toolbar"],Q7=["chooseicon"],G7=["filelabel"],Y7=["uploadicon"],K7=["cancelicon"],X7=["empty"],Z7=["advancedfileinput"],J7=["basicfileinput"],eR=(n,e,t,i,r)=>({$implicit:n,uploadedFiles:e,chooseCallback:t,clearCallback:i,uploadCallback:r}),tR=(n,e,t,i,r,a,o,s)=>({$implicit:n,uploadedFiles:e,chooseCallback:t,clearCallback:i,removeUploadedFileCallback:r,removeFileCallback:a,progress:o,messages:s}),iR=n=>({$implicit:n});function nR(n,e){if(n&1&&P(0,"span"),n&2){let t=w(3);si(t.chooseIcon),le("aria-label",!0)("data-pc-section","chooseicon")}}function rR(n,e){n&1&&P(0,"PlusIcon"),n&2&&le("aria-label",!0)("data-pc-section","chooseicon")}function aR(n,e){}function oR(n,e){n&1&&R(0,aR,0,0,"ng-template")}function sR(n,e){if(n&1&&(d(0,"span"),R(1,oR,1,0,null,11),u()),n&2){let t=w(4);le("aria-label",!0)("data-pc-section","chooseicon"),c(),g("ngTemplateOutlet",t.chooseIconTemplate||t._chooseIconTemplate)}}function lR(n,e){if(n&1&&(Ue(0),R(1,rR,1,2,"PlusIcon",9)(2,sR,2,3,"span",9),je()),n&2){let t=w(3);c(),g("ngIf",!t.chooseIconTemplate&&!t._chooseIconTemplate),c(),g("ngIf",t.chooseIconTemplate||t._chooseIconTemplate)}}function cR(n,e){if(n&1&&P(0,"span",21),n&2){let t=w(4);g("ngClass",t.uploadIcon),le("aria-hidden",!0)}}function dR(n,e){n&1&&P(0,"UploadIcon")}function uR(n,e){}function pR(n,e){n&1&&R(0,uR,0,0,"ng-template")}function mR(n,e){if(n&1&&(d(0,"span"),R(1,pR,1,0,null,11),u()),n&2){let t=w(5);le("aria-hidden",!0),c(),g("ngTemplateOutlet",t.uploadIconTemplate||t._uploadIconTemplate)}}function hR(n,e){if(n&1&&(Ue(0),R(1,dR,1,0,"UploadIcon",9)(2,mR,2,2,"span",9),je()),n&2){let t=w(4);c(),g("ngIf",!t.uploadIconTemplate&&!t._uploadIconTemplate),c(),g("ngIf",t.uploadIconTemplate||t._uploadIconTemplate)}}function fR(n,e){if(n&1){let t=W();d(0,"p-button",19),L("onClick",function(){y(t);let r=w(3);return b(r.upload())}),R(1,cR,1,2,"span",20)(2,hR,3,2,"ng-container",9),u()}if(n&2){let t=w(3);g("label",t.uploadButtonLabel)("disabled",!t.hasFiles()||t.isFileLimitExceeded())("styleClass","p-fileupload-upload-button "+t.uploadStyleClass)("buttonProps",t.uploadButtonProps),c(),g("ngIf",t.uploadIcon),c(),g("ngIf",!t.uploadIcon)}}function gR(n,e){if(n&1&&P(0,"span",21),n&2){let t=w(4);g("ngClass",t.cancelIcon)}}function vR(n,e){n&1&&P(0,"TimesIcon"),n&2&&le("aria-hidden",!0)}function _R(n,e){}function yR(n,e){n&1&&R(0,_R,0,0,"ng-template")}function bR(n,e){if(n&1&&(d(0,"span"),R(1,yR,1,0,null,11),u()),n&2){let t=w(5);le("aria-hidden",!0),c(),g("ngTemplateOutlet",t.cancelIconTemplate||t._cancelIconTemplate)}}function wR(n,e){if(n&1&&(Ue(0),R(1,vR,1,1,"TimesIcon",9)(2,bR,2,2,"span",9),je()),n&2){let t=w(4);c(),g("ngIf",!t.cancelIconTemplate&&!t._cancelIconTemplate),c(),g("ngIf",t.cancelIconTemplate||t._cancelIconTemplate)}}function SR(n,e){if(n&1){let t=W();d(0,"p-button",19),L("onClick",function(){y(t);let r=w(3);return b(r.clear())}),R(1,gR,1,1,"span",20)(2,wR,3,2,"ng-container",9),u()}if(n&2){let t=w(3);g("label",t.cancelButtonLabel)("disabled",!t.hasFiles()||t.uploading)("styleClass","p-fileupload-cancel-button "+t.cancelStyleClass)("buttonProps",t.cancelButtonProps),c(),g("ngIf",t.cancelIcon),c(),g("ngIf",!t.cancelIcon)}}function CR(n,e){if(n&1){let t=W();Ue(0),d(1,"p-button",16),L("focus",function(){y(t);let r=w(2);return b(r.onFocus())})("blur",function(){y(t);let r=w(2);return b(r.onBlur())})("onClick",function(){y(t);let r=w(2);return b(r.choose())})("keydown.enter",function(){y(t);let r=w(2);return b(r.choose())}),d(2,"input",7,0),L("change",function(r){y(t);let a=w(2);return b(a.onFileSelect(r))}),u(),R(4,nR,1,4,"span",17)(5,lR,3,2,"ng-container",9),u(),R(6,fR,3,6,"p-button",18)(7,SR,3,6,"p-button",18),je()}if(n&2){let t=w(2);c(),g("styleClass","p-fileupload-choose-button "+t.chooseStyleClass)("disabled",t.disabled||t.isChooseDisabled())("label",t.chooseButtonLabel)("buttonProps",t.chooseButtonProps),le("data-pc-section","choosebutton"),c(),g("multiple",t.multiple)("accept",t.accept)("disabled",t.disabled||t.isChooseDisabled()),le("aria-label",t.browseFilesLabel)("title","")("data-pc-section","input"),c(2),g("ngIf",t.chooseIcon),c(),g("ngIf",!t.chooseIcon),c(),g("ngIf",!t.auto&&t.showUploadButton),c(),g("ngIf",!t.auto&&t.showCancelButton)}}function xR(n,e){n&1&&Pt(0)}function ER(n,e){n&1&&Pt(0)}function IR(n,e){if(n&1&&P(0,"p-progressbar",22),n&2){let t=w(2);g("value",t.progress)("showValue",!1)}}function TR(n,e){if(n&1&&P(0,"p-message",14),n&2){let t=e.$implicit;g("severity",t.severity)("text",t.text)}}function DR(n,e){if(n&1){let t=W();d(0,"img",33),L("error",function(r){y(t);let a=w(5);return b(a.imageError(r))}),u()}if(n&2){let t=w().$implicit,i=w(4);g("src",t.objectURL,ss)("width",i.previewWidth)}}function AR(n,e){n&1&&P(0,"TimesIcon")}function MR(n,e){}function kR(n,e){n&1&&R(0,MR,0,0,"ng-template")}function PR(n,e){if(n&1&&R(0,AR,1,0,"TimesIcon",9)(1,kR,1,0,null,11),n&2){let t=w(5);g("ngIf",!t.cancelIconTemplate&&!t._cancelIconTemplate),c(),g("ngTemplateOutlet",t.cancelIconTemplate||t._cancelIconTemplate)}}function LR(n,e){if(n&1){let t=W();d(0,"div",24),R(1,DR,1,2,"img",27),d(2,"div",28)(3,"div",29),v(4),u(),d(5,"span",30),v(6),u()(),d(7,"div",31)(8,"p-button",32),L("onClick",function(r){let a=y(t).index,o=w(4);return b(o.remove(r,a))}),R(9,PR,2,2,"ng-template",null,2,ae),u()()()}if(n&2){let t=e.$implicit,i=w(4);c(),g("ngIf",i.isImage(t)),c(3),x(t.name),c(2),x(i.formatSize(t.size)),c(2),g("disabled",i.uploading)("styleClass","p-fileupload-file-remove-button "+i.removeStyleClass)}}function RR(n,e){if(n&1&&R(0,LR,11,5,"div",26),n&2){let t=w(3);g("ngForOf",t.files)}}function BR(n,e){}function FR(n,e){if(n&1&&R(0,BR,0,0,"ng-template",25),n&2){let t=w(3);g("ngForOf",t.files)("ngForTemplate",t.fileTemplate||t._fileTemplate)}}function OR(n,e){if(n&1&&(d(0,"div",23),R(1,RR,1,1,"div",24)(2,FR,1,2,null,25),u()),n&2){let t=w(2);c(),hi(!t.fileTemplate&&!t._fileTemplate?1:-1),c(),hi(t.fileTemplate||t._fileTemplate?2:-1)}}function NR(n,e){n&1&&Pt(0)}function VR(n,e){n&1&&Pt(0)}function HR(n,e){if(n&1&&R(0,VR,1,0,"ng-container",11),n&2){let t=w(2);g("ngTemplateOutlet",t.emptyTemplate||t._emptyTemplate)}}function WR(n,e){if(n&1){let t=W();d(0,"div",6)(1,"input",7,0),L("change",function(r){y(t);let a=w();return b(a.onFileSelect(r))}),u(),d(3,"div",8),R(4,CR,8,15,"ng-container",9)(5,xR,1,0,"ng-container",10)(6,ER,1,0,"ng-container",11),u(),d(7,"div",12,1),L("dragenter",function(r){y(t);let a=w();return b(a.onDragEnter(r))})("dragleave",function(r){y(t);let a=w();return b(a.onDragLeave(r))})("drop",function(r){y(t);let a=w();return b(a.onDrop(r))}),R(9,IR,1,2,"p-progressbar",13),Gv(10,TR,1,2,"p-message",14,Qv),R(12,OR,3,2,"div",15)(13,NR,1,0,"ng-container",10)(14,HR,1,1,"ng-container"),u()()}if(n&2){let t=w();si(t.styleClass),g("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",t.style),le("data-pc-name","fileupload")("data-pc-section","root"),c(),$r("display","none"),g("multiple",t.multiple)("accept",t.accept)("disabled",t.disabled||t.isChooseDisabled()),le("aria-label",t.browseFilesLabel)("title","")("data-pc-section","input"),c(3),g("ngIf",!t.headerTemplate&&!t._headerTemplate),c(),g("ngTemplateOutlet",t.headerTemplate||t._headerTemplate)("ngTemplateOutletContext",TS(24,eR,t.files,t.uploadedFiles,t.choose.bind(t),t.clear.bind(t),t.upload.bind(t))),c(),g("ngTemplateOutlet",t.toolbarTemplate||t._toolbarTemplate),c(),le("data-pc-section","content"),c(2),g("ngIf",t.hasFiles()),c(),Yv(t.msgs),c(2),g("ngIf",t.hasFiles()),c(),g("ngTemplateOutlet",t.contentTemplate||t._contentTemplate)("ngTemplateOutletContext",DS(30,tR,t.files,t.uploadedFiles,t.choose.bind(t),t.clear.bind(t),t.removeUploadedFile.bind(t),t.remove.bind(t),t.progress,t.msgs)),c(),hi((t.emptyTemplate||t._emptyTemplate)&&!t.hasFiles()&&!t.hasUploadedFiles()?14:-1)}}function UR(n,e){if(n&1&&P(0,"p-message",14),n&2){let t=e.$implicit;g("severity",t.severity)("text",t.text)}}function jR(n,e){if(n&1&&P(0,"span",37),n&2){let t=w(4);g("ngClass",t.uploadIcon)}}function zR(n,e){n&1&&P(0,"UploadIcon",40),n&2&&g("styleClass","p-button-icon p-button-icon-left")}function qR(n,e){}function $R(n,e){n&1&&R(0,qR,0,0,"ng-template")}function QR(n,e){if(n&1&&(d(0,"span",41),R(1,$R,1,0,null,11),u()),n&2){let t=w(5);c(),g("ngTemplateOutlet",t._uploadIconTemplate||t.uploadIconTemplate)}}function GR(n,e){if(n&1&&(Ue(0),R(1,zR,1,1,"UploadIcon",38)(2,QR,2,1,"span",39),je()),n&2){let t=w(4);c(),g("ngIf",!t.uploadIconTemplate&&!t._uploadIconTemplate),c(),g("ngIf",t._uploadIconTemplate||t.uploadIconTemplate)}}function YR(n,e){if(n&1&&R(0,jR,1,1,"span",36)(1,GR,3,2,"ng-container",9),n&2){let t=w(3);g("ngIf",t.uploadIcon),c(),g("ngIf",!t.uploadIcon)}}function KR(n,e){if(n&1&&P(0,"span",43),n&2){let t=w(4);g("ngClass",t.chooseIcon)}}function XR(n,e){n&1&&P(0,"PlusIcon"),n&2&&le("data-pc-section","uploadicon")}function ZR(n,e){}function JR(n,e){n&1&&R(0,ZR,0,0,"ng-template")}function eB(n,e){if(n&1&&(Ue(0),R(1,XR,1,1,"PlusIcon",9)(2,JR,1,0,null,11),je()),n&2){let t=w(4);c(),g("ngIf",!t.chooseIconTemplate&&!t._chooseIconTemplate),c(),g("ngTemplateOutlet",t.chooseIconTemplate||t._chooseIconTemplate)}}function tB(n,e){if(n&1&&R(0,KR,1,1,"span",42)(1,eB,3,2,"ng-container",9),n&2){let t=w(3);g("ngIf",t.chooseIcon),c(),g("ngIf",!t.chooseIcon)}}function iB(n,e){if(n&1&&R(0,YR,2,2)(1,tB,2,2),n&2){let t=w(2);hi(t.hasFiles()&&!t.auto?0:1)}}function nB(n,e){if(n&1&&(d(0,"span"),v(1),u()),n&2){let t=w(3);si(t.cx("filelabel")),c(),O(" ",t.basicFileChosenLabel()," ")}}function rB(n,e){n&1&&Pt(0)}function aB(n,e){if(n&1&&R(0,rB,1,0,"ng-container",10),n&2){let t=w(3);g("ngTemplateOutlet",t.fileLabelTemplate||t._fileLabelTemplate)("ngTemplateOutletContext",Ae(2,iR,t.files))}}function oB(n,e){if(n&1&&R(0,nB,2,3,"span",44)(1,aB,1,4,"ng-container"),n&2){let t=w(2);hi(!t.fileLabelTemplate&&!t._fileLabelTemplate?0:1)}}function sB(n,e){if(n&1){let t=W();d(0,"div",21),Gv(1,UR,1,2,"p-message",14,Qv),d(3,"p-button",34),L("onClick",function(){y(t);let r=w();return b(r.onBasicUploaderClick())})("keydown",function(r){y(t);let a=w();return b(a.onBasicKeydown(r))}),R(4,iB,2,1,"ng-template",null,2,ae),d(6,"input",35,3),L("change",function(r){y(t);let a=w();return b(a.onFileSelect(r))})("focus",function(){y(t);let r=w();return b(r.onFocus())})("blur",function(){y(t);let r=w();return b(r.onBlur())}),u()(),R(8,oB,2,1),u()}if(n&2){let t=w();si(t.styleClass),g("ngClass","p-fileupload p-fileupload-basic p-component"),le("data-pc-name","fileupload"),c(),Yv(t.msgs),c(2),_e(t.style),g("styleClass","p-fileupload-choose-button "+t.chooseStyleClass)("disabled",t.disabled)("label",t.chooseButtonLabel)("buttonProps",t.chooseButtonProps),c(3),g("accept",t.accept)("multiple",t.multiple)("disabled",t.disabled),le("aria-label",t.browseFilesLabel)("data-pc-section","input"),c(2),hi(t.auto?-1:8)}}var lB=({dt:n})=>`
.p-fileupload input[type="file"] {
    display: none;
}

.p-fileupload-advanced {
    border: 1px solid ${n("fileupload.border.color")};
    border-radius: ${n("fileupload.border.radius")};
    background: ${n("fileupload.background")};
    color: ${n("fileupload.color")};
}

.p-fileupload-header {
    display: flex;
    align-items: center;
    padding: ${n("fileupload.header.padding")};
    background: ${n("fileupload.header.background")};
    color: ${n("fileupload.header.color")};
    border-style: solid;
    border-width: ${n("fileupload.header.border.width")};
    border-color: ${n("fileupload.header.border.color")};
    border-radius: ${n("fileupload.header.border.radius")};
    gap: ${n("fileupload.header.gap")};
}

.p-fileupload-content {
    border: 1px solid transparent;
    display: flex;
    flex-direction: column;
    gap: ${n("fileupload.content.gap")};
    transition: border-color ${n("fileupload.transition.duration")};
    padding: ${n("fileupload.content.padding")};
}

.p-fileupload-content .p-progressbar {
    width: 100%;
    height: ${n("fileupload.progressbar.height")};
}

.p-fileupload-file-list {
    display: flex;
    flex-direction: column;
    gap: ${n("fileupload.filelist.gap")};
}

.p-fileupload-file {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    padding: ${n("fileupload.file.padding")};
    border-bottom: 1px solid ${n("fileupload.file.border.color")};
    gap: ${n("fileupload.file.gap")};
}

.p-fileupload-file:last-child {
    border-bottom: 0;
}

.p-fileupload-file-info {
    display: flex;
    flex-direction: column;
    gap: ${n("fileupload.file.info.gap")};
}

.p-fileupload-file-thumbnail {
    flex-shrink: 0;
}

.p-fileupload-file-actions {
    margin-left: auto;
}

.p-fileupload-highlight {
    border: 1px dashed ${n("fileupload.content.highlight.border.color")};
}

.p-fileupload-advanced .p-message {
    margin-top: 0;
}

.p-fileupload-basic {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: ${n("fileupload.basic.gap")};
}
`,cB={root:({instance:n})=>`p-fileupload p-fileupload-${n.mode} p-component`,header:"p-fileupload-header",pcChooseButton:"p-fileupload-choose-button",pcUploadButton:"p-fileupload-upload-button",pcCancelButton:"p-fileupload-cancel-button",content:"p-fileupload-content",fileList:"p-fileupload-file-list",file:"p-fileupload-file",fileThumbnail:"p-fileupload-file-thumbnail",fileInfo:"p-fileupload-file-info",fileName:"p-fileupload-file-name",fileSize:"p-fileupload-file-size",pcFileBadge:"p-fileupload-file-badge",fileActions:"p-fileupload-file-actions",pcFileRemoveButton:"p-fileupload-file-remove-button"},$x=(()=>{class n extends Zn{name="fileupload";theme=lB;classes=cB;static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();var Qx=(()=>{class n extends Fn{name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;chooseButtonProps;uploadButtonProps={severity:"secondary"};cancelButtonProps={severity:"secondary"};onBeforeUpload=new et;onSend=new et;onUpload=new et;onError=new et;onClear=new et;onRemove=new et;onSelect=new et;onProgress=new et;uploadHandler=new et;onImageError=new et;onRemoveUploadedFile=new et;fileTemplate;headerTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;fileLabelTemplate;uploadIconTemplate;cancelIconTemplate;emptyTemplate;advancedFileInput;basicFileInput;content;set files(t){this._files=[];for(let i=0;i<t.length;i++){let r=t[i];this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t[i]))),this._files.push(t[i]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;uploadedFiles=[];sanitizer=Qi(NS);zone=Qi(Ua);http=Qi(Ut);_componentStyle=Qi($x);ngOnInit(){super.ngOnInit(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){super.ngAfterViewInit(),Od(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}_headerTemplate;_contentTemplate;_toolbarTemplate;_chooseIconTemplate;_uploadIconTemplate;_cancelIconTemplate;_emptyTemplate;_fileTemplate;_fileLabelTemplate;templates;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this._headerTemplate=t.template;break;case"file":this._fileTemplate=t.template;break;case"content":this._contentTemplate=t.template;break;case"toolbar":this._toolbarTemplate=t.template;break;case"chooseicon":this._chooseIconTemplate=t.template;break;case"uploadicon":this._uploadIconTemplate=t.template;break;case"cancelicon":this._cancelIconTemplate=t.template;break;case"empty":this._emptyTemplate=t.template;break;case"filelabel":this._fileLabelTemplate=t.template;break;default:this._fileTemplate=t.template;break}})}basicFileChosenLabel(){return this.auto?this.chooseButtonLabel:this.hasFiles()?this.files&&this.files.length===1?this.files[0].name:this.config.getTranslation("fileChosenMessage")?.replace("{0}",this.files.length):this.config.getTranslation("noFileChosenMessage")||""}getTranslation(t){return this.config.getTranslation(t)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(t){if(t.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.msgs=[],this.multiple||(this.files=[]);let i=t.dataTransfer?t.dataTransfer.files:t.target.files;for(let r=0;r<i.length;r++){let a=i[r];this.isFileSelected(a)||this.validate(a)&&(this.isImage(a)&&(a.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i[r]))),this.files.push(i[r]))}this.onSelect.emit({originalEvent:t,files:i,currentFiles:this.files}),this.checkFileLimit(i),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),t.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(t){for(let i of this.files)if(i.name+i.type+i.size===t.name+t.type+t.size)return!0;return!1}isIE11(){if(Od(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(t){if(this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(t)){let i=`${this.invalidFileTypeMessageSummary.replace("{0}",t.name)} ${this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}`;return this.msgs.push({severity:"error",text:i}),!1}if(this.maxFileSize&&t.size>this.maxFileSize){let i=`${this.invalidFileSizeMessageSummary.replace("{0}",t.name)} ${this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}`;return this.msgs.push({severity:"error",text:i}),!1}return!0}isFileTypeValid(t){let i=this.accept?.split(",").map(r=>r.trim());for(let r of i)if(this.isWildcard(r)?this.getTypeClass(t.type)===this.getTypeClass(r):t.type==r||this.getFileExtension(t).toLowerCase()===r.toLowerCase())return!0;return!1}getTypeClass(t){return t.substring(0,t.indexOf("/"))}isWildcard(t){return t.indexOf("*")!==-1}getFileExtension(t){return"."+t.name.split(".").pop()}isImage(t){return/^image\//.test(t.type)}onImageLoad(t){window.URL.revokeObjectURL(t.src)}uploader(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let t=new FormData;this.onBeforeUpload.emit({formData:t});for(let i=0;i<this.files.length;i++)t.append(this.name,this.files[i],this.files[i].name);this.http.request(this.method,this.url,{body:t,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(i=>{switch(i.type){case Lm.Sent:this.onSend.emit({originalEvent:i,formData:t});break;case Lm.Response:this.uploading=!1,this.progress=0,i.status>=200&&i.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:i,files:this.files})):this.onError.emit({files:this.files}),this.uploadedFiles.push(...this.files),this.clear();break;case Lm.UploadProgress:{i.loaded&&(this.progress=Math.round(i.loaded*100/i.total)),this.onProgress.emit({originalEvent:i,progress:this.progress});break}}this.cd.markForCheck()},i=>{this.uploading=!1,this.onError.emit({files:this.files,error:i})})}}clear(){this.files=[],this.uploadedFileCount=0,this.onClear.emit(),this.clearInputElement(),this.msgs=[],this.cd.markForCheck()}remove(t,i){this.clearInputElement(),this.onRemove.emit({originalEvent:t,file:this.files[i]}),this.files.splice(i,1),this.checkFileLimit(this.files)}removeUploadedFile(t){let i=this.uploadedFiles.splice(t,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.onRemoveUploadedFile.emit({file:i,files:this.uploadedFiles})}isFileLimitExceeded(){let i=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=i&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<i}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(t){this.msgs??=[];let i=this.msgs.length>0&&this.fileLimit&&this.fileLimit<t.length;if(this.isFileLimitExceeded()||i){let r=`${this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString())} ${this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())}`;this.msgs.push({severity:"error",text:r})}else this.msgs=this.msgs.filter(r=>!r.text.includes(this.invalidFileLimitMessageSummary))}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0}onDragEnter(t){this.disabled||(t.stopPropagation(),t.preventDefault())}onDragOver(t){this.disabled||(Hd(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,t.stopPropagation(),t.preventDefault())}onDragLeave(t){this.disabled||Xv(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(t){if(!this.disabled){Xv(this.content?.nativeElement,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault();let i=t.dataTransfer?t.dataTransfer.files:t.target.files;(this.multiple||i&&i.length===1)&&this.onFileSelect(t)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(t){let a=this.getTranslation(ki.FILE_SIZE_TYPES);if(t===0)return`0 ${a[0]}`;let o=Math.floor(Math.log(t)/Math.log(1024));return`${(t/Math.pow(1024,o)).toFixed(3)} ${a[o]}`}upload(){this.hasFiles()&&this.uploader()}onBasicUploaderClick(){this.basicFileInput?.nativeElement.click()}onBasicKeydown(t){switch(t.code){case"Space":case"Enter":this.onBasicUploaderClick(),t.preventDefault();break}}imageError(t){this.onImageError.emit(t)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(ki.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(ki.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(ki.CANCEL)}get browseFilesLabel(){return this.config.getTranslation(ki.ARIA)[ki.BROWSE_FILES]}get pendingLabel(){return this.config.getTranslation(ki.PENDING)}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275cmp=re({type:n,selectors:[["p-fileupload"],["p-fileUpload"]],contentQueries:function(i,r,a){if(i&1&&(ye(a,z7,4),ye(a,q7,4),ye(a,qx,4),ye(a,$7,4),ye(a,Q7,4),ye(a,G7,4),ye(a,Y7,4),ye(a,K7,4),ye(a,X7,4),ye(a,$t,4)),i&2){let o;Z(o=J())&&(r.fileTemplate=o.first),Z(o=J())&&(r.headerTemplate=o.first),Z(o=J())&&(r.contentTemplate=o.first),Z(o=J())&&(r.toolbarTemplate=o.first),Z(o=J())&&(r.chooseIconTemplate=o.first),Z(o=J())&&(r.fileLabelTemplate=o.first),Z(o=J())&&(r.uploadIconTemplate=o.first),Z(o=J())&&(r.cancelIconTemplate=o.first),Z(o=J())&&(r.emptyTemplate=o.first),Z(o=J())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Te(Z7,5),Te(J7,5),Te(qx,5)),i&2){let a;Z(a=J())&&(r.advancedFileInput=a.first),Z(a=J())&&(r.basicFileInput=a.first),Z(a=J())&&(r.content=a.first)}},inputs:{name:"name",url:"url",method:"method",multiple:[2,"multiple","multiple",Ee],accept:"accept",disabled:[2,"disabled","disabled",Ee],auto:[2,"auto","auto",Ee],withCredentials:[2,"withCredentials","withCredentials",Ee],maxFileSize:[2,"maxFileSize","maxFileSize",un],invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:[2,"previewWidth","previewWidth",un],chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:[2,"showUploadButton","showUploadButton",Ee],showCancelButton:[2,"showCancelButton","showCancelButton",Ee],mode:"mode",headers:"headers",customUpload:[2,"customUpload","customUpload",Ee],fileLimit:[2,"fileLimit","fileLimit",t=>un(t,null)],uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",chooseButtonProps:"chooseButtonProps",uploadButtonProps:"uploadButtonProps",cancelButtonProps:"cancelButtonProps",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError",onRemoveUploadedFile:"onRemoveUploadedFile"},features:[xe([$x]),Sn],decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["icon",""],["basicfileinput",""],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[3,"ngClass","ngStyle"],["type","file",3,"change","multiple","accept","disabled"],[1,"p-fileupload-header"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],[3,"value","showValue",4,"ngIf"],[3,"severity","text"],["class","p-fileupload-file-list",4,"ngIf"],[3,"focus","blur","onClick","keydown.enter","styleClass","disabled","label","buttonProps"],[3,"class",4,"ngIf"],[3,"label","disabled","styleClass","buttonProps","onClick",4,"ngIf"],[3,"onClick","label","disabled","styleClass","buttonProps"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"value","showValue"],[1,"p-fileupload-file-list"],[1,"p-fileupload-file"],["ngFor","",3,"ngForOf","ngForTemplate"],["class","p-fileupload-file",4,"ngFor","ngForOf"],["class","p-fileupload-file-thumbnail",3,"src","width","error",4,"ngIf"],[1,"p-fileupload-file-info"],[1,"p-fileupload-file-name"],[1,"p-fileupload-file-size"],[1,"p-fileupload-file-actions"],["text","","rounded","","severity","danger",3,"onClick","disabled","styleClass"],[1,"p-fileupload-file-thumbnail",3,"error","src","width"],[3,"onClick","keydown","styleClass","disabled","label","buttonProps"],["type","file",3,"change","focus","blur","accept","multiple","disabled"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],[3,"class"]],template:function(i,r){i&1&&R(0,WR,15,39,"div",4)(1,sB,9,16,"div",5),i&2&&(g("ngIf",r.mode==="advanced"),c(),g("ngIf",r.mode==="basic"))},dependencies:[pe,zi,Gi,ge,Bn,Rn,Si,ru,Ux,SC,Px,$a,yi],encapsulation:2,changeDetection:0})}return n})();var me=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/Cheval";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getMaxId(){let e=this.getHeaders();return this.http.get(`${this.apiUrl}/maxid`,{headers:e})}getAllChevaux(e){console.log("getAllChevaux",e),console.log("tousnotarchived",`${this.apiUrl}/tousnotarchived?entiteId=${e}`);let t=this.getHeaders();return this.http.get(`${this.apiUrl}/tous?entiteId=${e}`,{headers:t})}getAllChevauxNotArchived(e){let t=this.getHeaders();return console.log("tousnotarchived",e),console.log("tousnotarchived",`${this.apiUrl}/tousnotarchived?entiteId=${e}`),this.http.get(`${this.apiUrl}/tousnotarchived?entiteId=${e}`,{headers:t})}addCheval(e){console.log(e);let t=this.getHeaders();return this.http.post(`${this.apiUrl}/ajouter`,e,{headers:t}).pipe(ie(i=>{if(i.status===400){let r=i.error.message||"Une erreur est survenue lors de l'ajout du cheval.";return console.log(i),Ne(()=>new Error(r))}else return Ne(()=>new Error("Une erreur est survenue lors de l'ajout du cheval."))}))}supprimerCheval(e,t){let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/supprimer/?numeroSIRE=${e}&entiteId=${t}`,{headers:i}).pipe(ie(r=>{let a="Une erreur est survenue lors de la suppression du cheval.";return r.status===404?a="Cheval non trouv\xE9.":r.status===400&&(a=r.error?.message||a),Ne(()=>new Error(a))}))}modifierCheval(e,t,i){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/modifier/?numeroSIRE=${e}&entiteId=${i}`,t,{headers:r}).pipe(ie(a=>{if(a.status===400){let o=a.error.message||"Une erreur est survenue lors de la modification du cheval.";return Ne(()=>({status:a.status,message:o,details:null}))}else return Ne(()=>({status:a.status,message:"Une erreur est survenue lors de la modification du cheval.",details:null}))}))}archiverCheval(e,t){let i=this.getHeaders();return this.http.put(`${this.apiUrl}/archiver/?numeroSIRE=${e}&entiteId=${t}`,{},{headers:i}).pipe(ie(r=>{if(r.status===400){let a=r.error.message||"Une erreur est survenue lors de l'archivage du cheval.";return Ne(()=>({status:r.status,message:a,details:null}))}else return Ne(()=>({status:r.status,message:"Une erreur est survenue lors de l'archivage du cheval.",details:null}))}))}restaurerCheval(e,t){let i=this.getHeaders();return this.http.put(`${this.apiUrl}/restaurer/?numeroSIRE=${e}&entiteId=${t}`,{},{headers:i}).pipe(ie(r=>{if(r.status===400){let a=r.error.message||"Une erreur est survenue lors de la restauration du cheval.";return Ne(()=>({status:r.status,message:a,details:null}))}else return Ne(()=>({status:r.status,message:"Une erreur est survenue lors de la restauration du cheval.",details:null}))}))}ajouterActe(e,t){let i=this.getHeaders();return this.http.post(`${this.apiUrl}/${e}/actes`,t,{headers:i}).pipe(ie(r=>{if(r.status===400){let a=r.error.message||"Une erreur est survenue lors de l'ajout de l'acte.";return Ne(()=>new Error(a))}else return Ne(()=>new Error("Une erreur est survenue lors de l'ajout de l'acte."))}))}importerChevauxDepuisCSV(e,t){let i=new FormData;i.append("file",e,e.name);let r=new Yt({Authorization:`Bearer ${localStorage.getItem("token")}`});return this.http.post(`${this.apiUrl}/importer-csv?entiteId=${t}`,i,{headers:r}).pipe(ie(a=>{let o="Erreur lors de l'importation du fichier CSV";return a.error?.message?o=a.error.message:a.status===400&&(o="Fichier invalide ou format incorrect"),Ne(()=>new Error(o))}))}localiserCheval(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/localiser/${t}?numeroSIRE=${e}`,{headers:i}).pipe(ie(r=>{if(r.status===400){let a=r.error.message||"Une erreur est survenue lors de la localisation du cheval.";return Ne(()=>new Error(a))}else return Ne(()=>new Error("Une erreur est survenue lors de la localisation du cheval."))}))}rechercherCheval(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/rechercher/${t}?numeroSIRE=${e}`,{headers:i}).pipe(ie(r=>{if(r.status===400){let a=r.error.message||"Une erreur est survenue lors de la recherche du cheval.";return Ne(()=>({status:r.status,message:a,details:null}))}else return r.status===404?Ne(()=>({status:r.status,message:"Cheval non trouv\xE9.",details:null})):Ne(()=>({status:r.status,message:"Une erreur est survenue lors de la recherche du cheval.",details:null}))}))}estVendu(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/estvendu?numeroSIRE=${e}&entiteId=${t}`,{headers:i}).pipe(ie(r=>{let a='Erreur lors de la v\xE9rification du statut "vendu"';return r.status===400?a=r.error?.message||a:r.status===404&&(a="Cheval non trouv\xE9"),Ne(()=>new Error(a))}))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ce=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/Lieu";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}handleError(e){let t="An unknown error occurred!";return e.error instanceof ErrorEvent?t=`Error: ${e.error.message}`:(t=`Error Code: ${e.status}
Message: ${e.message}`,e.error?.message&&(t+=`
Details: ${e.error.message}`)),console.error(t),Ne(()=>new Error(t))}getAllLieux(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(this.handleError))}getLieuById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}searchLieux(e,t,i,r,a){let o=this.getHeaders(),s={};return e&&(s.ville=e),t&&(s.codePostal=t),i&&(s.type=i),r&&(s.capaciteMax=r.toString()),a&&(s.entiteId=a.toString()),this.http.get(`${this.apiUrl}/rechercher`,{headers:o,params:s}).pipe(ie(this.handleError))}deleteLieu(e,t){let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/supprimer/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}updateLieu(e,t,i){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/modifier/${e}?entiteId=${i}`,t,{headers:r}).pipe(ie(this.handleError))}addLieu(e){let t=this.getHeaders();return this.http.post(`${this.apiUrl}/ajouter`,e,{headers:t}).pipe(ie(this.handleError))}trainModel(e){let t=this.getHeaders();return this.http.post(`${this.apiUrl}/train-model/${e}`,null,{headers:t}).pipe(ie(this.handleError))}estimateDimensions(e,t,i){let r=this.getHeaders(),a={Type:e,Capacity:t};return this.http.post(`${this.apiUrl}/estimate-dimensions/${i}`,a,{headers:r}).pipe(ie(this.handleError))}getModelStatus(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}/model-status/${e}`,{headers:t}).pipe(ie(this.handleError))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var ke=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/Race";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getAllRace(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(this.handleError))}getRaceById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}addRace(e){let t=this.getHeaders();return this.http.post(`${this.apiUrl}`,e,{headers:t}).pipe(ie(this.handleError))}updateRace(e,t,i){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/${e}?entiteId=${i}`,t,{headers:r}).pipe(ie(this.handleError))}deleteRace(e,t){let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}handleError(e){let t="An unknown error occurred!";return e.error instanceof ErrorEvent?t=`Error: ${e.error.message}`:t=`Error Code: ${e.status}
Message: ${e.message}`,console.error(t),Ne(()=>new Error(t))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var be=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/Categorie";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getAllCategories(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(this.handleError))}getCategorieById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}createCategorie(e){let t=this.getHeaders();return this.http.post(`${this.apiUrl}`,e,{headers:t}).pipe(ie(this.handleError))}updateCategorie(e,t,i){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/${e}?entiteId=${i}`,t,{headers:r}).pipe(ie(this.handleError))}deleteCategorie(e,t){let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}handleError(e){let t="An unknown error occurred!";return e.error instanceof ErrorEvent?t=`Error: ${e.error.message}`:(t=`Error Code: ${e.status}
Message: ${e.message}`,e.error&&e.error.message&&(t+=`
Details: ${e.error.message}`)),console.error(t),Ne(()=>new Error(t))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ie=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/Contact";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getAllContact(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(this.handleError))}getContactById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}createContact(e){let t=this.getHeaders();return this.http.post(`${this.apiUrl}`,e,{headers:t}).pipe(ie(this.handleError))}updateContact(e,t,i){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/${e}?entiteId=${i}`,t,{headers:r}).pipe(ie(this.handleError))}deleteContact(e,t){let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}handleError(e){let t="Une erreur inconnue s'est produite!";return e.error instanceof ErrorEvent?t=`Erreur: ${e.error.message}`:(t=`Code d'erreur: ${e.status}
Message: ${e.message}`,e.error&&e.error.message&&(t+=`
D\xE9tails: ${e.error.message}`)),console.error(t),Ne(()=>new Error(t))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var $e=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/ChevalContact";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getAllchevalContact(){let e=this.getHeaders();return this.http.get(`${this.apiUrl}`,{headers:e})}getchevalcontactbynumerosire(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}/ByNumeroSIRE/${e}`,{headers:t}).pipe(ie(i=>{if(i.status===404){let r=i.error.message||"Aucun contact trouv\xE9 pour ce cheval.";return Ne(()=>({status:i.status,message:r,details:null}))}else return Ne(()=>({status:i.status,message:"Une erreur est survenue lors de la r\xE9cup\xE9ration des contacts.",details:null}))}))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var it=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/Acte";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getFormDataHeaders(){let e=localStorage.getItem("token");return new Yt({Authorization:`Bearer ${e}`})}getAllActes(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(i=>Ne(()=>({status:i.status,message:"Une erreur est survenue lors de la r\xE9cup\xE9ration des actes.",details:null}))))}getActeById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(r=>r.status===404?Ne(()=>({status:r.status,message:"Acte non trouv\xE9.",details:null})):Ne(()=>({status:r.status,message:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'acte.",details:null}))))}createActe(e){let t=this.getFormDataHeaders();return this.http.post(`${this.apiUrl}`,e,{headers:t}).pipe(ie(i=>Ne(()=>({status:i.status,message:i.error?.message||"Une erreur est survenue lors de la cr\xE9ation de l'acte.",details:null}))))}updateActe(e,t,i){let r=this.getFormDataHeaders();return t.append("Id",e.toString()),t.append("EntiteId",i.toString()),this.http.put(`${this.apiUrl}/${e}?entiteId=${i}`,t,{headers:r}).pipe(ie(a=>Ne(()=>({status:a.status,message:a.error?.message||"Une erreur est survenue lors de la mise \xE0 jour de l'acte."}))))}deleteActe(e,t){let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(r=>Ne(()=>({status:r.status,message:r.error?.message||"Une erreur est survenue lors de la suppression de l'acte."}))))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qt=class{numeroSIRE="";nom="";robe="";cleSIRE="";dateDeNaissance=new Date;sexe="";pereId="";mereId="";lieuId=0;raceCodeRace=0;categoriesId=null;contactIds=[];entiteId=null;archived};var Sr=class{id;estMalade;nomMaladie="";medicaments="";date=new Date;numeroSIREs=[];symptomes=[];identifiantUnique=""};var Et=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/AncienNom";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getanciennombynumerosire(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}/ByNumeroSIRE/${e}`,{headers:t}).pipe(ie(i=>{if(i.status===404){let r=i.error.message||"Aucun contact trouv\xE9 pour ce cheval.";return Ne(()=>({status:i.status,message:"",details:null}))}else return Ne(()=>({status:i.status,message:"Une erreur est survenue lors de la r\xE9cup\xE9ration des contacts.",details:null}))}))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var at=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/Ordonnance";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getAllOrdonnances(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(this.handleError))}getOrdonnanceById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}createOrdonnance(e,t){let i=this.getHeaders();return this.http.post(`${this.apiUrl}?entiteId=${t}`,e,{headers:i}).pipe(ie(this.handleError))}updateOrdonnance(e,t,i){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/${e}?entiteId=${i}`,t,{headers:r}).pipe(ie(this.handleError))}deleteOrdonnance(e,t){let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}getOrdonnanceByNumeroSIRE(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}/ByNumeroSIRE/${e}`,{headers:t}).pipe(ie(this.handleError))}addOrdonnances(e){let t=this.getHeaders();return this.http.post(`${this.apiUrl}/AddOrdonnances`,e,{headers:t}).pipe(ie(this.handleError))}handleError(e){let t="Une erreur inconnue est survenue";return e.error instanceof ErrorEvent?t=`Erreur: ${e.error.message}`:(t=`Code: ${e.status}
Message: ${e.message}`,e.error&&e.error.message&&(t+=`
D\xE9tails: ${e.error.message}`)),console.error(t),Ne(()=>new Error(t))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var ol=class{id;date_ajout;notes;piecesJointes;piecesJointesacte;typeActeId;entiteId;contactIds;numerosSIRE;typeActe;chevauxActes;analysesSanitaires;planning;contacts;constructor(e=0,t=new Date,i="",r="",a=[],o=0,s=0,l=[],p=[]){this.id=e,this.date_ajout=t,this.notes=i,this.piecesJointes=r,this.piecesJointesacte=a,this.typeActeId=o,this.entiteId=s,this.contactIds=l,this.numerosSIRE=p}};var vt=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/Planning";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}createPlanning(e){console.log("planningdtoservice",e);let t=this.getHeaders();return this.http.post(this.apiUrl,e,{headers:t}).pipe(ie(this.handleError))}getPlanningById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}getPlanningByActeId(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/byacte/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}updatePlanning(e,t,i){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/${e}?entiteId=${i}`,t,{headers:r}).pipe(ie(this.handleError))}deletePlanning(e,t){let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}getAllPlannings(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(this.handleError))}handleError(e){let t="Une erreur inconnue est survenue";return e.error instanceof ErrorEvent?t=`Erreur: ${e.error.message}`:(t=`Code: ${e.status}
Message: ${e.message}`,e.error&&e.error.message&&(t+=`
D\xE9tails: ${e.error.message}`)),console.error(t),Ne(()=>new Error(t))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var _t=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/AnalyseSanitaire";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}createAnalyse(e){let t=this.getHeaders();return this.http.post(this.apiUrl,e,{headers:t}).pipe(ie(this.handleError))}getAllAnalyses(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(this.handleError))}getAnalyseById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}getAnalyseByActeId(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/byacte/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}updateAnalyse(e,t,i){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/${e}?entiteId=${i}`,t,{headers:r}).pipe(ie(this.handleError))}deleteAnalyse(e,t){let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}handleError(e){let t="Une erreur inconnue est survenue";return e.error instanceof ErrorEvent?t=`Erreur: ${e.error.message}`:(t=`Code: ${e.status}
Message: ${e.message}`,e.error&&e.error.message&&(t+=`
D\xE9tails: ${e.error.message}`)),console.error(t),Ne(()=>new Error(t))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ni=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/Mouvement";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getAllMouvements(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(this.handleError))}getMouvementById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}createMouvement(e){let t=this.getHeaders();return this.http.post(this.apiUrl,e,{headers:t}).pipe(ie(i=>{let r="Erreur lors de la cr\xE9ation du mouvement.";return i.error&&i.error.message&&(r=i.error.message),Ne(()=>new Error(r))}))}updateMouvement(e,t){let i=this.getHeaders();return this.http.put(`${this.apiUrl}/${e}`,t,{headers:i}).pipe(ie(r=>{let a="Erreur lors de la mise \xE0 jour du mouvement.";return r.error&&r.error.message&&(a=r.error.message),Ne(()=>new Error(a))}))}deleteMouvement(e){let t=this.getHeaders();return this.http.delete(`${this.apiUrl}/${e}`,{headers:t}).pipe(ie(this.handleError))}handleError(e){let t="Une erreur inconnue est survenue";return e.error instanceof ErrorEvent?t=`Erreur: ${e.error.message}`:(t=`Code: ${e.status}
Message: ${e.message}`,e.error&&e.error.message&&(t+=`
D\xE9tails: ${e.error.message}`)),console.error(t),Ne(()=>new Error(t))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var ir=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/facture";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}createFacture(e){let t=this.getHeaders();return this.http.post(this.apiUrl,e,{headers:t}).pipe(ie(this.handleError))}getAllFactures(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(this.handleError))}getFactureById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}getFacturesByAcheteur(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/acheteur/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}getFacturesByPeriode(e,t,i){let r=this.getHeaders(),a={debut:e.toISOString(),fin:t.toISOString(),entiteId:i.toString()};return this.http.get(`${this.apiUrl}/periode`,{headers:r,params:a}).pipe(ie(this.handleError))}updateFacture(e,t,i){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/${e}?entiteId=${i}`,t,{headers:r}).pipe(ie(this.handleError))}archiveFacture(e,t){let i=this.getHeaders();return this.http.put(`${this.apiUrl}/archiver/${e}?entiteId=${t}`,{},{headers:i}).pipe(ie(this.handleError))}deleteFacture(e,t){let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}handleError(e){let t="Une erreur inconnue est survenue";return e.error instanceof ErrorEvent?t=`Erreur: ${e.error.message}`:(t=`Code: ${e.status}
Message: ${e.message}`,e.error&&e.error.message&&(t+=`
D\xE9tails: ${e.error.message}`)),console.error(t),Ne(()=>new Error(t))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var dB=["inputtext"],uB=["container"],pB=(n,e,t,i)=>({"p-inputchips p-component p-input-wrapper":!0,"p-disabled":n,"p-focus":e,"p-inputwrapper-filled":t,"p-inputwrapper-focus":i}),mB=n=>({"p-chips-clearable":n}),hB=n=>({"p-inputchips-chip-item":!0,"p-focus":n}),Yx=n=>({$implicit:n}),fB=n=>({removeItem:n});function gB(n,e){n&1&&Pt(0)}function vB(n,e){n&1&&Pt(0)}function _B(n,e){if(n&1){let t=W();d(0,"TimesCircleIcon",16),L("click",function(r){y(t);let a=w(4).index,o=w();return b(o.removeItem(r,a))}),u()}n&2&&(g("styleClass","p-chips-token-icon"),le("data-pc-section","removeTokenIcon")("aria-hidden",!0))}function yB(n,e){}function bB(n,e){n&1&&R(0,yB,0,0,"ng-template")}function wB(n,e){if(n&1){let t=W();d(0,"span",17),L("click",function(r){y(t);let a=w(4).index,o=w();return b(o.removeItem(r,a))}),R(1,bB,1,0,null,11),u()}if(n&2){let t=w(5);le("data-pc-section","removeTokenIcon")("aria-hidden",!0),c(),g("ngTemplateOutlet",t.removeTokenIconTemplate)("ngTemplateOutletContext",Ae(4,fB,t.removeItem.bind(t)))}}function SB(n,e){if(n&1&&(Ue(0),R(1,_B,1,3,"TimesCircleIcon",14)(2,wB,2,6,"span",15),je()),n&2){let t=w(4);c(),g("ngIf",!t.removeTokenIconTemplate),c(),g("ngIf",t.removeTokenIconTemplate)}}function CB(n,e){if(n&1&&R(0,SB,3,2,"ng-container",9),n&2){let t=w(3);g("ngIf",!t.disabled)}}function xB(n,e){if(n&1){let t=W();d(0,"p-chip",13),L("onRemove",function(r){y(t);let a=w().index,o=w();return b(o.removeItem(r,a))}),R(1,vB,1,0,"ng-container",11)(2,CB,1,1,"ng-template",null,3,ae),u()}if(n&2){let t=w().$implicit,i=w();g("label",i.field?i.resolveFieldData(t,i.field):t)("removeIcon",i.chipIcon),c(),g("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",Ae(4,Yx,t))}}function EB(n,e){if(n&1){let t=W();d(0,"li",10,2),L("click",function(r){let a=y(t).$implicit,o=w();return b(o.onItemClick(r,a))})("contextmenu",function(r){let a=y(t).$implicit,o=w();return b(o.onItemContextMenu(r,a))}),R(2,gB,1,0,"ng-container",11)(3,xB,4,6,"p-chip",12),u()}if(n&2){let t=e.$implicit,i=e.index,r=w();g("ngClass",Ae(11,hB,r.focusedIndex===i)),le("id",r.id+"_chips_item_"+i)("ariaLabel",t)("aria-selected",!0)("aria-setsize",r.value.length)("aria-posinset",i+1)("data-p-focused",r.focusedIndex===i)("data-pc-section","token"),c(2),g("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Ae(13,Yx,t)),c(),g("ngIf",!r.itemTemplate)}}function IB(n,e){if(n&1){let t=W();d(0,"TimesIcon",16),L("click",function(){y(t);let r=w(2);return b(r.clear())}),u()}n&2&&g("styleClass","p-chips-clear-icon")}function TB(n,e){}function DB(n,e){n&1&&R(0,TB,0,0,"ng-template")}function AB(n,e){if(n&1){let t=W();d(0,"span",19),L("click",function(){y(t);let r=w(2);return b(r.clear())}),R(1,DB,1,0,null,20),u()}if(n&2){let t=w(2);c(),g("ngTemplateOutlet",t.clearIconTemplate)}}function MB(n,e){if(n&1&&(d(0,"li"),R(1,IB,1,1,"TimesIcon",14)(2,AB,2,1,"span",18),u()),n&2){let t=w();c(),g("ngIf",!t.clearIconTemplate),c(),g("ngIf",t.clearIconTemplate)}}var kB=({dt:n})=>`
.p-inputchips {
    display: inline-flex;
}

.p-inputchips-input {
    margin: 0;
    list-style-type: none;
    cursor: text;
    overflow: hidden;
    display: flex;
    position: relative;
    align-items: center;
    flex-wrap: wrap;
    padding: calc(${n("inputchips.padding.y")} / 2) ${n("inputchips.padding.x")};
    gap: calc(${n("inputchips.padding.y")} / 2);
    color: ${n("inputchips.color")};
    background: ${n("inputchips.background")};
    border: 1px solid ${n("inputchips.border.color")};
    border-radius: ${n("inputchips.border.radius")};
    width: 100%;
    transition: background ${n("inputchips.transition.duration")}, color ${n("inputchips.transition.duration")}, border-color ${n("inputchips.transition.duration")}, outline-color ${n("inputchips.transition.duration")}, box-shadow ${n("inputchips.transition.duration")};
    outline-color: transparent;
    box-shadow: ${n("inputchips.shadow")};
}

.p-inputchips:not(.p-disabled):hover .p-inputchips-input {
    border-color: ${n("inputchips.hover.border.color")};
}

.p-inputchips:not(.p-disabled).p-focus .p-inputchips-input {
    border-color: ${n("inputchips.focus.border.color")};
    box-shadow: ${n("inputchips.focus.ring.shadow")};
    outline: ${n("inputchips.focus.ring.width")} ${n("inputchips.focus.ring.style")} ${n("inputchips.focus.ring.color")};
    outline-offset: ${n("inputchips.focus.ring.offset")};
}

.p-inputchips.p-invalid .p-inputchips-input {
    border-color: ${n("inputchips.invalid.border.color")};
}

.p-variant-filled.p-inputchips-input {
    background: ${n("inputchips.filled.background")};
}

.p-inputchips:not(.p-disabled).p-focus .p-variant-filled.p-inputchips-input  {
    background: ${n("inputchips.filled.focus.background")};
}

.p-inputchips.p-disabled .p-inputchips-input {
    opacity: 1;
    background: ${n("inputchips.disabled.background")};
    color: ${n("inputchips.disabled.color")};
}

.p-inputchips-chip.p-chip {
    padding-top: calc(${n("inputchips.padding.y")} / 2);
    padding-bottom: calc(${n("inputchips.padding.y")} / 2);
    border-radius: ${n("inputchips.chip.border.radius")};
    transition: background ${n("inputchips.transition.duration")}, color ${n("inputchips.transition.duration")};
}

.p-inputchips-chip-item.p-focus .p-inputchips-chip {
    background: ${n("inputchips.chip.focus.background")};
    color: ${n("inputchips.chip.focus.color")};
}

.p-inputchips-input:has(.p-inputchips-chip) {
    padding-left: calc(${n("inputchips.padding.y")} / 2);
    padding-right: calc(${n("inputchips.padding.y")} / 2);
}

.p-inputchips-input-item {
    flex: 1 1 auto;
    display: inline-flex;
    padding-top: calc(${n("inputchips.padding.y")} / 2);
    padding-bottom: calc(${n("inputchips.padding.y")} / 2);
}

.p-inputchips-input-item input {
    border: 0 none;
    outline: 0 none;
    background: transparent;
    margin: 0;
    padding: 0;
    box-shadow: none;
    border-radius: 0;
    width: 100%;
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: inherit;
}

.p-inputchips-input-item input::placeholder {
    color: ${n("inputchips.placeholder.color")};
}

/* For PrimeNG */

.p-chips-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    cursor: pointer;
    right: ${n("inputchips.padding.x")};
}
`,PB={root:({instance:n,props:e})=>["p-inputchips p-component p-inputwrapper",{"p-disabled":e.disabled,"p-invalid":e.invalid,"p-focus":n.focused,"p-inputwrapper-filled":e.modelValue&&e.modelValue.length||n.inputValue&&n.inputValue.length,"p-inputwrapper-focus":n.focused}],input:({props:n,instance:e})=>["p-inputchips-input",{"p-variant-filled":n.variant?n.variant==="filled":e.config.inputStyle==="filled"||e.config.inputVariant==="filled"}],chipItem:({state:n,index:e})=>["p-inputchips-chip-item",{"p-focus":n.focusedIndex===e}],pcChip:"p-inputchips-chip",chipIcon:"p-inputchips-chip-icon",inputItem:"p-inputchips-input-item"},Gx=(()=>{class n extends Zn{name="inputchips";theme=kB;classes=PB;static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();var LB={provide:lc,useExisting:ic(()=>Th),multi:!0},Th=(()=>{class n extends Fn{el;cd;config;style;styleClass;disabled;field;placeholder;max;maxLength;ariaLabel;ariaLabelledBy;tabindex;inputId;allowDuplicate=!0;caseSensitiveDuplication=!0;inputStyle;inputStyleClass;chipIcon;addOnTab;addOnBlur;separator;showClear=!1;autofocus;variant="outlined";onAdd=new et;onRemove=new et;onFocus=new et;onBlur=new et;onChipClick=new et;onChipContextMenu=new et;onClear=new et;inputViewChild;containerViewChild;templates;itemTemplate;removeTokenIconTemplate;clearIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};valueChanged;id=MC();focused;focusedIndex;filled;_componentStyle=Qi(Gx);get focusedOptionId(){return this.focusedIndex!==null?`${this.id}_chips_item_${this.focusedIndex}`:null}get isMaxedOut(){return this.max&&this.value&&this.max===this.value.length}constructor(t,i,r){super(),this.el=t,this.cd=i,this.config=r,console.log("Deprecated since v18. Use AutoComplete component instead with its typeahead property.")}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"removetokenicon":this.removeTokenIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}}),this.updateFilledState()}onWrapperClick(){this.inputViewChild?.nativeElement.focus()}onContainerFocus(){this.focused=!0}onContainerBlur(){this.focusedIndex=-1,this.focused=!1}onContainerKeyDown(t){switch(t.code){case"ArrowLeft":this.onArrowLeftKeyOn();break;case"ArrowRight":this.onArrowRightKeyOn();break;case"Backspace":this.onBackspaceKeyOn(t);break;case"Space":this.focusedIndex!==null&&this.value&&this.value.length>0&&this.onItemClick(t,this.value[this.focusedIndex]);break;default:break}}onArrowLeftKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex=this.focusedIndex===null?this.value.length-1:this.focusedIndex-1,this.focusedIndex<0&&(this.focusedIndex=0))}onArrowRightKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex===this.value.length-1?(this.focusedIndex=null,this.inputViewChild?.nativeElement.focus()):this.focusedIndex++)}onBackspaceKeyOn(t){this.focusedIndex!==null&&this.removeItem(t,this.focusedIndex)}onInput(){this.updateFilledState(),this.focusedIndex=null}onPaste(t){this.disabled||(this.separator&&((t.clipboardData||this.document.defaultView.clipboardData).getData("Text").split(this.separator).forEach(r=>{this.addItem(t,r,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){!this.value||this.value.length===0?this.filled=this.inputViewChild&&this.inputViewChild.nativeElement&&this.inputViewChild.nativeElement.value!="":this.filled=!0}onItemClick(t,i){this.onChipClick.emit({originalEvent:t,value:i})}onItemContextMenu(t,i){this.onChipContextMenu.emit({originalEvent:t,value:i})}writeValue(t){this.value=t,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}resolveFieldData(t,i){if(t&&i){if(i.indexOf(".")==-1)return t[i];{let o=i.split("."),s=t;for(var r=0,a=o.length;r<a;++r)s=s[o[r]];return s}}else return null}onInputFocus(t){this.focused=!0,this.focusedIndex=null,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.focusedIndex=null,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(t)}removeItem(t,i){if(this.disabled)return;let r=this.value[i];this.value=this.value.filter((a,o)=>o!=i),this.focusedIndex=null,this.inputViewChild.nativeElement.focus(),this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:r}),this.updateFilledState(),this.updateMaxedOut()}addItem(t,i,r){if(this.value=this.value||[],i&&i.trim().length){let a=this.caseSensitiveDuplication?this.value.includes(i):this.value.some(o=>o.toLowerCase()===i.toLowerCase());(this.allowDuplicate||!a)&&!this.isMaxedOut&&(this.value=[...this.value,i],this.onModelChange(this.value),this.onAdd.emit({originalEvent:t,value:i}))}this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",r&&t.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.updateMaxedOut(),this.onClear.emit()}onKeyDown(t){let i=t.target.value;switch(t.code){case"Backspace":i.length===0&&this.value&&this.value.length>0&&(this.focusedIndex!==null?this.removeItem(t,this.focusedIndex):this.removeItem(t,this.value.length-1));break;case"Enter":case"NumpadEnter":i&&i.trim().length&&!this.isMaxedOut&&this.addItem(t,i,!0);break;case"Tab":this.addOnTab&&i&&i.trim().length&&!this.isMaxedOut&&(this.addItem(t,i,!0),t.preventDefault());break;case"ArrowLeft":i.length===0&&this.value&&this.value.length>0&&this.containerViewChild?.nativeElement.focus();break;case"ArrowRight":t.stopPropagation();break;default:this.separator&&(this.separator===t.key||t.key.match(this.separator))&&this.addItem(t,i,!0);break}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.isMaxedOut?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}static \u0275fac=function(i){return new(i||n)(B(xo),B(nc),B(aC))};static \u0275cmp=re({type:n,selectors:[["p-chips"]],contentQueries:function(i,r,a){if(i&1&&ye(a,$t,4),i&2){let o;Z(o=J())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Te(dB,5),Te(uB,5)),i&2){let a;Z(a=J())&&(r.inputViewChild=a.first),Z(a=J())&&(r.containerViewChild=a.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,r){i&2&&mi("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-chips-clearable",r.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:[2,"disabled","disabled",Ee],field:"field",placeholder:"placeholder",max:[2,"max","max",un],maxLength:"maxLength",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",un],inputId:"inputId",allowDuplicate:[2,"allowDuplicate","allowDuplicate",Ee],caseSensitiveDuplication:[2,"caseSensitiveDuplication","caseSensitiveDuplication",Ee],inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",chipIcon:"chipIcon",addOnTab:[2,"addOnTab","addOnTab",Ee],addOnBlur:[2,"addOnBlur","addOnBlur",Ee],separator:"separator",showClear:[2,"showClear","showClear",Ee],autofocus:[2,"autofocus","autofocus",Ee],variant:"variant"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onChipContextMenu:"onChipContextMenu",onClear:"onClear"},features:[xe([LB,Gx]),Sn],decls:8,vars:31,consts:[["container",""],["inputtext",""],["token",""],["removeicon",""],[3,"ngClass","ngStyle"],["tabindex","-1","role","listbox",1,"p-inputchips-input",3,"click","focus","blur","keydown"],["role","option",3,"ngClass","click","contextmenu",4,"ngFor","ngForOf"],["role","option",1,"p-inputchips-input-item",3,"ngClass"],["type","text","pAutoFocus","",1,"test",3,"keydown","input","paste","focus","blur","disabled","ngStyle","autofocus"],[4,"ngIf"],["role","option",3,"click","contextmenu","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-inputchips-chip","removable","",3,"label","removeIcon","onRemove",4,"ngIf"],["removable","",1,"p-inputchips-chip",3,"onRemove","label","removeIcon"],[3,"styleClass","click",4,"ngIf"],["class","p-chips-token-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-chips-token-icon",3,"click"],["class","p-chips-clear-icon",3,"click",4,"ngIf"],[1,"p-chips-clear-icon",3,"click"],[4,"ngTemplateOutlet"]],template:function(i,r){if(i&1){let a=W();d(0,"div",4)(1,"ul",5,0),L("click",function(){return y(a),b(r.onWrapperClick())})("focus",function(){return y(a),b(r.onContainerFocus())})("blur",function(){return y(a),b(r.onContainerBlur())})("keydown",function(s){return y(a),b(r.onContainerKeyDown(s))}),R(3,EB,4,15,"li",6),d(4,"li",7)(5,"input",8,1),L("keydown",function(s){return y(a),b(r.onKeyDown(s))})("input",function(){return y(a),b(r.onInput())})("paste",function(s){return y(a),b(r.onPaste(s))})("focus",function(s){return y(a),b(r.onInputFocus(s))})("blur",function(s){return y(a),b(r.onInputBlur(s))}),u()(),R(7,MB,3,2,"li",9),u()()}i&2&&(si(r.styleClass),g("ngClass",IS(24,pB,r.disabled,r.focused,r.value&&r.value.length||(r.inputViewChild==null?null:r.inputViewChild.nativeElement.value)&&(r.inputViewChild==null?null:r.inputViewChild.nativeElement.value.length),r.focused))("ngStyle",r.style),le("data-pc-name","chips")("data-pc-section","root"),c(),le("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-orientation","horizontal")("data-pc-section","container"),c(2),g("ngForOf",r.value),c(),g("ngClass",Ae(29,mB,r.showClear&&!r.disabled)),le("data-pc-section","inputToken"),c(),si(r.inputStyleClass),g("disabled",r.disabled||r.isMaxedOut)("ngStyle",r.inputStyle)("autofocus",r.autofocus),le("id",r.inputId)("maxlength",r.maxLength)("placeholder",r.value&&r.value.length?null:r.placeholder)("tabindex",r.tabindex),c(2),g("ngIf",r.value!=null&&r.filled&&!r.disabled&&r.showClear))},dependencies:[pe,zi,Gi,ge,Bn,Rn,tt,yi,fC,sc,Wm,$a,ds,Sa],encapsulation:2,changeDetection:0})}return n})(),Kx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wn({type:n});static \u0275inj=bn({imports:[Th,yi,yi]})}return n})();var BB=["*"],FB=({dt:n})=>`
    .p-fluid{
        width:100%
    }
`,OB={root:"p-fluid"},Xx=(()=>{class n extends Zn{name="fluid";classes=OB;theme=FB;static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();var ai=(()=>{class n extends Fn{_componentStyle=Qi(Xx);static \u0275fac=(()=>{let t;return function(r){return(t||(t=ji(n)))(r||n)}})();static \u0275cmp=re({type:n,selectors:[["p-fluid"]],hostVars:2,hostBindings:function(i,r){i&2&&mi("p-fluid",!0)},features:[xe([Xx]),Sn],ngContentSelectors:BB,decls:1,vars:0,template:function(i,r){i&1&&(Qr(),gr(0))},dependencies:[pe],encapsulation:2,changeDetection:0})}return n})(),Xt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wn({type:n});static \u0275inj=bn({imports:[ai]})}return n})();var NB=["dt1"],VB=["fileUpload"],HB=()=>["numeroSIRE","nom","robe","sexe"],WB=()=>[5,10,20],Ga=()=>({width:"50vw"}),Zx=n=>({label:n,value:!0}),Jx=n=>({label:n,value:!1}),eE=(n,e)=>[n,e],UB=()=>({"min-width":"12rem"}),jB=()=>[5,10,25];function zB(n,e){if(n&1){let t=W();d(0,"div",33)(1,"button",113),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalDialog())}),u(),d(3,"button",113),h(4,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddordonnancechevauxDialog())}),u(),d(5,"button",113),h(6,"translate"),L("click",function(){y(t);let r=w();return b(r.showImportCsvDialog())}),u(),d(7,"button",113),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalActeDialog())}),u(),d(9,"button",113),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.showMouvementChevauxDialog())}),u(),d(11,"button",113),h(12,"translate"),L("click",function(){y(t);let r=w();return b(r.showVendreChevauxDialog())}),u()()}n&2&&(c(),g("label",f(2,6,"HorseComponent.buttons.add_horse")),c(2),g("label",f(4,8,"HorseComponent.buttons.add_prescription")),c(2),g("label",f(6,10,"HorseComponent.buttons.import_csv")),c(2),g("label",f(8,12,"HorseComponent.buttons.add_document")),c(2),g("label",f(10,14,"HorseComponent.buttons.move_horses")),c(2),g("label",f(12,16,"HorseComponent.buttons.sell_horses")))}function qB(n,e){if(n&1){let t=W();d(0,"div",114)(1,"div")(2,"button",115),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(51);return b(r.clear(a))}),u()(),d(4,"div",116)(5,"p-button",117),L("click",function(){y(t);let r=w();return b(r.exportExcel())}),u(),d(6,"p-button",118),L("click",function(){y(t);let r=w();return b(r.exportPdf())}),u(),d(7,"p-button",119),L("click",function(){y(t);let r=w();return b(r.exportCSV())}),u()(),d(8,"p-iconField",120)(9,"p-inputIcon"),P(10,"i",121),u(),d(11,"input",122),h(12,"translate"),L("input",function(r){y(t);let a=w(),o=Q(51);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,2,"HorseComponent.table.clear")),c(9),g("placeholder",f(12,4,"HorseComponent.table.search")))}function $B(n,e){if(n&1&&(d(0,"span"),v(1),u()),n&2){let t=e.$implicit;c(),x(t.label)}}function QB(n,e){if(n&1){let t=W();d(0,"p-dropdown",131),L("onChange",function(r){let a=y(t).filterCallback;return b(a(r.value))}),R(1,$B,2,1,"ng-template",null,14,ae),u()}if(n&2){let t=e.$implicit,i=w(2);_e(se(4,UB)),g("ngModel",t)("options",i.sexeOptions)}}function GB(n,e){n&1&&(d(0,"tr")(1,"th",123)(2,"div",124),v(3),h(4,"translate"),P(5,"p-columnFilter",125),u()(),d(6,"th",123)(7,"div",124),v(8),h(9,"translate"),P(10,"p-columnFilter",125),u()(),d(11,"th",123)(12,"div",124),v(13),h(14,"translate"),P(15,"p-columnFilter",126),u()(),d(16,"th",123)(17,"div",124),v(18),h(19,"translate"),P(20,"p-columnFilter",127),u()(),d(21,"th",128)(22,"div",124),v(23),h(24,"translate"),P(25,"p-columnFilter",129),u()(),d(26,"th",128)(27,"div",124),v(28),h(29,"translate"),d(30,"p-columnFilter",130),R(31,QB,3,5,"ng-template",null,13,ae),u()()(),d(33,"th",123)(34,"div",124),v(35),h(36,"translate"),u()(),d(37,"th",123)(38,"div",124),v(39),h(40,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,8,"HorseComponent.table.sire_number")," "),c(5),O(" ",f(9,10,"HorseComponent.table.sire_key")," "),c(5),O(" ",f(14,12,"HorseComponent.table.name")," "),c(5),O(" ",f(19,14,"HorseComponent.table.coat")," "),c(5),O(" ",f(24,16,"HorseComponent.table.birth_date")," "),c(5),O(" ",f(29,18,"HorseComponent.table.gender")," "),c(7),O(" ",f(36,20,"HorseComponent.table.archived")," "),c(4),O(" ",f(40,22,"HorseComponent.table.actions")," "))}function YB(n,e){if(n&1){let t=W();d(0,"button",134),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.showAncienNomsDialog(r.numeroSIRE))}),u()}}function KB(n,e){if(n&1){let t=W();d(0,"button",142),h(1,"translate"),L("click",function(){y(t);let r=w(2).$implicit,a=w();return b(a.archiverCheval(r))}),u()}n&2&&g("pTooltip",f(1,2,"HorseComponent.messages.archive.title"))("tooltipPosition","top")}function XB(n,e){if(n&1){let t=W();d(0,"button",143),h(1,"translate"),L("click",function(){y(t);let r=w(2).$implicit,a=w();return b(a.restaurerCheval(r))}),u()}n&2&&g("pTooltip",f(1,2,"HorseComponent.messages.restore.title"))("tooltipPosition","top")}function ZB(n,e){n&1&&(P(0,"button",144),h(1,"translate")),n&2&&g("pTooltip",f(1,2,"HorseComponent.messages.sell.title"))("tooltipPosition","top")}function JB(n,e){if(n&1){let t=W();d(0,"button",145),h(1,"translate"),L("click",function(){y(t);let r=w(2).$implicit,a=w();return b(a.ajouterOrdonnance(r.numeroSIRE))}),u()}n&2&&g("pTooltip",f(1,2,"HorseComponent.PrescriptionDialog.headersingle"))("tooltipPosition","top")}function e9(n,e){if(n&1){let t=W();d(0,"button",146),h(1,"translate"),L("click",function(){y(t);let r=w(2).$implicit,a=w();return b(a.ajouterActe(r.numeroSIRE))}),u()}n&2&&g("pTooltip",f(1,2,"HorseComponent.AddDocumentDialog.headersingle"))("tooltipPosition","top")}function t9(n,e){if(n&1){let t=W();d(0,"div")(1,"button",135),h(2,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.supprimerCheval(r))}),u(),d(3,"button",136),h(4,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.openEditChevalDialog(r))}),u(),R(5,KB,2,4,"button",137)(6,XB,2,4,"button",138)(7,ZB,2,4,"button",139)(8,JB,2,4,"button",140)(9,e9,2,4,"button",141),u()}if(n&2){let t=w().$implicit;c(),g("pTooltip",f(2,9,"HorseComponent.messages.delete.title"))("tooltipPosition","top"),c(2),g("pTooltip",f(4,11,"HorseComponent.messages.edit.title"))("tooltipPosition","top"),c(2),g("ngIf",t.archived===!1&&t.vendu!==!0),c(),g("ngIf",t.archived===!0&&t.vendu!==!0),c(),g("ngIf",t.vendu===!0),c(),g("ngIf",t.archived===!1&&t.vendu===!1),c(),g("ngIf",t.archived===!1&&t.vendu===!1)}}function i9(n,e){n&1&&(d(0,"div",147),v(1," Vous n'\xEAtes pas autoris\xE9 \xE0 effectuer des actions ! "),u())}function n9(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u(),d(5,"td"),v(6),R(7,YB,1,0,"button",132),u(),d(8,"td"),v(9),u(),d(10,"td"),v(11),h(12,"date"),u(),d(13,"td"),v(14),h(15,"translate"),h(16,"translate"),u(),d(17,"td"),v(18),h(19,"translate"),h(20,"translate"),u(),d(21,"td"),R(22,t9,10,13,"div",74)(23,i9,2,0,"div",133),u()()),n&2){let t=e.$implicit,i=w();c(2),O(" ",t.numeroSIRE," "),c(2),O(" ",t.cleSIRE," "),c(2),O(" ",t.nom," "),c(),g("ngIf",i.ancienNomsMap.get(t.numeroSIRE)===!0),c(2),O(" ",t.robe," "),c(2),O(" ",ni(12,10,t.dateDeNaissance,"dd/MM/yyyy")," "),c(3),O(" ",t.sexe==="M\xE2le"?f(15,13,"HorseComponent.genders.male"):f(16,15,"HorseComponent.genders.female")," "),c(4),O(" ",t.archived?f(19,17,"HorseComponent.table.yes"):f(20,19,"HorseComponent.table.no")," "),c(4),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin)}}function r9(n,e){n&1&&(d(0,"tr")(1,"td",148),v(2),h(3,"translate"),u()()),n&2&&(c(2),O(" ",f(3,1,"HorseComponent.table.no_data"),""))}function a9(n,e){n&1&&(d(0,"tr")(1,"td",148),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"HorseComponent.table.loading")))}function o9(n,e){n&1&&(d(0,"small",149),v(1),h(2,"translate"),P(3,"br"),v(4),h(5,"translate"),u()),n&2&&(c(),O(" ",f(2,2,"HorseComponent.ImportDialog.messages.file_type"),""),c(3),O(" ",f(5,4,"HorseComponent.ImportDialog.messages.max_size")," "))}function s9(n,e){if(n&1&&(v(0),h(1,"translate")),n&2){let t=e.$implicit;O(" ",f(1,1,t.label)," ")}}function l9(n,e){if(n&1){let t=W();d(0,"p-dropdown",150),h(1,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCheval.lieuId,r)||(a.newCheval.lieuId=r),b(r)}),u()}if(n&2){let t=w();g("filter",!0)("showClear",!0),T("ngModel",t.newCheval.lieuId),g("options",t.lieuOptions)("placeholder",f(1,7,"HorseComponent.AddHorseDialog.placeholders.select_location"))("virtualScroll",!0)("virtualScrollItemSize",15)}}function c9(n,e){n&1&&(d(0,"div",63)(1,"a",151),v(2),h(3,"translate"),u()()),n&2&&(c(2),O(" ",f(3,1,"HorseComponent.AddHorseDialog.messages.add_first_location")," "))}function d9(n,e){if(n&1){let t=W();d(0,"p-dropdown",152),h(1,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCheval.raceCodeRace,r)||(a.newCheval.raceCodeRace=r),b(r)}),u()}if(n&2){let t=w();g("filter",!0)("showClear",!0),T("ngModel",t.newCheval.raceCodeRace),g("options",t.raceOptions)("placeholder",f(1,7,"HorseComponent.AddHorseDialog.placeholders.select_race"))("virtualScroll",!0)("virtualScrollItemSize",15)}}function u9(n,e){n&1&&(d(0,"div",63)(1,"a",153),v(2),h(3,"translate"),u()()),n&2&&(c(2),O(" ",f(3,1,"HorseComponent.AddHorseDialog.messages.add_first_race")," "))}function p9(n,e){if(n&1){let t=W();d(0,"p-dropdown",154),h(1,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCheval.categoriesId,r)||(a.newCheval.categoriesId=r),b(r)}),u()}if(n&2){let t=w();g("filter",!0)("showClear",!0),T("ngModel",t.newCheval.categoriesId),g("options",t.categorieOptions)("placeholder",f(1,7,"HorseComponent.AddHorseDialog.placeholders.select_category"))("virtualScroll",!0)("virtualScrollItemSize",15)}}function m9(n,e){n&1&&(d(0,"div",63)(1,"a",155),v(2),h(3,"translate"),u()()),n&2&&(c(2),O(" ",f(3,1,"HorseComponent.AddHorseDialog.messages.add_first_category")," "))}function h9(n,e){if(n&1){let t=W();d(0,"p-multiSelect",156),h(1,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCheval.contactIds,r)||(a.newCheval.contactIds=r),b(r)}),u()}if(n&2){let t=w();T("ngModel",t.newCheval.contactIds),g("options",t.contactOptions)("placeholder",f(1,6,"HorseComponent.AddHorseDialog.placeholders.select_contacts"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3)}}function f9(n,e){n&1&&(d(0,"div",63)(1,"a",157),v(2),h(3,"translate"),u()()),n&2&&(c(2),O(" ",f(3,1,"HorseComponent.AddHorseDialog.messages.add_first_contact"),""))}function g9(n,e){if(n&1){let t=W();d(0,"form",43,15),L("ngSubmit",function(){y(t);let r=Q(1),a=w();return b(a.modifierCheval(r))}),d(2,"div",38)(3,"div",44)(4,"div",45)(5,"div",46)(6,"label",158),v(7),h(8,"translate"),d(9,"b",34),v(10),u()(),d(11,"input",159),A("ngModelChange",function(r){y(t);let a=w();return D(a.chevalToEdit.numeroSIRE,r)||(a.chevalToEdit.numeroSIRE=r),b(r)}),u()()(),d(12,"div",45)(13,"div",46)(14,"label",160),v(15),h(16,"translate"),u(),d(17,"input",161),A("ngModelChange",function(r){y(t);let a=w();return D(a.chevalToEdit.nom,r)||(a.chevalToEdit.nom=r),b(r)}),u()()(),d(18,"div",45)(19,"div",46)(20,"label",162),v(21),h(22,"translate"),u(),d(23,"p-dropdown",163),A("ngModelChange",function(r){y(t);let a=w();return D(a.chevalToEdit.robe,r)||(a.chevalToEdit.robe=r),b(r)}),u()()(),d(24,"div",45)(25,"div",46)(26,"label",164),v(27),h(28,"translate"),u(),d(29,"p-calendar",165),A("ngModelChange",function(r){y(t);let a=w();return D(a.chevalToEdit.dateDeNaissance,r)||(a.chevalToEdit.dateDeNaissance=r),b(r)}),u()()(),d(30,"div",45)(31,"div",46)(32,"label",166),v(33),h(34,"translate"),u(),d(35,"p-dropdown",167),h(36,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.chevalToEdit.sexe,r)||(a.chevalToEdit.sexe=r),b(r)}),u()()(),d(37,"div",45)(38,"div",46)(39,"label",168),v(40),h(41,"translate"),u(),d(42,"p-dropdown",169),h(43,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.chevalToEdit.lieuId,r)||(a.chevalToEdit.lieuId=r),b(r)}),u()()(),d(44,"div",45)(45,"div",46)(46,"label",170),v(47),h(48,"translate"),u(),d(49,"p-dropdown",171),h(50,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.chevalToEdit.raceCodeRace,r)||(a.chevalToEdit.raceCodeRace=r),b(r)}),u()()(),d(51,"div",45)(52,"div",46)(53,"label",172),v(54),h(55,"translate"),u(),d(56,"p-dropdown",173),h(57,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.chevalToEdit.categoriesId,r)||(a.chevalToEdit.categoriesId=r),b(r)}),u()()(),d(58,"div",45)(59,"div",46)(60,"label",174),v(61),h(62,"translate"),u(),d(63,"p-multiSelect",175),h(64,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.chevalToEdit.contactIds,r)||(a.chevalToEdit.contactIds=r),b(r)}),u()()()()(),d(65,"div",70)(66,"button",71),h(67,"translate"),L("click",function(){y(t);let r=w();return b(r.displayEditChevalDialog=!1)}),u(),P(68,"button",72),h(69,"translate"),u()()}if(n&2){let t=Q(1),i=w();c(7),O("",f(8,57,"HorseComponent.EditHorseDialog.fields.sireNumber")," : "),c(3),x(i.chevalToEdit.numeroSIRE),c(),T("ngModel",i.chevalToEdit.numeroSIRE),c(4),x(f(16,59,"HorseComponent.EditHorseDialog.fields.name")),c(2),T("ngModel",i.chevalToEdit.nom),c(4),x(f(22,61,"HorseComponent.EditHorseDialog.fields.coat")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.chevalToEdit.robe),g("options",i.robeoptions)("virtualScroll",!0)("virtualScrollItemSize",15),c(4),x(f(28,63,"HorseComponent.EditHorseDialog.fields.birthDate")),c(2),T("ngModel",i.chevalToEdit.dateDeNaissance),g("showIcon",!0),c(4),x(f(34,65,"HorseComponent.EditHorseDialog.fields.gender")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.chevalToEdit.sexe),g("options",i.translatedSexeOptions)("placeholder",f(36,67,"HorseComponent.EditHorseDialog.placeholders.selectGender"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(41,69,"HorseComponent.EditHorseDialog.fields.location")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.chevalToEdit.lieuId),g("options",i.lieuOptions)("placeholder",f(43,71,"HorseComponent.EditHorseDialog.placeholders.selectLocation"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(48,73,"HorseComponent.EditHorseDialog.fields.raceCode")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.chevalToEdit.raceCodeRace),g("options",i.raceOptions)("placeholder",f(50,75,"HorseComponent.EditHorseDialog.placeholders.selectRace"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(55,77,"HorseComponent.EditHorseDialog.fields.category")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.chevalToEdit.categoriesId),g("options",i.categorieOptions)("placeholder",f(57,79,"HorseComponent.EditHorseDialog.placeholders.selectCategory"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(62,81,"HorseComponent.EditHorseDialog.fields.contacts")),c(2),T("ngModel",i.chevalToEdit.contactIds),g("options",i.contactOptions)("placeholder",f(64,83,"HorseComponent.EditHorseDialog.placeholders.selectContacts"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(3),g("label",f(67,85,"HorseComponent.EditHorseDialog.buttons.cancel")),c(2),g("label",f(69,87,"HorseComponent.EditHorseDialog.buttons.save"))("disabled",!t.valid)}}function v9(n,e){n&1&&(d(0,"tr")(1,"th"),v(2),h(3,"translate"),u(),d(4,"th"),v(5),h(6,"translate"),u()()),n&2&&(c(2),x(f(3,2,"HorseComponent.anciennoms.old_name")),c(3),x(f(6,4,"HorseComponent.anciennoms.change_date")))}function _9(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),h(5,"date"),u()()),n&2){let t=e.$implicit;c(2),x(t.nom),c(2),x(ni(5,2,t.date_changement,"dd/MM/yyyy"))}}function y9(n,e){n&1&&(d(0,"tr")(1,"td",178),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"HorseComponent.anciennoms.no_old_names")))}function b9(n,e){if(n&1&&(d(0,"div")(1,"div",176)(2,"p")(3,"strong"),v(4),h(5,"translate"),u(),v(6),u(),d(7,"p")(8,"strong"),v(9),h(10,"translate"),u(),v(11),u()(),d(12,"p-table",177),h(13,"translate"),R(14,v9,7,6,"ng-template",null,2,ae)(16,_9,6,5,"ng-template",null,3,ae)(18,y9,4,3,"ng-template",null,4,ae),u()()),n&2){let t=w();c(4),O("",f(5,10,"HorseComponent.anciennoms.current_name"),":"),c(2),O(" ",t.selectedCheval.nom,""),c(3),O("",f(10,12,"HorseComponent.anciennoms.sire_number"),":"),c(2),O(" ",t.selectedCheval.numeroSIRE,""),c(),ES("currentPageReportTemplate",f(13,14,"HorseComponent.anciennoms.showing_current_page_report")),g("value",t.ancienNomsList)("rows",5)("paginator",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",se(16,jB))}}function w9(n,e){if(n&1){let t=W();d(0,"button",71),h(1,"translate"),L("click",function(){y(t);let r=w();return b(r.displayAncienNomsDialog=!1)}),u()}n&2&&g("label",f(1,1,"HorseComponent.anciennoms.close_button"))}function S9(n,e){if(n&1){let t=W();d(0,"div")(1,"div",45)(2,"div",46)(3,"label",179),v(4),h(5,"translate"),u(),d(6,"p-multiSelect",180),h(7,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.symptomes,r)||(a.newOrdonnance.symptomes=r),b(r)}),u()()(),d(8,"div",76)(9,"div",46)(10,"label",181),v(11),h(12,"translate"),u(),d(13,"p-dropdown",182),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.nomMaladie,r)||(a.newOrdonnance.nomMaladie=r),b(r)}),u()()(),d(15,"div",76)(16,"div",46)(17,"label",183),v(18),h(19,"translate"),u(),d(20,"textarea",184),h(21,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.medicaments,r)||(a.newOrdonnance.medicaments=r),b(r)}),v(22,"                                    "),u()()()()}if(n&2){let t=w();c(4),x(f(5,18,"HorseComponent.PrescriptionDialog.fields.symptoms")),c(2),T("ngModel",t.newOrdonnance.symptomes),g("options",t.translatedsymptomesOptions)("placeholder",f(7,20,"HorseComponent.PrescriptionDialog.placeholders.select_symptoms"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(5),x(f(12,22,"HorseComponent.PrescriptionDialog.fields.disease")),c(2),T("ngModel",t.newOrdonnance.nomMaladie),g("options",t.translatedmaladieOptions)("placeholder",f(14,24,"HorseComponent.PrescriptionDialog.placeholders.select_disease"))("filter",!0)("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",20),c(5),x(f(19,26,"HorseComponent.PrescriptionDialog.fields.medications")),c(2),T("ngModel",t.newOrdonnance.medicaments),g("placeholder",f(21,28,"HorseComponent.PrescriptionDialog.placeholders.enter_medications"))}}function C9(n,e){if(n&1){let t=W();d(0,"div",76)(1,"div",45)(2,"div",46)(3,"label",179),v(4),h(5,"translate"),u(),d(6,"p-multiSelect",185),h(7,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.symptomes,r)||(a.newOrdonnance.symptomes=r),b(r)}),u()()(),d(8,"div",76)(9,"div",46)(10,"label",181),v(11),h(12,"translate"),u(),d(13,"p-dropdown",186),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.nomMaladie,r)||(a.newOrdonnance.nomMaladie=r),b(r)}),u()()(),d(15,"div",76)(16,"div",46)(17,"label",183),v(18),h(19,"translate"),u(),d(20,"textarea",184),h(21,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.medicaments,r)||(a.newOrdonnance.medicaments=r),b(r)}),v(22,"                          "),u()()()()}if(n&2){let t=w();c(4),x(f(5,18,"HorseComponent.PrescriptionDialog.fields.symptoms")),c(2),T("ngModel",t.newOrdonnance.symptomes),g("options",t.translatedsymptomesOptions)("placeholder",f(7,20,"HorseComponent.PrescriptionDialog.placeholders.select_symptoms"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(5),x(f(12,22,"HorseComponent.PrescriptionDialog.fields.disease")),c(2),T("ngModel",t.newOrdonnance.nomMaladie),g("options",t.translatedmaladieOptions)("placeholder",f(14,24,"HorseComponent.PrescriptionDialog.placeholders.select_disease"))("filter",!0)("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",20),c(5),x(f(19,26,"HorseComponent.PrescriptionDialog.fields.medications")),c(2),T("ngModel",t.newOrdonnance.medicaments),g("placeholder",f(21,28,"HorseComponent.PrescriptionDialog.placeholders.enter_medications"))}}function x9(n,e){if(n&1){let t=W();d(0,"div")(1,"div",46)(2,"label",187),v(3),h(4,"translate"),u(),d(5,"input",188),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.resultat,r)||(a.newAnalyseSanitaire.resultat=r),b(r)}),u()(),d(6,"div",46)(7,"label",189),v(8),h(9,"translate"),u(),d(10,"input",190),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.typeAnalyse,r)||(a.newAnalyseSanitaire.typeAnalyse=r),b(r)}),u()(),d(11,"div",46)(12,"label",191),v(13),h(14,"translate"),u(),d(15,"p-calendar",192),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.date_analyse,r)||(a.newAnalyseSanitaire.date_analyse=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,6,"HorseComponent.DynamicFormDialog.fields.result")),c(2),T("ngModel",t.newAnalyseSanitaire.resultat),c(3),x(f(9,8,"HorseComponent.DynamicFormDialog.fields.analysisType")),c(2),T("ngModel",t.newAnalyseSanitaire.typeAnalyse),c(3),x(f(14,10,"HorseComponent.DynamicFormDialog.fields.analysisDate")),c(2),T("ngModel",t.newAnalyseSanitaire.date_analyse)}}function E9(n,e){if(n&1){let t=W();d(0,"div")(1,"div",46)(2,"label",193),v(3),h(4,"translate"),u(),d(5,"input",194),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.typeVue,r)||(a.newPlanning.typeVue=r),b(r)}),u()(),d(6,"div",46)(7,"label",195),v(8),h(9,"translate"),u(),d(10,"input",196),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.filtres,r)||(a.newPlanning.filtres=r),b(r)}),u()(),d(11,"div",46)(12,"label",197),v(13),h(14,"translate"),u(),d(15,"p-calendar",198),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.date_debut,r)||(a.newPlanning.date_debut=r),b(r)}),u()(),d(16,"div",46)(17,"label",199),v(18),h(19,"translate"),u(),d(20,"p-calendar",200),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.date_fin,r)||(a.newPlanning.date_fin=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,8,"HorseComponent.DynamicFormDialog.fields.viewType")),c(2),T("ngModel",t.newPlanning.typeVue),c(3),x(f(9,10,"HorseComponent.DynamicFormDialog.fields.filters")),c(2),T("ngModel",t.newPlanning.filtres),c(3),x(f(14,12,"HorseComponent.DynamicFormDialog.fields.startDate")),c(2),T("ngModel",t.newPlanning.date_debut),c(3),x(f(19,14,"HorseComponent.DynamicFormDialog.fields.endDate")),c(2),T("ngModel",t.newPlanning.date_fin)}}function I9(n,e){if(n&1){let t=W();d(0,"div")(1,"div",46)(2,"label",187),v(3),h(4,"translate"),u(),d(5,"input",188),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.resultat,r)||(a.newAnalyseSanitaire.resultat=r),b(r)}),u()(),d(6,"div",46)(7,"label",189),v(8),h(9,"translate"),u(),d(10,"input",190),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.typeAnalyse,r)||(a.newAnalyseSanitaire.typeAnalyse=r),b(r)}),u()(),d(11,"div",46)(12,"label",191),v(13),h(14,"translate"),u(),d(15,"p-calendar",192),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.date_analyse,r)||(a.newAnalyseSanitaire.date_analyse=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,6,"HorseComponent.DynamicFormDialog.fields.result")),c(2),T("ngModel",t.newAnalyseSanitaire.resultat),c(3),x(f(9,8,"HorseComponent.DynamicFormDialog.fields.analysisType")),c(2),T("ngModel",t.newAnalyseSanitaire.typeAnalyse),c(3),x(f(14,10,"HorseComponent.DynamicFormDialog.fields.analysisDate")),c(2),T("ngModel",t.newAnalyseSanitaire.date_analyse)}}function T9(n,e){if(n&1){let t=W();d(0,"div")(1,"div",46)(2,"label",193),v(3),h(4,"translate"),u(),d(5,"input",194),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.typeVue,r)||(a.newPlanning.typeVue=r),b(r)}),u()(),d(6,"div",46)(7,"label",195),v(8),h(9,"translate"),u(),d(10,"input",196),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.filtres,r)||(a.newPlanning.filtres=r),b(r)}),u()(),d(11,"div",46)(12,"label",197),v(13),h(14,"translate"),u(),d(15,"p-calendar",198),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.date_debut,r)||(a.newPlanning.date_debut=r),b(r)}),u()(),d(16,"div",46)(17,"label",199),v(18),h(19,"translate"),u(),d(20,"p-calendar",200),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.date_fin,r)||(a.newPlanning.date_fin=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,8,"HorseComponent.DynamicFormDialog.fields.viewType")),c(2),T("ngModel",t.newPlanning.typeVue),c(3),x(f(9,10,"HorseComponent.DynamicFormDialog.fields.filters")),c(2),T("ngModel",t.newPlanning.filtres),c(3),x(f(14,12,"HorseComponent.DynamicFormDialog.fields.startDate")),c(2),T("ngModel",t.newPlanning.date_debut),c(3),x(f(19,14,"HorseComponent.DynamicFormDialog.fields.endDate")),c(2),T("ngModel",t.newPlanning.date_fin)}}function D9(n,e){if(n&1){let t=W();d(0,"div",210)(1,"div",211),v(2),u(),d(3,"div",211)(4,"p-inputNumber",212),A("ngModelChange",function(r){let a=y(t).$implicit;return D(a.prix,r)||(a.prix=r),b(r)}),u()()()}if(n&2){let t=e.$implicit,i=w(3);c(2),O(" ",i.getChevalLabel(t.numeroSIRE)," "),c(2),T("ngModel",t.prix),g("name","prix_"+t.numeroSIRE)("locale",i.currentLanguage)}}function A9(n,e){if(n&1&&(d(0,"div",46)(1,"label"),v(2),h(3,"translate"),u(),R(4,D9,5,4,"div",209),u()),n&2){let t=w(2);c(2),x(f(3,2,"HorseComponent.SellHorsesDialog.fields.prices")),c(2),g("ngForOf",t.newFacture.chevaux)}}function M9(n,e){if(n&1){let t=W();Ue(0),d(1,"form",43,16),L("ngSubmit",function(){y(t);let r=w();return b(r.createFacture())}),d(3,"div",38)(4,"div",46)(5,"label",201),v(6),h(7,"translate"),u(),d(8,"p-multiSelect",202),h(9,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedChevaux,r)||(a.selectedChevaux=r),b(r)}),L("onChange",function(r){y(t);let a=w();return b(a.onChevalSelect(r))}),u()(),R(10,A9,5,4,"div",203),d(11,"div",46)(12,"label",204),v(13),h(14,"translate"),u(),d(15,"input",205),h(16,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newFacture.acheteur,r)||(a.newFacture.acheteur=r),b(r)}),u()(),d(17,"div",46)(18,"label",206),v(19),h(20,"translate"),u(),d(21,"p-dropdown",207),h(22,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newFacture.modePaiement,r)||(a.newFacture.modePaiement=r),b(r)}),u()(),d(23,"div",46)(24,"label",87),v(25),h(26,"translate"),u(),d(27,"textarea",208),h(28,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newFacture.notes,r)||(a.newFacture.notes=r),b(r)}),v(29,"                "),u()()(),d(30,"div",70)(31,"button",71),h(32,"translate"),L("click",function(){y(t);let r=w();return b(r.displayVenteChevauxDialog=!1)}),u(),P(33,"button",72),h(34,"translate"),u()(),je()}if(n&2){let t=Q(2),i=w();c(6),x(f(7,21,"HorseComponent.SellHorsesDialog.fields.horses")),c(2),T("ngModel",i.selectedChevaux),g("options",i.chevauxOptions)("placeholder",f(9,23,"HorseComponent.SellHorsesDialog.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(2),g("ngIf",i.newFacture.chevaux.length>0),c(3),x(f(14,25,"HorseComponent.SellHorsesDialog.fields.buyer")),c(2),T("ngModel",i.newFacture.acheteur),g("placeholder",f(16,27,"HorseComponent.SellHorsesDialog.placeholders.enter_buyer")),c(4),x(f(20,29,"HorseComponent.SellHorsesDialog.fields.payment_method")),c(2),T("ngModel",i.newFacture.modePaiement),g("options",i.translatedPaymentOptions)("placeholder",f(22,31,"HorseComponent.SellHorsesDialog.placeholders.select_payment")),c(4),x(f(26,33,"HorseComponent.SellHorsesDialog.fields.notes")),c(2),T("ngModel",i.newFacture.notes),g("placeholder",f(28,35,"HorseComponent.SellHorsesDialog.placeholders.enter_notes")),c(4),g("label",f(32,37,"HorseComponent.SellHorsesDialog.buttons.cancel")),c(2),g("label",f(34,39,"HorseComponent.SellHorsesDialog.buttons.create_invoice"))("disabled",!t.valid||i.hasInvalidPrix())}}function k9(n,e){if(n&1){let t=W();d(0,"div",213),P(1,"i",214),d(2,"h3"),v(3),h(4,"translate"),u(),d(5,"p"),v(6),h(7,"translate"),u(),d(8,"button",71),h(9,"translate"),L("click",function(){y(t);let r=w();return b(r.displayVenteChevauxDialog=!1)}),u()()}n&2&&(c(3),x(f(4,3,"HorseComponent.SellHorsesDialog.messages.no_horses.title")),c(3),x(f(7,5,"HorseComponent.SellHorsesDialog.messages.no_horses.description")),c(2),g("label",f(9,7,"HorseComponent.SellHorsesDialog.messages.close")))}var Dh=class n{constructor(e,t,i,r,a,o,s,l,p,m,_,S,C,E,I,M,F,N,U){this.translate=e;this.factureService=t;this.chevalService=i;this.messageService=r;this.confirmationService=a;this.lieuService=o;this.entiteService=s;this.raceService=l;this.categorieService=p;this.contactService=m;this.chevalContactService=_;this.anciennomService=S;this.chevalordonnanceService=C;this.acteService=E;this.planningService=I;this.datePipe=M;this.authService=F;this.AnalysesanitaireService=N;this.mouvementService=U;this.entiteIdlogin=this.authService.getEntiteId(),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions()}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;exportExcel(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.filteredChevaux.map(o=>{let s={};return this.exportColumns.forEach(l=>{let p=l.dataKey;o[p]!==void 0?p==="dateDeNaissance"&&o[p]?s[l.title]=new Date(o[p]).toLocaleDateString():p==="archived"?s[l.title]=o[p]?"Oui":"Non":s[l.title]=o[p]:s[l.title]=""}),s}),r={Sheets:{"Liste Chevaux":e.utils.json_to_sheet(t)},SheetNames:["Liste Chevaux"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"chevaux")})}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",o=new Blob([e],{type:r});i.saveAs(o,t+"_export_"+new Date().getTime()+a)})}exportCSV(){if(!this.dt1){console.error("Table reference (dt1) is not available");return}if(!this.filteredChevaux||this.filteredChevaux.length===0){console.warn("No data available to export");return}try{let e=this.convertToCSV(this.filteredChevaux);this.downloadFile(e,"chevaux.csv","text/csv;charset=utf-8;")}catch(e){console.error("Error while exporting to CSV:",e)}}convertToCSV(e){if(!e||e.length===0)return"";let t=this.exportColumns.map(a=>a.title),i=this.exportColumns.map(a=>a.dataKey),r=t.join(";")+`\r
`;return e.forEach(a=>{i.forEach((o,s)=>{s>0&&(r+=";");let l=a[o];o==="dateDeNaissance"&&l?l=new Date(l).toLocaleDateString():o==="archived"&&(l=l?"Oui":"Non"),r+=l!=null?JSON.stringify(l).replace(/"/g,""):""}),r+=`\r
`}),r}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}exportPdf(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des chevaux",subject:"Export PDF",author:"Votre Application",keywords:"chevaux, liste, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES CHEVAUX",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+40;t(i,{startY:p,head:[this.exportColumns.map(m=>m.title)],body:this.filteredChevaux.map(m=>[m.numeroSIRE,m.cleSIRE,m.nom,m.robe,m.dateDeNaissance?new Date(m.dateDeNaissance).toLocaleDateString("fr-FR"):"",m.sexe,m.archived?"Oui":"Non"]),styles:{fontSize:9,cellPadding:4,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des chevaux",o,o-10)}}),i.save(`chevaux_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Error generating PDF:",e)}})}get exportColumns(){return[{title:"Num\xE9ro SIRE",dataKey:"numeroSIRE"},{title:"Cl\xE9 SIRE",dataKey:"cleSIRE"},{title:"Nom",dataKey:"nom"},{title:"Robe",dataKey:"robe"},{title:"Date de Naissance",dataKey:"dateDeNaissance"},{title:"Sexe",dataKey:"sexe"},{title:"Archiv\xE9",dataKey:"archived"}]}chevaux=[];chevauxnotarchived=[];lieux=[];entite=[];race=[];categorie=[];contact=[];filteredChevaux=[];filteredChevauxnotarchived=[];displayAddChevalDialog=!1;displayAddordonnancechevauxDialog=!1;newCheval=new Qt;searchText="";loading=!0;chevalToEdit=null;displayEditChevalDialog=!1;sexeOptions=[{label:"M\xE2le",value:"M\xE2le"},{label:"Femelle",value:"Femelle"}];categorieOptions=[];raceOptions=[];pereOptions=[];mereOptions=[];lieuOptions=[];entiteOptions=[];contactOptions=[];chevauxOptions=[];typeActeOptions=[];maladieOptions=[{label:"Grippe \xE9quine",value:"Grippe \xE9quine"},{label:"Rhinopneumonie",value:"Rhinopneumonie"},{label:"T\xE9tanos",value:"T\xE9tanos"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Art\xE9rite virale \xE9quine",value:"Art\xE9rite virale \xE9quine"},{label:"Piroplasmose",value:"Piroplasmose"},{label:"Lymphangite \xE9pizootique",value:"Lymphangite \xE9pizootique"},{label:"Dermatophilose",value:"Dermatophilose"},{label:"Gourme",value:"Gourme"},{label:"Fourbure",value:"Fourbure"},{label:"Coliques",value:"Coliques"},{label:"Laminite",value:"Laminite"},{label:"Myopathie atypique",value:"Myopathie atypique"},{label:"Maladie de Lyme",value:"Maladie de Lyme"},{label:"Leucose \xE9quine",value:"Leucose \xE9quine"},{label:"Enc\xE9phalomy\xE9lite \xE9quine",value:"Enc\xE9phalomy\xE9lite \xE9quine"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Syndrome naviculaire",value:"Syndrome naviculaire"},{label:"Dermatite estivale r\xE9cidivante",value:"Dermatite estivale r\xE9cidivante"},{label:"Paralysie \xE0 tiques",value:"Paralysie \xE0 tiques"}];symptomesOptions=[{label:"Fi\xE8vre",value:"Fi\xE8vre"},{label:"Toux",value:"Toux"},{label:"\xC9coulement nasal",value:"\xC9coulement nasal"},{label:"Difficult\xE9 respiratoire",value:"Difficult\xE9 respiratoire"},{label:"Perte d'app\xE9tit",value:"Perte d'app\xE9tit"},{label:"Apathie",value:"Apathie"},{label:"Raideur musculaire",value:"Raideur musculaire"},{label:"Spasmes musculaires",value:"Spasmes musculaires"},{label:"Difficult\xE9 \xE0 avaler",value:"Difficult\xE9 \xE0 avaler"},{label:"Jaunisse",value:"Jaunisse"},{label:"Urine fonc\xE9e",value:"Urine fonc\xE9e"},{label:"Gonflement des membres",value:"Gonflement des membres"},{label:"Boiterie",value:"Boiterie"},{label:"Douleur articulaire",value:"Douleur articulaire"},{label:"L\xE9sions cutan\xE9es",value:"L\xE9sions cutan\xE9es"},{label:"D\xE9mangeaisons intenses",value:"D\xE9mangeaisons intenses"},{label:"\xC9coulement oculaire",value:"\xC9coulement oculaire"},{label:"Diarrh\xE9e",value:"Diarrh\xE9e"},{label:"Coliques",value:"Coliques"},{label:"Transpiration excessive",value:"Transpiration excessive"},{label:"Tremblements",value:"Tremblements"},{label:"Paralysie",value:"Paralysie"},{label:"Perte de poids",value:"Perte de poids"},{label:"\u0152d\xE8me",value:"\u0152d\xE8me"},{label:"Saignements",value:"Saignements"},{label:"Douleur abdominale",value:"Douleur abdominale"},{label:"D\xE9shydratation",value:"D\xE9shydratation"},{label:"Faiblesse g\xE9n\xE9rale",value:"Faiblesse g\xE9n\xE9rale"},{label:"Incoordination",value:"Incoordination"},{label:"Convulsions",value:"Convulsions"}];translatedmaladieOptions=[];translatedsymptomesOptions=[];displayVenteChevauxDialog=!1;hasInvalidPrix(){return this.newFacture?.chevaux?this.newFacture.chevaux.some(e=>e.prix<=0):!1}newFacture={acheteur:"",modePaiement:"",notes:"",chevaux:[],entiteid:0};modePaiementOptions=[{label:"Virement bancaire",value:"Virement"},{label:"Ch\xE8que",value:"Cheque"},{label:"Esp\xE8ces",value:"Especes"},{label:"Carte bancaire",value:"Carte"}];getChevalLabel(e){let t=this.chevauxOptions.find(i=>i.value===e);return t?t.label:e}translatedSexeOptions=[];translatedPaymentOptions=[];currentLanguage="en";isAdmin=!1;robeoptions=[];updateTranslatedOptions(){this.typeActeOptions=[{label:this.translate.instant("HorseComponent.DynamicFormDialog.documentTypes.healthAnalysis"),value:1},{label:this.translate.instant("HorseComponent.DynamicFormDialog.documentTypes.planning"),value:2}],this.translatedSexeOptions=[{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.male"),value:"M\xE2le"},{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.female"),value:"Femelle"}],this.translatedPaymentOptions=[{label:this.translate.instant("HorseComponent.SellHorsesDialog.payment_options.cash"),value:"cash"},{label:this.translate.instant("HorseComponent.SellHorsesDialog.payment_options.check"),value:"check"},{label:this.translate.instant("HorseComponent.SellHorsesDialog.payment_options.transfer"),value:"transfer"},{label:this.translate.instant("HorseComponent.SellHorsesDialog.payment_options.card"),value:"card"}],this.translatedmaladieOptions=this.maladieOptions.map(e=>({label:this.translate.instant("ordonnance.diseases."+e.value),value:e.value})),this.translatedsymptomesOptions=this.symptomesOptions.map(e=>({label:this.translate.instant("ordonnance.symptoms."+e.value),value:e.value})),this.robeoptions=[{value:"ALEZAN",label:this.translate.instant("HorseComponent.coats.ALEZAN")},{value:"BAI",label:this.translate.instant("HorseComponent.coats.BAI")},{value:"BAI_BRUN",label:this.translate.instant("HorseComponent.coats.BAI_BRUN")},{value:"BLANC",label:this.translate.instant("HorseComponent.coats.BLANC")},{value:"GRIS",label:this.translate.instant("HorseComponent.coats.GRIS")},{value:"NOIR",label:this.translate.instant("HorseComponent.coats.NOIR")},{value:"PIE",label:this.translate.instant("HorseComponent.coats.PIE")},{value:"ROUAN",label:this.translate.instant("HorseComponent.coats.ROUAN")},{value:"SOURIS",label:this.translate.instant("HorseComponent.coats.SOURIS")},{value:"AUBERE",label:this.translate.instant("HorseComponent.coats.AUBERE")},{value:"CREME",label:this.translate.instant("HorseComponent.coats.CREME")},{value:"ISABELLE",label:this.translate.instant("HorseComponent.coats.ISABELLE")},{value:"PALOMINO",label:this.translate.instant("HorseComponent.coats.PALOMINO")}]}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}entiteIdlogin=null;entiteLogin=null;entitenom="";ngOnInit(){this.loadChevaux(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadEntite(),this.loadRace(),this.loadCategorie(),this.loadContact(),this.loadActes(),this.loadOrdonnance(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,this.entitenom=this.entiteLogin.nom,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ chevaux:",this.entiteIdlogin)}displayAddOrdonnanceDialog=!1;newOrdonnance=new Sr;selectedChevalForOrdonnance=null;ajouterOrdonnance(e){this.newOrdonnance=new Sr,this.newOrdonnance.numeroSIREs=[e],console.log(this.newOrdonnance.numeroSIREs),this.displayAddOrdonnanceDialog=!0}addOrdonnance(e){if(e.valid){let t=Mt(z({},this.newOrdonnance),{date:new Date(this.newOrdonnance.date)});console.log(t),this.chevalordonnanceService.createOrdonnance(t,this.entiteIdlogin).subscribe({next:i=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("ordonnance.messages.success.add")}),this.displayAddOrdonnanceDialog=!1,this.newOrdonnance=new Sr},error:i=>{let r=this.translate.instant("ordonnance.messages.error.add");i.error&&i.error.message?r=i.error.message:i.message&&(r=i.message),console.error("Erreur d\xE9taill\xE9e :",i),this.messageService.add({severity:"error",summary:"Erreur",detail:r})}})}}addordonnancechevaux(e){if(e.valid){let t=Mt(z({},this.newOrdonnance),{date:new Date(this.newOrdonnance.date)});console.log(t),this.chevalordonnanceService.createOrdonnance(t,this.entiteIdlogin).subscribe({next:i=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("ordonnance.messages.success.add")}),this.displayAddordonnancechevauxDialog=!1,this.newOrdonnance=new Sr},error:i=>{let r=this.translate.instant("ordonnance.messages.error.add");i.error&&i.error.message?r=i.error.message:i.message&&(r=i.message),console.error("Erreur d\xE9taill\xE9e :",i),this.messageService.add({severity:"error",summary:"Erreur",detail:r})}})}}totalordonnance=null;loadOrdonnance(){this.loading=!0,this.chevalordonnanceService.getAllOrdonnances(this.entiteIdlogin).subscribe({next:e=>{this.totalordonnance=e.details.length},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des ordonnance",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des ordonnance."})}})}ancienNomsMap=new Map;hasAncienNoms(e){return this.loading=!0,this.anciennomService.getanciennombynumerosire(e).pipe(vS(t=>{this.loading=!1;let i=t.details!==null&&t.details!==void 0&&(!Array.isArray(t.details)||t.details.length>0);return this.ancienNomsMap.set(e,i),i}),ie(t=>(this.loading=!1,this.ancienNomsMap.set(e,!1),Tm(!1))))}displayAncienNomsDialog=!1;ancienNomsList=[];selectedCheval=null;showAncienNomsDialog(e){this.selectedCheval=this.chevaux.find(t=>t.numeroSIRE===e)||null,this.anciennomService.getanciennombynumerosire(e).subscribe({next:t=>{console.log("R\xE9ponse de l'API :",t),console.log("D\xE9tails des anciens noms :",t.details),t.details&&Array.isArray(t.details)?(this.ancienNomsList=t.details,console.log("ancienNomsList apr\xE8s assignation :",this.ancienNomsList)):this.ancienNomsList=[],this.displayAncienNomsDialog=!0},error:t=>{console.error("Erreur lors de la r\xE9cup\xE9ration des anciens noms",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des anciens noms."})}})}openEditChevalDialog(e){this.chevalToEdit=z({},e),this.chevalToEdit&&(typeof this.chevalToEdit.dateDeNaissance=="string"&&(this.chevalToEdit.dateDeNaissance=new Date(this.chevalToEdit.dateDeNaissance)),this.chevalContactService.getchevalcontactbynumerosire(e.numeroSIRE).subscribe({next:t=>{this.chevalToEdit&&(t.details&&Array.isArray(t.details)?this.chevalToEdit.contactIds=t.details.map(i=>i.contactId):this.chevalToEdit.contactIds=[],this.displayEditChevalDialog=!0,console.log("contactIds:",this.chevalToEdit.contactIds),console.log("contactOptions:",this.contactOptions))},error:t=>{console.error("Erreur lors de la r\xE9cup\xE9ration des contacts",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des contacts."})}}))}totalChevaux;totalChevauxnotarchived=null;loadChevaux(){console.log("loadchevaux",this.entiteIdlogin),this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.chevaux=e.details,this.filteredChevaux=e.details,this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions(),this.chevaux.forEach(t=>{this.hasAncienNoms(t.numeroSIRE).subscribe(i=>{this.ancienNomsMap.set(t.numeroSIRE,i)})})},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxOptions=[],this.chevauxnotarchived=e.details,this.filteredChevauxnotarchived=e.details,this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux :",this.totalChevauxnotarchived,"arch",this.chevauxnotarchived),this.loading=!1,this.chevauxnotarchived.forEach(t=>{this.chevauxOptions.push({label:t.nom,value:t.numeroSIRE})}),console.log(this.chevauxOptions)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadLieux(){this.loading=!0,this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.lieuOptions=this.lieux.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des lieux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des lieux."})}})}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}loadRace(){this.loading=!0,this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.race=e.details,console.log(e.details),this.raceOptions=this.race.map(t=>({label:t.description,value:t.codeRace})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des races",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des races."})}})}loadCategorie(){this.loading=!0,this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.categorie=e.details,this.categorieOptions=this.categorie.map(t=>({label:t.nomFr,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}loadContact(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.contact=e.details,this.contactOptions=this.contact.map(t=>({label:t.nom+" "+t.prenom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}updatePereAndMereOptions(){this.pereOptions=[{label:"---",value:""}],this.mereOptions=[{label:"---",value:""}],this.chevaux.forEach(e=>{this.pereOptions.push({label:e.nom,value:e.numeroSIRE}),this.mereOptions.push({label:e.nom,value:e.numeroSIRE})})}totalacte=null;loadActes(){this.acteService.getAllActes(this.entiteIdlogin).subscribe({next:e=>{this.totalacte=e.details.length},error:e=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load acts"})}})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}showAddChevalDialog(){this.displayAddChevalDialog=!0}showAddordonnancechevauxDialog(){this.displayAddordonnancechevauxDialog=!0}generateNumeroSIRE(e,t){let i=t.getFullYear().toString().slice(-2),r=(e+1).toString(),a=7-r.length,o="0".repeat(a)+r;return i+o}generateRandomSixDigits(){return Math.floor(Math.random()*1e6).toString().padStart(6,"0")}addCheval(e){e.valid&&this.chevalService.getMaxId().subscribe({next:t=>{this.newCheval.numeroSIRE=this.generateNumeroSIRE(t.details,this.newCheval.dateDeNaissance),this.newCheval.entiteId=this.entiteIdlogin;let i=this.generateRandomSixDigits();this.newCheval.cleSIRE=this.newCheval.numeroSIRE+i,this.newCheval.pereId===""&&(this.newCheval.pereId=""),this.newCheval.mereId===""&&(this.newCheval.mereId=""),this.chevalService.addCheval(this.newCheval).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("HorseComponent.messages.add.success")}),this.displayAddChevalDialog=!1,this.loadChevaux(),this.newCheval=new Qt},error:r=>{let a=this.translate.instant("HorseComponent.messages.add.error");console.log("erreur",r),r.error&&r.error.message?a=r.error.message:r.message&&(a=r.message),this.messageService.add({severity:"error",summary:"Erreur",detail:a})}})},error:t=>{let i="Erreur lors de la r\xE9cup\xE9ration de l'ID maximum.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}})}supprimerCheval(e){this.confirmationService.confirm({message:this.translate.instant("HorseComponent.messages.delete.confirm"),header:this.translate.instant("HorseComponent.messages.delete.header"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translate.instant("HorseComponent.table.yes"),rejectLabel:this.translate.instant("HorseComponent.table.no"),accept:()=>{this.chevalService.supprimerCheval(e.numeroSIRE,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("HorseComponent.messages.delete.success")}),this.loadChevaux()},error:t=>{let i=t;t.error&&t.error.message?i=t.error.message:t.message===this.translate.instant("HorseComponent.messages.horse_not_found")?i=t.message:t.message===this.translate.instant("HorseComponent.messages.invalid_request")&&(i=this.translate.instant("HorseComponent.messages.invalid_request")),this.messageService.add({severity:"error",summary:this.translate.instant("HorseComponent.messages.delete.error"),detail:i})}})},reject:()=>{this.messageService.add({severity:"info",summary:"Annul\xE9",detail:this.translate.instant("HorseComponent.messages.delete.cancel")})}})}modifierCheval(e){e.valid&&this.chevalToEdit&&this.chevalService.modifierCheval(this.chevalToEdit.numeroSIRE,this.chevalToEdit,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("HorseComponent.messages.edit.success")}),this.displayEditChevalDialog=!1,this.loadChevaux()},error:t=>{let i=this.translate.instant("HorseComponent.messages.edit.error");t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}})}archiverCheval(e){this.confirmationService.confirm({message:this.translate.instant("HorseComponent.messages.archive.confirm"),header:this.translate.instant("HorseComponent.messages.archive.header"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translate.instant("HorseComponent.table.yes"),rejectLabel:this.translate.instant("HorseComponent.table.no"),accept:()=>{this.chevalService.archiverCheval(e.numeroSIRE,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("HorseComponent.messages.archive.success")}),this.loadChevauxNotArchived(),this.loadChevaux()},error:t=>{let i="Erreur lors de l'archivage du cheval.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}})},reject:()=>{this.messageService.add({severity:"info",summary:"Annul\xE9",detail:this.translate.instant("HorseComponent.messages.archive.cancel")})}})}restaurerCheval(e){this.confirmationService.confirm({message:this.translate.instant("HorseComponent.messages.restore.confirm"),header:this.translate.instant("HorseComponent.messages.restore.header"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translate.instant("HorseComponent.table.yes"),rejectLabel:this.translate.instant("HorseComponent.table.no"),accept:()=>{this.chevalService.restaurerCheval(e.numeroSIRE,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("HorseComponent.messages.restore.success")}),this.loadChevauxNotArchived(),this.loadChevaux()},error:t=>{let i=this.translate.instant("HorseComponent.messages.restore.error");t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}})},reject:()=>{this.messageService.add({severity:"info",summary:"Annul\xE9",detail:this.translate.instant("HorseComponent.messages.restore.cancel")})}})}displayAddActeDialog=!1;selectedChevalForActe=null;ajouterActe(e){this.newActe=new ol,this.newActe.numerosSIRE=[e],this.displayAddActeDialog=!0}newActe={id:0,date_ajout:new Date,notes:"",piecesJointes:"",piecesJointesacte:[],typeActeId:0,entiteId:0,contactIds:[],numerosSIRE:[]};selectedFiles=null;onFileSelected(e){this.selectedFiles=e.target.files}recuperedActe=null;recuperedtypeActeId=null;newAnalyseSanitaire={resultat:"",typeAnalyse:"",date_analyse:new Date,entiteid:""};newPlanning={typeVue:"",filtres:"",date_ajout:new Date,date_debut:new Date,date_fin:new Date};displayDynamicFormDialog=!1;addActe(e){if(e.valid){let t=new FormData;if(console.log(t),!this.selectedFiles)t.append("PiecesJointesacte","");else for(let i=0;i<this.selectedFiles.length;i++)t.append("PiecesJointesacte",this.selectedFiles[i]);t.append("Id",(this.newActe.id||0).toString()),t.append("Date_ajout",(this.newActe.date_ajout||new Date).toISOString()),t.append("Notes",this.newActe.notes||""),t.append("PiecesJointes",this.newActe.piecesJointes||""),t.append("TypeActeId",(this.newActe.typeActeId||0).toString()),t.append("EntiteId",(this.entiteIdlogin||0).toString()),this.newActe.contactIds&&t.append("ContactIds",this.newActe.contactIds.join(",")),this.newActe.numerosSIRE&&t.append("NumerosSIRE",this.newActe.numerosSIRE.join(",")),this.acteService.createActe(t).subscribe({next:i=>{let r=i.details.id,a=i.details.typeActeId;a===1?this.submitAnalyseSanitaire(r):a===2&&this.submitPlanning(r),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("ActeComponent.AddDialog.succes")}),this.displayAddActeDialog=!1,this.resetForm()},error:i=>{let r="Erreur lors de l'ajout de l'acte.";i.error&&i.error.message?r=i.error.message:i.message&&(r=i.message),console.error("Erreur d\xE9taill\xE9e :",i),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("ActeComponent.AddDialog.error")})}})}}submitAnalyseSanitaire(e){this.newAnalyseSanitaire.acteId=e,this.newAnalyseSanitaire.entiteid=this.entiteIdlogin,this.AnalysesanitaireService.createAnalyse(this.newAnalyseSanitaire).subscribe({next:t=>{console.log("Analyse cr\xE9\xE9 avec succ\xE8s:",t)},error:t=>{console.error("Erreur lors de la cr\xE9ation du Analyse:",t)}})}submitPlanning(e){this.newPlanning.acteId=e,this.newPlanning.entiteid=this.entiteIdlogin,this.planningService.createPlanning(this.newPlanning).subscribe({next:t=>{console.log("Planning cr\xE9\xE9 avec succ\xE8s:",t)},error:t=>{console.error("Erreur lors de la cr\xE9ation du planning:",t)}})}resetForm(){this.newActe={id:0,date_ajout:new Date,notes:"",piecesJointes:"",piecesJointesacte:[],typeActeId:0,entiteId:0,contactIds:[],numerosSIRE:[]},this.newAnalyseSanitaire={resultat:"",typeAnalyse:"",date_analyse:new Date,entiteid:""},this.newPlanning={typeVue:"",filtres:"",date_debut:new Date,date_fin:new Date},this.selectedFiles=null}onTypeActeChange(e){this.newActe.typeActeId=e.value}submitDynamicForm(){this.recuperedtypeActeId===1?(this.newAnalyseSanitaire.acteId=this.recuperedActe,this.newAnalyseSanitaire.entiteid=this.entiteIdlogin,console.log("Analyses Sanitaires:",this.newAnalyseSanitaire),this.AnalysesanitaireService.createAnalyse(this.newAnalyseSanitaire).subscribe({next:e=>{console.log("Analyse cr\xE9\xE9 avec succ\xE8s:",e),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Analyse ajout\xE9 avec succ\xE8s."})},error:e=>{console.error("Erreur lors de la cr\xE9ation du Analyse:",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la cr\xE9ation du Analyse."})}})):this.recuperedtypeActeId===2&&(console.log("Planning:",this.newPlanning),this.newPlanning.acteId=this.recuperedActe,this.newPlanning.entiteid=this.entiteIdlogin,this.planningService.createPlanning(this.newPlanning).subscribe({next:e=>{console.log("Planning cr\xE9\xE9 avec succ\xE8s:",e),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Planning ajout\xE9 avec succ\xE8s."})},error:e=>{console.error("Erreur lors de la cr\xE9ation du planning:",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la cr\xE9ation du planning."})}})),this.displayDynamicFormDialog=!1,this.newAnalyseSanitaire={resultat:"",typeAnalyse:"",date_analyse:new Date,entiteid:""},this.newPlanning={typeVue:"",filtres:"",date_debut:new Date,date_fin:new Date}}fileUpload;displayImportCsvDialog=!1;uploadedFile=null;showImportCsvDialog(){this.displayImportCsvDialog=!0}onFileSelect(e){this.uploadedFile=e.files[0]}importerChevaux(){this.uploadedFile?this.chevalService.importerChevauxDepuisCSV(this.uploadedFile,this.entiteIdlogin).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:e.message}),this.loadChevaux(),this.displayImportCsvDialog=!1,this.uploadedFile=null,this.fileUpload.clear()},error:e=>{this.messageService.add({severity:"error",summary:"Erreur",detail:e.message||"Erreur lors de l'importation du fichier CSV."}),this.displayImportCsvDialog=!1,this.uploadedFile=null,this.fileUpload.clear()}}):this.messageService.add({severity:"warn",summary:"Avertissement",detail:"Veuillez s\xE9lectionner un fichier CSV."})}displayAddChevalActeDialog=!1;selectedChevaux=[];showAddChevalActeDialog(){this.displayAddChevalActeDialog=!0,this.selectedChevaux=[]}onDocumentTypeChange(){this.newAnalyseSanitaire={resultat:"",typeAnalyse:"",date_analyse:new Date},this.newPlanning={typeVue:"",filtres:"",date_debut:new Date,date_fin:new Date,entiteid:""}}addChevalActe(e){if(e.valid&&this.selectedFiles){let t=new FormData;for(let i=0;i<this.selectedFiles.length;i++)t.append("PiecesJointesacte",this.selectedFiles[i]);t.append("Id",(this.newActe.id||0).toString()),t.append("Date_ajout",(this.newActe.date_ajout||new Date).toISOString()),t.append("Notes",this.newActe.notes||""),t.append("PiecesJointes",this.newActe.piecesJointes||""),t.append("TypeActeId",(this.newActe.typeActeId||0).toString()),t.append("EntiteId",(this.entiteIdlogin||0).toString()),this.newActe.contactIds&&t.append("ContactIds",this.newActe.contactIds.join(",")),this.newActe.numerosSIRE&&t.append("NumerosSIRE",this.newActe.numerosSIRE.join(",")),this.newActe.typeActeId===1?(t.append("Resultat",this.newAnalyseSanitaire.resultat),t.append("TypeAnalyse",this.newAnalyseSanitaire.typeAnalyse),t.append("DateAnalyse",this.newAnalyseSanitaire.date_analyse.toISOString())):this.newActe.typeActeId===2&&(t.append("TypeVue",this.newPlanning.typeVue),t.append("Filtres",this.newPlanning.filtres),t.append("DateDebut",this.newPlanning.date_debut.toISOString()),t.append("DateFin",this.newPlanning.date_fin.toISOString())),this.acteService.createActe(t).subscribe({next:i=>{let r=i.details.id;this.recuperedActe=i.details.id;let a=i.details.typeActeId;this.recuperedtypeActeId=i.details.typeActeId,console.log("acte",i.details),console.log(r,a),console.log("this.recuperedtypeActeId",this.recuperedtypeActeId),console.log(r,a),a===1?(this.newAnalyseSanitaire.acteId=r,this.newAnalyseSanitaire.entiteid=this.entiteIdlogin,console.log("Analyses Sanitaires:",this.newAnalyseSanitaire),this.AnalysesanitaireService.createAnalyse(this.newAnalyseSanitaire).subscribe({next:o=>{console.log("Analyse cr\xE9\xE9 avec succ\xE8s:",o),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("ActeComponent.AddDialog.succes")})},error:o=>{console.error("Erreur lors de la cr\xE9ation du Analyse:",o),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("ActeComponent.AddDialog.error")})}})):a===2&&(console.log("Planning:",this.newPlanning),this.newPlanning.acteId=r,this.newPlanning.entiteid=this.entiteIdlogin,this.planningService.createPlanning(this.newPlanning).subscribe({next:o=>{console.log("Planning cr\xE9\xE9 avec succ\xE8s:",o),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("ActeComponent.AddDialog.succes")})},error:o=>{console.error("Erreur lors de la cr\xE9ation du planning:",o),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("ActeComponent.AddDialog.error")})}})),this.displayAddChevalActeDialog=!1,this.resetForm()},error:i=>{}})}}displayMouvementChevauxDialog=!1;newMouvement={id:0,transporteur:"",dateHeureDepart:new Date,dateHeureArrivee:new Date,conditions:"",lieuDepartId:0,lieuArriveeId:0,numerosSIRE:[],NomsChevaux:[],date_ajout:new Date,raison:"",entiteid:0};showMouvementChevauxDialog(){this.displayMouvementChevauxDialog=!0}addMouvement(e){e.valid&&(this.newMouvement.dateHeureDepart=new Date(this.newMouvement.dateHeureDepart),this.newMouvement.dateHeureArrivee=new Date(this.newMouvement.dateHeureArrivee),this.newMouvement.entiteid=this.entiteIdlogin,this.mouvementService.createMouvement(this.newMouvement).subscribe({next:t=>{console.log(t),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Mouvement.messages.successadd")}),this.displayMouvementChevauxDialog=!1,this.newMouvement={id:0,transporteur:"",dateHeureDepart:new Date,dateHeureArrivee:new Date,conditions:"",lieuDepartId:0,lieuArriveeId:0,numerosSIRE:[],NomsChevaux:[],date_ajout:new Date,raison:"",entiteid:0}},error:t=>{let i=this.translate.instant("Mouvement.messages.erroradd");t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),console.error("Erreur d\xE9taill\xE9e :",t),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}showVendreChevauxDialog(){this.displayVenteChevauxDialog=!0,this.resetfactureForm()}resetfactureForm(){this.newFacture={acheteur:"",modePaiement:"",notes:"",chevaux:[],entiteid:0},this.selectedChevaux=[]}onChevalSelect(e){this.newFacture.chevaux=this.selectedChevaux.map(t=>({numeroSIRE:t,prix:0}))}createFacture(){if(this.newFacture.entiteid=this.entiteIdlogin,this.newFacture.chevaux.some(e=>e.prix<=0)){this.messageService.add({severity:"warn",summary:"Attention",detail:"Tous les chevaux doivent avoir un prix valide"});return}this.factureService.createFacture(this.newFacture).subscribe({next:e=>{console.log("facture",e),this.messageService.add({severity:"success",summary:"success",detail:this.translate.instant("HorseComponent.SellHorsesDialog.messages.add.success")}),this.displayVenteChevauxDialog=!1,this.downloadFacturePdf(e,this.entitenom),this.loadChevauxNotArchived(),this.loadChevaux()},error:e=>{console.error("Erreur lors de la cr\xE9ation de la facture",e),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("HorseComponent.SellHorsesDialog.messages.add.error")})}})}downloadFacturePdf(e,t){return Ft(this,null,function*(){this.generateFacturePdf(e,t)})}generateFacturePdf(e,t){return Ft(this,null,function*(){let{jsPDF:i}=yield import("./chunk-QQRKQCVJ.js"),{default:r}=yield import("./chunk-7KJGJMGE.js"),a=new i("p","pt","a4"),o=a.internal.pageSize.getWidth(),s=a.internal.pageSize.getHeight(),l=40;a.setProperties({title:`Facture ${e.numeroFacture}`,subject:"Facture",author:"Votre Application",keywords:"facture, vente",creator:"Votre Application"}),a.setFontSize(18),a.setFont("helvetica","bold"),a.text("FACTURE",o/2,l+30,{align:"center"}),a.setFontSize(12),a.setFont("helvetica","normal"),a.text(`N\xB0: ${e.numeroFacture}`,o-l,l+30,{align:"right"}),a.text(`Date: ${new Date(e.dateFacture).toLocaleDateString("fr-FR")}`,o-l,l+50,{align:"right"}),a.setFontSize(14),a.text("CLIENT",l,l+80),a.setFontSize(12),a.text(e.acheteur,l,l+100),a.setDrawColor(200,200,200),a.setLineWidth(.5),a.line(l,l+120,o-l,l+120);let p=l+140;r(a,{startY:p,head:[["SIRE","Nom cheval ","Prix unitaire","Total"]],body:e.chevaux.map(_=>[_.numeroSIRE,` ${this.getChevalLabel(_.numeroSIRE)}`,`${_.prix.toFixed(2)} TND`,`${_.prix.toFixed(2)} TND`]),styles:{fontSize:10,cellPadding:6},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold",halign:"center"},columnStyles:{2:{halign:"right"},3:{halign:"right"}},margin:{left:l,right:l}});let m=a.lastAutoTable.finalY+20;a.setFontSize(12),a.text("Total HT:",o-l-150,m),a.text(`${e.montantHT.toFixed(2)} TND`,o-l,m,{align:"right"}),a.text("TVA (20%):",o-l-150,m+25),a.text(`${e.tva.toFixed(2)} TND`,o-l,m+25,{align:"right"}),a.setFontSize(14),a.setFont("helvetica","bold"),a.text("Total TTC:",o-l-150,m+50),a.text(`${e.montantTTC.toFixed(2)} TND`,o-l,m+50,{align:"right"}),a.setFontSize(12),a.setFont("helvetica","normal"),a.text(`Mode de paiement: ${e.modePaiement}`,l,m+80),e.notes&&a.text(`Notes: ${e.notes}`,l,m+100),a.setFontSize(10),a.setTextColor(150,150,150),a.text(`Merci pour votre confiance chez ${t} `,o/2,s-l,{align:"center"}),a.save(`facture_${e.numeroFacture}.pdf`)})}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ir),B(me),B(ne),B(ce),B(Ce),B(oe),B(ke),B(be),B(Ie),B($e),B(Et),B(at),B(it),B(vt),B(he),B(ze),B(_t),B(Ni))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&(Te(NB,5),Te(VB,5)),t&2){let r;Z(r=J())&&(i.dt1=r.first),Z(r=J())&&(i.fileUpload=r.first)}},features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t,Ni,ir])],decls:351,vars:422,consts:[["dt1",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["fileUpload",""],["addChevalForm","ngForm"],["addOrdonnanceForm","ngForm"],["acteForm","ngForm"],["chevalActeForm","ngForm"],["mouvementForm","ngForm"],["noHorsesAvailable",""],["filter",""],["item",""],["editChevalForm","ngForm"],["venteForm","ngForm"],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-4"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-folder","text-amber-500","!text-xl"],[1,"pi","pi-pen-to-square","text-amber-500","!text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","numeroSIRE","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","visible","header","modal"],[1,"p-fluid"],["mode","basic","accept",".csv","maxFileSize","1000000","auto","true","customUpload","true",3,"onSelect","chooseLabel"],["pTemplate","content"],["pButton","","pRipple","","type","button","icon","pi pi-upload",1,"p-mt-3",3,"click","label"],[3,"visibleChange","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-6"],[1,"p-field"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",3,"ngModelChange","ngModel"],[1,"flex","flex-wrap","gap-2","w-full"],["for","robe"],["id","robe","name","robe","optionLabel","label","optionValue","value","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],["pTemplate","item"],["for","dateDeNaissance"],["id","dateDeNaissance","name","dateDeNaissance","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showIcon"],["for","sexe"],["id","sexe","filterBy","label","name","sexe","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","PereId"],["id","PereId","filterBy","label","name","pereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","MereId"],["id","MereId","filterBy","label","name","mereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","lieuId"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],[1,"text-sm","text-blue-600"],["for","raceCodeRace"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","categoriesId"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","contactIds"],["id","contactIds","required","","name","contactIds","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],["pTemplate","footer"],[1,"p-col-12"],["name","numeroSIRE",3,"ngModelChange","ngModel","disabled"],["for","date"],["id","date","name","date","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showIcon"],["for","estMalade"],["id","estMalade","name","estMalade",3,"ngModelChange","ngModel","options","placeholder"],["for","numeroSIRE"],["id","numeroSIRE","name","numeroSIRE","required","","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["id","estMalade","name","estMalade","required","",3,"ngModelChange","ngModel","options","placeholder"],["class","p-col-12",4,"ngIf"],[3,"visibleChange","visible","header"],["for","notes"],["name","notes","rows","5",3,"ngModelChange","ngModel","placeholder"],["for","piecesJointes"],["type","file","name","piecesJointes","multiple","",3,"change"],["optionLabel","label","optionValue","value","name","contactIds","required","",3,"ngModelChange","ngModel","options"],["for","typeActeId"],["optionLabel","label","optionValue","value","name","typeActeId","required","",3,"ngModelChange","onChange","ngModel","options","placeholder"],["for","numeroSIREs"],["optionLabel","label","optionValue","value","name","numeroSIREs","required","","styleClass","w-full md:w-80",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["optionLabel","label","optionValue","value","name","contactIds","required","",3,"ngModelChange","ngModel","options","placeholder"],[3,"visibleChange","visible","header","modal","draggable","resizable"],["for","numerosSIRE"],["id","numerosSIRE","optionLabel","label","optionValue","value","name","numerosSIRE","required","","styleClass","w-full md:w-80",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","transporteur"],["id","transporteur","type","text","pInputText","","name","transporteur","required","",3,"ngModelChange","ngModel","placeholder"],["for","dateHeureDepart"],["id","dateHeureDepart","name","dateHeureDepart","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showTime","showSeconds"],["for","dateHeureArrivee"],["id","dateHeureArrivee","name","dateHeureArrivee","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showTime","showSeconds"],["for","conditions"],["id","conditions","pInputTextarea","","name","conditions",3,"ngModelChange","ngModel","placeholder"],["for","lieuDepartId"],["id","lieuDepartId","optionLabel","label","optionValue","value","name","lieuDepartId","required","",3,"ngModelChange","ngModel","options"],["for","lieuArriveeId"],["id","lieuArriveeId","optionLabel","label","optionValue","value","name","lieuArriveeId","required","",3,"ngModelChange","ngModel","options"],[4,"ngIf","ngIfElse"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["icon","pi pi-file-excel","styleClass","p-button-success","label","Excel",3,"click"],["icon","pi pi-file-pdf","styleClass","p-button-danger","label","PDF",3,"click"],["icon","pi pi-file","styleClass","p-button-help","label","CSV",3,"click"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","12rem"],[1,"flex","justify-between","items-center"],["type","text","field","numeroSIRE","display","menu","placeholder","Rechercher par Num\xE9ro SIRE"],["type","text","field","nom","display","menu","placeholder","Rechercher par Nom"],["type","text","field","robe","display","menu","placeholder","Rechercher par Robe"],[2,"min-width","10rem"],["type","date","field","dateDeNaissance","display","menu","placeholder","jj/mm/aaaa"],["field","sexe","matchMode","equals","display","menu"],["placeholder","Tous",3,"onChange","ngModel","options"],["pButton","","pRipple","","type","button","icon","pi pi-history","class","p-button-info p-button-text p-button-icon-only",3,"click",4,"ngIf"],["class","text-center p-3 text-red-500 font-bold",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-history",1,"p-button-info","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click","pTooltip","tooltipPosition"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-warning","p-button-text","p-button-icon-only",3,"click","pTooltip","tooltipPosition"],["pButton","","pRipple","","type","button","icon","pi pi-briefcase","class","p-button-secondary p-button-text p-button-icon-only",3,"pTooltip","tooltipPosition","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-cloud-download","class","p-button-secondary p-button-text p-button-icon-only",3,"pTooltip","tooltipPosition","click",4,"ngIf"],["pButton","","type","button","icon","pi pi-tag","class","p-button-secondary p-button-text p-button-icon-only ",3,"pTooltip","tooltipPosition",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-file","class","p-button-info p-button-text p-button-icon-only",3,"pTooltip","tooltipPosition","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-file-edit","class","p-button-success p-button-text p-button-icon-only",3,"pTooltip","tooltipPosition","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-briefcase",1,"p-button-secondary","p-button-text","p-button-icon-only",3,"click","pTooltip","tooltipPosition"],["pButton","","pRipple","","type","button","icon","pi pi-cloud-download",1,"p-button-secondary","p-button-text","p-button-icon-only",3,"click","pTooltip","tooltipPosition"],["pButton","","type","button","icon","pi pi-tag",1,"p-button-secondary","p-button-text","p-button-icon-only",3,"pTooltip","tooltipPosition"],["pButton","","pRipple","","type","button","icon","pi pi-file",1,"p-button-info","p-button-text","p-button-icon-only",3,"click","pTooltip","tooltipPosition"],["pButton","","pRipple","","type","button","icon","pi pi-file-edit",1,"p-button-success","p-button-text","p-button-icon-only",3,"click","pTooltip","tooltipPosition"],[1,"text-center","p-3","text-red-500","font-bold"],["colspan","6"],[1,"p-d-block"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["routerLink","/lieux/addlieu"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["routerLink","/race/addrace"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["routerLink","/categorie/addcategorie"],["id","contactIds","required","","name","contactIds","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["routerLink","/contact/addcontact"],["for","editNumeroSIRE"],["id","editNumeroSIRE","type","text","pInputText","","name","editNumeroSIRE","readonly","",3,"ngModelChange","ngModel"],["for","editNom"],["id","editNom","type","text","pInputText","","name","editNom","required","",3,"ngModelChange","ngModel"],["for","editRobe"],["id","editRobe","filterBy","label","name","editRobe","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","virtualScroll","virtualScrollItemSize"],["for","editDateDeNaissance"],["id","editDateDeNaissance","name","editDateDeNaissance","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showIcon"],["for","editSexe"],["id","editSexe","filterBy","label","name","editSexe","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","editLieuId"],["id","editLieuId","filterBy","label","name","editLieuId","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","editRaceCodeRace"],["id","editRaceCodeRace","filterBy","label","name","editRaceCodeRace","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","editCategoriesId"],["id","editCategoriesId","filterBy","label","name","editCategoriesId","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","editContactIds"],["id","editContactIds","required","","name","editContactIds","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[1,"mb-4"],["dataKey","id","responsiveLayout","scroll",3,"value","rows","paginator","showCurrentPageReport","currentPageReportTemplate","rowsPerPageOptions"],["colspan","2"],["for","Symptomes"],["id","Symptomes","name","symptomes","required","","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","nomMaladie"],["id","nomMaladie","name","nomMaladie","filterBy","label","required","","styleClass","w-full md:w-100",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","filter","showClear","virtualScroll","virtualScrollItemSize"],["for","medicaments"],["id","medicaments","pInputTextarea","","name","medicaments",3,"ngModelChange","ngModel","placeholder"],["id","Symptomes","name","symptomes","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["id","nomMaladie","name","nomMaladie","required","","filterBy","label","styleClass","w-full md:w-100",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","filter","showClear","virtualScroll","virtualScrollItemSize"],["for","resultat"],["name","resultat","type","text","required","",3,"ngModelChange","ngModel"],["for","typeAnalyse"],["name","typeAnalyse","type","text","required","",3,"ngModelChange","ngModel"],["for","date_analyse"],["name","date_analyse","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel"],["for","typeVue"],["name","typeVue","type","text","required","",3,"ngModelChange","ngModel"],["for","filtres"],["name","filtres","type","text","required","",3,"ngModelChange","ngModel"],["for","date_debut"],["name","date_debut","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel"],["for","date_fin"],["name","date_fin","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel"],["for","chevaux"],["id","chevaux","optionLabel","label","optionValue","value","name","chevaux","required","","styleClass","w-full md:w-80",3,"ngModelChange","onChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["class","p-field",4,"ngIf"],["for","acheteur"],["id","acheteur","type","text","pInputText","","name","acheteur","required","",3,"ngModelChange","ngModel","placeholder"],["for","modePaiement"],["id","modePaiement","optionLabel","label","optionValue","value","name","modePaiement","required","",3,"ngModelChange","ngModel","options","placeholder"],["id","notes","pInputTextarea","","name","notes","rows","3",3,"ngModelChange","ngModel","placeholder"],["class","p-grid p-align-center","style","margin-bottom: 10px;",4,"ngFor","ngForOf"],[1,"p-grid","p-align-center",2,"margin-bottom","10px"],[1,"p-col-6"],["mode","currency","currency","TND","required","",3,"ngModelChange","ngModel","name","locale"],[1,"p-fluid","p-text-center",2,"padding","2rem"],[1,"pi","pi-info-circle",2,"font-size","2rem","color","var(--primary-color)"]],template:function(t,i){if(t&1){let r=W();d(0,"p-fluid")(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20)(5,"div")(6,"span",21),v(7),h(8,"translate"),u()(),d(9,"div",22),P(10,"i",23),u()(),d(11,"span",24),v(12),h(13,"translate"),u(),v(14," | "),d(15,"span",24),v(16),h(17,"translate"),u()()(),d(18,"div",18)(19,"div",19)(20,"div",20)(21,"div")(22,"span",21),v(23),h(24,"translate"),u(),d(25,"div",25),v(26),u()(),d(27,"div",26),P(28,"i",27),u()()()(),d(29,"div",18)(30,"div",19)(31,"div",20)(32,"div")(33,"span",21),v(34),h(35,"translate"),u(),d(36,"div",25),v(37),u()(),d(38,"div",26),P(39,"i",28),u()()()(),P(40,"div",29),d(41,"div",30),P(42,"p-toast")(43,"p-confirmDialog",31),d(44,"div",32)(45,"div",33)(46,"div",34),v(47),h(48,"translate"),u()(),R(49,zB,13,18,"div",35),d(50,"p-table",36,0),R(52,qB,13,6,"ng-template",null,1,ae)(54,GB,41,24,"ng-template",null,2,ae)(56,n9,24,21,"ng-template",null,3,ae)(58,r9,4,3,"ng-template",null,4,ae)(60,a9,4,3,"ng-template",null,5,ae),u()(),d(62,"p-dialog",37),h(63,"translate"),A("visibleChange",function(o){return y(r),D(i.displayImportCsvDialog,o)||(i.displayImportCsvDialog=o),b(o)}),d(64,"div",38)(65,"p-fileUpload",39,6),h(67,"translate"),L("onSelect",function(o){return y(r),b(i.onFileSelect(o))}),R(68,o9,6,6,"ng-template",40),u(),d(69,"button",41),h(70,"translate"),L("click",function(){return y(r),b(i.importerChevaux())}),u()()(),d(71,"p-dialog",42),h(72,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalDialog,o)||(i.displayAddChevalDialog=o),b(o)}),d(73,"p-fluid")(74,"form",43,7),L("ngSubmit",function(){y(r);let o=Q(75);return b(i.addCheval(o))}),d(76,"div",38)(77,"div",44)(78,"div",45)(79,"div",46)(80,"label",47),v(81),h(82,"translate"),u(),d(83,"input",48),A("ngModelChange",function(o){return y(r),D(i.newCheval.nom,o)||(i.newCheval.nom=o),b(o)}),u()()(),d(84,"div",49)(85,"label",50),v(86),h(87,"translate"),u(),d(88,"p-dropdown",51),h(89,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.robe,o)||(i.newCheval.robe=o),b(o)}),R(90,s9,2,3,"ng-template",52),u()(),d(91,"div",45)(92,"div",46)(93,"label",53),v(94),h(95,"translate"),u(),d(96,"p-calendar",54),A("ngModelChange",function(o){return y(r),D(i.newCheval.dateDeNaissance,o)||(i.newCheval.dateDeNaissance=o),b(o)}),u()()(),d(97,"div",45)(98,"div",46)(99,"label",55),v(100),h(101,"translate"),u(),d(102,"p-dropdown",56),h(103,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.sexe,o)||(i.newCheval.sexe=o),b(o)}),u()()(),d(104,"div",45)(105,"div",46)(106,"label",57),v(107),h(108,"translate"),u(),d(109,"p-dropdown",58),h(110,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.pereId,o)||(i.newCheval.pereId=o),b(o)}),u()()(),d(111,"div",45)(112,"div",46)(113,"label",59),v(114),h(115,"translate"),u(),d(116,"p-dropdown",60),h(117,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.mereId,o)||(i.newCheval.mereId=o),b(o)}),u()()(),d(118,"div",45)(119,"div",46)(120,"label",61),v(121),h(122,"translate"),u(),R(123,l9,2,9,"p-dropdown",62)(124,c9,4,3,"div",63),u()(),d(125,"div",45)(126,"div",46)(127,"label",64),v(128),h(129,"translate"),u(),R(130,d9,2,9,"p-dropdown",65)(131,u9,4,3,"div",63),u()(),d(132,"div",45)(133,"div",46)(134,"label",66),v(135),h(136,"translate"),u(),R(137,p9,2,9,"p-dropdown",67)(138,m9,4,3,"div",63),u()(),d(139,"div",45)(140,"div",46)(141,"label",68),v(142),h(143,"translate"),u(),R(144,h9,2,8,"p-multiSelect",69)(145,f9,4,3,"div",63),u()()()(),d(146,"div",70)(147,"button",71),h(148,"translate"),L("click",function(){return y(r),b(i.displayAddChevalDialog=!1)}),u(),P(149,"button",72),h(150,"translate"),u()()()(),d(151,"p-dialog",42),h(152,"translate"),A("visibleChange",function(o){return y(r),D(i.displayEditChevalDialog,o)||(i.displayEditChevalDialog=o),b(o)}),R(153,g9,70,89,"form",73),u(),d(154,"p-dialog",42),h(155,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAncienNomsDialog,o)||(i.displayAncienNomsDialog=o),b(o)}),R(156,b9,20,17,"div",74)(157,w9,2,3,"ng-template",75),u(),d(158,"p-dialog",42),h(159,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddOrdonnanceDialog,o)||(i.displayAddOrdonnanceDialog=o),b(o)}),d(160,"form",43,8),L("ngSubmit",function(){y(r);let o=Q(161);return b(i.addOrdonnance(o))}),d(162,"div",38)(163,"div",44)(164,"div",76)(165,"div",46)(166,"label"),v(167),h(168,"translate"),u(),d(169,"p-chips",77),A("ngModelChange",function(o){return y(r),D(i.newOrdonnance.numeroSIREs,o)||(i.newOrdonnance.numeroSIREs=o),b(o)}),u()()(),d(170,"div",45)(171,"div",46)(172,"label",78),v(173),h(174,"translate"),u(),d(175,"p-calendar",79),A("ngModelChange",function(o){return y(r),D(i.newOrdonnance.date,o)||(i.newOrdonnance.date=o),b(o)}),u()()(),d(176,"div",45)(177,"div",46)(178,"label",80),v(179),h(180,"translate"),u(),d(181,"p-dropdown",81),h(182,"translate"),h(183,"translate"),h(184,"translate"),h(185,"translate"),A("ngModelChange",function(o){return y(r),D(i.newOrdonnance.estMalade,o)||(i.newOrdonnance.estMalade=o),b(o)}),u()()(),R(186,S9,23,30,"div",74),u()(),d(187,"div",70)(188,"button",71),h(189,"translate"),L("click",function(){return y(r),b(i.displayAddOrdonnanceDialog=!1)}),u(),P(190,"button",72),h(191,"translate"),u()()(),d(192,"p-dialog",42),h(193,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddordonnancechevauxDialog,o)||(i.displayAddordonnancechevauxDialog=o),b(o)}),d(194,"form",43,8),L("ngSubmit",function(){y(r);let o=Q(161);return b(i.addordonnancechevaux(o))}),d(196,"div",38)(197,"div",44)(198,"div",45)(199,"div",46)(200,"label",82),v(201),h(202,"translate"),u(),d(203,"p-multiSelect",83),h(204,"translate"),A("ngModelChange",function(o){return y(r),D(i.newOrdonnance.numeroSIREs,o)||(i.newOrdonnance.numeroSIREs=o),b(o)}),u()()(),d(205,"div",45)(206,"div",46)(207,"label",78),v(208),h(209,"translate"),u(),d(210,"p-calendar",79),A("ngModelChange",function(o){return y(r),D(i.newOrdonnance.date,o)||(i.newOrdonnance.date=o),b(o)}),u()()(),d(211,"div",45)(212,"div",46)(213,"label",80),v(214),h(215,"translate"),u(),d(216,"p-dropdown",84),h(217,"translate"),h(218,"translate"),h(219,"translate"),A("ngModelChange",function(o){return y(r),D(i.newOrdonnance.estMalade,o)||(i.newOrdonnance.estMalade=o),b(o)}),u()()(),R(220,C9,23,30,"div",85),u()(),d(221,"div",70)(222,"button",71),h(223,"translate"),L("click",function(){return y(r),b(i.displayAddordonnancechevauxDialog=!1)}),u(),P(224,"button",72),h(225,"translate"),u()()(),d(226,"p-dialog",86),h(227,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddActeDialog,o)||(i.displayAddActeDialog=o),b(o)}),d(228,"form",43,9),L("ngSubmit",function(){y(r);let o=Q(229);return b(i.addActe(o))}),d(230,"div",38)(231,"div",46)(232,"label",87),v(233),h(234,"translate"),u(),d(235,"textarea",88),h(236,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.notes,o)||(i.newActe.notes=o),b(o)}),u()(),d(237,"div",46)(238,"label",89),v(239),h(240,"translate"),u(),d(241,"input",90),L("change",function(o){return y(r),b(i.onFileSelected(o))}),u()(),d(242,"div",46)(243,"label",68),v(244),h(245,"translate"),u(),d(246,"p-multiSelect",91),A("ngModelChange",function(o){return y(r),D(i.newActe.contactIds,o)||(i.newActe.contactIds=o),b(o)}),u()(),d(247,"div",46)(248,"label",92),v(249),h(250,"translate"),u(),d(251,"p-dropdown",93),h(252,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.typeActeId,o)||(i.newActe.typeActeId=o),b(o)}),L("onChange",function(o){return y(r),b(i.onTypeActeChange(o))}),u()(),R(253,x9,16,12,"div",74)(254,E9,21,16,"div",74),d(255,"div",46),P(256,"button",72),h(257,"translate"),u()()()(),d(258,"p-dialog",86),h(259,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalActeDialog,o)||(i.displayAddChevalActeDialog=o),b(o)}),d(260,"form",43,10),L("ngSubmit",function(){y(r);let o=Q(261);return b(i.addChevalActe(o))}),d(262,"div",38)(263,"div",46)(264,"label",94),v(265),h(266,"translate"),u(),d(267,"p-multiSelect",95),h(268,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.numerosSIRE,o)||(i.newActe.numerosSIRE=o),b(o)}),u()(),d(269,"div",46)(270,"label",87),v(271),h(272,"translate"),u(),d(273,"textarea",88),h(274,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.notes,o)||(i.newActe.notes=o),b(o)}),u()(),d(275,"div",46)(276,"label",89),v(277),h(278,"translate"),u(),d(279,"input",90),L("change",function(o){return y(r),b(i.onFileSelected(o))}),u()(),d(280,"div",46)(281,"label",68),v(282),h(283,"translate"),u(),d(284,"p-multiSelect",96),h(285,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.contactIds,o)||(i.newActe.contactIds=o),b(o)}),u()(),d(286,"div",46)(287,"label",92),v(288),h(289,"translate"),u(),d(290,"p-dropdown",93),h(291,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.typeActeId,o)||(i.newActe.typeActeId=o),b(o)}),L("onChange",function(){return y(r),b(i.onDocumentTypeChange())}),u()(),R(292,I9,16,12,"div",74)(293,T9,21,16,"div",74),d(294,"div",46),P(295,"button",72),h(296,"translate"),u()()()(),d(297,"p-dialog",97),h(298,"translate"),A("visibleChange",function(o){return y(r),D(i.displayMouvementChevauxDialog,o)||(i.displayMouvementChevauxDialog=o),b(o)}),d(299,"form",43,11),L("ngSubmit",function(){y(r);let o=Q(300);return b(i.addMouvement(o))}),d(301,"div",38)(302,"div",46)(303,"label",98),v(304),h(305,"translate"),u(),d(306,"p-multiSelect",99),h(307,"translate"),A("ngModelChange",function(o){return y(r),D(i.newMouvement.numerosSIRE,o)||(i.newMouvement.numerosSIRE=o),b(o)}),u()(),d(308,"div",46)(309,"label",100),v(310),h(311,"translate"),u(),d(312,"input",101),h(313,"translate"),A("ngModelChange",function(o){return y(r),D(i.newMouvement.transporteur,o)||(i.newMouvement.transporteur=o),b(o)}),u()(),d(314,"div",46)(315,"label",102),v(316),h(317,"translate"),u(),d(318,"p-calendar",103),A("ngModelChange",function(o){return y(r),D(i.newMouvement.dateHeureDepart,o)||(i.newMouvement.dateHeureDepart=o),b(o)}),u()(),d(319,"div",46)(320,"label",104),v(321),h(322,"translate"),u(),d(323,"p-calendar",105),A("ngModelChange",function(o){return y(r),D(i.newMouvement.dateHeureArrivee,o)||(i.newMouvement.dateHeureArrivee=o),b(o)}),u()(),d(324,"div",46)(325,"label",106),v(326),h(327,"translate"),u(),d(328,"textarea",107),h(329,"translate"),A("ngModelChange",function(o){return y(r),D(i.newMouvement.conditions,o)||(i.newMouvement.conditions=o),b(o)}),v(330,"                "),u()(),d(331,"div",46)(332,"label",108),v(333),h(334,"translate"),u(),d(335,"p-dropdown",109),A("ngModelChange",function(o){return y(r),D(i.newMouvement.lieuDepartId,o)||(i.newMouvement.lieuDepartId=o),b(o)}),u()(),d(336,"div",46)(337,"label",110),v(338),h(339,"translate"),u(),d(340,"p-dropdown",111),A("ngModelChange",function(o){return y(r),D(i.newMouvement.lieuArriveeId,o)||(i.newMouvement.lieuArriveeId=o),b(o)}),u()()(),d(341,"div",70)(342,"button",71),h(343,"translate"),L("click",function(){return y(r),b(i.displayMouvementChevauxDialog=!1)}),u(),P(344,"button",72),h(345,"translate"),u()()(),d(346,"p-dialog",97),h(347,"translate"),A("visibleChange",function(o){return y(r),D(i.displayVenteChevauxDialog,o)||(i.displayVenteChevauxDialog=o),b(o)}),R(348,M9,35,41,"ng-container",112)(349,k9,10,9,"ng-template",null,12,ae),u()()()()}if(t&2){let r,a=Q(75),o=Q(161),s=Q(229),l=Q(261),p=Q(300),m=Q(350);c(7),Se(" ",f(8,234,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(13,236,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(17,238,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(24,240,"Acte.number_acte")),c(3),x(i.totalacte),c(8),x(f(35,242,"ordonnance.number_ordonnance")),c(3),x(i.totalordonnance),c(10),O("",f(48,244,"HorseComponent.title")," "),c(2),g("ngIf",i.isAdmin),c(),g("value",i.filteredChevaux)("rows",5)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(396,HB))("rowsPerPageOptions",se(397,WB)),c(12),_e(se(398,Ga)),T("visible",i.displayImportCsvDialog),g("header",f(63,246,"HorseComponent.ImportDialog.header"))("modal",!0),c(3),g("chooseLabel",f(67,248,"HorseComponent.ImportDialog.labels.select_file")),c(4),g("label",f(70,250,"HorseComponent.ImportDialog.labels.import")),c(2),_e(se(399,Ga)),g("header",f(72,252,"HorseComponent.AddHorseDialog.header")),T("visible",i.displayAddChevalDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(10),x(f(82,254,"HorseComponent.AddHorseDialog.fields.name")),c(2),T("ngModel",i.newCheval.nom),c(3),x(f(87,256,"HorseComponent.AddHorseDialog.fields.coat")),c(2),T("ngModel",i.newCheval.robe),g("options",i.robeoptions)("placeholder",f(89,258,"HorseComponent.AddHorseDialog.selectCoat")),c(6),x(f(95,260,"HorseComponent.AddHorseDialog.fields.birth_date")),c(2),T("ngModel",i.newCheval.dateDeNaissance),g("showIcon",!0),c(4),x(f(101,262,"HorseComponent.AddHorseDialog.fields.gender")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.sexe),g("options",i.translatedSexeOptions)("placeholder",f(103,264,"HorseComponent.AddHorseDialog.placeholders.select_gender"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(108,266,"HorseComponent.AddHorseDialog.fields.father")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.pereId),g("options",i.pereOptions)("placeholder",f(110,268,"HorseComponent.AddHorseDialog.placeholders.select_father"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(115,270,"HorseComponent.AddHorseDialog.fields.mother")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.mereId),g("options",i.mereOptions)("placeholder",f(117,272,"HorseComponent.AddHorseDialog.placeholders.select_mother"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(122,274,"HorseComponent.AddHorseDialog.fields.location")),c(2),hi(i.lieuOptions.length>0?123:124),c(5),x(f(129,276,"HorseComponent.AddHorseDialog.fields.race_code")),c(2),hi(i.raceOptions.length>0?130:131),c(5),x(f(136,278,"HorseComponent.AddHorseDialog.fields.category")),c(2),hi(i.categorieOptions.length>0?137:138),c(5),x(f(143,280,"HorseComponent.AddHorseDialog.fields.contacts")),c(2),hi(i.contactOptions.length>0?144:145),c(3),g("label",f(148,282,"HorseComponent.AddHorseDialog.buttons.cancel")),c(2),g("label",f(150,284,"HorseComponent.AddHorseDialog.buttons.add"))("disabled",!a.valid),c(2),_e(se(400,Ga)),g("header",f(152,286,"HorseComponent.EditHorseDialog.header")),T("visible",i.displayEditChevalDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(2),g("ngIf",i.chevalToEdit),c(),_e(se(401,Ga)),g("header",f(155,288,"HorseComponent.anciennoms.dialog_title")),T("visible",i.displayAncienNomsDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(2),g("ngIf",i.selectedCheval),c(2),_e(se(402,Ga)),g("header",f(159,290,"HorseComponent.PrescriptionDialog.headersingle")),T("visible",i.displayAddOrdonnanceDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),Se("",f(168,292,"HorseComponent.PrescriptionDialog.numbersire")," : ",i.newOrdonnance.numeroSIREs[0],""),c(2),T("ngModel",i.newOrdonnance.numeroSIREs),g("disabled",!0),c(4),x(f(174,294,"HorseComponent.PrescriptionDialog.fields.date")),c(2),T("ngModel",i.newOrdonnance.date),g("showIcon",!0),c(4),x(f(180,296,"HorseComponent.PrescriptionDialog.fields.is_sick")),c(2),T("ngModel",i.newOrdonnance.estMalade),g("options",li(407,eE,Ae(403,Zx,f(182,298,"HorseComponent.PrescriptionDialog.options.yes")),Ae(405,Jx,f(183,300,"HorseComponent.PrescriptionDialog.options.no"))))("placeholder",f(184,302,"HorseComponent.PrescriptionDialog.placeholders.select_yes_no"))("placeholder",f(185,304,"HorseComponent.PrescriptionDialog.placeholders.select_yes_no")),c(5),g("ngIf",i.newOrdonnance.estMalade===!0),c(2),g("label",f(189,306,"HorseComponent.PrescriptionDialog.buttons.cancel")),c(2),g("label",f(191,308,"HorseComponent.PrescriptionDialog.buttons.add"))("disabled",!o.valid),c(2),_e(se(410,Ga)),g("header",f(193,310,"HorseComponent.PrescriptionDialog.header")),T("visible",i.displayAddordonnancechevauxDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(202,312,"HorseComponent.PrescriptionDialog.fields.horses")),c(2),T("ngModel",i.newOrdonnance.numeroSIREs),g("options",i.chevauxOptions)("placeholder",f(204,314,"HorseComponent.PrescriptionDialog.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(5),x(f(209,316,"HorseComponent.PrescriptionDialog.fields.date")),c(2),T("ngModel",i.newOrdonnance.date),g("showIcon",!0),c(4),x(f(215,318,"HorseComponent.PrescriptionDialog.fields.is_sick")),c(2),T("ngModel",i.newOrdonnance.estMalade),g("options",li(415,eE,Ae(411,Zx,f(217,320,"HorseComponent.PrescriptionDialog.options.yes")),Ae(413,Jx,f(218,322,"HorseComponent.PrescriptionDialog.options.no"))))("placeholder",f(219,324,"HorseComponent.PrescriptionDialog.placeholders.select_yes_no")),c(4),g("ngIf",i.newOrdonnance.estMalade===!0),c(2),g("label",f(223,326,"HorseComponent.PrescriptionDialog.buttons.cancel")),c(2),g("label",f(225,328,"HorseComponent.PrescriptionDialog.buttons.add"))("disabled",!o.valid),c(2),_e(se(418,Ga)),T("visible",i.displayAddActeDialog),g("header",f(227,330,"HorseComponent.AddDocumentDialog.headersingle")),c(7),O(" ",f(234,332,"HorseComponent.AddDocumentDialog.fields.notes"),""),c(2),T("ngModel",i.newActe.notes),g("placeholder",f(236,334,"HorseComponent.AddDocumentDialog.placeholders.enter_notes")),c(4),x(f(240,336,"HorseComponent.AddDocumentDialog.fields.attachments")),c(5),x(f(245,338,"HorseComponent.AddDocumentDialog.fields.contacts")),c(2),T("ngModel",i.newActe.contactIds),g("options",i.contactOptions),c(3),O(" ",f(250,340,"HorseComponent.AddDocumentDialog.fields.document_type"),""),c(2),T("ngModel",i.newActe.typeActeId),g("options",i.typeActeOptions)("placeholder",f(252,342,"HorseComponent.AddDocumentDialog.placeholders.select_document_type")),c(2),g("ngIf",i.newActe.typeActeId===1),c(),g("ngIf",i.newActe.typeActeId===2),c(2),g("label",f(257,344,"HorseComponent.AddDocumentDialog.buttons.add"))("disabled",s.invalid),c(2),_e(se(419,Ga)),T("visible",i.displayAddChevalActeDialog),g("header",f(259,346,"HorseComponent.AddDocumentDialog.header")),c(7),x(f(266,348,"HorseComponent.AddDocumentDialog.fields.horses")),c(2),T("ngModel",i.newActe.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(268,350,"HorseComponent.AddDocumentDialog.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(4),x(f(272,352,"HorseComponent.AddDocumentDialog.fields.notes")),c(2),T("ngModel",i.newActe.notes),g("placeholder",f(274,354,"HorseComponent.AddDocumentDialog.placeholders.enter_notes")),c(4),x(f(278,356,"HorseComponent.AddDocumentDialog.fields.attachments")),c(5),x(f(283,358,"HorseComponent.AddDocumentDialog.fields.contacts")),c(2),T("ngModel",i.newActe.contactIds),g("options",i.contactOptions)("placeholder",f(285,360,"HorseComponent.AddDocumentDialog.placeholders.select_contacts")),c(4),x(f(289,362,"HorseComponent.AddDocumentDialog.fields.document_type")),c(2),T("ngModel",i.newActe.typeActeId),g("options",i.typeActeOptions)("placeholder",f(291,364,"HorseComponent.AddDocumentDialog.placeholders.select_document_type")),c(2),g("ngIf",i.newActe.typeActeId===1),c(),g("ngIf",i.newActe.typeActeId===2),c(2),g("label",f(296,366,"HorseComponent.AddDocumentDialog.buttons.add"))("disabled",l.invalid),c(2),_e(se(420,Ga)),T("visible",i.displayMouvementChevauxDialog),g("header",f(298,368,"HorseComponent.MoveHorsesDialog.header"))("modal",!0)("draggable",!1)("resizable",!1),c(7),x(f(305,370,"HorseComponent.MoveHorsesDialog.fields.horses")),c(2),T("ngModel",i.newMouvement.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(307,372,"HorseComponent.MoveHorsesDialog.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(4),x(f(311,374,"HorseComponent.MoveHorsesDialog.fields.carrier")),c(2),T("ngModel",i.newMouvement.transporteur),g("placeholder",f(313,376,"HorseComponent.MoveHorsesDialog.placeholders.enter_carrier")),c(4),x(f(317,378,"HorseComponent.MoveHorsesDialog.fields.departure")),c(2),T("ngModel",i.newMouvement.dateHeureDepart),g("showTime",!0)("showSeconds",!0),c(3),x(f(322,380,"HorseComponent.MoveHorsesDialog.fields.arrival")),c(2),T("ngModel",i.newMouvement.dateHeureArrivee),g("showTime",!0)("showSeconds",!0),c(3),x(f(327,382,"HorseComponent.MoveHorsesDialog.fields.conditions")),c(2),T("ngModel",i.newMouvement.conditions),g("placeholder",f(329,384,"HorseComponent.MoveHorsesDialog.placeholders.enter_conditions")),c(5),x(f(334,386,"HorseComponent.MoveHorsesDialog.fields.departure_location")),c(2),T("ngModel",i.newMouvement.lieuDepartId),g("options",i.lieuOptions),c(3),x(f(339,388,"HorseComponent.MoveHorsesDialog.fields.arrival_location")),c(2),T("ngModel",i.newMouvement.lieuArriveeId),g("options",i.lieuOptions),c(2),g("label",f(343,390,"HorseComponent.MoveHorsesDialog.buttons.cancel")),c(2),g("label",f(345,392,"HorseComponent.MoveHorsesDialog.buttons.add"))("disabled",!p.valid),c(2),_e(se(421,Ga)),T("visible",i.displayVenteChevauxDialog),g("header",f(347,394,"HorseComponent.SellHorsesDialog.header"))("modal",!0)("draggable",!1)("resizable",!1),c(2),g("ngIf",((r=i.totalChevauxnotarchived)!==null&&r!==void 0?r:0)>0)("ngIfElse",m)}},dependencies:[Yr,Xt,ai,an,_r,TC,dt,st,Xe,lt,ut,Kx,Th,$t,pe,Gi,ge,he,Ve,Ke,St,Yi,Ki,tt,nt,Pe,qe,Si,We,He,Ye,Ze,ct,pt,Ri,ft,ci,mt,kt,gt,Kt,rt,ht,wt,Li,bt,Pi,Ct,Xi,Qx,vr,Xr],styles:['[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};var fc=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/Email";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}sendActeEmail(e){let t=this.getHeaders();return this.http.post(`${this.apiUrl}/send-acte`,e,{headers:t}).pipe(ie(this.handleError))}sendOrdonnanceEmail(e){let t=this.getHeaders();return this.http.post(`${this.apiUrl}/send-ordonnance`,e,{headers:t}).pipe(ie(this.handleError))}handleError(e){let t="Une erreur est survenue lors de l'envoi de l'email.";return e.error instanceof ErrorEvent?t=`Erreur: ${e.error.message}`:(t=`Code: ${e.status}
Message: ${e.message}`,e.error&&e.error.message&&(t+=`
D\xE9tails: ${e.error.message}`),e.status===404?t="Ressource non trouv\xE9e: "+(e.error.message||""):e.status===500&&(t="Erreur serveur: "+(e.error.message||""))),console.error(t),Ne(()=>new Error(t))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var P9=["dt1"],L9=["dt2"],R9=()=>["id","date"],B9=()=>[5,10,20],gc=()=>({width:"50vw"}),iE=n=>({label:n,value:!0}),nE=n=>({label:n,value:!1}),rE=(n,e)=>[n,e];function F9(n,e){if(n&1){let t=W();d(0,"div",25)(1,"button",88),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalDialog())}),u(),d(3,"button",88),h(4,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddordonnancechevauxDialog())}),u(),d(5,"button",88),h(6,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalActeDialog())}),u()()}n&2&&(c(),g("label",f(2,3,"HorseComponent.buttons.add_horse")),c(2),g("label",f(4,5,"ordonnance.dialog.addTitle")),c(2),g("label",f(6,7,"HorseComponent.buttons.add_document")))}function O9(n,e){if(n&1){let t=W();d(0,"div",89)(1,"div")(2,"button",90),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(40);return b(r.clear(a))}),u()(),d(4,"div",91)(5,"p-button",92),h(6,"translate"),L("click",function(){y(t);let r=w();return b(r.exportExcelOrdonnances())}),u(),d(7,"p-button",93),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.exportPdfOrdonnances())}),u(),d(9,"p-button",94),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.exportCSVOrdonnances())}),u()(),d(11,"p-iconField",95)(12,"p-inputIcon"),P(13,"i",96),u(),d(14,"input",97),h(15,"translate"),L("input",function(r){y(t);let a=w(),o=Q(40);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,5,"ordonnance.table.buttons.clear")),c(3),g("label",f(6,7,"ordonnance.table.buttons.excel")),c(2),g("label",f(8,9,"ordonnance.table.buttons.pdf")),c(2),g("label",f(10,11,"ordonnance.table.buttons.csv")),c(5),g("placeholder",f(15,13,"ordonnance.table.filters.search")))}function N9(n,e){n&1&&(d(0,"tr")(1,"th",98)(2,"div",99),v(3),h(4,"translate"),P(5,"p-columnFilter",100),h(6,"translate"),u()(),d(7,"th",98)(8,"div",99),v(9),h(10,"translate"),P(11,"p-columnFilter",100),h(12,"translate"),u()(),d(13,"th",98)(14,"div",99),v(15),h(16,"translate"),P(17,"p-columnFilter",100),h(18,"translate"),u()(),d(19,"th",98)(20,"div",99),v(21),h(22,"translate"),P(23,"p-columnFilter",100),h(24,"translate"),u()(),d(25,"th",98)(26,"div",99),v(27),h(28,"translate"),P(29,"p-columnFilter",100),h(30,"translate"),u()(),d(31,"th",98)(32,"div",99),v(33),h(34,"translate"),P(35,"p-columnFilter",100),h(36,"translate"),u()(),d(37,"th",98)(38,"div",99),v(39),h(40,"translate"),P(41,"p-columnFilter",101),h(42,"translate"),u()(),d(43,"th",98)(44,"div",99),v(45),h(46,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,15,"ordonnance.table.columns.id")," "),c(2),g("placeholder",f(6,17,"ordonnance.table.filters.byId")),c(4),O(" ",f(10,19,"ordonnance.table.columns.isSick")," "),c(2),g("placeholder",f(12,21,"ordonnance.table.filters.byId")),c(4),O(" ",f(16,23,"ordonnance.table.columns.diseaseName")," "),c(2),g("placeholder",f(18,25,"ordonnance.table.filters.byId")),c(4),O(" ",f(22,27,"ordonnance.table.columns.symptoms")," "),c(2),g("placeholder",f(24,29,"ordonnance.table.filters.byId")),c(4),O(" ",f(28,31,"ordonnance.table.columns.medications")," "),c(2),g("placeholder",f(30,33,"ordonnance.table.filters.byId")),c(4),O(" ",f(34,35,"ordonnance.table.columns.horses")," "),c(2),g("placeholder",f(36,37,"ordonnance.table.filters.byId")),c(4),O(" ",f(40,39,"ordonnance.table.columns.date")," "),c(2),g("placeholder",f(42,41,"ordonnance.table.filters.byDate")),c(4),O(" ",f(46,43,"ordonnance.table.columns.actions")," "))}function V9(n,e){if(n&1){let t=W();d(0,"div")(1,"button",103),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.supprimerordonnance(r))}),u(),d(2,"button",104),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.openUpdateOrdonnanceDialog(r))}),u(),d(3,"button",105),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.showOrdonnanceEmailDialog(r))}),u()()}}function H9(n,e){n&1&&(d(0,"div",106),v(1),h(2,"translate"),u()),n&2&&(c(),O(" ",f(2,1,"ordonnance.table.messages.unauthorized")," "))}function W9(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),P(4,"i"),v(5),h(6,"translate"),h(7,"translate"),u(),d(8,"td"),v(9),u(),d(10,"td"),v(11),u(),d(12,"td"),v(13),u(),d(14,"td"),v(15),u(),d(16,"td"),v(17),h(18,"date"),u(),d(19,"td"),R(20,V9,4,0,"div",65)(21,H9,3,3,"div",102),u()()),n&2){let t=e.$implicit,i=e.rowIndex,r=w();c(2),x(i+1),c(2),si(t.estMalade?"pi pi-times-circle text-red-500":"pi pi-check-circle text-green-500"),c(),O(" ",t.estMalade?f(6,11,"ordonnance.status.sick"):f(7,13,"ordonnance.status.healthy")," "),c(4),x(t.nomMaladie),c(2),x(t.symptomes),c(2),x(t.medicaments),c(2),x(r.getHorseNames(t.numeroSIREs)),c(2),x(ni(18,15,t.date,"dd-MM-yyyy hh:mm:ss")),c(3),g("ngIf",r.isAdmin),c(),g("ngIf",!r.isAdmin)}}function U9(n,e){n&1&&(d(0,"tr")(1,"td",107),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"ordonnance.table.messages.empty")))}function j9(n,e){n&1&&(d(0,"tr")(1,"td",107),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"ordonnance.table.messages.loading")))}function z9(n,e){if(n&1&&(v(0),h(1,"translate")),n&2){let t=e.$implicit;O(" ",f(1,1,t.label)," ")}}function q9(n,e){if(n&1){let t=W();d(0,"div")(1,"div",33)(2,"div",34)(3,"label",108),v(4),h(5,"translate"),u(),d(6,"p-multiSelect",109),h(7,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.symptomes,r)||(a.newOrdonnance.symptomes=r),b(r)}),u()()(),d(8,"div",110)(9,"div",34)(10,"label",111),v(11),h(12,"translate"),u(),d(13,"p-dropdown",112),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.nomMaladie,r)||(a.newOrdonnance.nomMaladie=r),b(r)}),u()()(),d(15,"div",110)(16,"div",34)(17,"label",113),v(18),h(19,"translate"),u(),d(20,"textarea",114),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.medicaments,r)||(a.newOrdonnance.medicaments=r),b(r)}),v(21,"                                "),u()()()()}if(n&2){let t=w();c(4),x(f(5,17,"ordonnance.dialog.fields.symptoms.label")),c(2),T("ngModel",t.newOrdonnance.symptomes),g("options",t.translatedsymptomesOptions)("placeholder",f(7,19,"ordonnance.dialog.fields.symptoms.placeholder"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(5),x(f(12,21,"ordonnance.dialog.fields.disease.label")),c(2),T("ngModel",t.newOrdonnance.nomMaladie),g("options",t.translatedmaladieOptions)("placeholder",f(14,23,"ordonnance.dialog.fields.disease.placeholder"))("filter",!0)("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",20),c(5),x(f(19,25,"ordonnance.dialog.fields.medications.label")),c(2),T("ngModel",t.newOrdonnance.medicaments)}}function $9(n,e){n&1&&(d(0,"label"),v(1),h(2,"translate"),u()),n&2&&(c(),x(f(2,1,"HorseComponent.DynamicFormDialog.documentTypes.healthAnalysis")))}function Q9(n,e){n&1&&(d(0,"label"),v(1),h(2,"translate"),u()),n&2&&(c(),x(f(2,1,"HorseComponent.DynamicFormDialog.documentTypes.planning")))}function G9(n,e){if(n&1){let t=W();d(0,"div")(1,"div",34)(2,"label",115),v(3),h(4,"translate"),u(),d(5,"input",116),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.resultat,r)||(a.newAnalyseSanitaire.resultat=r),b(r)}),u()(),d(6,"div",34)(7,"label",117),v(8),h(9,"translate"),u(),d(10,"input",118),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.typeAnalyse,r)||(a.newAnalyseSanitaire.typeAnalyse=r),b(r)}),u()(),d(11,"div",34)(12,"label",119),v(13),h(14,"translate"),u(),d(15,"p-calendar",120),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.date_analyse,r)||(a.newAnalyseSanitaire.date_analyse=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,6,"HorseComponent.DynamicFormDialog.fields.result")),c(2),T("ngModel",t.newAnalyseSanitaire.resultat),c(3),x(f(9,8,"HorseComponent.DynamicFormDialog.fields.analysisType")),c(2),T("ngModel",t.newAnalyseSanitaire.typeAnalyse),c(3),x(f(14,10,"HorseComponent.DynamicFormDialog.fields.analysisDate")),c(2),T("ngModel",t.newAnalyseSanitaire.date_analyse)}}function Y9(n,e){if(n&1){let t=W();d(0,"div")(1,"div",34)(2,"label",121),v(3),h(4,"translate"),u(),d(5,"input",122),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.typeVue,r)||(a.newPlanning.typeVue=r),b(r)}),u()(),d(6,"div",34)(7,"label",123),v(8),h(9,"translate"),u(),d(10,"input",124),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.filtres,r)||(a.newPlanning.filtres=r),b(r)}),u()(),d(11,"div",34)(12,"label",125),v(13),h(14,"translate"),u(),d(15,"p-calendar",126),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.date_debut,r)||(a.newPlanning.date_debut=r),b(r)}),u()(),d(16,"div",34)(17,"label",127),v(18),h(19,"translate"),u(),d(20,"p-calendar",128),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.date_fin,r)||(a.newPlanning.date_fin=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,8,"HorseComponent.DynamicFormDialog.fields.viewType")),c(2),T("ngModel",t.newPlanning.typeVue),c(3),x(f(9,10,"HorseComponent.DynamicFormDialog.fields.filters")),c(2),T("ngModel",t.newPlanning.filtres),c(3),x(f(14,12,"HorseComponent.DynamicFormDialog.fields.startDate")),c(2),T("ngModel",t.newPlanning.date_debut),c(3),x(f(19,14,"HorseComponent.DynamicFormDialog.fields.endDate")),c(2),T("ngModel",t.newPlanning.date_fin)}}function K9(n,e){if(n&1){let t=W();d(0,"div")(1,"div",33)(2,"div",34)(3,"label",108),v(4),h(5,"translate"),u(),d(6,"p-multiSelect",109),h(7,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.ordonnanceToUpdate.symptomes,r)||(a.ordonnanceToUpdate.symptomes=r),b(r)}),u()()(),d(8,"div",110)(9,"div",34)(10,"label",111),v(11),h(12,"translate"),u(),d(13,"p-dropdown",112),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.ordonnanceToUpdate.nomMaladie,r)||(a.ordonnanceToUpdate.nomMaladie=r),b(r)}),u()()(),d(15,"div",110)(16,"div",34)(17,"label",113),v(18),h(19,"translate"),u(),d(20,"textarea",114),A("ngModelChange",function(r){y(t);let a=w();return D(a.ordonnanceToUpdate.medicaments,r)||(a.ordonnanceToUpdate.medicaments=r),b(r)}),v(21,"                            "),u()()()()}if(n&2){let t=w();c(4),x(f(5,17,"ordonnance.dialog.fields.symptoms.label")),c(2),T("ngModel",t.ordonnanceToUpdate.symptomes),g("options",t.translatedsymptomesOptions)("placeholder",f(7,19,"ordonnance.dialog.fields.symptoms.placeholder"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(5),x(f(12,21,"ordonnance.dialog.fields.disease.label")),c(2),T("ngModel",t.ordonnanceToUpdate.nomMaladie),g("options",t.translatedmaladieOptions)("placeholder",f(14,23,"ordonnance.dialog.fields.disease.placeholder"))("filter",!0)("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",20),c(5),x(f(19,25,"ordonnance.dialog.fields.medications.label")),c(2),T("ngModel",t.ordonnanceToUpdate.medicaments)}}function X9(n,e){if(n&1){let t=W();d(0,"button",57),h(1,"translate"),L("click",function(){y(t);let r=w();return b(r.displayOrdonnanceEmailDialog=!1)}),u(),d(2,"button",129),h(3,"translate"),L("click",function(){y(t);let r=w();return b(r.sendOrdonnanceEmail())}),u()}if(n&2){let t=w();g("label",f(1,3,"ordonnance.EmailDialog.buttons.cancel")),c(2),g("label",f(3,5,"ordonnance.EmailDialog.buttons.send"))("disabled",!t.emailRecipients)}}var Ah=class n{constructor(e,t,i,r,a,o,s,l,p,m,_,S,C,E,I,M,F,N){this.translate=e;this.chevalService=t;this.messageService=i;this.confirmationService=r;this.lieuService=a;this.entiteService=o;this.raceService=s;this.categorieService=l;this.contactService=p;this.chevalContactService=m;this.anciennomService=_;this.chevalordonnanceService=S;this.acteService=C;this.planningService=E;this.datePipe=I;this.authService=M;this.AnalysesanitaireService=F;this.emailService=N;this.entiteIdlogin=this.authService.getEntiteId(),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;dt2;get exportOrdonnancesColumns(){return[{title:"N\xB0",dataKey:"index"},{title:"Est malade",dataKey:"estMalade"},{title:"Nom Maladie",dataKey:"nomMaladie"},{title:"Sympt\xF4mes",dataKey:"symptomes"},{title:"M\xE9dicaments",dataKey:"medicaments"},{title:"Chevaux (SIRE)",dataKey:"numeroSIREs"},{title:"Date",dataKey:"date"}]}exportExcelOrdonnances(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.filteredordonnace.map((o,s)=>({"N\xB0":s+1,"Est malade":o.estMalade?"Oui":"Non","Nom Maladie":o.nomMaladie||"",Sympt\u00F4mes:Array.isArray(o.symptomes)?o.symptomes.join(", "):o.symptomes||"",M\u00E9dicaments:o.medicaments||"","Chevaux (SIRE)":Array.isArray(o.numeroSIREs)?o.numeroSIREs.join(", "):o.numeroSIREs||"",Date:o.date?new Date(o.date).toLocaleString("fr-FR"):""})),r={Sheets:{"Liste Ordonnances":e.utils.json_to_sheet(t)},SheetNames:["Liste Ordonnances"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"ordonnances")})}exportCSVOrdonnances(){if(!this.filteredordonnace||this.filteredordonnace.length===0){console.warn("Aucune donn\xE9e \xE0 exporter");return}try{let e=this.convertOrdonnancesToCSV(this.filteredordonnace);this.downloadFile(e,"ordonnances.csv","text/csv;charset=utf-8;")}catch(e){console.error("Erreur lors de l'export CSV:",e)}}convertOrdonnancesToCSV(e){if(!e||e.length===0)return"";let i=this.exportOrdonnancesColumns.map(r=>r.title).join(";")+`\r
`;return e.forEach((r,a)=>{let o=[a+1,r.estMalade?"Oui":"Non",`"${r.nomMaladie||""}"`,`"${r.symptomes||""}"`,`"${r.medicaments||""}"`,Array.isArray(r.numeroSIREs)?r.numeroSIREs.join(", "):r.numeroSIREs||"",r.date?new Date(r.date).toLocaleString("fr-FR"):""];i+=o.join(";")+`\r
`}),i}exportPdfOrdonnances(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des ordonnances",subject:"Export PDF",author:"Votre Application",keywords:"ordonnances, liste, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES ORDONNANCES",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+40;t(i,{startY:p,head:[this.exportOrdonnancesColumns.map(m=>m.title)],body:this.filteredordonnace.map((m,_)=>[_+1,m.estMalade?"Oui":"Non",m.nomMaladie||"",m.symptomes||"",m.medicaments||"",Array.isArray(m.numeroSIREs)?m.numeroSIREs.join(", "):m.numeroSIREs||"",m.date?new Date(m.date).toLocaleString("fr-FR"):""]),styles:{fontSize:8,cellPadding:3,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[63,81,181],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto"},6:{cellWidth:80}},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des ordonnances",o,o-10)}}),i.save(`ordonnances_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Erreur lors de la g\xE9n\xE9ration du PDF:",e)}})}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",o=new Blob([e],{type:r});i.saveAs(o,t+"_export_"+new Date().getTime()+a)})}chevaux=[];chevauxnotarchived=[];ordonnace=[];lieux=[];entite=[];race=[];categorie=[];contact=[];filteredChevaux=[];filteredChevauxnotarchived=[];filteredordonnace=[];displayAddChevalDialog=!1;displayAddordonnancechevauxDialog=!1;newCheval=new Qt;searchText="";loading=!0;chevalToEdit=null;displayEditChevalDialog=!1;sexeOptions=[{label:"M\xE2le",value:"M\xE2le"},{label:"Femelle",value:"Femelle"}];categorieOptions=[];raceOptions=[];pereOptions=[];mereOptions=[];lieuOptions=[];entiteOptions=[];contactOptions=[];chevauxOptions=[];typeActeOptions=[];maladieOptions=[{label:"Grippe \xE9quine",value:"Grippe \xE9quine"},{label:"Rhinopneumonie",value:"Rhinopneumonie"},{label:"T\xE9tanos",value:"T\xE9tanos"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Art\xE9rite virale \xE9quine",value:"Art\xE9rite virale \xE9quine"},{label:"Piroplasmose",value:"Piroplasmose"},{label:"Lymphangite \xE9pizootique",value:"Lymphangite \xE9pizootique"},{label:"Dermatophilose",value:"Dermatophilose"},{label:"Gourme",value:"Gourme"},{label:"Fourbure",value:"Fourbure"},{label:"Coliques",value:"Coliques"},{label:"Laminite",value:"Laminite"},{label:"Myopathie atypique",value:"Myopathie atypique"},{label:"Maladie de Lyme",value:"Maladie de Lyme"},{label:"Leucose \xE9quine",value:"Leucose \xE9quine"},{label:"Enc\xE9phalomy\xE9lite \xE9quine",value:"Enc\xE9phalomy\xE9lite \xE9quine"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Syndrome naviculaire",value:"Syndrome naviculaire"},{label:"Dermatite estivale r\xE9cidivante",value:"Dermatite estivale r\xE9cidivante"},{label:"Paralysie \xE0 tiques",value:"Paralysie \xE0 tiques"}];symptomesOptions=[{label:"Fi\xE8vre",value:"Fi\xE8vre"},{label:"Toux",value:"Toux"},{label:"\xC9coulement nasal",value:"\xC9coulement nasal"},{label:"Difficult\xE9 respiratoire",value:"Difficult\xE9 respiratoire"},{label:"Perte d'app\xE9tit",value:"Perte d'app\xE9tit"},{label:"Apathie",value:"Apathie"},{label:"Raideur musculaire",value:"Raideur musculaire"},{label:"Spasmes musculaires",value:"Spasmes musculaires"},{label:"Difficult\xE9 \xE0 avaler",value:"Difficult\xE9 \xE0 avaler"},{label:"Jaunisse",value:"Jaunisse"},{label:"Urine fonc\xE9e",value:"Urine fonc\xE9e"},{label:"Gonflement des membres",value:"Gonflement des membres"},{label:"Boiterie",value:"Boiterie"},{label:"Douleur articulaire",value:"Douleur articulaire"},{label:"L\xE9sions cutan\xE9es",value:"L\xE9sions cutan\xE9es"},{label:"D\xE9mangeaisons intenses",value:"D\xE9mangeaisons intenses"},{label:"\xC9coulement oculaire",value:"\xC9coulement oculaire"},{label:"Diarrh\xE9e",value:"Diarrh\xE9e"},{label:"Coliques",value:"Coliques"},{label:"Transpiration excessive",value:"Transpiration excessive"},{label:"Tremblements",value:"Tremblements"},{label:"Paralysie",value:"Paralysie"},{label:"Perte de poids",value:"Perte de poids"},{label:"\u0152d\xE8me",value:"\u0152d\xE8me"},{label:"Saignements",value:"Saignements"},{label:"Douleur abdominale",value:"Douleur abdominale"},{label:"D\xE9shydratation",value:"D\xE9shydratation"},{label:"Faiblesse g\xE9n\xE9rale",value:"Faiblesse g\xE9n\xE9rale"},{label:"Incoordination",value:"Incoordination"},{label:"Convulsions",value:"Convulsions"}];translatedmaladieOptions=[];translatedsymptomesOptions=[];translatedSexeOptions=[];currentLanguage="en";isAdmin=!1;robeoptions=[];entiteIdlogin=null;entiteLogin=null;updateTranslatedOptions(){this.translatedSexeOptions=[{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.male"),value:"M\xE2le"},{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.female"),value:"Femelle"}],this.typeActeOptions=[{label:this.translate.instant("HorseComponent.DynamicFormDialog.documentTypes.healthAnalysis"),value:1},{label:this.translate.instant("HorseComponent.DynamicFormDialog.documentTypes.planning"),value:2}],this.translatedmaladieOptions=this.maladieOptions.map(e=>({label:this.translate.instant("ordonnance.diseases."+e.value),value:e.value})),this.translatedsymptomesOptions=this.symptomesOptions.map(e=>({label:this.translate.instant("ordonnance.symptoms."+e.value),value:e.value})),this.robeoptions=[{value:"ALEZAN",label:this.translate.instant("HorseComponent.coats.ALEZAN")},{value:"BAI",label:this.translate.instant("HorseComponent.coats.BAI")},{value:"BAI_BRUN",label:this.translate.instant("HorseComponent.coats.BAI_BRUN")},{value:"BLANC",label:this.translate.instant("HorseComponent.coats.BLANC")},{value:"GRIS",label:this.translate.instant("HorseComponent.coats.GRIS")},{value:"NOIR",label:this.translate.instant("HorseComponent.coats.NOIR")},{value:"PIE",label:this.translate.instant("HorseComponent.coats.PIE")},{value:"ROUAN",label:this.translate.instant("HorseComponent.coats.ROUAN")},{value:"SOURIS",label:this.translate.instant("HorseComponent.coats.SOURIS")},{value:"AUBERE",label:this.translate.instant("HorseComponent.coats.AUBERE")},{value:"CREME",label:this.translate.instant("HorseComponent.coats.CREME")},{value:"ISABELLE",label:this.translate.instant("HorseComponent.coats.ISABELLE")},{value:"PALOMINO",label:this.translate.instant("HorseComponent.coats.PALOMINO")}]}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadChevaux(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadRace(),this.loadCategorie(),this.loadContact(),this.loadOrdonnance(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}displayAddOrdonnanceDialog=!1;newOrdonnance=new Sr;addordonnancechevaux(e){if(e.valid){let t=Mt(z({},this.newOrdonnance),{date:new Date(this.newOrdonnance.date)});console.log(t),this.chevalordonnanceService.createOrdonnance(t,this.entiteIdlogin).subscribe({next:i=>{this.messageService.add({severity:"success",summary:this.translate.instant("common.success"),detail:this.translate.instant("ordonnance.messages.success.add")}),this.displayAddordonnancechevauxDialog=!1,this.newOrdonnance=new Sr,this.loadOrdonnance()},error:i=>{let r=this.translate.instant("ordonnance.messages.error.add");i.error&&i.error.message?r=i.error.message:i.message&&(r=i.message),console.error("Erreur d\xE9taill\xE9e :",i),this.messageService.add({severity:"error",summary:"Erreur",detail:r})}})}}supprimerordonnance(e){this.confirmationService.confirm({message:this.translate.instant("ordonnance.delete_ordonnance.confirmation.message"),header:this.translate.instant("ordonnance.delete_ordonnance.confirmation.header"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translate.instant("ordonnance.delete_ordonnance.confirmation.accept"),rejectLabel:this.translate.instant("ordonnance.delete_ordonnance.confirmation.reject"),accept:()=>{this.chevalordonnanceService.deleteOrdonnance(e.id,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:this.translate.instant("common.success"),detail:this.translate.instant("ordonnance.delete_ordonnance.messages.success")}),this.loadOrdonnance()},error:t=>{let i=this.translate.instant("ordonnance.delete_ordonnance.messages.generic_error");t.error&&t.error.message?i=t.error.message:t.message==="Ordonnance non trouv\xE9e."?i=this.translate.instant("ordonnance.delete_ordonnance.messages.not_found"):t.message==="Requ\xEAte invalide."&&(i=this.translate.instant("ordonnance.delete_ordonnance.messages.invalid_request")),this.messageService.add({severity:"error",summary:this.translate.instant("common.error"),detail:i})}})},reject:()=>{this.messageService.add({severity:"info",summary:this.translate.instant("common.canceled"),detail:this.translate.instant("ordonnance.delete_ordonnance.messages.canceled")})}})}selectedCheval=null;openEditChevalDialog(e){this.chevalToEdit=z({},e),this.chevalToEdit&&(typeof this.chevalToEdit.dateDeNaissance=="string"&&(this.chevalToEdit.dateDeNaissance=new Date(this.chevalToEdit.dateDeNaissance)),this.chevalContactService.getchevalcontactbynumerosire(e.numeroSIRE).subscribe({next:t=>{this.chevalToEdit&&(t.details&&Array.isArray(t.details)?this.chevalToEdit.contactIds=t.details.map(i=>i.contactId):this.chevalToEdit.contactIds=[],this.displayEditChevalDialog=!0,console.log("contactIds:",this.chevalToEdit.contactIds),console.log("contactOptions:",this.contactOptions))},error:t=>{console.error("Erreur lors de la r\xE9cup\xE9ration des contacts",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des contacts."})}}))}totalChevaux=null;totalChevauxnotarchived=null;loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.chevaux=e.details,this.filteredChevaux=e.details,this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.filteredChevauxnotarchived=e.details,this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux not archived :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}totalordonnance=null;loadOrdonnance(){this.loading=!0,this.chevalordonnanceService.getAllOrdonnances(this.entiteIdlogin).subscribe({next:e=>{console.log("ordonnance",e),this.ordonnace=e.details,this.filteredordonnace=e.details,this.totalordonnance=e.details.length,console.log("Nombre total de totalordonnance :",this.totalordonnance),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des ordonnance",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des ordonnance."})}})}loadLieux(){this.loading=!0,this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.lieuOptions=this.lieux.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des lieux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des lieux."})}})}loadRace(){this.loading=!0,this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.race=e.details,console.log(e.details),this.raceOptions=this.race.map(t=>({label:t.description,value:t.codeRace})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des races",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des races."})}})}loadCategorie(){this.loading=!0,this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.categorie=e.details,this.categorieOptions=this.categorie.map(t=>({label:t.nomFr,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}loadContact(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.contact=e.details,this.contactOptions=this.contact.map(t=>({label:t.nom+" "+t.prenom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}updatePereAndMereOptions(){this.pereOptions=[{label:"---",value:""}],this.mereOptions=[{label:"---",value:""}],this.chevaux.forEach(e=>{this.pereOptions.push({label:e.nom,value:e.numeroSIRE}),this.mereOptions.push({label:e.nom,value:e.numeroSIRE})}),this.chevauxnotarchived.forEach(e=>{this.chevauxOptions.push({label:e.nom,value:e.numeroSIRE})})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}showAddChevalDialog(){this.displayAddChevalDialog=!0}showAddordonnancechevauxDialog(){this.displayAddordonnancechevauxDialog=!0}generateNumeroSIRE(e,t){let i=t.getFullYear().toString().slice(-2),r=(e+1).toString(),a=7-r.length,o="0".repeat(a)+r;return i+o}generateRandomSixDigits(){return Math.floor(Math.random()*1e6).toString().padStart(6,"0")}addCheval(e){e.valid&&(console.log(this.newCheval),this.chevalService.getMaxId().subscribe({next:t=>{this.newCheval.numeroSIRE=this.generateNumeroSIRE(t.details,this.newCheval.dateDeNaissance),this.newCheval.entiteId=this.entiteIdlogin;let i=this.generateRandomSixDigits();this.newCheval.cleSIRE=this.newCheval.numeroSIRE+i,this.newCheval.pereId===""&&(this.newCheval.pereId=""),this.newCheval.mereId===""&&(this.newCheval.mereId=""),this.chevalService.addCheval(this.newCheval).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:r.message}),this.displayAddChevalDialog=!1,this.loadChevaux(),this.newCheval=new Qt},error:r=>{let a="Erreur lors de l'ajout du cheval.";r.error&&r.error.message?a=r.error.message:r.message&&(a=r.message),this.messageService.add({severity:"error",summary:"Erreur",detail:a})}})},error:t=>{let i="Erreur lors de la r\xE9cup\xE9ration de l'ID maximum.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}newActe={id:0,date_ajout:new Date,notes:"",piecesJointes:"",piecesJointesacte:[],typeActeId:0,entiteId:0,contactIds:[],numerosSIRE:[]};selectedFiles=null;onFileSelected(e){this.selectedFiles=e.target.files}recuperedActe=null;recuperedtypeActeId=null;newAnalyseSanitaire={resultat:"",typeAnalyse:"",date_analyse:new Date};newPlanning={typeVue:"",filtres:"",date_ajout:new Date,date_debut:new Date,date_fin:new Date};displayDynamicFormDialog=!1;resetForm(){this.newActe={id:0,date_ajout:new Date,notes:"",piecesJointes:"",piecesJointesacte:[],typeActeId:0,entiteId:0,contactIds:[],numerosSIRE:[]},this.selectedFiles=null}submitDynamicForm(){this.recuperedtypeActeId===1?(this.newAnalyseSanitaire.acteId=this.recuperedActe,console.log("Analyses Sanitaires:",this.newAnalyseSanitaire),this.AnalysesanitaireService.createAnalyse(this.newAnalyseSanitaire).subscribe({next:e=>{console.log("Analyse cr\xE9\xE9 avec succ\xE8s:",e),this.messageService.add({severity:"success",summary:this.translate.instant("Acte.common.success"),detail:this.translate.instant("Acte.add_analyse_sanitaire.messages.success")})},error:e=>{console.error("Erreur lors de la cr\xE9ation du Analyse:",e),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Acte.add_analyse_sanitaire.messages.generic_error")})}})):this.recuperedtypeActeId===2&&(console.log("Planning:",this.newPlanning),this.newPlanning.acteId=this.recuperedActe,this.planningService.createPlanning(this.newPlanning).subscribe({next:e=>{console.log("Planning cr\xE9\xE9 avec succ\xE8s:",e),this.messageService.add({severity:"success",summary:this.translate.instant("Acte.common.success"),detail:this.translate.instant("Acte.planning.messages.success")})},error:e=>{console.error("Erreur lors de la cr\xE9ation du planning:",e),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Acte.planning.messages.generic_error")})}})),this.displayDynamicFormDialog=!1,this.newAnalyseSanitaire={resultat:"",typeAnalyse:"",date_analyse:new Date},this.newPlanning={typeVue:"",filtres:"",date_debut:new Date,date_fin:new Date}}displayAddChevalActeDialog=!1;selectedChevaux=[];getHorseNames(e){return(Array.isArray(e)?e:[e]).map(i=>{let r=this.chevaux.find(a=>a.numeroSIRE===i);return r?r.nom:i}).join(", ")}showAddChevalActeDialog(){this.displayAddChevalActeDialog=!0,this.selectedChevaux=[]}addChevalActe(e){if(e.valid&&this.selectedFiles){let t=new FormData;for(let i=0;i<this.selectedFiles.length;i++)t.append("PiecesJointesacte",this.selectedFiles[i]);t.append("Id",(this.newActe.id||0).toString()),t.append("Date_ajout",(this.newActe.date_ajout||new Date).toISOString()),t.append("Notes",this.newActe.notes||""),t.append("PiecesJointes",this.newActe.piecesJointes||""),t.append("TypeActeId",(this.newActe.typeActeId||0).toString()),t.append("EntiteId",(this.entiteIdlogin||0).toString()),this.newActe.contactIds&&t.append("ContactIds",this.newActe.contactIds.join(",")),this.newActe.numerosSIRE&&t.append("NumerosSIRE",this.newActe.numerosSIRE.join(","));for(let[i,r]of t.entries())console.log(i,r);this.acteService.createActe(t).subscribe({next:i=>{let r=i.details.id;this.recuperedActe=i.details.id;let a=i.details.typeActeId;this.recuperedtypeActeId=i.details.typeActeId,console.log(r,a),this.messageService.add({severity:"success",summary:this.translate.instant("Acte.common.success"),detail:this.translate.instant("Acte.add_acte.messages.success")}),this.displayAddChevalActeDialog=!1,this.resetForm(),this.selectedFiles=null,e.resetForm(),this.displayDynamicFormDialog=!0},error:i=>{let r=this.translate.instant("Acte.add_acte.messages.generic_error");i.error&&i.error.message?r=i.error.message:i.message&&(r=i.message),console.error("Erreur d\xE9taill\xE9e :",i),this.messageService.add({severity:"error",summary:"Erreur",detail:r})}})}}displayUpdateOrdonnanceDialog=!1;ordonnanceToUpdate=new Sr;openUpdateOrdonnanceDialog(e){this.ordonnanceToUpdate=z({},e),Array.isArray(this.ordonnanceToUpdate.numeroSIREs)||(this.ordonnanceToUpdate.numeroSIREs=this.ordonnanceToUpdate.numeroSIREs?[this.ordonnanceToUpdate.numeroSIREs]:[]),console.log("Updated ordonnance:",this.ordonnanceToUpdate),this.displayUpdateOrdonnanceDialog=!0}updateOrdonnance(e){e.valid&&(this.ordonnanceToUpdate.numeroSIREs&&Array.isArray(this.ordonnanceToUpdate.numeroSIREs)?console.log("Num\xE9ros SIRE \xE0 envoyer :",this.ordonnanceToUpdate.numeroSIREs):(this.ordonnanceToUpdate.numeroSIREs=[],console.warn("Aucun num\xE9ro SIRE valide trouv\xE9. Initialisation \xE0 un tableau vide.")),this.chevalordonnanceService.updateOrdonnance(this.ordonnanceToUpdate.id,this.ordonnanceToUpdate,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:this.translate.instant("common.success"),detail:this.translate.instant("ordonnance.update_ordonnance.messages.success")}),this.displayUpdateOrdonnanceDialog=!1,this.loadOrdonnance()},error:t=>{let i=this.translate.instant("ordonnance.update_ordonnance.messages.generic_error");t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),console.error("Detailed error:",t),this.messageService.add({severity:"error",summary:this.translate.instant("common.error"),detail:i})}}))}displayOrdonnanceEmailDialog=!1;emailRecipients="";emailSubject="";emailMessage="";emailRecipientsError="";selectedOrdonnance;showOrdonnanceEmailDialog(e){this.selectedOrdonnance=e,this.emailSubject=`Ordonnance #${e.id} - ${e.nomMaladie}`,this.displayOrdonnanceEmailDialog=!0,this.emailRecipients="",this.emailMessage="",this.emailRecipientsError=""}sendOrdonnanceEmail(){if(!this.selectedOrdonnance||!this.emailRecipients){this.emailRecipientsError=this.translate.instant("ordonnance.EmailDialog.errors.recipientsRequired");return}let e={id:this.selectedOrdonnance.id,emails:this.emailRecipients.split(",").map(t=>t.trim()),subject:this.emailSubject,message:this.emailMessage,entiteId:this.entiteIdlogin};this.emailService.sendOrdonnanceEmail(e).subscribe({next:()=>{this.messageService.add({severity:"success",summary:this.translate.instant("ordonnance.EmailDialog.messages.success"),detail:this.translate.instant("ordonnance.EmailDialog.messages.sentSuccessfully")}),this.resetEmailForm(),this.displayOrdonnanceEmailDialog=!1},error:t=>{this.messageService.add({severity:"error",summary:this.translate.instant("ordonnance.EmailDialog.messages.error"),detail:t.message||this.translate.instant("ordonnance.EmailDialog.messages.sendFailed")})}})}resetEmailForm(){this.emailRecipients="",this.emailSubject=this.selectedOrdonnance?this.translate.instant("ActeComponent.EmailDialog.defaultSubject",{id:this.selectedOrdonnance.id}):"",this.emailMessage="",this.emailRecipientsError=""}static \u0275fac=function(t){return new(t||n)(B(Fe),B(me),B(ne),B(ce),B(Ce),B(oe),B(ke),B(be),B(Ie),B($e),B(Et),B(at),B(it),B(vt),B(he),B(ze),B(_t),B(fc))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&(Te(P9,5),Te(L9,5)),t&2){let r;Z(r=J())&&(i.dt1=r.first),Z(r=J())&&(i.dt2=r.first)}},features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t])],decls:272,vars:351,consts:[["dt2",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["addChevalForm","ngForm"],["addOrdonnanceForm","ngForm"],["chevalActeForm","ngForm"],["updateOrdonnanceForm","ngForm"],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-6"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-pen-to-square","text-amber-500","!text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-fluid"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-6"],[1,"p-field"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",3,"ngModelChange","ngModel"],["for","robe"],["id","robe","name","robe","optionLabel","label","optionValue","value","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],["pTemplate","item"],["for","dateDeNaissance"],["id","dateDeNaissance","name","dateDeNaissance","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showIcon"],["for","sexe"],["id","sexe","filterBy","label","name","sexe","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","pereId"],["id","pereId","filterBy","label","name","pereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","mereId"],["id","mereId","filterBy","label","name","mereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","lieuId"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","raceCodeRace"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","categoriesId"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","contactIds"],["id","contactIds","required","","name","contactIds","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],["for","numeroSIREs"],["id","numeroSIREs","name","numeroSIRE","required","","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","date"],["id","date","name","date","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showIcon"],["for","estMalade"],["id","estMalade","name","estMalade",3,"ngModelChange","ngModel","options","placeholder"],[4,"ngIf"],[3,"visibleChange","visible","closable","header"],["for","acteId"],["name","acteId","type","text","readonly","",3,"ngModelChange","ngModel","value"],["name","recuperedtypeActeId","type","text","readonly","",3,"ngModelChange","ngModel","value"],["pButton","","type","button",3,"click","label"],[3,"visibleChange","visible","header"],["optionLabel","label","optionValue","value","name","numeroSIREs","required","","styleClass","w-full md:w-80",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","notes"],["name","notes","rows","5",3,"ngModelChange","ngModel","placeholder"],["for","piecesJointes"],["type","file","name","piecesJointes","multiple","",3,"change"],["optionLabel","label","optionValue","value","name","contactIds","required","",3,"ngModelChange","ngModel","options","placeholder"],["for","typeActeId"],["optionLabel","label","optionValue","value","name","typeActeId","required","",3,"ngModelChange","ngModel","options","placeholder"],["id","contactIds","name","numeroSIRE","required","","styleClass","w-full md:w-80","optionLabel","label","optionValue","value","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[3,"visibleChange","visible","header","modal","draggable","resizable"],["for","emails"],["id","emails","type","text","pInputText","","styleClass","w-full",3,"ngModelChange","ngModel","placeholder"],[1,"p-error"],["for","subject"],["id","subject","type","text","pInputText","","styleClass","w-full",3,"ngModelChange","ngModel","placeholder"],["pTemplate","footer"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["icon","pi pi-file-pdf","styleClass","p-button-danger",3,"click","label"],["icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","12rem"],[1,"flex","justify-between","items-center"],["type","text","field","id","display","menu",3,"placeholder"],["type","text","field","date","display","menu",3,"placeholder"],["class","text-center p-3 text-red-500 font-bold",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-warning","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-envelope",1,"p-button-success","p-button-text","p-button-icon-only",3,"click"],[1,"text-center","p-3","text-red-500","font-bold"],["colspan","8"],["for","Symptomes"],["id","Symptomes","name","symptomes","required","","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[1,"p-col-12"],["for","nomMaladie"],["id","nomMaladie","name","nomMaladie","filterBy","label","required","","styleClass","w-full md:w-100",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","filter","showClear","virtualScroll","virtualScrollItemSize"],["for","medicaments"],["id","medicaments","pInputTextarea","","name","medicaments",3,"ngModelChange","ngModel"],["for","resultat"],["name","resultat","type","text","required","",3,"ngModelChange","ngModel"],["for","typeAnalyse"],["name","typeAnalyse","type","text","required","",3,"ngModelChange","ngModel"],["for","date_analyse"],["name","date_analyse","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel"],["for","typeVue"],["name","typeVue","type","text","required","",3,"ngModelChange","ngModel"],["for","filtres"],["name","filtres","type","text","required","",3,"ngModelChange","ngModel"],["for","date_debut"],["name","date_debut","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel"],["for","date_fin"],["name","date_fin","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel"],["pButton","","pRipple","","type","button","icon","pi pi-send",1,"p-button-success",3,"click","label","disabled"]],template:function(t,i){if(t&1){let r=W();d(0,"p-fluid")(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"div")(6,"span",14),v(7),h(8,"translate"),u()(),d(9,"div",15),P(10,"i",16),u()(),d(11,"span",17),v(12),h(13,"translate"),u(),v(14," | "),d(15,"span",17),v(16),h(17,"translate"),u()()(),d(18,"div",11)(19,"div",12)(20,"div",13)(21,"div")(22,"span",14),v(23),h(24,"translate"),u(),d(25,"div",18),v(26),u()(),d(27,"div",19),P(28,"i",20),u()()()(),P(29,"div",21),d(30,"div",22),P(31,"p-toast")(32,"p-confirmDialog",23),d(33,"div",24)(34,"div",25)(35,"div",26),v(36),h(37,"translate"),u()(),R(38,F9,7,9,"div",27),d(39,"p-table",28,0),R(41,O9,16,15,"ng-template",null,1,ae)(43,N9,47,45,"ng-template",null,2,ae)(45,W9,22,18,"ng-template",null,3,ae)(47,U9,4,3,"ng-template",null,4,ae)(49,j9,4,3,"ng-template",null,5,ae),u()(),d(51,"p-dialog",29),h(52,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalDialog,o)||(i.displayAddChevalDialog=o),b(o)}),d(53,"form",30,6),L("ngSubmit",function(){y(r);let o=Q(54);return b(i.addCheval(o))}),d(55,"div",31)(56,"div",32)(57,"div",33)(58,"div",34)(59,"label",35),v(60),h(61,"translate"),u(),d(62,"input",36),A("ngModelChange",function(o){return y(r),D(i.newCheval.nom,o)||(i.newCheval.nom=o),b(o)}),u()()(),d(63,"div",33)(64,"div",34)(65,"label",37),v(66),h(67,"translate"),u(),d(68,"p-dropdown",38),h(69,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.robe,o)||(i.newCheval.robe=o),b(o)}),R(70,z9,2,3,"ng-template",39),u()()(),d(71,"div",33)(72,"div",34)(73,"label",40),v(74),h(75,"translate"),u(),d(76,"p-calendar",41),A("ngModelChange",function(o){return y(r),D(i.newCheval.dateDeNaissance,o)||(i.newCheval.dateDeNaissance=o),b(o)}),u()()(),d(77,"div",33)(78,"div",34)(79,"label",42),v(80),h(81,"translate"),u(),d(82,"p-dropdown",43),h(83,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.sexe,o)||(i.newCheval.sexe=o),b(o)}),u()()(),d(84,"div",33)(85,"div",34)(86,"label",44),v(87),h(88,"translate"),u(),d(89,"p-dropdown",45),h(90,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.pereId,o)||(i.newCheval.pereId=o),b(o)}),u()()(),d(91,"div",33)(92,"div",34)(93,"label",46),v(94),h(95,"translate"),u(),d(96,"p-dropdown",47),h(97,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.mereId,o)||(i.newCheval.mereId=o),b(o)}),u()()(),d(98,"div",33)(99,"div",34)(100,"label",48),v(101),h(102,"translate"),u(),d(103,"p-dropdown",49),h(104,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.lieuId,o)||(i.newCheval.lieuId=o),b(o)}),u()()(),d(105,"div",33)(106,"div",34)(107,"label",50),v(108),h(109,"translate"),u(),d(110,"p-dropdown",51),h(111,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.raceCodeRace,o)||(i.newCheval.raceCodeRace=o),b(o)}),u()()(),d(112,"div",33)(113,"div",34)(114,"label",52),v(115),h(116,"translate"),u(),d(117,"p-dropdown",53),h(118,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.categoriesId,o)||(i.newCheval.categoriesId=o),b(o)}),u()()(),d(119,"div",33)(120,"div",34)(121,"label",54),v(122),h(123,"translate"),u(),d(124,"p-multiSelect",55),h(125,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.contactIds,o)||(i.newCheval.contactIds=o),b(o)}),u()()()()(),d(126,"div",56)(127,"button",57),h(128,"translate"),L("click",function(){return y(r),b(i.displayAddChevalDialog=!1)}),u(),P(129,"button",58),h(130,"translate"),u()()(),d(131,"p-dialog",29),h(132,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddordonnancechevauxDialog,o)||(i.displayAddordonnancechevauxDialog=o),b(o)}),d(133,"form",30,7),L("ngSubmit",function(){y(r);let o=Q(134);return b(i.addordonnancechevaux(o))}),d(135,"div",31)(136,"div",32)(137,"div",33)(138,"div",34)(139,"label",59),v(140),h(141,"translate"),u(),d(142,"p-multiSelect",60),h(143,"translate"),A("ngModelChange",function(o){return y(r),D(i.newOrdonnance.numeroSIREs,o)||(i.newOrdonnance.numeroSIREs=o),b(o)}),u()()(),d(144,"div",33)(145,"div",34)(146,"label",61),v(147),h(148,"translate"),u(),d(149,"p-calendar",62),A("ngModelChange",function(o){return y(r),D(i.newOrdonnance.date,o)||(i.newOrdonnance.date=o),b(o)}),u()()(),d(150,"div",33)(151,"div",34)(152,"label",63),v(153),h(154,"translate"),u(),d(155,"p-dropdown",64),h(156,"translate"),h(157,"translate"),h(158,"translate"),A("ngModelChange",function(o){return y(r),D(i.newOrdonnance.estMalade,o)||(i.newOrdonnance.estMalade=o),b(o)}),u()()(),R(159,q9,22,27,"div",65),u()(),d(160,"div",56)(161,"button",57),h(162,"translate"),L("click",function(){return y(r),b(i.displayAddOrdonnanceDialog=!1)}),u(),P(163,"button",58),h(164,"translate"),u()()(),d(165,"p-dialog",66),h(166,"translate"),A("visibleChange",function(o){return y(r),D(i.displayDynamicFormDialog,o)||(i.displayDynamicFormDialog=o),b(o)}),d(167,"div",34)(168,"label",67),v(169),h(170,"translate"),u(),d(171,"input",68),A("ngModelChange",function(o){return y(r),D(i.recuperedActe,o)||(i.recuperedActe=o),b(o)}),u()(),d(172,"div",34)(173,"label",67),v(174),h(175,"translate"),R(176,$9,3,3,"label",65)(177,Q9,3,3,"label",65),u(),d(178,"input",69),A("ngModelChange",function(o){return y(r),D(i.recuperedtypeActeId,o)||(i.recuperedtypeActeId=o),b(o)}),u()(),R(179,G9,16,12,"div",65)(180,Y9,21,16,"div",65),d(181,"button",70),h(182,"translate"),L("click",function(){return y(r),b(i.submitDynamicForm())}),u()(),d(183,"p-dialog",71),h(184,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalActeDialog,o)||(i.displayAddChevalActeDialog=o),b(o)}),d(185,"form",30,8),L("ngSubmit",function(){y(r);let o=Q(186);return b(i.addChevalActe(o))}),d(187,"div",31)(188,"div",34)(189,"label",59),v(190),h(191,"translate"),u(),d(192,"p-multiSelect",72),h(193,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.numerosSIRE,o)||(i.newActe.numerosSIRE=o),b(o)}),u()(),d(194,"div",34)(195,"label",73),v(196),h(197,"translate"),u(),d(198,"textarea",74),h(199,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.notes,o)||(i.newActe.notes=o),b(o)}),u()(),d(200,"div",34)(201,"label",75),v(202),h(203,"translate"),u(),d(204,"input",76),L("change",function(o){return y(r),b(i.onFileSelected(o))}),u()(),d(205,"div",34)(206,"label",54),v(207),h(208,"translate"),u(),d(209,"p-multiSelect",77),h(210,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.contactIds,o)||(i.newActe.contactIds=o),b(o)}),u()(),d(211,"div",34)(212,"label",78),v(213),h(214,"translate"),u(),d(215,"p-dropdown",79),h(216,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.typeActeId,o)||(i.newActe.typeActeId=o),b(o)}),u()(),d(217,"div",34),P(218,"button",58),h(219,"translate"),u()()()(),d(220,"p-dialog",29),h(221,"translate"),A("visibleChange",function(o){return y(r),D(i.displayUpdateOrdonnanceDialog,o)||(i.displayUpdateOrdonnanceDialog=o),b(o)}),d(222,"form",30,9),L("ngSubmit",function(){y(r);let o=Q(223);return b(i.updateOrdonnance(o))}),d(224,"div",31)(225,"div",32)(226,"div",33)(227,"div",34)(228,"label",54),v(229),h(230,"translate"),u(),d(231,"p-multiSelect",80),h(232,"translate"),A("ngModelChange",function(o){return y(r),D(i.ordonnanceToUpdate.numeroSIREs,o)||(i.ordonnanceToUpdate.numeroSIREs=o),b(o)}),u()()(),d(233,"div",33)(234,"div",34)(235,"label",61),v(236),h(237,"translate"),u(),d(238,"p-calendar",62),A("ngModelChange",function(o){return y(r),D(i.ordonnanceToUpdate.date,o)||(i.ordonnanceToUpdate.date=o),b(o)}),u()()(),d(239,"div",33)(240,"div",34)(241,"label",63),v(242),h(243,"translate"),u(),d(244,"p-dropdown",64),h(245,"translate"),h(246,"translate"),h(247,"translate"),A("ngModelChange",function(o){return y(r),D(i.ordonnanceToUpdate.estMalade,o)||(i.ordonnanceToUpdate.estMalade=o),b(o)}),u()()(),R(248,K9,22,27,"div",65),u()(),d(249,"div",56)(250,"button",57),h(251,"translate"),L("click",function(){return y(r),b(i.displayUpdateOrdonnanceDialog=!1)}),u(),P(252,"button",58),h(253,"translate"),u()()(),d(254,"p-dialog",81),h(255,"translate"),A("visibleChange",function(o){return y(r),D(i.displayOrdonnanceEmailDialog,o)||(i.displayOrdonnanceEmailDialog=o),b(o)}),d(256,"div",31)(257,"div",34)(258,"label",82),v(259),h(260,"translate"),u(),d(261,"input",83),h(262,"translate"),A("ngModelChange",function(o){return y(r),D(i.emailRecipients,o)||(i.emailRecipients=o),b(o)}),u(),d(263,"small",84),v(264),u()(),d(265,"div",34)(266,"label",85),v(267),h(268,"translate"),u(),d(269,"input",86),h(270,"translate"),A("ngModelChange",function(o){return y(r),D(i.emailSubject,o)||(i.emailSubject=o),b(o)}),u()()(),R(271,X9,4,7,"ng-template",87),u()()()()}if(t&2){let r=Q(54),a=Q(134),o=Q(186),s=Q(223);c(7),Se(" ",f(8,197,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(13,199,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(17,201,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(24,203,"ordonnance.number_ordonnance")),c(3),x(i.totalordonnance),c(10),O("",f(37,205,"ordonnance.title_component")," "),c(2),g("ngIf",i.isAdmin),c(),g("value",i.filteredordonnace)("rows",5)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(329,R9))("rowsPerPageOptions",se(330,B9)),c(12),_e(se(331,gc)),g("header",f(52,207,"HorseComponent.AddHorseDialog.header")),T("visible",i.displayAddChevalDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(61,209,"HorseComponent.AddHorseDialog.fields.name")),c(2),T("ngModel",i.newCheval.nom),c(4),x(f(67,211,"HorseComponent.AddHorseDialog.fields.coat")),c(2),T("ngModel",i.newCheval.robe),g("options",i.robeoptions)("placeholder",f(69,213,"HorseComponent.AddHorseDialog.selectCoat")),c(6),x(f(75,215,"HorseComponent.AddHorseDialog.fields.birth_date")),c(2),T("ngModel",i.newCheval.dateDeNaissance),g("showIcon",!0),c(4),x(f(81,217,"HorseComponent.AddHorseDialog.fields.gender")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.sexe),g("options",i.translatedSexeOptions)("placeholder",f(83,219,"HorseComponent.AddHorseDialog.placeholders.select_gender"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(88,221,"HorseComponent.AddHorseDialog.fields.father")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.pereId),g("options",i.pereOptions)("placeholder",f(90,223,"HorseComponent.AddHorseDialog.placeholders.select_father"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(95,225,"HorseComponent.AddHorseDialog.fields.mother")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.mereId),g("options",i.mereOptions)("placeholder",f(97,227,"HorseComponent.AddHorseDialog.placeholders.select_mother"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),O("",f(102,229,"HorseComponent.AddHorseDialog.fields.location")," "),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.lieuId),g("options",i.lieuOptions)("placeholder",f(104,231,"HorseComponent.AddHorseDialog.placeholders.select_location"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(109,233,"HorseComponent.AddHorseDialog.fields.race_code")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.raceCodeRace),g("options",i.raceOptions)("placeholder",f(111,235,"HorseComponent.AddHorseDialog.placeholders.select_race"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(116,237,"HorseComponent.AddHorseDialog.fields.category")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.categoriesId),g("options",i.categorieOptions)("placeholder",f(118,239,"HorseComponent.AddHorseDialog.placeholders.select_category"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(123,241,"HorseComponent.AddHorseDialog.fields.contacts")),c(2),T("ngModel",i.newCheval.contactIds),g("options",i.contactOptions)("placeholder",f(125,243,"HorseComponent.AddHorseDialog.placeholders.select_contacts"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(3),g("label",f(128,245,"HorseComponent.AddHorseDialog.buttons.cancel")),c(2),g("label",f(130,247,"HorseComponent.AddHorseDialog.buttons.add"))("disabled",!r.valid),c(2),_e(se(332,gc)),g("header",f(132,249,"ordonnance.dialog.addTitle")),T("visible",i.displayAddordonnancechevauxDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(141,251,"ordonnance.dialog.fields.horses.label")),c(2),T("ngModel",i.newOrdonnance.numeroSIREs),g("options",i.chevauxOptions)("placeholder",f(143,253,"ordonnance.dialog.fields.horses.placeholder"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(5),x(f(148,255,"ordonnance.dialog.fields.date.label")),c(2),T("ngModel",i.newOrdonnance.date),g("showIcon",!0),c(4),x(f(154,257,"ordonnance.dialog.fields.isSick.label")),c(2),T("ngModel",i.newOrdonnance.estMalade),g("options",li(337,rE,Ae(333,iE,f(156,259,"ordonnance.dialog.fields.isSick.options.yes")),Ae(335,nE,f(157,261,"ordonnance.dialog.fields.isSick.options.no"))))("placeholder",f(158,263,"ordonnance.dialog.fields.isSick.placeholder")),c(4),g("ngIf",i.newOrdonnance.estMalade===!0),c(2),g("label",f(162,265,"ordonnance.dialog.buttons.cancel")),c(2),g("label",f(164,267,"ordonnance.dialog.buttons.submit"))("disabled",!a.valid),c(2),_e(se(340,gc)),T("visible",i.displayDynamicFormDialog),g("closable",!1)("header",f(166,269,"HorseComponent.DynamicFormDialog.header")),c(4),x(f(170,271,"HorseComponent.DynamicFormDialog.fields.acteId")),c(2),T("ngModel",i.recuperedActe),g("value",i.recuperedActe),c(3),O("",f(175,273,"HorseComponent.DynamicFormDialog.fields.documentType"),": "),c(2),g("ngIf",i.recuperedtypeActeId===1),c(),g("ngIf",i.recuperedtypeActeId===2),c(),T("ngModel",i.recuperedtypeActeId),g("value",i.recuperedtypeActeId),c(),g("ngIf",i.recuperedtypeActeId===1),c(),g("ngIf",i.recuperedtypeActeId===2),c(),g("label",f(182,275,"HorseComponent.DynamicFormDialog.buttons.submit")),c(2),_e(se(341,gc)),T("visible",i.displayAddChevalActeDialog),g("header",f(184,277,"HorseComponent.AddDocumentDialog.header")),c(7),x(f(191,279,"HorseComponent.AddDocumentDialog.fields.horses")),c(2),T("ngModel",i.newActe.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(193,281,"HorseComponent.AddDocumentDialog.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(4),O(" ",f(197,283,"HorseComponent.AddDocumentDialog.fields.notes"),""),c(2),T("ngModel",i.newActe.notes),g("placeholder",f(199,285,"HorseComponent.AddDocumentDialog.placeholders.enter_notes")),c(4),x(f(203,287,"HorseComponent.AddDocumentDialog.fields.attachments")),c(5),O(" ",f(208,289,"HorseComponent.AddDocumentDialog.fields.contacts"),""),c(2),T("ngModel",i.newActe.contactIds),g("options",i.contactOptions)("placeholder",f(210,291,"HorseComponent.AddDocumentDialog.placeholders.select_contacts")),c(4),x(f(214,293,"HorseComponent.AddDocumentDialog.fields.document_type")),c(2),T("ngModel",i.newActe.typeActeId),g("options",i.typeActeOptions)("placeholder",f(216,295,"HorseComponent.AddDocumentDialog.placeholders.select_document_type")),c(3),g("label",f(219,297,"HorseComponent.AddDocumentDialog.buttons.add"))("disabled",o.invalid),c(2),_e(se(342,gc)),g("header",f(221,299,"ordonnance.dialog.editTitle")),T("visible",i.displayUpdateOrdonnanceDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(230,301,"ordonnance.dialog.fields.horses.label")),c(2),T("ngModel",i.ordonnanceToUpdate.numeroSIREs),g("options",i.chevauxOptions)("placeholder",f(232,303,"ordonnance.dialog.fields.horses.placeholder"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(5),x(f(237,305,"ordonnance.dialog.fields.date.label")),c(2),T("ngModel",i.ordonnanceToUpdate.date),g("showIcon",!0),c(4),x(f(243,307,"ordonnance.dialog.fields.isSick.label")),c(2),T("ngModel",i.ordonnanceToUpdate.estMalade),g("options",li(347,rE,Ae(343,iE,f(245,309,"ordonnance.dialog.fields.isSick.options.yes")),Ae(345,nE,f(246,311,"ordonnance.dialog.fields.isSick.options.no"))))("placeholder",f(247,313,"ordonnance.dialog.fields.isSick.placeholder")),c(4),g("ngIf",i.ordonnanceToUpdate.estMalade===!0),c(2),g("label",f(251,315,"ordonnance.dialog.buttons.cancel")),c(2),g("label",f(253,317,"ordonnance.dialog.buttons.edit"))("disabled",!s.valid),c(2),_e(se(350,gc)),T("visible",i.displayOrdonnanceEmailDialog),g("header",f(255,319,"ordonnance.EmailDialog.header"))("modal",!0)("draggable",!1)("resizable",!1),c(5),x(f(260,321,"ordonnance.EmailDialog.fields.recipients")),c(2),T("ngModel",i.emailRecipients),g("placeholder",f(262,323,"ordonnance.EmailDialog.placeholders.recipients")),c(3),x(i.emailRecipientsError),c(3),x(f(268,325,"ordonnance.EmailDialog.fields.subject")),c(2),T("ngModel",i.emailSubject),g("placeholder",f(270,327,"ordonnance.EmailDialog.placeholders.subject"))}},dependencies:[pe,ge,he,Xt,ai,St,Yi,$t,Ki,an,Ve,Ke,tt,nt,Pe,qe,Si,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,Ri,ft,ci,mt,kt,gt,Kt,rt,ht,wt,Li,bt,Pi,Ct,Xi],styles:['[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};var en=class{id;nomFr="";nomEn="";estPublique;parentId;date_ajout=new Date;EntiteId;sousCategories};var Z9=["dt1"],J9=["dt2"],eF=()=>["id","nomFr","nomEn","estPublique","date_ajout"],tF=()=>[5,10,20],M_=()=>({width:"50vw"}),aE=n=>({label:n,value:!0}),oE=n=>({label:n,value:!1}),sE=(n,e)=>[n,e];function iF(n,e){if(n&1){let t=W();d(0,"div",25)(1,"button",79),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddcategorie())}),u(),d(3,"button",79),h(4,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalDialog())}),u()()}n&2&&(c(),g("label",f(2,2,"categorie.add_title")),c(2),g("label",f(4,4,"HorseComponent.buttons.add_horse")))}function nF(n,e){if(n&1){let t=W();d(0,"div",80)(1,"div")(2,"button",81),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(40);return b(r.clear(a))}),u()(),d(4,"div",82)(5,"p-button",83),h(6,"translate"),L("click",function(){y(t);let r=w();return b(r.exportExcelCategories())}),u(),d(7,"p-button",84),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.exportPdfCategories())}),u(),d(9,"p-button",85),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.exportCSVCategories())}),u()(),d(11,"p-iconField",86)(12,"p-inputIcon"),P(13,"i",87),u(),d(14,"input",88),h(15,"translate"),L("input",function(r){y(t);let a=w(),o=Q(40);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,5,"categorie.table.buttons.clear")),c(3),g("label",f(6,7,"categorie.table.buttons.excel")),c(2),g("label",f(8,9,"categorie.table.buttons.pdf")),c(2),g("label",f(10,11,"categorie.table.buttons.csv")),c(5),g("placeholder",f(15,13,"categorie.table.filters.search")))}function rF(n,e){n&1&&(d(0,"tr")(1,"th",89)(2,"div",90),v(3),h(4,"translate"),P(5,"p-columnFilter",91),h(6,"translate"),u()(),d(7,"th",89)(8,"div",90),v(9),h(10,"translate"),P(11,"p-columnFilter",92),h(12,"translate"),u()(),d(13,"th",89)(14,"div",90),v(15),h(16,"translate"),P(17,"p-columnFilter",93),h(18,"translate"),u()(),d(19,"th",89)(20,"div",90),v(21),h(22,"translate"),P(23,"p-columnFilter",94),h(24,"translate"),u()(),d(25,"th",89)(26,"div",90),v(27),h(28,"translate"),P(29,"p-columnFilter",95),h(30,"translate"),u()(),d(31,"th",89)(32,"div",90),v(33),h(34,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,11,"categorie.table.columns.id")," "),c(2),g("placeholder",f(6,13,"categorie.table.filters.byId")),c(4),O(" ",f(10,15,"categorie.table.columns.nameFr")," "),c(2),g("placeholder",f(12,17,"categorie.table.filters.byNameFr")),c(4),O(" ",f(16,19,"categorie.table.columns.nameEn")," "),c(2),g("placeholder",f(18,21,"categorie.table.filters.byNameEn")),c(4),O(" ",f(22,23,"categorie.table.columns.isPublic")," "),c(2),g("placeholder",f(24,25,"categorie.table.filters.byStatus")),c(4),O(" ",f(28,27,"categorie.table.columns.addDate")," "),c(2),g("placeholder",f(30,29,"categorie.table.filters.byDate")),c(4),O(" ",f(34,31,"categorie.table.columns.actions")," "))}function aF(n,e){if(n&1){let t=W();d(0,"div")(1,"button",98),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.deleteCategorie(r.id))}),u(),d(2,"button",99),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.showUpdateCategorieDialog(r))}),u()()}}function oF(n,e){n&1&&(d(0,"div",100),v(1),h(2,"translate"),u()),n&2&&(c(),O(" ",f(2,1,"categorie.table.messages.unauthorized")," "))}function sF(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u(),d(5,"td"),v(6),u(),d(7,"td"),v(8),h(9,"translate"),h(10,"translate"),u(),d(11,"td"),v(12),h(13,"date"),u(),d(14,"td"),R(15,aF,3,0,"div",96)(16,oF,3,3,"div",97),u()()),n&2){let t=e.$implicit,i=w();c(2),x(t.id),c(2),x(t.nomFr),c(2),x(t.nomEn),c(2),x(t.estPublique?f(9,7,"categorie.table.status.yes"):f(10,9,"categorie.table.status.no")),c(4),x(ni(13,11,t.date_ajout,"dd/MM/yyyy")),c(3),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin)}}function lF(n,e){n&1&&(d(0,"tr")(1,"td",101),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"categorie.table.messages.empty")))}function cF(n,e){n&1&&(d(0,"tr")(1,"td",101),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"categorie.table.messages.loading")))}function dF(n,e){if(n&1&&(v(0),h(1,"translate")),n&2){let t=e.$implicit;O(" ",f(1,1,t.label)," ")}}var Mh=class n{constructor(e,t,i,r,a,o,s,l,p,m,_,S){this.translate=e;this.chevalService=t;this.messageService=i;this.confirmationService=r;this.lieuService=a;this.entiteService=o;this.raceService=s;this.categorieService=l;this.contactService=p;this.chevalContactService=m;this.datePipe=_;this.authService=S;this.entiteIdlogin=this.authService.getEntiteId(),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions()}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;dt2;get exportCategoriesColumns(){return[{title:"ID",dataKey:"id"},{title:"Nom (FR)",dataKey:"nomFr"},{title:"Nom (EN)",dataKey:"nomEn"},{title:"Est Publique",dataKey:"estPublique"},{title:"Date d'ajout",dataKey:"date_ajout"}]}exportExcelCategories(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.categories.map(o=>{let s={};return this.exportCategoriesColumns.forEach(l=>{let p=l.dataKey;o[p]!==void 0?p==="date_ajout"&&o[p]?s[l.title]=new Date(o[p]).toLocaleDateString("fr-FR"):p==="estPublique"?s[l.title]=o[p]?"Oui":"Non":s[l.title]=o[p]:s[l.title]=""}),s}),r={Sheets:{"Liste Cat\xE9gories":e.utils.json_to_sheet(t)},SheetNames:["Liste Cat\xE9gories"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"categories")})}exportCSVCategories(){if(!this.categories||this.categories.length===0){console.warn("No data available to export");return}try{let e=this.convertCategoriesToCSV(this.categories);this.downloadFile(e,"categories.csv","text/csv;charset=utf-8;")}catch(e){console.error("Error while exporting to CSV:",e)}}convertCategoriesToCSV(e){if(!e||e.length===0)return"";let t=this.exportCategoriesColumns.map(a=>a.title),i=this.exportCategoriesColumns.map(a=>a.dataKey),r=t.join(";")+`\r
`;return e.forEach(a=>{i.forEach((o,s)=>{s>0&&(r+=";");let l=a[o];o==="date_ajout"&&l?l=new Date(l).toLocaleDateString("fr-FR"):o==="estPublique"&&(l=l?"Oui":"Non"),r+=l!=null?JSON.stringify(l).replace(/"/g,""):""}),r+=`\r
`}),r}exportPdfCategories(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des cat\xE9gories",subject:"Export PDF",author:"Votre Application",keywords:"cat\xE9gories, liste, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES CAT\xC9GORIES",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+40;t(i,{startY:p,head:[this.exportCategoriesColumns.map(m=>m.title)],body:this.categories.map(m=>[m.id,m.nomFr,m.nomEn,m.estPublique?"Oui":"Non",m.date_ajout?new Date(m.date_ajout).toLocaleDateString("fr-FR"):""]),styles:{fontSize:9,cellPadding:4,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des cat\xE9gories",o,o-10)}}),i.save(`categories_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Error generating PDF:",e)}})}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",o=new Blob([e],{type:r});i.saveAs(o,t+"_export_"+new Date().getTime()+a)})}chevaux=[];chevauxnotarchived=[];lieux=[];entite=[];race=[];contact=[];filteredChevaux=[];filteredChevauxnotarchived=[];displayAddChevalDialog=!1;displayAddcategorie=!1;newCheval=new Qt;searchText="";loading=!0;chevalToEdit=null;displayEditChevalDialog=!1;sexeOptions=[{label:"M\xE2le",value:"M\xE2le"},{label:"Femelle",value:"Femelle"}];translatedSexeOptions=[];categorieOptions=[];raceOptions=[];pereOptions=[];souscategoriesOptions=[];parentOptions=[];mereOptions=[];lieuOptions=[];entiteOptions=[];contactOptions=[];chevauxOptions=[];maladieOptions=[{label:"Grippe \xE9quine",value:"Grippe \xE9quine"},{label:"Rhinopneumonie",value:"Rhinopneumonie"},{label:"T\xE9tanos",value:"T\xE9tanos"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Art\xE9rite virale \xE9quine",value:"Art\xE9rite virale \xE9quine"},{label:"Piroplasmose",value:"Piroplasmose"},{label:"Lymphangite \xE9pizootique",value:"Lymphangite \xE9pizootique"},{label:"Dermatophilose",value:"Dermatophilose"},{label:"Gourme",value:"Gourme"},{label:"Fourbure",value:"Fourbure"},{label:"Coliques",value:"Coliques"},{label:"Laminite",value:"Laminite"},{label:"Myopathie atypique",value:"Myopathie atypique"},{label:"Maladie de Lyme",value:"Maladie de Lyme"},{label:"Leucose \xE9quine",value:"Leucose \xE9quine"},{label:"Enc\xE9phalomy\xE9lite \xE9quine",value:"Enc\xE9phalomy\xE9lite \xE9quine"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Syndrome naviculaire",value:"Syndrome naviculaire"},{label:"Dermatite estivale r\xE9cidivante",value:"Dermatite estivale r\xE9cidivante"},{label:"Paralysie \xE0 tiques",value:"Paralysie \xE0 tiques"}];symptomesOptions=[{label:"Fi\xE8vre",value:"Fi\xE8vre"},{label:"Toux",value:"Toux"},{label:"\xC9coulement nasal",value:"\xC9coulement nasal"},{label:"Difficult\xE9 respiratoire",value:"Difficult\xE9 respiratoire"},{label:"Perte d'app\xE9tit",value:"Perte d'app\xE9tit"},{label:"Apathie",value:"Apathie"},{label:"Raideur musculaire",value:"Raideur musculaire"},{label:"Spasmes musculaires",value:"Spasmes musculaires"},{label:"Difficult\xE9 \xE0 avaler",value:"Difficult\xE9 \xE0 avaler"},{label:"Jaunisse",value:"Jaunisse"},{label:"Urine fonc\xE9e",value:"Urine fonc\xE9e"},{label:"Gonflement des membres",value:"Gonflement des membres"},{label:"Boiterie",value:"Boiterie"},{label:"Douleur articulaire",value:"Douleur articulaire"},{label:"L\xE9sions cutan\xE9es",value:"L\xE9sions cutan\xE9es"},{label:"D\xE9mangeaisons intenses",value:"D\xE9mangeaisons intenses"},{label:"\xC9coulement oculaire",value:"\xC9coulement oculaire"},{label:"Diarrh\xE9e",value:"Diarrh\xE9e"},{label:"Coliques",value:"Coliques"},{label:"Transpiration excessive",value:"Transpiration excessive"},{label:"Tremblements",value:"Tremblements"},{label:"Paralysie",value:"Paralysie"},{label:"Perte de poids",value:"Perte de poids"},{label:"\u0152d\xE8me",value:"\u0152d\xE8me"},{label:"Saignements",value:"Saignements"},{label:"Douleur abdominale",value:"Douleur abdominale"},{label:"D\xE9shydratation",value:"D\xE9shydratation"},{label:"Faiblesse g\xE9n\xE9rale",value:"Faiblesse g\xE9n\xE9rale"},{label:"Incoordination",value:"Incoordination"},{label:"Convulsions",value:"Convulsions"}];currentLanguage="en";isAdmin=!1;robeoptions=[];updateTranslatedOptions(){this.translatedSexeOptions=[{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.male"),value:"M\xE2le"},{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.female"),value:"Femelle"}],this.robeoptions=[{value:"ALEZAN",label:this.translate.instant("HorseComponent.coats.ALEZAN")},{value:"BAI",label:this.translate.instant("HorseComponent.coats.BAI")},{value:"BAI_BRUN",label:this.translate.instant("HorseComponent.coats.BAI_BRUN")},{value:"BLANC",label:this.translate.instant("HorseComponent.coats.BLANC")},{value:"GRIS",label:this.translate.instant("HorseComponent.coats.GRIS")},{value:"NOIR",label:this.translate.instant("HorseComponent.coats.NOIR")},{value:"PIE",label:this.translate.instant("HorseComponent.coats.PIE")},{value:"ROUAN",label:this.translate.instant("HorseComponent.coats.ROUAN")},{value:"SOURIS",label:this.translate.instant("HorseComponent.coats.SOURIS")},{value:"AUBERE",label:this.translate.instant("HorseComponent.coats.AUBERE")},{value:"CREME",label:this.translate.instant("HorseComponent.coats.CREME")},{value:"ISABELLE",label:this.translate.instant("HorseComponent.coats.ISABELLE")},{value:"PALOMINO",label:this.translate.instant("HorseComponent.coats.PALOMINO")}]}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}entiteIdlogin=null;entiteLogin=null;ngOnInit(){this.loadChevaux(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadRace(),this.loadCategories(),this.loadContact(),this.entiteIdlogin=this.authService.getEntiteId(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}categories=[];newCategorie=new en;totalcategories=null;showAddcategorie(){this.displayAddcategorie=!0}loadCategories(){this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{this.categories=e.details,this.totalcategories=e.details.length,this.categorieOptions=this.categories.map(t=>({label:t.nomFr,value:t.id})),this.updatesouscategoriesOptions(),this.updateparentOptions()},error:e=>{console.error("Failed to load categories:",e)}})}addCategorie(e){e.valid?(this.newCategorie.EntiteId=this.entiteIdlogin??0,this.newCategorie.parentId===0&&(this.newCategorie.parentId=0),this.newCategorie.sousCategories===0&&(this.newCategorie.sousCategories=0),this.categorieService.createCategorie(this.newCategorie).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:t.message}),this.displayAddcategorie=!1,this.loadCategories(),this.newCheval=new Qt},error:t=>{let i="Erreur lors de l'ajout du cheval.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}})):console.error("Le formulaire est invalide")}displayUpdateCategorieDialog=!1;categorieToUpdate=new en;loadSousCategoriesOptions(){this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{this.souscategoriesOptions=e.details.map(t=>({label:t.nomFr,value:t.id}))},error:e=>{console.error("Erreur lors du chargement des sous-cat\xE9gories:",e)}})}loadparentOptions(){this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{this.parentOptions=e.details.map(t=>({label:t.nomFr,value:t.id}))},error:e=>{console.error("Erreur lors du chargement des parent:",e)}})}showUpdateCategorieDialog(e){this.categorieToUpdate=z({},e),console.log("rrr",this.categorieToUpdate),typeof this.categorieToUpdate.date_ajout=="string"&&(this.categorieToUpdate.date_ajout=new Date(this.categorieToUpdate.date_ajout)),this.displayUpdateCategorieDialog=!0}updateCategorie(){this.categorieToUpdate&&this.categorieService.updateCategorie(this.categorieToUpdate.id,this.categorieToUpdate,this.entiteIdlogin).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:e.message}),this.displayUpdateCategorieDialog=!1,this.loadCategories()},error:e=>{console.error("Erreur lors de la mise \xE0 jour de la cat\xE9gorie",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la mise \xE0 jour de la cat\xE9gorie."})}})}deleteCategorie(e){this.confirmationService.confirm({message:"Voulez-vous vraiment supprimer cette cat\xE9gorie ?",header:"Confirmation de suppression",icon:"pi pi-exclamation-triangle",acceptLabel:"Oui",rejectLabel:"Non",accept:()=>{this.categorieService.deleteCategorie(e,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:t.message}),this.loadCategories()},error:t=>{let i="Erreur lors de la suppression du cat\xE9gorie.";t.error&&t.error.message?i=t.error.message:t.message==="cat\xE9gorie non trouv\xE9."?i="La cat\xE9gorie sp\xE9cifi\xE9 n'existe pas.":t.message==="Requ\xEAte invalide."&&(i="La requ\xEAte est invalide."),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}})},reject:()=>{this.messageService.add({severity:"info",summary:"Annul\xE9",detail:"Suppression annul\xE9e."})}})}totalChevaux=null;totalChevauxnotarchived=null;loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.chevaux=e.details,this.filteredChevaux=e.details,this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.filteredChevauxnotarchived=e.details,this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux not archived :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadLieux(){this.loading=!0,this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.lieuOptions=this.lieux.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des lieux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des lieux."})}})}loadRace(){this.loading=!0,this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.race=e.details,console.log(e.details),this.raceOptions=this.race.map(t=>({label:t.description,value:t.codeRace})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des races",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des races."})}})}loadContact(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.contact=e.details,this.contactOptions=this.contact.map(t=>({label:t.nom+" "+t.prenom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}updatePereAndMereOptions(){this.pereOptions=[{label:"---",value:""}],this.mereOptions=[{label:"---",value:""}],this.chevaux.forEach(e=>{this.pereOptions.push({label:e.nom,value:e.numeroSIRE}),this.mereOptions.push({label:e.nom,value:e.numeroSIRE})}),this.chevauxnotarchived.forEach(e=>{this.chevauxOptions.push({label:e.nom,value:e.numeroSIRE})})}updatesouscategoriesOptions(){this.souscategoriesOptions=[{label:"---",value:0}],this.categories.forEach(e=>{this.souscategoriesOptions.push({label:e.nomFr,value:e.id})})}updateparentOptions(){this.parentOptions=[{label:"---",value:0}],this.categories.forEach(e=>{this.parentOptions.push({label:e.nomFr,value:e.id})})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}showAddChevalDialog(){this.displayAddChevalDialog=!0}generateNumeroSIRE(e,t){let i=t.getFullYear().toString().slice(-2),r=(e+1).toString(),a=7-r.length,o="0".repeat(a)+r;return i+o}generateRandomSixDigits(){return Math.floor(Math.random()*1e6).toString().padStart(6,"0")}addCheval(e){e.valid&&(console.log(this.newCheval),this.chevalService.getMaxId().subscribe({next:t=>{this.newCheval.numeroSIRE=this.generateNumeroSIRE(t.details,this.newCheval.dateDeNaissance),this.newCheval.entiteId=this.entiteIdlogin;let i=this.generateRandomSixDigits();this.newCheval.cleSIRE=this.newCheval.numeroSIRE+i,this.newCheval.pereId===""&&(this.newCheval.pereId=""),this.newCheval.mereId===""&&(this.newCheval.mereId=""),this.chevalService.addCheval(this.newCheval).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:r.message}),this.displayAddChevalDialog=!1,this.loadChevaux(),this.newCheval=new Qt},error:r=>{let a="Erreur lors de l'ajout du cheval.";r.error&&r.error.message?a=r.error.message:r.message&&(a=r.message),this.messageService.add({severity:"error",summary:"Erreur",detail:a})}})},error:t=>{let i="Erreur lors de la r\xE9cup\xE9ration de l'ID maximum.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}static \u0275fac=function(t){return new(t||n)(B(Fe),B(me),B(ne),B(ce),B(Ce),B(oe),B(ke),B(be),B(Ie),B($e),B(he),B(ze))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&(Te(Z9,5),Te(J9,5)),t&2){let r;Z(r=J())&&(i.dt1=r.first),Z(r=J())&&(i.dt2=r.first)}},features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,he])],decls:224,vars:283,consts:[["dt2",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["addChevalForm","ngForm"],["addCategorieForm","ngForm"],["updateCategorieForm","ngForm"],["rel","stylesheet","href",Yn`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css`],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-6"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-folder-open","text-amber-500","!text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-fluid"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-6"],[1,"p-field"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",3,"ngModelChange","ngModel"],["for","robe"],["id","robe","name","robe","optionLabel","label","optionValue","value","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],["pTemplate","item"],["for","dateDeNaissance"],["id","dateDeNaissance","name","dateDeNaissance","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showIcon"],["for","sexe"],["id","sexe","filterBy","label","name","sexe","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","pereId"],["id","pereId","filterBy","label","name","pereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","mereId"],["id","mereId","filterBy","label","name","mereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","lieuId"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","raceCodeRace"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","categoriesId"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","contactIds"],["id","contactIds","required","","name","contactIds","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],["for","nomFr"],["id","nomFr","pInputText","","name","nomFr","required","",3,"ngModelChange","ngModel","placeholder"],["for","nomEn"],["id","nomEn","pInputText","","name","nomEn","required","",3,"ngModelChange","ngModel","placeholder"],["for","parentId"],["id","parentId","filterBy","label","name","parentId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","sousCategories"],["id","sousCategories","filterBy","label","name","sousCategories","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","estPublique"],["id","estPublique","name","estPublique",3,"ngModelChange","ngModel","options","placeholder"],["for","nomFrUpdate"],["id","nomFrUpdate","pInputText","","name","nomFr","required","",3,"ngModelChange","ngModel","placeholder"],["for","nomEnUpdate"],["id","nomEnUpdate","pInputText","","name","nomEn","required","",3,"ngModelChange","ngModel","placeholder"],["for","parentIdUpdate"],["id","parentIdUpdate","name","parentId","placeholder","Choisir le parent","filterBy","label",3,"ngModelChange","ngModel","options","filter","showClear"],["for","sousCategoriesUpdate"],["id","sousCategoriesUpdate","name","sousCategories","filterBy","label",3,"ngModelChange","ngModel","options","placeholder","filter","showClear"],["for","estPubliqueUpdate"],["id","estPubliqueUpdate","name","estPublique",3,"ngModelChange","ngModel","options","placeholder"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["icon","pi pi-file-pdf","styleClass","p-button-danger",3,"click","label"],["icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","12rem"],[1,"flex","justify-between","items-center"],["type","text","field","id","display","menu",3,"placeholder"],["type","text","field","nomFr","display","menu",3,"placeholder"],["type","text","field","nomEn","display","menu",3,"placeholder"],["type","boolean","field","estPublique","display","menu",3,"placeholder"],["type","date","field","date_ajout","display","menu",3,"placeholder"],[4,"ngIf"],["class","text-center p-3 text-red-500 font-bold",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-warning","p-button-text","p-button-icon-only","ml-2",3,"click"],[1,"text-center","p-3","text-red-500","font-bold"],["colspan","6"]],template:function(t,i){if(t&1){let r=W();P(0,"link",9),d(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"div")(6,"span",14),v(7),h(8,"translate"),u()(),d(9,"div",15),P(10,"i",16),u()(),d(11,"span",17),v(12),h(13,"translate"),u(),v(14," | "),d(15,"span",17),v(16),h(17,"translate"),u()()(),d(18,"div",11)(19,"div",12)(20,"div",13)(21,"div")(22,"span",14),v(23),h(24,"translate"),u(),d(25,"div",18),v(26),u()(),d(27,"div",19),P(28,"i",20),u()()()(),P(29,"div",21),d(30,"div",22),P(31,"p-toast")(32,"p-confirmDialog",23),d(33,"div",24)(34,"div",25)(35,"div",26),v(36),h(37,"translate"),u()(),R(38,iF,5,6,"div",27),d(39,"p-table",28,0),R(41,nF,16,15,"ng-template",null,1,ae)(43,rF,35,33,"ng-template",null,2,ae)(45,sF,17,14,"ng-template",null,3,ae)(47,lF,4,3,"ng-template",null,4,ae)(49,cF,4,3,"ng-template",null,5,ae),u()(),d(51,"p-dialog",29),h(52,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalDialog,o)||(i.displayAddChevalDialog=o),b(o)}),d(53,"form",30,6),L("ngSubmit",function(){y(r);let o=Q(54);return b(i.addCheval(o))}),d(55,"div",31)(56,"div",32)(57,"div",33)(58,"div",34)(59,"label",35),v(60),h(61,"translate"),u(),d(62,"input",36),A("ngModelChange",function(o){return y(r),D(i.newCheval.nom,o)||(i.newCheval.nom=o),b(o)}),u()()(),d(63,"div",33)(64,"div",34)(65,"label",37),v(66),h(67,"translate"),u(),d(68,"p-dropdown",38),h(69,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.robe,o)||(i.newCheval.robe=o),b(o)}),R(70,dF,2,3,"ng-template",39),u()()(),d(71,"div",33)(72,"div",34)(73,"label",40),v(74),h(75,"translate"),u(),d(76,"p-calendar",41),A("ngModelChange",function(o){return y(r),D(i.newCheval.dateDeNaissance,o)||(i.newCheval.dateDeNaissance=o),b(o)}),u()()(),d(77,"div",33)(78,"div",34)(79,"label",42),v(80),h(81,"translate"),u(),d(82,"p-dropdown",43),h(83,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.sexe,o)||(i.newCheval.sexe=o),b(o)}),u()()(),d(84,"div",33)(85,"div",34)(86,"label",44),v(87),h(88,"translate"),u(),d(89,"p-dropdown",45),h(90,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.pereId,o)||(i.newCheval.pereId=o),b(o)}),u()()(),d(91,"div",33)(92,"div",34)(93,"label",46),v(94,"{{ 'HorseComponent.AddHorseDialog.fields.mother| translate }}"),u(),d(95,"p-dropdown",47),h(96,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.mereId,o)||(i.newCheval.mereId=o),b(o)}),u()()(),d(97,"div",33)(98,"div",34)(99,"label",48),v(100),h(101,"translate"),u(),d(102,"p-dropdown",49),h(103,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.lieuId,o)||(i.newCheval.lieuId=o),b(o)}),u()()(),d(104,"div",33)(105,"div",34)(106,"label",50),v(107),h(108,"translate"),u(),d(109,"p-dropdown",51),h(110,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.raceCodeRace,o)||(i.newCheval.raceCodeRace=o),b(o)}),u()()(),d(111,"div",33)(112,"div",34)(113,"label",52),v(114),h(115,"translate"),u(),d(116,"p-dropdown",53),h(117,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.categoriesId,o)||(i.newCheval.categoriesId=o),b(o)}),u()()(),d(118,"div",33)(119,"div",34)(120,"label",54),v(121),h(122,"translate"),u(),d(123,"p-multiSelect",55),h(124,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.contactIds,o)||(i.newCheval.contactIds=o),b(o)}),u()()()()(),d(125,"div",56)(126,"button",57),h(127,"translate"),L("click",function(){return y(r),b(i.displayAddChevalDialog=!1)}),u(),P(128,"button",58),h(129,"translate"),u()()(),d(130,"p-dialog",29),h(131,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddcategorie,o)||(i.displayAddcategorie=o),b(o)}),d(132,"form",30,7),L("ngSubmit",function(){y(r);let o=Q(133);return b(i.addCategorie(o))}),d(134,"div",31)(135,"div",32)(136,"div",33)(137,"div",34)(138,"label",59),v(139),h(140,"translate"),u(),d(141,"input",60),h(142,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCategorie.nomFr,o)||(i.newCategorie.nomFr=o),b(o)}),u()()(),d(143,"div",33)(144,"div",34)(145,"label",61),v(146),h(147,"translate"),u(),d(148,"input",62),h(149,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCategorie.nomEn,o)||(i.newCategorie.nomEn=o),b(o)}),u()()(),d(150,"div",33)(151,"div",34)(152,"label",63),v(153),h(154,"translate"),u(),d(155,"p-dropdown",64),h(156,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCategorie.parentId,o)||(i.newCategorie.parentId=o),b(o)}),u()()(),d(157,"div",33)(158,"div",34)(159,"label",65),v(160),h(161,"translate"),u(),d(162,"p-dropdown",66),h(163,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCategorie.sousCategories,o)||(i.newCategorie.sousCategories=o),b(o)}),u()()(),d(164,"div",33)(165,"div",34)(166,"label",67),v(167),h(168,"translate"),u(),d(169,"p-dropdown",68),h(170,"translate"),h(171,"translate"),h(172,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCategorie.estPublique,o)||(i.newCategorie.estPublique=o),b(o)}),u()()()()(),d(173,"div",56)(174,"button",57),h(175,"translate"),L("click",function(){return y(r),b(i.displayAddcategorie=!1)}),u(),P(176,"button",58),h(177,"translate"),u()()(),d(178,"p-dialog",29),h(179,"translate"),A("visibleChange",function(o){return y(r),D(i.displayUpdateCategorieDialog,o)||(i.displayUpdateCategorieDialog=o),b(o)}),d(180,"form",30,8),L("ngSubmit",function(){return y(r),b(i.updateCategorie())}),d(182,"div",31)(183,"div",32)(184,"div",33)(185,"div",34)(186,"label",69),v(187),h(188,"translate"),u(),d(189,"input",70),A("ngModelChange",function(o){return y(r),D(i.categorieToUpdate.nomFr,o)||(i.categorieToUpdate.nomFr=o),b(o)}),u()()(),d(190,"div",33)(191,"div",34)(192,"label",71),v(193),h(194,"translate"),u(),d(195,"input",72),h(196,"translate"),A("ngModelChange",function(o){return y(r),D(i.categorieToUpdate.nomEn,o)||(i.categorieToUpdate.nomEn=o),b(o)}),u()()(),d(197,"div",33)(198,"div",34)(199,"label",73),v(200),h(201,"translate"),u(),d(202,"p-dropdown",74),A("ngModelChange",function(o){return y(r),D(i.categorieToUpdate.parentId,o)||(i.categorieToUpdate.parentId=o),b(o)}),u()()(),d(203,"div",33)(204,"div",34)(205,"label",75),v(206),h(207,"translate"),u(),d(208,"p-dropdown",76),h(209,"translate"),A("ngModelChange",function(o){return y(r),D(i.categorieToUpdate.sousCategories,o)||(i.categorieToUpdate.sousCategories=o),b(o)}),u()()(),d(210,"div",33)(211,"div",34)(212,"label",77),v(213),h(214,"translate"),u(),d(215,"p-dropdown",78),h(216,"translate"),h(217,"translate"),h(218,"translate"),A("ngModelChange",function(o){return y(r),D(i.categorieToUpdate.estPublique,o)||(i.categorieToUpdate.estPublique=o),b(o)}),u()()()()(),d(219,"div",56)(220,"button",57),h(221,"translate"),L("click",function(){return y(r),b(i.displayUpdateCategorieDialog=!1)}),u(),P(222,"button",58),h(223,"translate"),u()()()()()}if(t&2){let r=Q(54),a=Q(133),o=Q(181);c(7),Se(" ",f(8,158,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(13,160,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(17,162,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(24,164,"categorie.number_categorie")),c(3),x(i.totalcategories),c(10),O(" ",f(37,166,"categorie.title")," "),c(2),g("ngIf",i.isAdmin),c(),g("value",i.categories)("rows",5)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(264,eF))("rowsPerPageOptions",se(265,tF)),c(12),_e(se(266,M_)),g("header",f(52,168,"HorseComponent.AddHorseDialog.header")),T("visible",i.displayAddChevalDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(61,170,"HorseComponent.AddHorseDialog.fields.name")),c(2),T("ngModel",i.newCheval.nom),c(4),x(f(67,172,"HorseComponent.AddHorseDialog.fields.coat")),c(2),T("ngModel",i.newCheval.robe),g("options",i.robeoptions)("placeholder",f(69,174,"HorseComponent.AddHorseDialog.selectCoat")),c(6),x(f(75,176,"HorseComponent.AddHorseDialog.fields.birth_date")),c(2),T("ngModel",i.newCheval.dateDeNaissance),g("showIcon",!0),c(4),x(f(81,178,"HorseComponent.AddHorseDialog.fields.gender")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.sexe),g("options",i.translatedSexeOptions)("placeholder",f(83,180,"HorseComponent.AddHorseDialog.placeholders.select_gender"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(88,182,"HorseComponent.AddHorseDialog.fields.father")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.pereId),g("options",i.pereOptions)("placeholder",f(90,184,"HorseComponent.AddHorseDialog.placeholders.select_father"))("virtualScroll",!0)("virtualScrollItemSize",15),c(6),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.mereId),g("options",i.mereOptions)("placeholder",f(96,186,"HorseComponent.AddHorseDialog.placeholders.select_mother"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),O("",f(101,188,"HorseComponent.AddHorseDialog.fields.location")," "),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.lieuId),g("options",i.lieuOptions)("placeholder",f(103,190,"HorseComponent.AddHorseDialog.placeholders.select_location"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(108,192,"HorseComponent.AddHorseDialog.fields.race_code")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.raceCodeRace),g("options",i.raceOptions)("placeholder",f(110,194,"HorseComponent.AddHorseDialog.placeholders.select_race"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(115,196,"HorseComponent.AddHorseDialog.fields.category")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.categoriesId),g("options",i.categorieOptions)("placeholder",f(117,198,"HorseComponent.AddHorseDialog.placeholders.select_category"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(122,200,"HorseComponent.AddHorseDialog.fields.contacts")),c(2),T("ngModel",i.newCheval.contactIds),g("options",i.contactOptions)("placeholder",f(124,202,"HorseComponent.AddHorseDialog.placeholders.select_contacts"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(3),g("label",f(127,204,"HorseComponent.AddHorseDialog.buttons.cancel")),c(2),g("label",f(129,206,"HorseComponent.AddHorseDialog.buttons.add"))("disabled",!r.valid),c(2),_e(se(267,M_)),g("header",f(131,208,"categorie.AddcategoryDialog.header")),T("visible",i.displayAddcategorie),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(140,210,"categorie.AddcategoryDialog.fields.nameFr.label")),c(2),T("ngModel",i.newCategorie.nomFr),g("placeholder",f(142,212,"categorie.AddcategoryDialog.fields.nameFr.placeholder")),c(5),x(f(147,214,"categorie.AddcategoryDialog.fields.nameEn.label")),c(2),T("ngModel",i.newCategorie.nomEn),g("placeholder",f(149,216,"categorie.AddcategoryDialog.fields.nameEn.placeholder")),c(5),x(f(154,218,"categorie.AddcategoryDialog.fields.parent.label")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCategorie.parentId),g("options",i.parentOptions)("placeholder",f(156,220,"categorie.AddcategoryDialog.fields.parent.placeholder"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(161,222,"categorie.AddcategoryDialog.fields.subcategories.label")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCategorie.sousCategories),g("options",i.souscategoriesOptions)("placeholder",f(163,224,"categorie.AddcategoryDialog.fields.subcategories.placeholder"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(168,226,"categorie.AddcategoryDialog.fields.isPublic.label")),c(2),T("ngModel",i.newCategorie.estPublique),g("options",li(272,sE,Ae(268,aE,f(170,228,"categorie.AddcategoryDialog.fields.isPublic.options.yes")),Ae(270,oE,f(171,230,"categorie.AddcategoryDialog.fields.isPublic.options.no"))))("placeholder",f(172,232,"categorie.AddcategoryDialog.fields.isPublic.placeholder")),c(5),g("label",f(175,234,"categorie.AddcategoryDialog.buttons.cancel")),c(2),g("label",f(177,236,"categorie.AddcategoryDialog.buttons.submit"))("disabled",!a.valid),c(2),_e(se(275,M_)),g("header",f(179,238,"categorie.AddcategoryDialog.headeredit")),T("visible",i.displayUpdateCategorieDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(188,240,"categorie.AddcategoryDialog.fields.nameFr.label")),c(2),T("ngModel",i.categorieToUpdate.nomFr),g("placeholder","categorie.AddcategoryDialog.fields.nameFr.placeholder"),c(4),x(f(194,242,"categorie.AddcategoryDialog.fields.nameEn.label")),c(2),T("ngModel",i.categorieToUpdate.nomEn),g("placeholder",f(196,244,"categorie.AddcategoryDialog.fields.nameEn.placeholder")),c(5),x(f(201,246,"categorie.AddcategoryDialog.fields.parent.label")),c(2),T("ngModel",i.categorieToUpdate.parentId),g("options",i.parentOptions)("filter",!0)("showClear",!0),c(4),x(f(207,248,"categorie.AddcategoryDialog.fields.subcategories.label")),c(2),T("ngModel",i.categorieToUpdate.sousCategories),g("options",i.souscategoriesOptions)("placeholder",f(209,250,"categorie.AddcategoryDialog.fields.subcategories.placeholder"))("filter",!0)("showClear",!0),c(5),x(f(214,252,"categorie.AddcategoryDialog.fields.isPublic.label")),c(2),T("ngModel",i.categorieToUpdate.estPublique),g("options",li(280,sE,Ae(276,aE,f(216,254,"categorie.AddcategoryDialog.fields.isPublic.options.yes")),Ae(278,oE,f(217,256,"categorie.AddcategoryDialog.fields.isPublic.options.no"))))("placeholder",f(218,258,"categorie.AddcategoryDialog.fields.isPublic.placeholder")),c(5),g("label",f(221,260,"categorie.AddcategoryDialog.buttons.cancel")),c(2),g("label",f(223,262,"categorie.AddcategoryDialog.buttons.edit"))("disabled",!o.valid)}},dependencies:[pe,ge,he,Ve,Ke,an,St,Yi,$t,Ki,tt,nt,Pe,qe,Si,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,Ri,ft,ci,mt,kt,gt,Kt,rt,ht,wt,Li,bt,Pi,Ct,Xi],styles:['[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};var ln=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/ContactType";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getAllContacttype(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(this.handleError))}getContacttypeById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}createContacttype(e,t){let i=this.getHeaders();return this.http.post(`${this.apiUrl}?entiteId=${t}`,e,{headers:i}).pipe(ie(this.handleError))}updateContacttype(e,t,i){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/${e}?entiteId=${i}`,t,{headers:r}).pipe(ie(this.handleError))}deleteContacttype(e,t){let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}handleError(e){let t="Une erreur inconnue s'est produite!";return e.error instanceof ErrorEvent?t=`Erreur: ${e.error.message}`:(t=`Code d'erreur: ${e.status}
Message: ${e.message}`,e.error&&e.error.message&&(t+=`
D\xE9tails: ${e.error.message}`)),console.error(t),Ne(()=>new Error(t))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var On=class{id;type=""};var Mo=class{id;nom="";prenom="";coordonnees="";Date_ajout=new Date;contactTypeId;entiteId;contactTypeName=""};var uF=["dt1"],pF=["dt2"],mF=["dt"],hF=()=>["id","nom","prenom","coordonnees","contactTypeId"],fF=()=>[5,10,20],k_=()=>({width:"50vw"});function gF(n,e){if(n&1){let t=W();d(0,"div",26)(1,"button",60),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddContactDialog())}),u(),d(3,"button",60),h(4,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddContactTypeDialog())}),u()()}n&2&&(c(),g("label",f(2,2,"Contact.table.sousContact.buttons.addContact")),c(2),g("label",f(4,4,"Contact.table.sousContact.buttons.addType")))}function vF(n,e){if(n&1){let t=W();d(0,"div",61)(1,"div")(2,"button",62),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(42);return b(r.clear(a))}),u()(),d(4,"div",63)(5,"button",64),h(6,"translate"),L("click",function(){y(t);let r=w();return b(r.exportExcel())}),u(),d(7,"button",65),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.exportPdf())}),u(),d(9,"button",66),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.exportCSV())}),u()(),d(11,"p-iconField",67)(12,"p-inputIcon"),P(13,"i",68),u(),d(14,"input",69),h(15,"translate"),L("input",function(r){y(t);let a=w(),o=Q(42);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,5,"Contact.table.sousContact.buttons.clear")),c(3),g("label",f(6,7,"Contact.table.sousContact.buttons.excel")),c(2),g("label",f(8,9,"Contact.table.sousContact.buttons.pdf")),c(2),g("label",f(10,11,"Contact.table.sousContact.buttons.csv")),c(5),g("placeholder",f(15,13,"Contact.table.sousContact.search.placeholder")))}function _F(n,e){n&1&&(d(0,"tr")(1,"th",70)(2,"div",71),v(3),h(4,"translate"),P(5,"p-columnFilter",72),h(6,"translate"),u()(),d(7,"th",70)(8,"div",71),v(9),h(10,"translate"),P(11,"p-columnFilter",73),h(12,"translate"),u()(),d(13,"th",70)(14,"div",71),v(15),h(16,"translate"),P(17,"p-columnFilter",74),h(18,"translate"),u()(),d(19,"th",70)(20,"div",71),v(21),h(22,"translate"),P(23,"p-columnFilter",75),h(24,"translate"),u()(),d(25,"th",70)(26,"div",71),v(27),h(28,"translate"),P(29,"p-columnFilter",76),h(30,"translate"),u()(),d(31,"th",70)(32,"div",71),v(33),h(34,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,11,"Contact.table.sousContact.columns.id")," "),c(2),g("placeholder",f(6,13,"Contact.table.sousContact.search.byId")),c(4),O(" ",f(10,15,"Contact.table.sousContact.columns.lastName")," "),c(2),g("placeholder",f(12,17,"Contact.table.sousContact.search.byLastName")),c(4),O(" ",f(16,19,"Contact.table.sousContact.columns.firstName")," "),c(2),g("placeholder",f(18,21,"Contact.table.sousContact.search.byFirstName")),c(4),O(" ",f(22,23,"Contact.table.sousContact.columns.coordinates")," "),c(2),g("placeholder",f(24,25,"Contact.table.sousContact.search.byCoordinates")),c(4),O(" ",f(28,27,"Contact.table.sousContact.columns.contactType")," "),c(2),g("placeholder",f(30,29,"Contact.table.sousContact.search.byType")),c(4),O(" ",f(34,31,"Contact.table.sousContact.columns.actions")," "))}function yF(n,e){if(n&1){let t=W();d(0,"div")(1,"button",79),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.deleteContact(r.id))}),u(),d(2,"button",80),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.showUpdateContactDialog(r))}),u()()}}function bF(n,e){n&1&&(d(0,"div",81),v(1),h(2,"translate"),u()),n&2&&(c(),O(" ",f(2,1,"Contact.table.sousContact.messages.unauthorized")," "))}function wF(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u(),d(5,"td"),v(6),u(),d(7,"td"),v(8),u(),d(9,"td"),v(10),u(),d(11,"td"),R(12,yF,3,0,"div",77)(13,bF,3,3,"div",78),u()()),n&2){let t=e.$implicit,i=w();c(2),x(t.id),c(2),x(t.nom),c(2),x(t.prenom),c(2),x(t.coordonnees),c(2),x(t.contactTypeName),c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin)}}function SF(n,e){n&1&&(d(0,"tr")(1,"td",82),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Contact.table.sousContact.messages.empty")))}function CF(n,e){n&1&&(d(0,"tr")(1,"td",82),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Contact.table.sousContact.messages.loading")))}var kh=class n{constructor(e,t,i,r,a,o,s,l,p){this.translate=e;this.messageService=t;this.typecontactService=i;this.entiteService=r;this.contactService=a;this.confirmationService=o;this.datePipe=s;this.authService=l;this.chevalService=p;this.entiteIdlogin=this.authService.getEntiteId(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;dt2;currentLanguage="en";isAdmin=!1;dt;get exportColumns(){return[{title:"ID",dataKey:"id"},{title:"Nom",dataKey:"nom"},{title:"Pr\xE9nom",dataKey:"prenom"},{title:"Coordonn\xE9es",dataKey:"coordonnees"},{title:"Type de contact",dataKey:"contactTypeName"}]}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}exportExcel(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.contacts.map(o=>{let s={};return this.exportColumns.forEach(l=>{let p=l.dataKey;s[l.title]=o[p]??""}),s}),r={Sheets:{"Liste Contacts":e.utils.json_to_sheet(t)},SheetNames:["Liste Contacts"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"contacts")})}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",o=new Blob([e],{type:r});i.saveAs(o,t+"_export_"+new Date().getTime()+a)})}exportCSV(){if(!this.contacts||this.contacts.length===0){console.warn("No data available to export");return}try{let e=this.convertToCSV(this.contacts);this.downloadFile(e,"contacts.csv","text/csv;charset=utf-8;")}catch(e){console.error("Error while exporting to CSV:",e)}}convertToCSV(e){if(!e||e.length===0)return"";let t=this.exportColumns.map(a=>a.title),i=this.exportColumns.map(a=>a.dataKey),r=t.join(";")+`\r
`;return e.forEach(a=>{i.forEach((o,s)=>{s>0&&(r+=";");let l=a[o];r+=l!=null?JSON.stringify(l).replace(/"/g,""):""}),r+=`\r
`}),r}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}exportPdf(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des contacts",subject:"Export PDF",author:"Votre Application",keywords:"contacts, liste, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES CONTACTS",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"}),t(i,{startY:o+40,head:[this.exportColumns.map(p=>p.title)],body:this.contacts.map(p=>[p.id,p.nom,p.prenom,p.coordonnees,p.contactTypeName]),styles:{fontSize:9,cellPadding:4,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:o+40,left:o,right:o},didDrawPage:p=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let m=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${p.pageNumber} / ${m}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des contacts",o,o-10)}}),i.save(`contacts_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Error generating PDF:",e)}})}contacts=[];loading=!0;contactTypes=[];totalContactTypes=null;typecontactOptions=[{label:"--",value:0}];entite=[];displayAddContactTypeDialog=!1;newContactType=new On;displayUpdateContactTypeDialog=!1;contactTypeToUpdate=new On;totalContacts=null;displayAddContactDialog=!1;displayUpdateContactDialog=!1;newContact=new Mo;contactToUpdate=new Mo;entiteIdlogin=null;entiteLogin=null;showUpdateContactTypeDialog(e){this.contactTypeToUpdate=z({},e),this.displayUpdateContactTypeDialog=!0}ngOnInit(){this.loadContacts(),this.loadContactTypes(),this.loadEntite(),this.loadChevaux(),this.loadChevauxNotArchived(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}totalChevaux=null;totalChevauxnotarchived=null;loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux not archived :",this.totalChevauxnotarchived),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadContacts(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{this.contacts=e.details,this.totalContacts=e.details.length,this.loading=!1,this.updatetypecontactOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des contacts",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des contacts."})}})}updatetypecontactOptions(){this.typecontactOptions=[{label:"---",value:""}],this.contactTypes.forEach(e=>{this.typecontactOptions.push({label:e.type,value:e.id})})}showAddContactDialog(){this.displayAddContactDialog=!0}addContact(e){e.valid&&(this.newContact.entiteId=this.entiteIdlogin??0,console.log("contact info",this.newContact),this.contactService.createContact(this.newContact).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:t.message}),this.displayAddContactDialog=!1,this.loadContacts(),this.newContact=new Mo},error:t=>{console.error("Erreur lors de l'ajout du contact",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de l'ajout du contact."})}}))}showUpdateContactDialog(e){this.contactToUpdate=z({},e),this.displayUpdateContactDialog=!0}updateContact(e){e.valid&&(console.log("updateinfo contact",this.contactToUpdate),this.contactService.updateContact(this.contactToUpdate.id,this.contactToUpdate,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:t.message}),this.displayUpdateContactDialog=!1,this.loadContacts()},error:t=>{console.error("Erreur lors de la mise \xE0 jour du contact",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la mise \xE0 jour du contact."})}}))}deleteContact(e){this.confirmationService.confirm({message:"Voulez-vous vraiment supprimer ce contact ?",header:"Confirmation de suppression",icon:"pi pi-exclamation-triangle",acceptLabel:"Oui",rejectLabel:"Non",accept:()=>{this.contactService.deleteContact(e,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:t.message}),this.loadContacts()},error:t=>{console.error("Erreur lors de la suppression du contact",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la suppression du contact."})}})},reject:()=>{this.messageService.add({severity:"info",summary:"Annul\xE9",detail:"Suppression annul\xE9e."})}})}loadContactTypes(){this.loading=!0,this.typecontactService.getAllContacttype(this.entiteIdlogin).subscribe({next:e=>{this.contactTypes=e.details,this.totalContactTypes=e.details.length,this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des types de contact",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des types de contact."})}})}showAddContactTypeDialog(){this.displayAddContactTypeDialog=!0}addContactType(e){e.valid&&this.typecontactService.createContacttype(this.newContactType,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:t.message}),this.displayAddContactTypeDialog=!1,this.loadContactTypes(),this.newContactType=new On},error:t=>{console.error("Erreur lors de l'ajout du type de contact",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de l'ajout du type de contact."})}})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ne),B(ln),B(oe),B(Ie),B(ce),B(he),B(ze),B(me))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&(Te(uF,5),Te(pF,5),Te(mF,5)),t&2){let r;Z(r=J())&&(i.dt1=r.first),Z(r=J())&&(i.dt2=r.first),Z(r=J())&&(i.dt=r.first)}},features:[xe([ne,ce,oe,Ie,ln,oe,he])],decls:138,vars:113,consts:[["dt",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["addContactForm","ngForm"],["updateContactForm","ngForm"],["addContactTypeForm","ngForm"],["rel","stylesheet","href",Yn`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css`],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-6"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-phone","text-amber-500","!text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"col-span-12"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-fluid"],[1,"p-grid","p-fluid"],[1,"p-col-12"],[1,"p-field"],["for","nom"],["id","nom","pInputText","","name","nom","required","",3,"ngModelChange","ngModel","placeholder"],["for","prenom"],["id","prenom","pInputText","","name","prenom","required","",3,"ngModelChange","ngModel","placeholder"],["for","coordonnees"],["id","coordonnees","pInputText","","name","coordonnees","required","",3,"ngModelChange","ngModel","placeholder"],["for","contactTypeId"],["id","contactTypeId","name","contactTypeId","optionLabel","type","optionValue","id","required","",3,"ngModelChange","ngModel","options","placeholder"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],["header","Modifier un contact",3,"visibleChange","visible","modal","draggable","resizable"],["for","nomUpdate"],["id","nomUpdate","pInputText","","name","nom","required","","placeholder","Entrez le nom",3,"ngModelChange","ngModel"],["for","prenomUpdate"],["id","prenomUpdate","pInputText","","name","prenom","required","","placeholder","Entrez le pr\xE9nom",3,"ngModelChange","ngModel"],["for","coordonneesUpdate"],["id","coordonneesUpdate","pInputText","","name","coordonnees","required","","placeholder","Entrez les coordonn\xE9es",3,"ngModelChange","ngModel"],["for","contactTypeIdUpdate"],["id","contactTypeIdUpdate","name","contactTypeId","optionLabel","type","optionValue","id","placeholder","S\xE9lectionnez un type de contact","required","",3,"ngModelChange","ngModel","options"],["pButton","","pRipple","","type","button","label","Annuler","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","type","submit","label","Mettre \xE0 jour","icon","pi pi-check",3,"disabled"],["for","type"],["id","type","pInputText","","name","type","required","",3,"ngModelChange","ngModel","placeholder"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["pButton","","icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["pButton","","icon","pi pi-file-pdf","styleClass","p-button-danger",3,"click","label"],["pButton","","icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","12rem"],[1,"flex","justify-between","items-center"],["type","text","field","id","display","menu",3,"placeholder"],["type","text","field","nom","display","menu",3,"placeholder"],["type","text","field","prenom","display","menu",3,"placeholder"],["type","text","field","coordonnees","display","menu",3,"placeholder"],["type","text","field","ContactTypeId","display","menu",3,"placeholder"],[4,"ngIf"],["class","text-center p-3 text-red-500 font-bold",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-warning","p-button-text","p-button-icon-only","ml-2",3,"click"],[1,"text-center","p-3","text-red-500","font-bold"],["colspan","6"]],template:function(t,i){if(t&1){let r=W();P(0,"link",9),d(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"div")(6,"span",14),v(7),h(8,"translate"),u()(),d(9,"div",15),P(10,"i",16),u()(),d(11,"span",17),v(12),h(13,"translate"),u(),v(14," | "),d(15,"span",17),v(16),h(17,"translate"),u()()(),d(18,"div",11)(19,"div",12)(20,"div",13)(21,"div")(22,"span",14),v(23),h(24,"translate"),u(),d(25,"div",18),v(26),u()(),d(27,"div",19),P(28,"i",20),u()()()(),P(29,"div",21),d(30,"div",22),P(31,"p-toast")(32,"p-confirmDialog",23),d(33,"div",10)(34,"div",24)(35,"div",25)(36,"div",26)(37,"div",27),v(38),h(39,"translate"),u()(),R(40,gF,5,6,"div",28),d(41,"p-table",29,0),R(43,vF,16,15,"ng-template",null,1,ae)(45,_F,35,33,"ng-template",null,2,ae)(47,wF,14,7,"ng-template",null,3,ae)(49,SF,4,3,"ng-template",null,4,ae)(51,CF,4,3,"ng-template",null,5,ae),u()()()(),d(53,"p-dialog",30),h(54,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddContactDialog,o)||(i.displayAddContactDialog=o),b(o)}),d(55,"form",31,6),L("ngSubmit",function(){y(r);let o=Q(56);return b(i.addContact(o))}),d(57,"div",32)(58,"div",33)(59,"div",34)(60,"div",35)(61,"label",36),v(62),h(63,"translate"),u(),d(64,"input",37),h(65,"translate"),A("ngModelChange",function(o){return y(r),D(i.newContact.nom,o)||(i.newContact.nom=o),b(o)}),u()()(),d(66,"div",34)(67,"div",35)(68,"label",38),v(69),h(70,"translate"),u(),d(71,"input",39),h(72,"translate"),A("ngModelChange",function(o){return y(r),D(i.newContact.prenom,o)||(i.newContact.prenom=o),b(o)}),u()()(),d(73,"div",34)(74,"div",35)(75,"label",40),v(76),h(77,"translate"),u(),d(78,"input",41),h(79,"translate"),A("ngModelChange",function(o){return y(r),D(i.newContact.coordonnees,o)||(i.newContact.coordonnees=o),b(o)}),u()()(),d(80,"div",34)(81,"div",35)(82,"label",42),v(83),h(84,"translate"),u(),d(85,"p-dropdown",43),h(86,"translate"),A("ngModelChange",function(o){return y(r),D(i.newContact.contactTypeId,o)||(i.newContact.contactTypeId=o),b(o)}),u()()()()(),d(87,"div",44)(88,"button",45),h(89,"translate"),L("click",function(){return y(r),b(i.displayAddContactDialog=!1)}),u(),P(90,"button",46),h(91,"translate"),u()()(),d(92,"p-dialog",47),A("visibleChange",function(o){return y(r),D(i.displayUpdateContactDialog,o)||(i.displayUpdateContactDialog=o),b(o)}),d(93,"form",31,7),L("ngSubmit",function(){y(r);let o=Q(94);return b(i.updateContact(o))}),d(95,"div",32)(96,"div",33)(97,"div",34)(98,"div",35)(99,"label",48),v(100,"Nom"),u(),d(101,"input",49),A("ngModelChange",function(o){return y(r),D(i.contactToUpdate.nom,o)||(i.contactToUpdate.nom=o),b(o)}),u()()(),d(102,"div",34)(103,"div",35)(104,"label",50),v(105,"Pr\xE9nom"),u(),d(106,"input",51),A("ngModelChange",function(o){return y(r),D(i.contactToUpdate.prenom,o)||(i.contactToUpdate.prenom=o),b(o)}),u()()(),d(107,"div",34)(108,"div",35)(109,"label",52),v(110,"Coordonn\xE9es"),u(),d(111,"input",53),A("ngModelChange",function(o){return y(r),D(i.contactToUpdate.coordonnees,o)||(i.contactToUpdate.coordonnees=o),b(o)}),u()()(),d(112,"div",34)(113,"div",35)(114,"label",54),v(115,"Type de contact"),u(),d(116,"p-dropdown",55),A("ngModelChange",function(o){return y(r),D(i.contactToUpdate.contactTypeId,o)||(i.contactToUpdate.contactTypeId=o),b(o)}),u()()()()(),d(117,"div",44)(118,"button",56),L("click",function(){return y(r),b(i.displayUpdateContactDialog=!1)}),u(),P(119,"button",57),u()()(),d(120,"p-dialog",30),h(121,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddContactTypeDialog,o)||(i.displayAddContactTypeDialog=o),b(o)}),d(122,"form",31,8),L("ngSubmit",function(){y(r);let o=Q(123);return b(i.addContactType(o))}),d(124,"div",32)(125,"div",33)(126,"div",34)(127,"div",35)(128,"label",58),v(129),h(130,"translate"),u(),d(131,"input",59),h(132,"translate"),A("ngModelChange",function(o){return y(r),D(i.newContactType.type,o)||(i.newContactType.type=o),b(o)}),u()()()()(),d(133,"div",44)(134,"button",45),h(135,"translate"),L("click",function(){return y(r),b(i.displayAddContactTypeDialog=!1)}),u(),P(136,"button",46),h(137,"translate"),u()()()()()}if(t&2){let r=Q(56),a=Q(94),o=Q(123);c(7),Se(" ",f(8,66,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(13,68,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(17,70,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(24,72,"Contact.number_contact")),c(3),x(i.totalContacts),c(12),x(f(39,74,"Contact.table.sousContact.title")),c(2),g("ngIf",i.isAdmin),c(),g("value",i.contacts)("rows",5)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(108,hF))("rowsPerPageOptions",se(109,fF)),c(12),_e(se(110,k_)),g("header",f(54,76,"Contact.add_title")),T("visible",i.displayAddContactDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(63,78,"Contact.fields.last_name")),c(2),T("ngModel",i.newContact.nom),g("placeholder",f(65,80,"Contact.placeholders.enter_last_name")),c(5),x(f(70,82,"Contact.fields.first_name")),c(2),T("ngModel",i.newContact.prenom),g("placeholder",f(72,84,"Contact.placeholders.enter_first_name")),c(5),x(f(77,86,"Contact.fields.contact_info")),c(2),T("ngModel",i.newContact.coordonnees),g("placeholder",f(79,88,"Contact.placeholders.enter_contact_info")),c(5),x(f(84,90,"Contact.fields.contact_type")),c(2),T("ngModel",i.newContact.contactTypeId),g("options",i.contactTypes)("placeholder",f(86,92,"Contact.placeholders.select_contact_type")),c(3),g("label",f(89,94,"Contact.buttons.cancel")),c(2),g("label",f(91,96,"Contact.buttons.add"))("disabled",!r.valid),c(2),_e(se(111,k_)),T("visible",i.displayUpdateContactDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),T("ngModel",i.contactToUpdate.nom),c(5),T("ngModel",i.contactToUpdate.prenom),c(5),T("ngModel",i.contactToUpdate.coordonnees),c(5),T("ngModel",i.contactToUpdate.contactTypeId),g("options",i.contactTypes),c(3),g("disabled",!a.valid),c(),_e(se(112,k_)),g("header",f(121,98,"Typecontact.add_title")),T("visible",i.displayAddContactTypeDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(130,100,"Typecontact.fields.type")),c(2),T("ngModel",i.newContactType.type),g("placeholder",f(132,102,"Typecontact.placeholders.type")),c(3),g("label",f(135,104,"Typecontact.buttons.cancel")),c(2),g("label",f(137,106,"Typecontact.buttons.add"))("disabled",!o.valid)}},dependencies:[pe,ge,an,Ve,Ke,St,Yi,Ki,tt,nt,Pe,qe,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,Ri,ft,mt,kt,gt,rt,ht,wt,Li,bt,Pi,Ct,Xi],styles:['[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};var xF=["dt1"],EF=["dt2"],IF=["dt"],TF=()=>["id","type"],DF=()=>[5,10,20],lE=()=>({width:"50vw"});function AF(n,e){if(n&1){let t=W();d(0,"div",24)(1,"button",41),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddContactTypeDialog())}),u()()}n&2&&(c(),g("label",f(2,1,"Typecontact.table.sousTypecontact.addButton")))}function MF(n,e){if(n&1){let t=W();d(0,"div",42)(1,"div")(2,"button",43),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(42);return b(r.clear(a))}),u()(),d(4,"div",44)(5,"p-button",45),h(6,"translate"),L("click",function(){y(t);let r=w();return b(r.exportExcelContactTypes())}),u(),d(7,"p-button",46),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.exportPdfContactTypes())}),u(),d(9,"p-button",47),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.exportCSVContactTypes())}),u()(),d(11,"p-iconField",48)(12,"p-inputIcon"),P(13,"i",49),u(),d(14,"input",50),h(15,"translate"),L("input",function(r){y(t);let a=w(),o=Q(42);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,5,"Typecontact.table.sousTypecontact.clearButton")),c(3),g("label",f(6,7,"Typecontact.table.sousTypecontact.export.excel")),c(2),g("label",f(8,9,"Typecontact.table.sousTypecontact.export.pdf")),c(2),g("label",f(10,11,"Typecontact.table.sousTypecontact.export.csv")),c(5),g("placeholder",f(15,13,"Typecontact.table.sousTypecontact.searchPlaceholder")))}function kF(n,e){n&1&&(d(0,"tr")(1,"th",51)(2,"div",52),v(3),h(4,"translate"),P(5,"p-columnFilter",53),h(6,"translate"),u()(),d(7,"th",51)(8,"div",52),v(9),h(10,"translate"),P(11,"p-columnFilter",54),h(12,"translate"),u()(),d(13,"th",51)(14,"div",52),v(15),h(16,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,5,"Typecontact.table.sousTypecontact.columns.id")," "),c(2),g("placeholder",f(6,7,"Typecontact.table.sousTypecontact.columns.id")),c(4),O(" ",f(10,9,"Typecontact.table.sousTypecontact.columns.type")," "),c(2),g("placeholder",f(12,11,"Typecontact.table.sousTypecontact.columns.type")),c(4),O(" ",f(16,13,"Typecontact.table.sousTypecontact.columns.actions")," "))}function PF(n,e){if(n&1){let t=W();d(0,"div")(1,"button",57),h(2,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.deleteContactType(r.id))}),u(),d(3,"button",58),h(4,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.showUpdateContactTypeDialog(r))}),u()()}n&2&&(c(),g("pTooltip",f(2,2,"Typecontact.table.sousTypecontact.deleteTooltip")),c(2),g("pTooltip",f(4,4,"Typecontact.table.sousTypecontact.editTooltip")))}function LF(n,e){n&1&&(d(0,"div",59),v(1),h(2,"translate"),u()),n&2&&(c(),O(" ",f(2,1,"Typecontact.table.sousTypecontact.unauthorized")," "))}function RF(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u(),d(5,"td"),R(6,PF,5,6,"div",55)(7,LF,3,3,"div",56),u()()),n&2){let t=e.$implicit,i=w();c(2),x(t.id),c(2),x(t.type),c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin)}}function BF(n,e){n&1&&(d(0,"tr")(1,"td",60),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Typecontact.table.sousTypecontact.emptyMessage")))}function FF(n,e){n&1&&(d(0,"tr")(1,"td",60),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Typecontact.table.sousTypecontact.loadingMessage")))}var Ph=class n{constructor(e,t,i,r,a,o,s,l){this.entiteService=e;this.translate=t;this.messageService=i;this.chevalService=r;this.typecontactService=a;this.confirmationService=o;this.datePipe=s;this.authService=l;this.entiteIdlogin=this.authService.getEntiteId(),this.isAdmin=this.authService.isAdmin(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;dt2;isAdmin=!1;currentLanguage="en";updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}dt;get exportContactTypesColumns(){return[{title:"ID",dataKey:"id"},{title:"Type",dataKey:"type"}]}exportExcelContactTypes(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.contactTypes.map(o=>({ID:o.id,Type:o.type||""})),r={Sheets:{"Types de contact":e.utils.json_to_sheet(t)},SheetNames:["Types de contact"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"types_contact")})}exportCSVContactTypes(){if(!this.contactTypes||this.contactTypes.length===0){console.warn("Aucune donn\xE9e \xE0 exporter");return}try{let e=this.convertContactTypesToCSV(this.contactTypes);this.downloadFile(e,"types_contact.csv","text/csv;charset=utf-8;")}catch(e){console.error("Erreur lors de l'export CSV:",e)}}convertContactTypesToCSV(e){if(!e||e.length===0)return"";let i=this.exportContactTypesColumns.map(r=>r.title).join(";")+`\r
`;return e.forEach(r=>{let a=[r.id,`"${r.type||""}"`];i+=a.join(";")+`\r
`}),i}exportPdfContactTypes(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des types de contact",subject:"Export PDF",author:"Votre Application",keywords:"contacts, types, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES TYPES DE CONTACT",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+40;t(i,{startY:p,head:[this.exportContactTypesColumns.map(m=>m.title)],body:this.contactTypes.map(m=>[m.id,m.type||""]),styles:{fontSize:10,cellPadding:5,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[79,129,189],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[240,240,240]},columnStyles:{0:{cellWidth:50},1:{cellWidth:"auto"}},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des types de contact",o,o-10)}}),i.save(`types_contact_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Erreur lors de la g\xE9n\xE9ration du PDF:",e)}})}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",o=new Blob([e],{type:r});i.saveAs(o,t+"_export_"+new Date().getTime()+a)})}contactTypes=[];totalContactTypes=null;loading=!0;displayAddContactTypeDialog=!1;newContactType=new On;displayUpdateContactTypeDialog=!1;contactTypeToUpdate=new On;showUpdateContactTypeDialog(e){this.contactTypeToUpdate=z({},e),this.displayUpdateContactTypeDialog=!0}entiteIdlogin=null;entiteLogin=null;ngOnInit(){this.loadContactTypes(),this.loadChevaux(),this.loadChevauxNotArchived(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}totalChevaux=null;totalChevauxnotarchived=null;loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux not archived :",this.totalChevauxnotarchived)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadContactTypes(){this.loading=!0,this.typecontactService.getAllContacttype(this.entiteIdlogin).subscribe({next:e=>{this.contactTypes=e.details,this.totalContactTypes=e.details.length,this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des types de contact",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des types de contact."})}})}showAddContactTypeDialog(){this.displayAddContactTypeDialog=!0}addContactType(e){e.valid&&this.typecontactService.createContacttype(this.newContactType,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:t.message}),this.displayAddContactTypeDialog=!1,this.loadContactTypes(),this.newContactType=new On},error:t=>{console.error("Erreur lors de l'ajout du type de contact",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de l'ajout du type de contact."})}})}deleteContactType(e){this.confirmationService.confirm({message:this.translate.instant("Typecontact.delete.confirmation.message"),header:this.translate.instant("Typecontact.delete.confirmation.header"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translate.instant("Typecontact.delete.confirmation.acceptLabel"),rejectLabel:this.translate.instant("Typecontact.delete.confirmation.rejectLabel"),accept:()=>{this.typecontactService.deleteContacttype(e,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Success",detail:this.translate.instant("Typecontact.delete.messages.success")}),this.loadContactTypes()},error:t=>{console.error("Error deleting contact type",t.status),this.messageService.add({severity:"error",summary:"error",detail:this.translate.instant("Typecontact.delete.messages.error")})}})},reject:()=>{this.messageService.add({severity:"info",summary:"canceled",detail:this.translate.instant("Typecontact.delete.messages.canceled")})}})}updateContactType(e){e.valid&&this.typecontactService.updateContacttype(this.contactTypeToUpdate.id,this.contactTypeToUpdate,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:t.message}),this.displayUpdateContactTypeDialog=!1,this.loadContactTypes()},error:t=>{console.error("Erreur lors de la mise \xE0 jour du type de contact",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la mise \xE0 jour du type de contact."})}})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}static \u0275fac=function(t){return new(t||n)(B(oe),B(Fe),B(ne),B(me),B(ln),B(ce),B(he),B(ze))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&(Te(xF,5),Te(EF,5),Te(IF,5)),t&2){let r;Z(r=J())&&(i.dt1=r.first),Z(r=J())&&(i.dt2=r.first),Z(r=J())&&(i.dt=r.first)}},features:[xe([ne,ce,oe,ln,he])],decls:89,vars:78,consts:[["dt",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["addContactTypeForm","ngForm"],["updateContactTypeForm","ngForm"],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-6"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-receipt","text-amber-500","!text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"col-span-12"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-fluid"],[1,"p-grid","p-fluid"],[1,"p-col-12"],[1,"p-field"],["for","type"],["id","type","pInputText","","name","type","required","",3,"ngModelChange","ngModel","placeholder"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],["for","typeUpdate"],["id","typeUpdate","pInputText","","name","type","required","",3,"ngModelChange","ngModel","placeholder"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["icon","pi pi-file-pdf","styleClass","p-button-danger",3,"click","label"],["icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","12rem"],[1,"flex","justify-between","items-center"],["type","text","field","id","display","menu",3,"placeholder"],["type","text","field","type","display","menu",3,"placeholder"],[4,"ngIf"],["class","text-center p-3 text-red-500 font-bold",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash","tooltipPosition","top",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","pi pi-pencil","tooltipPosition","top",1,"p-button-warning","p-button-text","p-button-icon-only","ml-2",3,"click","pTooltip"],[1,"text-center","p-3","text-red-500","font-bold"],["colspan","3"]],template:function(t,i){if(t&1){let r=W();d(0,"p-fluid")(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div")(6,"span",12),v(7),h(8,"translate"),u()(),d(9,"div",13),P(10,"i",14),u()(),d(11,"span",15),v(12),h(13,"translate"),u(),v(14," | "),d(15,"span",15),v(16),h(17,"translate"),u()()(),d(18,"div",9)(19,"div",10)(20,"div",11)(21,"div")(22,"span",12),v(23),h(24,"translate"),u(),d(25,"div",16),v(26),u()(),d(27,"div",17),P(28,"i",18),u()()()(),P(29,"div",19),d(30,"div",20),P(31,"p-toast")(32,"p-confirmDialog",21),d(33,"div",8)(34,"div",22)(35,"div",23)(36,"div",24)(37,"div",25),v(38),h(39,"translate"),u()(),R(40,AF,3,3,"div",26),d(41,"p-table",27,0),R(43,MF,16,15,"ng-template",null,1,ae)(45,kF,17,15,"ng-template",null,2,ae)(47,RF,8,4,"ng-template",null,3,ae)(49,BF,4,3,"ng-template",null,4,ae)(51,FF,4,3,"ng-template",null,5,ae),u()()()(),d(53,"p-dialog",28),h(54,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddContactTypeDialog,o)||(i.displayAddContactTypeDialog=o),b(o)}),d(55,"form",29,6),L("ngSubmit",function(){y(r);let o=Q(56);return b(i.addContactType(o))}),d(57,"div",30)(58,"div",31)(59,"div",32)(60,"div",33)(61,"label",34),v(62),h(63,"translate"),u(),d(64,"input",35),h(65,"translate"),A("ngModelChange",function(o){return y(r),D(i.newContactType.type,o)||(i.newContactType.type=o),b(o)}),u()()()()(),d(66,"div",36)(67,"button",37),h(68,"translate"),L("click",function(){return y(r),b(i.displayAddContactTypeDialog=!1)}),u(),P(69,"button",38),h(70,"translate"),u()()(),d(71,"p-dialog",28),h(72,"translate"),A("visibleChange",function(o){return y(r),D(i.displayUpdateContactTypeDialog,o)||(i.displayUpdateContactTypeDialog=o),b(o)}),d(73,"form",29,7),L("ngSubmit",function(){y(r);let o=Q(74);return b(i.updateContactType(o))}),d(75,"div",30)(76,"div",31)(77,"div",32)(78,"div",33)(79,"label",39),v(80),h(81,"translate"),u(),d(82,"input",40),h(83,"translate"),A("ngModelChange",function(o){return y(r),D(i.contactTypeToUpdate.type,o)||(i.contactTypeToUpdate.type=o),b(o)}),u()()()()(),d(84,"div",36)(85,"button",37),h(86,"translate"),L("click",function(){return y(r),b(i.displayUpdateContactTypeDialog=!1)}),u(),P(87,"button",38),h(88,"translate"),u()()()()()()}if(t&2){let r=Q(56),a=Q(74);c(7),Se(" ",f(8,44,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(13,46,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(17,48,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(24,50,"Typecontact.number_typecontact")),c(3),x(i.totalContactTypes),c(12),x(f(39,52,"Typecontact.table.sousTypecontact.title")),c(2),g("ngIf",i.isAdmin),c(),g("value",i.contactTypes)("rows",5)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(74,TF))("rowsPerPageOptions",se(75,DF)),c(12),_e(se(76,lE)),g("header",f(54,54,"Typecontact.add_title")),T("visible",i.displayAddContactTypeDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(63,56,"Typecontact.fields.type")),c(2),T("ngModel",i.newContactType.type),g("placeholder",f(65,58,"Typecontact.placeholders.type")),c(3),g("label",f(68,60,"Typecontact.buttons.cancel")),c(2),g("label",f(70,62,"Typecontact.buttons.add"))("disabled",!r.valid),c(2),_e(se(77,lE)),g("header",f(72,64,"Typecontact.modif_title")),T("visible",i.displayUpdateContactTypeDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(81,66,"Typecontact.fields.type")),c(2),T("ngModel",i.contactTypeToUpdate.type),g("placeholder",f(83,68,"Typecontact.placeholders.type")),c(3),g("label",f(86,70,"Typecontact.buttons.cancel")),c(2),g("label",f(88,72,"Typecontact.buttons.edit"))("disabled",!a.valid)}},dependencies:[pe,ge,Xt,ai,Ve,Ke,an,_r,St,Yi,Ki,tt,nt,Pe,qe,Si,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,Ri,ft,mt,gt,rt,ht,wt,Li,bt,Pi,Ct,Xi],styles:['[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};var ko=class{codeRace;description="";date_ajout=new Date;entiteId};var OF=["dt1"],NF=["dt2"],VF=["dt"],HF=()=>["id","type"],WF=()=>[5,10,20],P_=()=>({width:"50vw"});function UF(n,e){if(n&1){let t=W();d(0,"div",26)(1,"button",65),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddraceDialog())}),u(),d(3,"button",65),h(4,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalDialog())}),u()()}n&2&&(c(),g("label",f(2,2,"Race.buttons.add_race")),c(2),g("label",f(4,4,"Race.buttons.add_horse")))}function jF(n,e){if(n&1){let t=W();d(0,"div",66)(1,"div")(2,"button",67),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(42);return b(r.clear(a))}),u()(),d(4,"div",68)(5,"p-button",69),h(6,"translate"),L("click",function(){y(t);let r=w();return b(r.exportExcelRaces())}),u(),d(7,"p-button",70),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.exportPdfRaces())}),u(),d(9,"p-button",71),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.exportCSVRaces())}),u()(),d(11,"p-iconField",72)(12,"p-inputIcon"),P(13,"i",73),u(),d(14,"input",74),h(15,"translate"),L("input",function(r){y(t);let a=w(),o=Q(42);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,5,"Race.buttons.clear")),c(3),g("label",f(6,7,"Race.buttons.excel")),c(2),g("label",f(8,9,"Race.buttons.pdf")),c(2),g("label",f(10,11,"Race.buttons.csv")),c(5),g("placeholder",f(15,13,"Race.table.filters.search")))}function zF(n,e){n&1&&(d(0,"tr")(1,"th",75)(2,"div",76),v(3),h(4,"translate"),P(5,"p-columnFilter",77),h(6,"translate"),u()(),d(7,"th",75)(8,"div",76),v(9),h(10,"translate"),P(11,"p-columnFilter",78),h(12,"translate"),u()(),d(13,"th",75)(14,"div",76),v(15),h(16,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,5,"Race.table.columns.id")," "),c(2),g("placeholder",f(6,7,"Race.table.filters.search_by_id")),c(4),O(" ",f(10,9,"Race.table.columns.type")," "),c(2),g("placeholder",f(12,11,"Race.table.filters.search_by_type")),c(4),O(" ",f(16,13,"Race.table.columns.actions")," "))}function qF(n,e){if(n&1){let t=W();d(0,"div")(1,"button",81),h(2,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.deleterace(r.codeRace))}),u(),d(3,"button",82),h(4,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.showUpdateraceDialog(r))}),u()()}n&2&&(c(),g("pTooltip",f(2,2,"Race.buttons.delete")),c(2),g("pTooltip",f(4,4,"Race.buttons.edit")))}function $F(n,e){n&1&&(d(0,"div",83),v(1),h(2,"translate"),u()),n&2&&(c(),O(" ",f(2,1,"Race.table.messages.unauthorized")," "))}function QF(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u(),d(5,"td"),R(6,qF,5,6,"div",79)(7,$F,3,3,"div",80),u()()),n&2){let t=e.$implicit,i=w();c(2),x(t.codeRace),c(2),x(t.description),c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin)}}function GF(n,e){n&1&&(d(0,"tr")(1,"td",84),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Race.table.messages.no_data")))}function YF(n,e){n&1&&(d(0,"tr")(1,"td",84),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Race.table.messages.loading")))}function KF(n,e){if(n&1&&(v(0),h(1,"translate")),n&2){let t=e.$implicit;O(" ",f(1,1,t.label)," ")}}var Lh=class n{constructor(e,t,i,r,a,o,s,l,p,m){this.translate=e;this.messageService=t;this.entiteService=i;this.raceService=r;this.confirmationService=a;this.authService=o;this.chevalService=s;this.lieuService=l;this.categorieService=p;this.contactService=m;this.entiteIdlogin=this.authService.getEntiteId(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;dt2;get exportRacesColumns(){return[{title:"Code Race",dataKey:"codeRace"},{title:"Description",dataKey:"description"}]}exportExcelRaces(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.races.map(o=>({"Code Race":o.codeRace,Description:o.description||""})),r={Sheets:{"Liste des Races":e.utils.json_to_sheet(t)},SheetNames:["Liste des Races"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"races")})}exportCSVRaces(){if(!this.races||this.races.length===0){console.warn("Aucune donn\xE9e \xE0 exporter");return}try{let e=this.convertRacesToCSV(this.races);this.downloadFile(e,"races.csv","text/csv;charset=utf-8;")}catch(e){console.error("Erreur lors de l'export CSV:",e)}}convertRacesToCSV(e){if(!e||e.length===0)return"";let i=this.exportRacesColumns.map(r=>r.title).join(";")+`\r
`;return e.forEach(r=>{let a=[r.codeRace,`"${r.description||""}"`];i+=a.join(";")+`\r
`}),i}exportPdfRaces(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des Races",subject:"Export PDF",author:"Votre Application",keywords:"races, chevaux, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES RACES",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+40;t(i,{startY:p,head:[this.exportRacesColumns.map(m=>m.title)],body:this.races.map(m=>[m.codeRace,m.description||""]),styles:{fontSize:10,cellPadding:5,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[46,125,50],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[240,240,240]},columnStyles:{0:{cellWidth:80},1:{cellWidth:"auto"}},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des Races",o,o-10)}}),i.save(`races_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Erreur lors de la g\xE9n\xE9ration du PDF:",e)}})}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",o=new Blob([e],{type:r});i.saveAs(o,t+"_export_"+new Date().getTime()+a)})}currentLanguage="en";isAdmin=!1;robeoptions=[];dt;races=[];totalrace=null;loading=!0;displayAddRaceDialog=!1;displayAddChevalDialog=!1;newRace=new ko;newCheval=new Qt;displayUpdateraceDialog=!1;raceToUpdate=new ko;entiteIdlogin=null;entiteLogin=null;chevaux=[];chevauxnotarchived=[];lieux=[];categorie=[];contact=[];sexeOptions=[{label:"M\xE2le",value:"M\xE2le"},{label:"Femelle",value:"Femelle"}];categorieOptions=[];raceOptions=[];pereOptions=[];mereOptions=[];lieuOptions=[];contactOptions=[];translatedSexeOptions=[];chevauxOptions=[];showUpdateraceDialog(e){this.raceToUpdate=z({},e),this.displayUpdateraceDialog=!0}showAddChevalDialog(){this.displayAddChevalDialog=!0}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadRace(),this.loadChevaux(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadCategorie(),this.loadContact(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions()}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin(),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}totalChevaux=null;totalChevauxnotarchived=null;loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.chevaux=e.details,this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux not archived :",this.totalChevauxnotarchived),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}updateTranslatedOptions(){this.translatedSexeOptions=[{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.male"),value:"M\xE2le"},{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.female"),value:"Femelle"}],this.robeoptions=[{value:"ALEZAN",label:this.translate.instant("HorseComponent.coats.ALEZAN")},{value:"BAI",label:this.translate.instant("HorseComponent.coats.BAI")},{value:"BAI_BRUN",label:this.translate.instant("HorseComponent.coats.BAI_BRUN")},{value:"BLANC",label:this.translate.instant("HorseComponent.coats.BLANC")},{value:"GRIS",label:this.translate.instant("HorseComponent.coats.GRIS")},{value:"NOIR",label:this.translate.instant("HorseComponent.coats.NOIR")},{value:"PIE",label:this.translate.instant("HorseComponent.coats.PIE")},{value:"ROUAN",label:this.translate.instant("HorseComponent.coats.ROUAN")},{value:"SOURIS",label:this.translate.instant("HorseComponent.coats.SOURIS")},{value:"AUBERE",label:this.translate.instant("HorseComponent.coats.AUBERE")},{value:"CREME",label:this.translate.instant("HorseComponent.coats.CREME")},{value:"ISABELLE",label:this.translate.instant("HorseComponent.coats.ISABELLE")},{value:"PALOMINO",label:this.translate.instant("HorseComponent.coats.PALOMINO")}]}totalordonnance=null;loadLieux(){this.loading=!0,this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.lieuOptions=this.lieux.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des lieux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des lieux."})}})}totalraces=null;loadRace(){this.loading=!0,this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.races=e.details,this.totalraces=e.details.length,console.log("race=",e.details),this.raceOptions=this.races.map(t=>({label:t.description,value:t.codeRace})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des races",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des races."})}})}loadCategorie(){this.loading=!0,this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.categorie=e.details,this.categorieOptions=this.categorie.map(t=>({label:t.nomFr,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}loadContact(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.contact=e.details,this.contactOptions=this.contact.map(t=>({label:t.nom+" "+t.prenom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}updatePereAndMereOptions(){this.pereOptions=[{label:"---",value:""}],this.mereOptions=[{label:"---",value:""}],this.chevaux.forEach(e=>{this.pereOptions.push({label:e.nom,value:e.numeroSIRE}),this.mereOptions.push({label:e.nom,value:e.numeroSIRE})}),this.chevauxnotarchived.forEach(e=>{this.chevauxOptions.push({label:e.nom,value:e.numeroSIRE})})}showAddraceDialog(){this.displayAddRaceDialog=!0}addrace(e){e.valid&&(this.newRace.entiteId=this.entiteIdlogin??0,this.raceService.addRace(this.newRace).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Race.add_race.added.success")}),this.displayAddRaceDialog=!1,this.loadRace(),this.newRace=new ko},error:t=>{console.error("Erreur lors de l'ajout du type de contact",t),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Race.add_race.added.error")})}}))}deleterace(e){this.confirmationService.confirm({message:this.translate.instant("Race.delete_race.confirmation.message"),header:this.translate.instant("Race.delete_race.confirmation.header"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translate.instant("Race.delete_race.buttons.accept"),rejectLabel:this.translate.instant("Race.delete_race.buttons.reject"),accept:()=>{this.raceService.deleteRace(e,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:this.translate.instant("Race.Success"),detail:this.translate.instant("Race.delete_race.messages.success")}),this.loadRace()},error:t=>{console.error("Error deleting race",t.status),this.messageService.add({severity:"error",summary:this.translate.instant("Race.Error"),detail:this.translate.instant("Race.delete_race.messages.error")})}})},reject:()=>{this.messageService.add({severity:"info",summary:this.translate.instant("Race.Cancelled"),detail:this.translate.instant("Race.delete_race.messages.cancelled")})}})}updaterace(e){e.valid&&this.raceService.updateRace(this.raceToUpdate.codeRace,this.raceToUpdate,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:this.translate.instant("Race.edit_race.messages.success")}),this.displayUpdateraceDialog=!1,this.loadRace()},error:t=>{console.error("Error updating race",t),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("Race.edit_race.messages.error")})}})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}generateNumeroSIRE(e,t){let i=t.getFullYear().toString().slice(-2),r=(e+1).toString(),a=7-r.length,o="0".repeat(a)+r;return i+o}generateRandomSixDigits(){return Math.floor(Math.random()*1e6).toString().padStart(6,"0")}addCheval(e){e.valid&&(console.log(this.newCheval),this.chevalService.getMaxId().subscribe({next:t=>{this.newCheval.numeroSIRE=this.generateNumeroSIRE(t.details,this.newCheval.dateDeNaissance),this.newCheval.entiteId=this.entiteIdlogin;let i=this.generateRandomSixDigits();this.newCheval.cleSIRE=this.newCheval.numeroSIRE+i,this.newCheval.pereId===""&&(this.newCheval.pereId=""),this.newCheval.mereId===""&&(this.newCheval.mereId=""),this.chevalService.addCheval(this.newCheval).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:r.message}),this.displayAddChevalDialog=!1,this.loadChevaux(),this.newCheval=new Qt},error:r=>{let a="Erreur lors de l'ajout du cheval.";r.error&&r.error.message?a=r.error.message:r.message&&(a=r.message),this.messageService.add({severity:"error",summary:"Erreur",detail:a})}})},error:t=>{let i="Erreur lors de la r\xE9cup\xE9ration de l'ID maximum.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ne),B(oe),B(ke),B(ce),B(ze),B(me),B(Ce),B(be),B(Ie))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&(Te(OF,5),Te(NF,5),Te(VF,5)),t&2){let r;Z(r=J())&&(i.dt1=r.first),Z(r=J())&&(i.dt2=r.first),Z(r=J())&&(i.dt=r.first)}},features:[xe([ne,ce,oe,ke,he])],decls:169,vars:195,consts:[["dt",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["addraceForm","ngForm"],["updateraceForm","ngForm"],["addChevalForm","ngForm"],["rel","stylesheet","href",Yn`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css`],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-6"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-sitemap","text-amber-500","!text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"col-span-12"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-fluid"],[1,"p-grid","p-fluid"],[1,"p-col-12"],[1,"p-field"],["for","type"],["id","type","pInputText","","name","description","required","",3,"ngModelChange","ngModel","placeholder"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],["for","race"],["id","race","pInputText","","name","description","required","",3,"ngModelChange","ngModel","placeholder"],[1,"p-col-12","p-md-6"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",3,"ngModelChange","ngModel"],["for","robe"],["id","robe","name","robe","optionLabel","label","optionValue","value","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],["pTemplate","item"],["for","dateDeNaissance"],["id","dateDeNaissance","name","dateDeNaissance","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showIcon"],["for","sexe"],["id","sexe","filterBy","label","name","sexe","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","pereId"],["id","pereId","filterBy","label","name","pereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","mereId"],["id","mereId","filterBy","label","name","mereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","lieuId"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","raceCodeRace"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","categoriesId"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","contactIds"],["id","contactIds","required","","name","contactIds","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["icon","pi pi-file-pdf","styleClass","p-button-danger",3,"click","label"],["icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","12rem"],[1,"flex","justify-between","items-center"],["type","text","field","id","display","menu",3,"placeholder"],["type","text","field","type","display","menu",3,"placeholder"],[4,"ngIf"],["class","text-center p-3 text-red-500 font-bold",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-warning","p-button-text","p-button-icon-only","ml-2",3,"click","pTooltip"],[1,"text-center","p-3","text-red-500","font-bold"],["colspan","3"]],template:function(t,i){if(t&1){let r=W();P(0,"link",9),d(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"div")(6,"span",14),v(7),h(8,"translate"),u()(),d(9,"div",15),P(10,"i",16),u()(),d(11,"span",17),v(12),h(13,"translate"),u(),v(14," | "),d(15,"span",17),v(16),h(17,"translate"),u()()(),d(18,"div",11)(19,"div",12)(20,"div",13)(21,"div")(22,"span",14),v(23),h(24,"translate"),u(),d(25,"div",18),v(26),u()(),d(27,"div",19),P(28,"i",20),u()()()(),P(29,"div",21),d(30,"div",22),P(31,"p-toast")(32,"p-confirmDialog",23),d(33,"div",10)(34,"div",24)(35,"div",25)(36,"div",26)(37,"div",27),v(38),h(39,"translate"),u()(),R(40,UF,5,6,"div",28),d(41,"p-table",29,0),R(43,jF,16,15,"ng-template",null,1,ae)(45,zF,17,15,"ng-template",null,2,ae)(47,QF,8,4,"ng-template",null,3,ae)(49,GF,4,3,"ng-template",null,4,ae)(51,YF,4,3,"ng-template",null,5,ae),u()()()(),d(53,"p-dialog",30),h(54,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddRaceDialog,o)||(i.displayAddRaceDialog=o),b(o)}),d(55,"form",31,6),L("ngSubmit",function(){y(r);let o=Q(56);return b(i.addrace(o))}),d(57,"div",32)(58,"div",33)(59,"div",34)(60,"div",35)(61,"label",36),v(62),h(63,"translate"),u(),d(64,"input",37),h(65,"translate"),A("ngModelChange",function(o){return y(r),D(i.newRace.description,o)||(i.newRace.description=o),b(o)}),u()()()()(),d(66,"div",38)(67,"button",39),h(68,"translate"),L("click",function(){return y(r),b(i.displayAddRaceDialog=!1)}),u(),P(69,"button",40),h(70,"translate"),u()()(),d(71,"p-dialog",30),h(72,"translate"),A("visibleChange",function(o){return y(r),D(i.displayUpdateraceDialog,o)||(i.displayUpdateraceDialog=o),b(o)}),d(73,"form",31,7),L("ngSubmit",function(){y(r);let o=Q(74);return b(i.updaterace(o))}),d(75,"div",32)(76,"div",33)(77,"div",34)(78,"div",35)(79,"label",41),v(80),h(81,"translate"),u(),d(82,"input",42),h(83,"translate"),A("ngModelChange",function(o){return y(r),D(i.raceToUpdate.description,o)||(i.raceToUpdate.description=o),b(o)}),u()()()()(),d(84,"div",38)(85,"button",39),h(86,"translate"),L("click",function(){return y(r),b(i.displayUpdateraceDialog=!1)}),u(),P(87,"button",40),h(88,"translate"),u()()(),d(89,"p-dialog",30),h(90,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalDialog,o)||(i.displayAddChevalDialog=o),b(o)}),d(91,"form",31,8),L("ngSubmit",function(){y(r);let o=Q(92);return b(i.addCheval(o))}),d(93,"div",32)(94,"div",33)(95,"div",43)(96,"div",35)(97,"label",44),v(98),h(99,"translate"),u(),d(100,"input",45),A("ngModelChange",function(o){return y(r),D(i.newCheval.nom,o)||(i.newCheval.nom=o),b(o)}),u()()(),d(101,"div",43)(102,"div",35)(103,"label",46),v(104),h(105,"translate"),u(),d(106,"p-dropdown",47),h(107,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.robe,o)||(i.newCheval.robe=o),b(o)}),R(108,KF,2,3,"ng-template",48),u()()(),d(109,"div",43)(110,"div",35)(111,"label",49),v(112),h(113,"translate"),u(),d(114,"p-calendar",50),A("ngModelChange",function(o){return y(r),D(i.newCheval.dateDeNaissance,o)||(i.newCheval.dateDeNaissance=o),b(o)}),u()()(),d(115,"div",43)(116,"div",35)(117,"label",51),v(118),h(119,"translate"),u(),d(120,"p-dropdown",52),h(121,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.sexe,o)||(i.newCheval.sexe=o),b(o)}),u()()(),d(122,"div",43)(123,"div",35)(124,"label",53),v(125),h(126,"translate"),u(),d(127,"p-dropdown",54),h(128,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.pereId,o)||(i.newCheval.pereId=o),b(o)}),u()()(),d(129,"div",43)(130,"div",35)(131,"label",55),v(132),h(133,"translate"),u(),d(134,"p-dropdown",56),h(135,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.mereId,o)||(i.newCheval.mereId=o),b(o)}),u()()(),d(136,"div",43)(137,"div",35)(138,"label",57),v(139),h(140,"translate"),u(),d(141,"p-dropdown",58),h(142,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.lieuId,o)||(i.newCheval.lieuId=o),b(o)}),u()()(),d(143,"div",43)(144,"div",35)(145,"label",59),v(146),h(147,"translate"),u(),d(148,"p-dropdown",60),h(149,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.raceCodeRace,o)||(i.newCheval.raceCodeRace=o),b(o)}),u()()(),d(150,"div",43)(151,"div",35)(152,"label",61),v(153),h(154,"translate"),u(),d(155,"p-dropdown",62),h(156,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.categoriesId,o)||(i.newCheval.categoriesId=o),b(o)}),u()()(),d(157,"div",43)(158,"div",35)(159,"label",63),v(160),h(161,"translate"),u(),d(162,"p-multiSelect",64),h(163,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.contactIds,o)||(i.newCheval.contactIds=o),b(o)}),u()()()()(),d(164,"div",38)(165,"button",39),h(166,"translate"),L("click",function(){return y(r),b(i.displayAddChevalDialog=!1)}),u(),P(167,"button",40),h(168,"translate"),u()()()()()}if(t&2){let r=Q(56),a=Q(74),o=Q(92);c(7),Se(" ",f(8,118,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(13,120,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(17,122,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(24,124,"Race.number_race")),c(3),x(i.totalraces),c(12),x(f(39,126,"Race.list_title")),c(2),g("ngIf",i.isAdmin),c(),g("value",i.races)("rows",5)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(190,HF))("rowsPerPageOptions",se(191,WF)),c(12),_e(se(192,P_)),g("header",f(54,128,"Race.add_race.title")),T("visible",i.displayAddRaceDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(63,130,"Race.add_race.fields.race")),c(2),T("ngModel",i.newRace.description),g("placeholder",f(65,132,"Race.add_race.placeholders.race")),c(3),g("label",f(68,134,"Race.add_race.buttons.cancel")),c(2),g("label",f(70,136,"Race.add_race.buttons.add"))("disabled",!r.valid),c(2),_e(se(193,P_)),g("header",f(72,138,"Race.edit_race.title")),T("visible",i.displayUpdateraceDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(81,140,"Race.edit_race.fields.race")),c(2),T("ngModel",i.raceToUpdate.description),g("placeholder",f(83,142,"Race.edit_race.placeholders.race")),c(3),g("label",f(86,144,"Race.edit_race.buttons.cancel")),c(2),g("label",f(88,146,"Race.edit_race.buttons.update"))("disabled",!a.valid),c(2),_e(se(194,P_)),g("header",f(90,148,"HorseComponent.AddHorseDialog.header")),T("visible",i.displayAddChevalDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(99,150,"HorseComponent.AddHorseDialog.fields.name")),c(2),T("ngModel",i.newCheval.nom),c(4),x(f(105,152,"HorseComponent.AddHorseDialog.fields.coat")),c(2),T("ngModel",i.newCheval.robe),g("options",i.robeoptions)("placeholder",f(107,154,"HorseComponent.AddHorseDialog.selectCoat")),c(6),x(f(113,156,"HorseComponent.AddHorseDialog.fields.birth_date")),c(2),T("ngModel",i.newCheval.dateDeNaissance),g("showIcon",!0),c(4),x(f(119,158,"HorseComponent.AddHorseDialog.fields.gender")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.sexe),g("options",i.translatedSexeOptions)("placeholder",f(121,160,"HorseComponent.AddHorseDialog.placeholders.select_gender"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(126,162,"HorseComponent.AddHorseDialog.fields.father")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.pereId),g("options",i.pereOptions)("placeholder",f(128,164,"HorseComponent.AddHorseDialog.placeholders.select_father"))("virtualScroll",!0)("virtualScrollItemSize",30),c(5),x(f(133,166,"HorseComponent.AddHorseDialog.fields.mother")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.mereId),g("options",i.mereOptions)("placeholder",f(135,168,"HorseComponent.AddHorseDialog.placeholders.select_mother"))("virtualScroll",!0)("virtualScrollItemSize",30),c(5),O("",f(140,170,"HorseComponent.AddHorseDialog.fields.location")," "),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.lieuId),g("options",i.lieuOptions)("placeholder",f(142,172,"HorseComponent.AddHorseDialog.placeholders.select_location"))("virtualScroll",!0)("virtualScrollItemSize",30),c(5),x(f(147,174,"HorseComponent.AddHorseDialog.fields.race_code")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.raceCodeRace),g("options",i.raceOptions)("placeholder",f(149,176,"HorseComponent.AddHorseDialog.placeholders.select_race"))("virtualScroll",!0)("virtualScrollItemSize",30),c(5),x(f(154,178,"HorseComponent.AddHorseDialog.fields.category")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.categoriesId),g("options",i.categorieOptions)("placeholder",f(156,180,"HorseComponent.AddHorseDialog.placeholders.select_category"))("virtualScroll",!0)("virtualScrollItemSize",30),c(5),x(f(161,182,"HorseComponent.AddHorseDialog.fields.contacts")),c(2),T("ngModel",i.newCheval.contactIds),g("options",i.contactOptions)("placeholder",f(163,184,"HorseComponent.AddHorseDialog.placeholders.select_contacts"))("virtualScroll",!0)("virtualScrollItemSize",30)("maxSelectedLabels",3),c(3),g("label",f(166,186,"HorseComponent.AddHorseDialog.buttons.cancel")),c(2),g("label",f(168,188,"HorseComponent.AddHorseDialog.buttons.add"))("disabled",!o.valid)}},dependencies:[pe,ge,St,Yi,$t,Ki,an,_r,Ve,Ke,tt,nt,Pe,qe,Si,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,Ri,ft,ci,mt,kt,gt,Kt,rt,ht,wt,Li,bt,Pi,Ct,Xi],styles:['[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};var XF=["dt1"],ZF=()=>["id","transporteur","dateHeureDepart","dateHeureArrivee","conditions","lieuDepartId","lieuArriveeId","numerosSIRE","date_ajout"],JF=()=>[5,10,20],L_=()=>({width:"50vw"});function eO(n,e){if(n&1){let t=W();d(0,"div",24)(1,"button",76),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalDialog())}),u(),d(3,"button",76),h(4,"translate"),L("click",function(){y(t);let r=w();return b(r.showMouvementChevauxDialog())}),u()()}n&2&&(c(),g("label",f(2,2,"HorseComponent.AddHorseDialog.header")),c(2),g("label",f(4,4,"Mouvement.add_title")))}function tO(n,e){if(n&1){let t=W();d(0,"div",77)(1,"div")(2,"button",78),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(40);return b(r.clear(a))}),u()(),d(4,"div",79)(5,"p-button",80),h(6,"translate"),L("click",function(){y(t);let r=w();return b(r.exportExcelMouvements())}),u(),d(7,"p-button",81),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.exportPdfMouvements())}),u(),d(9,"p-button",82),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.exportCSVMouvements())}),u()(),d(11,"p-iconField",83)(12,"p-inputIcon"),P(13,"i",84),u(),d(14,"input",85),h(15,"translate"),L("input",function(r){y(t);let a=w(),o=Q(40);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,5,"Mouvement.table.clear_filters")),c(3),g("label",f(6,7,"Mouvement.table.export_excel")),c(2),g("label",f(8,9,"Mouvement.table.export_pdf")),c(2),g("label",f(10,11,"Mouvement.table.export_csv")),c(5),g("placeholder",f(15,13,"Mouvement.table.search_placeholder")))}function iO(n,e){n&1&&(d(0,"tr")(1,"th",86)(2,"div",87),v(3),h(4,"translate"),P(5,"p-columnFilter",88),h(6,"translate"),u()(),d(7,"th",86)(8,"div",87),v(9),h(10,"translate"),P(11,"p-columnFilter",89),h(12,"translate"),u()(),d(13,"th",86)(14,"div",87),v(15),h(16,"translate"),P(17,"p-columnFilter",90),h(18,"translate"),u()(),d(19,"th",86)(20,"div",87),v(21),h(22,"translate"),P(23,"p-columnFilter",91),h(24,"translate"),u()(),d(25,"th",92)(26,"div",87),v(27),h(28,"translate"),P(29,"p-columnFilter",93),h(30,"translate"),u()(),d(31,"th",92)(32,"div",87),v(33),h(34,"translate"),P(35,"p-columnFilter",94),h(36,"translate"),u()(),d(37,"th",86)(38,"div",87),v(39),h(40,"translate"),P(41,"p-columnFilter",95),h(42,"translate"),u()(),d(43,"th",86)(44,"div",87),v(45),h(46,"translate"),u()(),d(47,"th",86)(48,"div",87),v(49),h(50,"translate"),u()(),d(51,"th",92)(52,"div",87),v(53),h(54,"translate"),P(55,"p-columnFilter",96),h(56,"translate"),u()(),d(57,"th",86)(58,"div",87),v(59),h(60,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,19,"Mouvement.table.headers.id")," "),c(2),g("placeholder",f(6,21,"Mouvement.table.filter_placeholder_id")),c(4),O(" ",f(10,23,"Mouvement.table.headers.transporter")," "),c(2),g("placeholder",f(12,25,"Mouvement.table.filter_placeholder_transporter")),c(4),O(" ",f(16,27,"Mouvement.table.headers.departure_date")," "),c(2),g("placeholder",f(18,29,"Mouvement.table.filter_placeholder_date")),c(4),O(" ",f(22,31,"Mouvement.table.headers.arrival_date")," "),c(2),g("placeholder",f(24,33,"Mouvement.table.filter_placeholder_date")),c(4),O(" ",f(28,35,"Mouvement.table.headers.conditions")," "),c(2),g("placeholder",f(30,37,"Mouvement.table.filter_placeholder_conditions")),c(4),O(" ",f(34,39,"Mouvement.table.headers.departure_location")," "),c(2),g("placeholder",f(36,41,"Mouvement.table.filter_placeholder_location")),c(4),O(" ",f(40,43,"Mouvement.table.headers.arrival_location")," "),c(2),g("placeholder",f(42,45,"Mouvement.table.filter_placeholder_location")),c(4),O(" ",f(46,47,"Mouvement.table.headers.sire_number")," "),c(4),O(" ",f(50,49,"Mouvement.table.headers.add_date")," "),c(4),O(" ",f(54,51,"Mouvement.table.headers.reason")," "),c(2),g("placeholder",f(56,53,"Mouvement.table.filter_placeholder_reason")),c(4),O(" ",f(60,55,"Mouvement.table.headers.actions")," "))}function nO(n,e){if(n&1){let t=W();d(0,"div")(1,"button",99),h(2,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.supprimermouvement(r))}),u(),d(3,"button",100),h(4,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.editMouvement(r))}),u()()}n&2&&(c(),g("pTooltip",f(2,2,"Mouvement.table.actions.delete")),c(2),g("pTooltip",f(4,4,"Mouvement.table.actions.edit")))}function rO(n,e){n&1&&(d(0,"div",101),v(1),h(2,"translate"),u()),n&2&&(c(),O(" ",f(2,1,"Mouvement.table.not_authorized")," "))}function aO(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u(),d(5,"td"),v(6),h(7,"date"),u(),d(8,"td"),v(9),h(10,"date"),u(),d(11,"td"),v(12),u(),d(13,"td"),v(14),u(),d(15,"td"),v(16),u(),d(17,"td"),v(18),u(),d(19,"td"),v(20),h(21,"date"),u(),d(22,"td"),v(23),u(),d(24,"td"),R(25,nO,5,6,"div",97)(26,rO,3,3,"div",98),u()()),n&2){let t=e.$implicit,i=w();c(2),x(t.id),c(2),x(t.transporteur),c(2),x(ni(7,12,t.dateHeureDepart,"dd/MM/yyyy")),c(3),x(ni(10,15,t.dateHeureArrivee,"dd/MM/yyyy")),c(3),x(t.conditions),c(2),x(t.lieuDepartId),c(2),x(t.lieuArriveeId),c(2),x(t.numerosSIRE),c(2),x(ni(21,18,t.date_ajout,"dd/MM/yyyy")),c(3),x(t.raison),c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin)}}function oO(n,e){n&1&&(d(0,"tr")(1,"td",102),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Mouvement.table.no_data")))}function sO(n,e){n&1&&(d(0,"tr")(1,"td",102),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Mouvement.table.loading_data")))}function lO(n,e){if(n&1&&(v(0),h(1,"translate")),n&2){let t=e.$implicit;O(" ",f(1,1,t.label)," ")}}function cO(n,e){if(n&1){let t=W();d(0,"form",29,8),L("ngSubmit",function(){y(t);let r=Q(1),a=w();return b(a.updateMouvement(r))}),d(2,"div",30)(3,"div",33)(4,"label",103),v(5),h(6,"translate"),u(),d(7,"p-multiSelect",104),h(8,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedMouvement.numerosSIRE,r)||(a.selectedMouvement.numerosSIRE=r),b(r)}),u()(),d(9,"div",33)(10,"label",105),v(11),h(12,"translate"),u(),d(13,"input",106),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedMouvement.raison,r)||(a.selectedMouvement.raison=r),b(r)}),u()(),d(14,"div",33)(15,"label",107),v(16),h(17,"translate"),u(),d(18,"input",108),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedMouvement.transporteur,r)||(a.selectedMouvement.transporteur=r),b(r)}),u()(),d(19,"div",33)(20,"label",109),v(21),h(22,"translate"),u(),d(23,"p-calendar",110),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedMouvement.dateHeureDepart,r)||(a.selectedMouvement.dateHeureDepart=r),b(r)}),u()(),d(24,"div",33)(25,"label",111),v(26),h(27,"translate"),u(),d(28,"p-calendar",112),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedMouvement.dateHeureArrivee,r)||(a.selectedMouvement.dateHeureArrivee=r),b(r)}),u()(),d(29,"div",33)(30,"label",113),v(31),h(32,"translate"),u(),d(33,"textarea",114),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedMouvement.conditions,r)||(a.selectedMouvement.conditions=r),b(r)}),v(34,"            "),u()(),d(35,"div",33)(36,"label",115),v(37),h(38,"translate"),u(),d(39,"p-dropdown",116),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedMouvement.lieuDepartId,r)||(a.selectedMouvement.lieuDepartId=r),b(r)}),u()(),d(40,"div",33)(41,"label",117),v(42),h(43,"translate"),u(),d(44,"p-dropdown",118),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedMouvement.lieuArriveeId,r)||(a.selectedMouvement.lieuArriveeId=r),b(r)}),u()()(),d(45,"div",55)(46,"button",56),h(47,"translate"),L("click",function(){y(t);let r=w();return b(r.displayEditMouvementDialog=!1)}),u(),P(48,"button",57),h(49,"translate"),u()()}if(n&2){let t=Q(1),i=w();c(5),x(f(6,30,"Mouvement.fields.horses")),c(2),T("ngModel",i.selectedMouvement.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(8,32,"Mouvement.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(4),x(f(12,34,"Mouvement.fields.reason")),c(2),T("ngModel",i.selectedMouvement.raison),c(3),x(f(17,36,"Mouvement.fields.carrier")),c(2),T("ngModel",i.selectedMouvement.transporteur),c(3),x(f(22,38,"Mouvement.fields.departure")),c(2),T("ngModel",i.selectedMouvement.dateHeureDepart),g("showTime",!0)("showSeconds",!0),c(3),x(f(27,40,"Mouvement.fields.arrival")),c(2),T("ngModel",i.selectedMouvement.dateHeureArrivee),g("showTime",!0)("showSeconds",!0),c(3),x(f(32,42,"Mouvement.fields.conditions")),c(2),T("ngModel",i.selectedMouvement.conditions),c(4),x(f(38,44,"Mouvement.fields.departure_location")),c(2),T("ngModel",i.selectedMouvement.lieuDepartId),g("options",i.lieuOptions),c(3),x(f(43,46,"Mouvement.fields.arrival_location")),c(2),T("ngModel",i.selectedMouvement.lieuArriveeId),g("options",i.lieuOptions),c(2),g("label",f(47,48,"Mouvement.buttons.cancel")),c(2),g("label",f(49,50,"Mouvement.buttons.save"))("disabled",!t.valid)}}var Rh=class n{constructor(e,t,i,r,a,o,s,l,p,m,_,S,C,E,I,M,F,N){this.translate=e;this.chevalService=t;this.messageService=i;this.confirmationService=r;this.lieuService=a;this.entiteService=o;this.raceService=s;this.categorieService=l;this.contactService=p;this.chevalContactService=m;this.anciennomService=_;this.chevalordonnanceService=S;this.acteService=C;this.planningService=E;this.datePipe=I;this.authService=M;this.AnalysesanitaireService=F;this.mouvementService=N;this.entiteIdlogin=this.authService.getEntiteId(),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions()}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;get exportMouvementsColumns(){return[{title:"ID",dataKey:"id"},{title:"Transporteur",dataKey:"transporteur"},{title:"Date D\xE9part",dataKey:"dateHeureDepart"},{title:"Date Arriv\xE9e",dataKey:"dateHeureArrivee"},{title:"Conditions",dataKey:"conditions"},{title:"Lieu D\xE9part",dataKey:"lieuDepartId"},{title:"Lieu Arriv\xE9e",dataKey:"lieuArriveeId"},{title:"N\xB0 SIRE",dataKey:"numerosSIRE"},{title:"Date Ajout",dataKey:"date_ajout"},{title:"Raison",dataKey:"raison"}]}exportExcelMouvements(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.filteredMouvement.map(o=>({ID:o.id,Transporteur:o.transporteur||"","Date D\xE9part":o.dateHeureDepart?new Date(o.dateHeureDepart).toLocaleString("fr-FR"):"","Date Arriv\xE9e":o.dateHeureArrivee?new Date(o.dateHeureArrivee).toLocaleString("fr-FR"):"",Conditions:o.conditions||"","Lieu D\xE9part":o.lieuDepartId||"","Lieu Arriv\xE9e":o.lieuArriveeId||"","N\xB0 SIRE":Array.isArray(o.numerosSIRE)?o.numerosSIRE.join(", "):o.numerosSIRE||"","Date Ajout":o.date_ajout?new Date(o.date_ajout).toLocaleDateString("fr-FR"):"",Raison:o.raison||""})),r={Sheets:{Mouvements:e.utils.json_to_sheet(t)},SheetNames:["Mouvements"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"mouvements")})}exportCSVMouvements(){if(!this.filteredMouvement||this.filteredMouvement.length===0){console.warn("Aucune donn\xE9e \xE0 exporter");return}try{let e=this.convertMouvementsToCSV(this.filteredMouvement);this.downloadFile(e,"mouvements.csv","text/csv;charset=utf-8;")}catch(e){console.error("Erreur lors de l'export CSV:",e)}}convertMouvementsToCSV(e){if(!e||e.length===0)return"";let i=this.exportMouvementsColumns.map(r=>r.title).join(";")+`\r
`;return e.forEach(r=>{let a=[r.id,`"${r.transporteur||""}"`,r.dateHeureDepart?new Date(r.dateHeureDepart).toLocaleString("fr-FR"):"",r.dateHeureArrivee?new Date(r.dateHeureArrivee).toLocaleString("fr-FR"):"",`"${r.conditions||""}"`,r.lieuDepartId||"",r.lieuArriveeId||"",Array.isArray(r.numerosSIRE)?r.numerosSIRE.join(", "):r.numerosSIRE||"",r.date_ajout?new Date(r.date_ajout).toLocaleDateString("fr-FR"):"",`"${r.raison||""}"`];i+=a.join(";")+`\r
`}),i}exportPdfMouvements(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des mouvements",subject:"Export PDF",author:"Votre Application",keywords:"mouvements, transport, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES MOUVEMENTS",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+40;t(i,{startY:p,head:[this.exportMouvementsColumns.map(m=>m.title)],body:this.filteredMouvement.map(m=>[m.id,m.transporteur||"",m.dateHeureDepart?new Date(m.dateHeureDepart).toLocaleString("fr-FR"):"",m.dateHeureArrivee?new Date(m.dateHeureArrivee).toLocaleString("fr-FR"):"",m.conditions||"",m.lieuDepartId||"",m.lieuArriveeId||"",Array.isArray(m.numerosSIRE)?m.numerosSIRE.join(", "):m.numerosSIRE||"",m.date_ajout?new Date(m.date_ajout).toLocaleDateString("fr-FR"):"",m.raison||""]),styles:{fontSize:8,cellPadding:3,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[51,102,153],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:30},2:{cellWidth:70},3:{cellWidth:70},9:{cellWidth:60}},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des mouvements",o,o-10)}}),i.save(`mouvements_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Erreur lors de la g\xE9n\xE9ration du PDF:",e)}})}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",o=new Blob([e],{type:r});i.saveAs(o,t+"_export_"+new Date().getTime()+a)})}chevaux=[];chevauxnotarchived=[];mouvement=[];lieux=[];entite=[];race=[];categorie=[];contact=[];filteredMouvement=[];filteredMouvementnotarchived=[];displayAddChevalDialog=!1;newCheval=new Qt;searchText="";loading=!0;sexeOptions=[{label:"M\xE2le",value:"M\xE2le"},{label:"Femelle",value:"Femelle"}];categorieOptions=[];raceOptions=[];pereOptions=[];mereOptions=[];lieuOptions=[];entiteOptions=[];contactOptions=[];chevauxOptions=[];translatedSexeOptions=[];currentLanguage="en";isAdmin=!1;robeoptions=[];updateTranslatedOptions(){this.translatedSexeOptions=[{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.male"),value:"M\xE2le"},{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.female"),value:"Femelle"}],this.robeoptions=[{value:"ALEZAN",label:this.translate.instant("HorseComponent.coats.ALEZAN")},{value:"BAI",label:this.translate.instant("HorseComponent.coats.BAI")},{value:"BAI_BRUN",label:this.translate.instant("HorseComponent.coats.BAI_BRUN")},{value:"BLANC",label:this.translate.instant("HorseComponent.coats.BLANC")},{value:"GRIS",label:this.translate.instant("HorseComponent.coats.GRIS")},{value:"NOIR",label:this.translate.instant("HorseComponent.coats.NOIR")},{value:"PIE",label:this.translate.instant("HorseComponent.coats.PIE")},{value:"ROUAN",label:this.translate.instant("HorseComponent.coats.ROUAN")},{value:"SOURIS",label:this.translate.instant("HorseComponent.coats.SOURIS")},{value:"AUBERE",label:this.translate.instant("HorseComponent.coats.AUBERE")},{value:"CREME",label:this.translate.instant("HorseComponent.coats.CREME")},{value:"ISABELLE",label:this.translate.instant("HorseComponent.coats.ISABELLE")},{value:"PALOMINO",label:this.translate.instant("HorseComponent.coats.PALOMINO")}]}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}entiteIdlogin=null;entiteLogin=null;ngOnInit(){this.loadChevaux(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadEntite(),this.loadRace(),this.loadCategorie(),this.loadContact(),this.loadMouvement(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}selectedCheval=null;totalChevaux=null;totalChevauxnotarchived=null;loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.chevaux=e.details,this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}totalMouvement=null;loadMouvement(){this.loading=!0,this.mouvementService.getAllMouvements(this.entiteIdlogin).subscribe({next:e=>{console.log("mouvement",e),this.mouvement=e.details,this.filteredMouvement=e.details,this.totalMouvement=e.details.length,console.log("Nombre total de mouvement :",this.totalMouvement),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadLieux(){this.loading=!0,this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.lieuOptions=this.lieux.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des lieux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des lieux."})}})}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}loadRace(){this.loading=!0,this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.race=e.details,console.log(e.details),this.raceOptions=this.race.map(t=>({label:t.description,value:t.codeRace})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des races",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des races."})}})}loadCategorie(){this.loading=!0,this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.categorie=e.details,this.categorieOptions=this.categorie.map(t=>({label:t.nomFr,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}loadContact(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.contact=e.details,this.contactOptions=this.contact.map(t=>({label:t.nom+" "+t.prenom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}updatePereAndMereOptions(){this.pereOptions=[{label:"---",value:""}],this.mereOptions=[{label:"---",value:""}],this.chevaux.forEach(e=>{this.pereOptions.push({label:e.nom,value:e.numeroSIRE}),this.mereOptions.push({label:e.nom,value:e.numeroSIRE})}),this.chevauxnotarchived.forEach(e=>{this.chevauxOptions.push({label:e.nom,value:e.numeroSIRE})})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}showAddChevalDialog(){this.displayAddChevalDialog=!0}generateNumeroSIRE(e,t){let i=t.getFullYear().toString().slice(-2),r=(e+1).toString(),a=7-r.length,o="0".repeat(a)+r;return i+o}generateRandomSixDigits(){return Math.floor(Math.random()*1e6).toString().padStart(6,"0")}addCheval(e){e.valid&&(console.log(this.newCheval),this.chevalService.getMaxId().subscribe({next:t=>{this.newCheval.numeroSIRE=this.generateNumeroSIRE(t.details,this.newCheval.dateDeNaissance),this.newCheval.entiteId=this.entiteIdlogin;let i=this.generateRandomSixDigits();this.newCheval.cleSIRE=this.newCheval.numeroSIRE+i,this.newCheval.pereId===""&&(this.newCheval.pereId=""),this.newCheval.mereId===""&&(this.newCheval.mereId=""),this.chevalService.addCheval(this.newCheval).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:r.message}),this.displayAddChevalDialog=!1,this.loadChevaux(),this.newCheval=new Qt},error:r=>{let a="Erreur lors de l'ajout du cheval.";r.error&&r.error.message?a=r.error.message:r.message&&(a=r.message),this.messageService.add({severity:"error",summary:"Erreur",detail:a})}})},error:t=>{let i="Erreur lors de la r\xE9cup\xE9ration de l'ID maximum.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}selectedChevaux=[];displayMouvementChevauxDialog=!1;newMouvement={id:0,transporteur:"",dateHeureDepart:new Date,dateHeureArrivee:new Date,conditions:"",lieuDepartId:0,lieuArriveeId:0,numerosSIRE:[],NomsChevaux:[],date_ajout:new Date,raison:"",entiteid:0};showMouvementChevauxDialog(){this.displayMouvementChevauxDialog=!0}addMouvement(e){e.valid&&(this.newMouvement.dateHeureDepart=new Date(this.newMouvement.dateHeureDepart),this.newMouvement.dateHeureArrivee=new Date(this.newMouvement.dateHeureArrivee),this.newMouvement.entiteid=this.entiteIdlogin,this.mouvementService.createMouvement(this.newMouvement).subscribe({next:t=>{console.log(t),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Mouvement.messages.successadd")}),this.displayMouvementChevauxDialog=!1,this.newMouvement={id:0,transporteur:"",dateHeureDepart:new Date,dateHeureArrivee:new Date,conditions:"",lieuDepartId:0,lieuArriveeId:0,numerosSIRE:[],NomsChevaux:[],date_ajout:new Date,raison:"",entiteid:0},this.loadMouvement()},error:t=>{let i=this.translate.instant("Mouvement.messages.erroradd");t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),console.error("Erreur d\xE9taill\xE9e :",t),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}displayEditMouvementDialog=!1;selectedMouvement=null;editMouvement(e){this.selectedMouvement=z({},e),typeof this.selectedMouvement.dateHeureDepart=="string"&&(this.selectedMouvement.dateHeureDepart=new Date(this.selectedMouvement.dateHeureDepart)),typeof this.selectedMouvement.dateHeureArrivee=="string"&&(this.selectedMouvement.dateHeureArrivee=new Date(this.selectedMouvement.dateHeureArrivee)),this.displayEditMouvementDialog=!0}updateMouvement(e){e.valid&&this.selectedMouvement&&(this.loading=!0,this.mouvementService.updateMouvement(this.selectedMouvement.id,this.selectedMouvement).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Mouvement.messages.successedit")}),this.displayEditMouvementDialog=!1,this.loadMouvement()},error:t=>{console.error("Erreur lors de la mise \xE0 jour:",t),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Mouvement.messages.erroredit")}),this.loading=!1}}))}supprimermouvement(e){this.confirmationService.confirm({message:this.translate.instant("Mouvement.delete_confirmation"),header:this.translate.instant("Mouvement.delete_header"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translate.instant("Mouvement.Common.yes"),rejectLabel:this.translate.instant("Mouvement.Common.no"),accept:()=>{this.mouvementService.deleteMouvement(e.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Mouvement.messages.successdelete")}),this.loadMouvement()},error:t=>{let i=this.translate.instant("Mouvement.messages.errordelete");t.error&&t.error.message&&(i=t.error.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}})},reject:()=>{this.messageService.add({severity:"info",summary:"Annul\xE9",detail:this.translate.instant("Mouvement.messages.cancel")})}})}static \u0275fac=function(t){return new(t||n)(B(Fe),B(me),B(ne),B(ce),B(Ce),B(oe),B(ke),B(be),B(Ie),B($e),B(Et),B(at),B(it),B(vt),B(he),B(ze),B(_t),B(Ni))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&Te(XF,5),t&2){let r;Z(r=J())&&(i.dt1=r.first)}},features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t,Ni])],decls:186,vars:220,consts:[["dt1",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["addChevalForm","ngForm"],["mouvementForm","ngForm"],["editMouvementForm","ngForm"],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-6"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-arrow-right-arrow-left","text-amber-500","!text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-fluid"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-6"],[1,"p-field"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",3,"ngModelChange","ngModel"],["for","robe"],["id","robe","name","robe","optionLabel","label","optionValue","value","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],["pTemplate","item"],["for","dateDeNaissance"],["id","dateDeNaissance","name","dateDeNaissance","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showIcon"],["for","sexe"],["id","sexe","filterBy","label","name","sexe","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","pereId"],["id","pereId","filterBy","label","name","pereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","mereId"],["id","mereId","filterBy","label","name","mereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","lieuId"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","raceCodeRace"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","categoriesId"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","contactIds"],["id","contactIds","required","","name","contactIds","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],[3,"visibleChange","visible","header","modal","draggable","resizable"],["for","numerosSIRE"],["id","numerosSIRE","optionLabel","label","optionValue","value","name","numerosSIRE","required","","styleClass","w-full md:w-80",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","raison"],["id","raison","type","text","pInputText","","name","raison","required","",3,"ngModelChange","ngModel"],["for","transporteur"],["id","transporteur","type","text","pInputText","","name","transporteur","required","",3,"ngModelChange","ngModel"],["for","dateHeureDepart"],["id","dateHeureDepart","name","dateHeureDepart","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showTime","showSeconds"],["for","dateHeureArrivee"],["id","dateHeureArrivee","name","dateHeureArrivee","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showTime","showSeconds"],["for","conditions"],["id","conditions","pInputTextarea","","name","conditions",3,"ngModelChange","ngModel"],["for","lieuDepartId"],["id","lieuDepartId","optionLabel","label","optionValue","value","name","lieuDepartId","required","",3,"ngModelChange","ngModel","options"],["for","lieuArriveeId"],["id","lieuArriveeId","optionLabel","label","optionValue","value","name","lieuArriveeId","required","",3,"ngModelChange","ngModel","options"],[3,"ngSubmit",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["icon","pi pi-file-pdf","styleClass","p-button-danger",3,"click","label"],["icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","12rem"],[1,"flex","justify-between","items-center"],["type","text","field","id","display","menu",3,"placeholder"],["type","text","field","transporteur","display","menu",3,"placeholder"],["type","text","field","Date Depart","display","menu",3,"placeholder"],["type","text","field","Date arrivee","display","menu",3,"placeholder"],[2,"min-width","10rem"],["type","text","field","conditions","display","menu",3,"placeholder"],["type","text","field","Lieu d\xE9part","display","menu",3,"placeholder"],["type","text","field","Lieu arrivee","display","menu",3,"placeholder"],["type","text","field","Raison","display","menu",3,"placeholder"],[4,"ngIf"],["class","text-center p-3 text-red-500 font-bold",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-warning","p-button-text","p-button-icon-only",3,"click","pTooltip"],[1,"text-center","p-3","text-red-500","font-bold"],["colspan","11"],["for","editNumerosSIRE"],["id","editNumerosSIRE","optionLabel","label","optionValue","value","name","numerosSIRE","required","","styleClass","w-full md:w-80",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","editRaison"],["id","editRaison","type","text","pInputText","","name","raison","required","",3,"ngModelChange","ngModel"],["for","editTransporteur"],["id","editTransporteur","type","text","pInputText","","name","transporteur","required","",3,"ngModelChange","ngModel"],["for","editDateHeureDepart"],["id","editDateHeureDepart","name","dateHeureDepart","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showTime","showSeconds"],["for","editDateHeureArrivee"],["id","editDateHeureArrivee","name","dateHeureArrivee","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showTime","showSeconds"],["for","editConditions"],["id","editConditions","pInputTextarea","","name","conditions",3,"ngModelChange","ngModel"],["for","editLieuDepartId"],["id","editLieuDepartId","optionLabel","label","optionValue","value","name","lieuDepartId","required","",3,"ngModelChange","ngModel","options"],["for","editLieuArriveeId"],["id","editLieuArriveeId","optionLabel","label","optionValue","value","name","lieuArriveeId","required","",3,"ngModelChange","ngModel","options"]],template:function(t,i){if(t&1){let r=W();d(0,"p-fluid")(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div")(6,"span",13),v(7),h(8,"translate"),u()(),d(9,"div",14),P(10,"i",15),u()(),d(11,"span",16),v(12),h(13,"translate"),u(),v(14," | "),d(15,"span",16),v(16),h(17,"translate"),u()()(),d(18,"div",10)(19,"div",11)(20,"div",12)(21,"div")(22,"span",13),v(23),h(24,"translate"),u(),d(25,"div",17),v(26),u()(),d(27,"div",18),P(28,"i",19),u()()()(),P(29,"div",20),d(30,"div",21),P(31,"p-toast")(32,"p-confirmDialog",22),d(33,"div",23)(34,"div",24)(35,"div",25),v(36),h(37,"translate"),u()(),R(38,eO,5,6,"div",26),d(39,"p-table",27,0),R(41,tO,16,15,"ng-template",null,1,ae)(43,iO,61,57,"ng-template",null,2,ae)(45,aO,27,21,"ng-template",null,3,ae)(47,oO,4,3,"ng-template",null,4,ae)(49,sO,4,3,"ng-template",null,5,ae),u()(),d(51,"p-dialog",28),h(52,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalDialog,o)||(i.displayAddChevalDialog=o),b(o)}),d(53,"form",29,6),L("ngSubmit",function(){y(r);let o=Q(54);return b(i.addCheval(o))}),d(55,"div",30)(56,"div",31)(57,"div",32)(58,"div",33)(59,"label",34),v(60),h(61,"translate"),u(),d(62,"input",35),A("ngModelChange",function(o){return y(r),D(i.newCheval.nom,o)||(i.newCheval.nom=o),b(o)}),u()()(),d(63,"div",32)(64,"div",33)(65,"label",36),v(66),h(67,"translate"),u(),d(68,"p-dropdown",37),h(69,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.robe,o)||(i.newCheval.robe=o),b(o)}),R(70,lO,2,3,"ng-template",38),u()()(),d(71,"div",32)(72,"div",33)(73,"label",39),v(74),h(75,"translate"),u(),d(76,"p-calendar",40),A("ngModelChange",function(o){return y(r),D(i.newCheval.dateDeNaissance,o)||(i.newCheval.dateDeNaissance=o),b(o)}),u()()(),d(77,"div",32)(78,"div",33)(79,"label",41),v(80),h(81,"translate"),u(),d(82,"p-dropdown",42),h(83,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.sexe,o)||(i.newCheval.sexe=o),b(o)}),u()()(),d(84,"div",32)(85,"div",33)(86,"label",43),v(87),h(88,"translate"),u(),d(89,"p-dropdown",44),h(90,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.pereId,o)||(i.newCheval.pereId=o),b(o)}),u()()(),d(91,"div",32)(92,"div",33)(93,"label",45),v(94),h(95,"translate"),u(),d(96,"p-dropdown",46),h(97,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.mereId,o)||(i.newCheval.mereId=o),b(o)}),u()()(),d(98,"div",32)(99,"div",33)(100,"label",47),v(101),h(102,"translate"),u(),d(103,"p-dropdown",48),h(104,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.lieuId,o)||(i.newCheval.lieuId=o),b(o)}),u()()(),d(105,"div",32)(106,"div",33)(107,"label",49),v(108),h(109,"translate"),u(),d(110,"p-dropdown",50),h(111,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.raceCodeRace,o)||(i.newCheval.raceCodeRace=o),b(o)}),u()()(),d(112,"div",32)(113,"div",33)(114,"label",51),v(115),h(116,"translate"),u(),d(117,"p-dropdown",52),h(118,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.categoriesId,o)||(i.newCheval.categoriesId=o),b(o)}),u()()(),d(119,"div",32)(120,"div",33)(121,"label",53),v(122),h(123,"translate"),u(),d(124,"p-multiSelect",54),h(125,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.contactIds,o)||(i.newCheval.contactIds=o),b(o)}),u()()()()(),d(126,"div",55)(127,"button",56),h(128,"translate"),L("click",function(){return y(r),b(i.displayAddChevalDialog=!1)}),u(),P(129,"button",57),h(130,"translate"),u()()(),d(131,"p-dialog",58),h(132,"translate"),A("visibleChange",function(o){return y(r),D(i.displayMouvementChevauxDialog,o)||(i.displayMouvementChevauxDialog=o),b(o)}),d(133,"form",29,7),L("ngSubmit",function(){y(r);let o=Q(134);return b(i.addMouvement(o))}),d(135,"div",30)(136,"div",33)(137,"label",59),v(138),h(139,"translate"),u(),d(140,"p-multiSelect",60),h(141,"translate"),A("ngModelChange",function(o){return y(r),D(i.newMouvement.numerosSIRE,o)||(i.newMouvement.numerosSIRE=o),b(o)}),u()(),d(142,"div",33)(143,"label",61),v(144),h(145,"translate"),u(),d(146,"input",62),A("ngModelChange",function(o){return y(r),D(i.newMouvement.raison,o)||(i.newMouvement.raison=o),b(o)}),u()(),d(147,"div",33)(148,"label",63),v(149),h(150,"translate"),u(),d(151,"input",64),A("ngModelChange",function(o){return y(r),D(i.newMouvement.transporteur,o)||(i.newMouvement.transporteur=o),b(o)}),u()(),d(152,"div",33)(153,"label",65),v(154),h(155,"translate"),u(),d(156,"p-calendar",66),A("ngModelChange",function(o){return y(r),D(i.newMouvement.dateHeureDepart,o)||(i.newMouvement.dateHeureDepart=o),b(o)}),u()(),d(157,"div",33)(158,"label",67),v(159),h(160,"translate"),u(),d(161,"p-calendar",68),A("ngModelChange",function(o){return y(r),D(i.newMouvement.dateHeureArrivee,o)||(i.newMouvement.dateHeureArrivee=o),b(o)}),u()(),d(162,"div",33)(163,"label",69),v(164),h(165,"translate"),u(),d(166,"textarea",70),A("ngModelChange",function(o){return y(r),D(i.newMouvement.conditions,o)||(i.newMouvement.conditions=o),b(o)}),v(167,"                    "),u()(),d(168,"div",33)(169,"label",71),v(170),h(171,"translate"),u(),d(172,"p-dropdown",72),A("ngModelChange",function(o){return y(r),D(i.newMouvement.lieuDepartId,o)||(i.newMouvement.lieuDepartId=o),b(o)}),u()(),d(173,"div",33)(174,"label",73),v(175),h(176,"translate"),u(),d(177,"p-dropdown",74),A("ngModelChange",function(o){return y(r),D(i.newMouvement.lieuArriveeId,o)||(i.newMouvement.lieuArriveeId=o),b(o)}),u()()(),d(178,"div",55)(179,"button",56),h(180,"translate"),L("click",function(){return y(r),b(i.displayMouvementChevauxDialog=!1)}),u(),P(181,"button",57),h(182,"translate"),u()()(),d(183,"p-dialog",58),h(184,"translate"),A("visibleChange",function(o){return y(r),D(i.displayEditMouvementDialog,o)||(i.displayEditMouvementDialog=o),b(o)}),R(185,cO,50,52,"form",75),u()()()()}if(t&2){let r=Q(54),a=Q(134);c(7),Se(" ",f(8,137,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(13,139,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(17,141,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(24,143,"Mouvement.number_mouvement")),c(3),x(i.totalMouvement),c(10),x(f(37,145,"Mouvement.title_mouvement")),c(2),g("ngIf",i.isAdmin),c(),g("value",i.filteredMouvement)("rows",5)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(215,ZF))("rowsPerPageOptions",se(216,JF)),c(12),_e(se(217,L_)),g("header",f(52,147,"HorseComponent.AddHorseDialog.header")),T("visible",i.displayAddChevalDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(61,149,"HorseComponent.AddHorseDialog.fields.name")),c(2),T("ngModel",i.newCheval.nom),c(4),x(f(67,151,"HorseComponent.AddHorseDialog.fields.coat")),c(2),T("ngModel",i.newCheval.robe),g("options",i.robeoptions)("placeholder",f(69,153,"HorseComponent.AddHorseDialog.selectCoat")),c(6),x(f(75,155,"HorseComponent.AddHorseDialog.fields.birth_date")),c(2),T("ngModel",i.newCheval.dateDeNaissance),g("showIcon",!0),c(4),x(f(81,157,"HorseComponent.AddHorseDialog.fields.gender")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.sexe),g("options",i.translatedSexeOptions)("placeholder",f(83,159,"HorseComponent.AddHorseDialog.placeholders.select_gender"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(88,161,"HorseComponent.AddHorseDialog.fields.father")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.pereId),g("options",i.pereOptions)("placeholder",f(90,163,"HorseComponent.AddHorseDialog.placeholders.select_father"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(95,165,"HorseComponent.AddHorseDialog.fields.mother")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.mereId),g("options",i.mereOptions)("placeholder",f(97,167,"HorseComponent.AddHorseDialog.placeholders.select_mother"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),O("",f(102,169,"HorseComponent.AddHorseDialog.fields.location")," "),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.lieuId),g("options",i.lieuOptions)("placeholder",f(104,171,"HorseComponent.AddHorseDialog.placeholders.select_location"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(109,173,"HorseComponent.AddHorseDialog.fields.race_code")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.raceCodeRace),g("options",i.raceOptions)("placeholder",f(111,175,"HorseComponent.AddHorseDialog.placeholders.select_race"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(116,177,"HorseComponent.AddHorseDialog.fields.category")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.categoriesId),g("options",i.categorieOptions)("placeholder",f(118,179,"HorseComponent.AddHorseDialog.placeholders.select_category"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(123,181,"HorseComponent.AddHorseDialog.fields.contacts")),c(2),T("ngModel",i.newCheval.contactIds),g("options",i.contactOptions)("placeholder",f(125,183,"HorseComponent.AddHorseDialog.placeholders.select_contacts"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(3),g("label",f(128,185,"HorseComponent.AddHorseDialog.buttons.cancel")),c(2),g("label",f(130,187,"HorseComponent.AddHorseDialog.buttons.add"))("disabled",!r.valid),c(2),_e(se(218,L_)),T("visible",i.displayMouvementChevauxDialog),g("header",f(132,189,"Mouvement.add_title"))("modal",!0)("draggable",!1)("resizable",!1),c(7),x(f(139,191,"Mouvement.fields.horses")),c(2),T("ngModel",i.newMouvement.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(141,193,"Mouvement.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(4),x(f(145,195,"Mouvement.fields.reason")),c(2),T("ngModel",i.newMouvement.raison),c(3),x(f(150,197,"Mouvement.fields.carrier")),c(2),T("ngModel",i.newMouvement.transporteur),c(3),x(f(155,199,"Mouvement.fields.departure")),c(2),T("ngModel",i.newMouvement.dateHeureDepart),g("showTime",!0)("showSeconds",!0),c(3),x(f(160,201,"Mouvement.fields.arrival")),c(2),T("ngModel",i.newMouvement.dateHeureArrivee),g("showTime",!0)("showSeconds",!0),c(3),x(f(165,203,"Mouvement.fields.conditions")),c(2),T("ngModel",i.newMouvement.conditions),c(4),x(f(171,205,"Mouvement.fields.departure_location")),c(2),T("ngModel",i.newMouvement.lieuDepartId),g("options",i.lieuOptions),c(3),x(f(176,207,"Mouvement.fields.arrival_location")),c(2),T("ngModel",i.newMouvement.lieuArriveeId),g("options",i.lieuOptions),c(2),g("label",f(180,209,"Mouvement.buttons.cancel")),c(2),g("label",f(182,211,"Mouvement.buttons.add"))("disabled",!a.valid),c(2),_e(se(219,L_)),T("visible",i.displayEditMouvementDialog),g("header",f(184,213,"Mouvement.edit_title"))("modal",!0)("draggable",!1)("resizable",!1),c(2),g("ngIf",i.selectedMouvement)}},dependencies:[pe,ge,he,Xt,ai,Ve,Ke,St,Yi,$t,Ki,an,_r,tt,nt,Pe,qe,Si,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,Ri,ft,ci,mt,kt,gt,Kt,rt,ht,wt,Li,bt,Pi,Ct,Xi],styles:['[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};var Vh,Je,mE,B_,vc,ll,cE,hE,fE,Fh={},gE=[],dO=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function hs(n,e){for(var t in e)n[t]=e[t];return n}function vE(n){var e=n.parentNode;e&&e.removeChild(n)}function Y(n,e,t){var i,r,a,o={};for(a in e)a=="key"?i=e[a]:a=="ref"?r=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?Vh.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(a in n.defaultProps)o[a]===void 0&&(o[a]=n.defaultProps[a]);return Bh(n,o,i,r,null)}function Bh(n,e,t,i,r){var a={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++mE};return r==null&&Je.vnode!=null&&Je.vnode(a),a}function Rr(){return{current:null}}function Ii(n){return n.children}function uO(n,e,t,i,r){var a;for(a in t)a==="children"||a==="key"||a in e||Oh(n,a,null,t[a],i);for(a in e)r&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||t[a]===e[a]||Oh(n,a,e[a],t[a],i)}function dE(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||dO.test(e)?t:t+"px"}function Oh(n,e,t,i,r){var a;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||dE(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||dE(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+a]=t,t?i||n.addEventListener(e,a?pE:uE,a):n.removeEventListener(e,a?pE:uE,a);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function uE(n){vc=!0;try{return this.l[n.type+!1](Je.event?Je.event(n):n)}finally{vc=!1}}function pE(n){vc=!0;try{return this.l[n.type+!0](Je.event?Je.event(n):n)}finally{vc=!1}}function Nn(n,e){this.props=n,this.context=e}function lu(n,e){if(e==null)return n.__?lu(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?lu(n):null}function _E(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return _E(n)}}function pO(n){vc?setTimeout(n):hE(n)}function R_(n){(!n.__d&&(n.__d=!0)&&ll.push(n)&&!Nh.__r++||cE!==Je.debounceRendering)&&((cE=Je.debounceRendering)||pO)(Nh)}function Nh(){var n,e,t,i,r,a,o,s;for(ll.sort(function(l,p){return l.__v.__b-p.__v.__b});n=ll.shift();)n.__d&&(e=ll.length,i=void 0,r=void 0,o=(a=(t=n).__v).__e,(s=t.__P)&&(i=[],(r=hs({},a)).__v=a.__v+1,F_(s,a,r,t.__n,s.ownerSVGElement!==void 0,a.__h!=null?[o]:null,i,o??lu(a),a.__h),CE(i,a),a.__e!=o&&_E(a)),ll.length>e&&ll.sort(function(l,p){return l.__v.__b-p.__v.__b}));Nh.__r=0}function yE(n,e,t,i,r,a,o,s,l,p){var m,_,S,C,E,I,M,F=i&&i.__k||gE,N=F.length;for(t.__k=[],m=0;m<e.length;m++)if((C=t.__k[m]=(C=e[m])==null||typeof C=="boolean"?null:typeof C=="string"||typeof C=="number"||typeof C=="bigint"?Bh(null,C,null,null,C):Array.isArray(C)?Bh(Ii,{children:C},null,null,null):C.__b>0?Bh(C.type,C.props,C.key,C.ref?C.ref:null,C.__v):C)!=null){if(C.__=t,C.__b=t.__b+1,(S=F[m])===null||S&&C.key==S.key&&C.type===S.type)F[m]=void 0;else for(_=0;_<N;_++){if((S=F[_])&&C.key==S.key&&C.type===S.type){F[_]=void 0;break}S=null}F_(n,C,S=S||Fh,r,a,o,s,l,p),E=C.__e,(_=C.ref)&&S.ref!=_&&(M||(M=[]),S.ref&&M.push(S.ref,null,C),M.push(_,C.__c||E,C)),E!=null?(I==null&&(I=E),typeof C.type=="function"&&C.__k===S.__k?C.__d=l=bE(C,l,n):l=wE(n,C,S,F,E,l),typeof t.type=="function"&&(t.__d=l)):l&&S.__e==l&&l.parentNode!=n&&(l=lu(S))}for(t.__e=I,m=N;m--;)F[m]!=null&&(typeof t.type=="function"&&F[m].__e!=null&&F[m].__e==t.__d&&(t.__d=SE(i).nextSibling),EE(F[m],F[m]));if(M)for(m=0;m<M.length;m++)xE(M[m],M[++m],M[++m])}function bE(n,e,t){for(var i,r=n.__k,a=0;r&&a<r.length;a++)(i=r[a])&&(i.__=n,e=typeof i.type=="function"?bE(i,e,t):wE(t,i,i,r,i.__e,e));return e}function cu(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){cu(t,e)}):e.push(n)),e}function wE(n,e,t,i,r,a){var o,s,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(t==null||r!=a||r.parentNode==null)e:if(a==null||a.parentNode!==n)n.appendChild(r),o=null;else{for(s=a,l=0;(s=s.nextSibling)&&l<i.length;l+=1)if(s==r)break e;n.insertBefore(r,a),o=a}return o!==void 0?o:r.nextSibling}function SE(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=SE(t)))return i}return null}function F_(n,e,t,i,r,a,o,s,l){var p,m,_,S,C,E,I,M,F,N,U,j,$,X,te,G=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(l=t.__h,s=e.__e=t.__e,e.__h=null,a=[s]),(p=Je.__b)&&p(e);try{e:if(typeof G=="function"){if(M=e.props,F=(p=G.contextType)&&i[p.__c],N=p?F?F.props.value:p.__:i,t.__c?I=(m=e.__c=t.__c).__=m.__E:("prototype"in G&&G.prototype.render?e.__c=m=new G(M,N):(e.__c=m=new Nn(M,N),m.constructor=G,m.render=hO),F&&F.sub(m),m.props=M,m.state||(m.state={}),m.context=N,m.__n=i,_=m.__d=!0,m.__h=[],m._sb=[]),m.__s==null&&(m.__s=m.state),G.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=hs({},m.__s)),hs(m.__s,G.getDerivedStateFromProps(M,m.__s))),S=m.props,C=m.state,m.__v=e,_)G.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(G.getDerivedStateFromProps==null&&M!==S&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(M,N),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(M,m.__s,N)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(m.props=M,m.state=m.__s,m.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(de){de&&(de.__=e)}),U=0;U<m._sb.length;U++)m.__h.push(m._sb[U]);m._sb=[],m.__h.length&&o.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(M,m.__s,N),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(S,C,E)})}if(m.context=N,m.props=M,m.__P=n,j=Je.__r,$=0,"prototype"in G&&G.prototype.render){for(m.state=m.__s,m.__d=!1,j&&j(e),p=m.render(m.props,m.state,m.context),X=0;X<m._sb.length;X++)m.__h.push(m._sb[X]);m._sb=[]}else do m.__d=!1,j&&j(e),p=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++$<25);m.state=m.__s,m.getChildContext!=null&&(i=hs(hs({},i),m.getChildContext())),_||m.getSnapshotBeforeUpdate==null||(E=m.getSnapshotBeforeUpdate(S,C)),te=p!=null&&p.type===Ii&&p.key==null?p.props.children:p,yE(n,Array.isArray(te)?te:[te],e,t,i,r,a,o,s,l),m.base=e.__e,e.__h=null,m.__h.length&&o.push(m),I&&(m.__E=m.__=null),m.__e=!1}else a==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=mO(t.__e,e,t,i,r,a,o,l);(p=Je.diffed)&&p(e)}catch(de){e.__v=null,(l||a!=null)&&(e.__e=s,e.__h=!!l,a[a.indexOf(s)]=null),Je.__e(de,e,t)}}function CE(n,e){Je.__c&&Je.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){Je.__e(i,t.__v)}})}function mO(n,e,t,i,r,a,o,s){var l,p,m,_=t.props,S=e.props,C=e.type,E=0;if(C==="svg"&&(r=!0),a!=null){for(;E<a.length;E++)if((l=a[E])&&"setAttribute"in l==!!C&&(C?l.localName===C:l.nodeType===3)){n=l,a[E]=null;break}}if(n==null){if(C===null)return document.createTextNode(S);n=r?document.createElementNS("http://www.w3.org/2000/svg",C):document.createElement(C,S.is&&S),a=null,s=!1}if(C===null)_===S||s&&n.data===S||(n.data=S);else{if(a=a&&Vh.call(n.childNodes),p=(_=t.props||Fh).dangerouslySetInnerHTML,m=S.dangerouslySetInnerHTML,!s){if(a!=null)for(_={},E=0;E<n.attributes.length;E++)_[n.attributes[E].name]=n.attributes[E].value;(m||p)&&(m&&(p&&m.__html==p.__html||m.__html===n.innerHTML)||(n.innerHTML=m&&m.__html||""))}if(uO(n,S,_,r,s),m)e.__k=[];else if(E=e.props.children,yE(n,Array.isArray(E)?E:[E],e,t,i,r&&C!=="foreignObject",a,o,a?a[0]:t.__k&&lu(t,0),s),a!=null)for(E=a.length;E--;)a[E]!=null&&vE(a[E]);s||("value"in S&&(E=S.value)!==void 0&&(E!==n.value||C==="progress"&&!E||C==="option"&&E!==_.value)&&Oh(n,"value",E,_.value,!1),"checked"in S&&(E=S.checked)!==void 0&&E!==n.checked&&Oh(n,"checked",E,_.checked,!1))}return n}function xE(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){Je.__e(i,t)}}function EE(n,e,t){var i,r;if(Je.unmount&&Je.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||xE(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){Je.__e(a,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&EE(i[r],e,t||typeof n.type!="function");t||n.__e==null||vE(n.__e),n.__=n.__e=n.__d=void 0}function hO(n,e,t){return this.constructor(n,t)}function fs(n,e,t){var i,r,a;Je.__&&Je.__(n,e),r=(i=typeof t=="function")?null:t&&t.__k||e.__k,a=[],F_(e,n=(!i&&t||e).__k=Y(Ii,null,[n]),r||Fh,Fh,e.ownerSVGElement!==void 0,!i&&t?[t]:r?null:e.firstChild?Vh.call(e.childNodes):null,a,!i&&t?t:r?r.__e:e.firstChild,i),CE(a,n)}function Hh(n,e){var t={__c:e="__cC"+fE++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,a;return this.getChildContext||(r=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.some(function(s){s.__e=!0,R_(s)})},this.sub=function(o){r.push(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){r.splice(r.indexOf(o),1),s&&s.call(o)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}Vh=gE.slice,Je={__e:function(n,e,t,i){for(var r,a,o;e=e.__;)if((r=e.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(n)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),o=r.__d),o)return r.__E=r}catch(s){n=s}throw n}},mE=0,B_=function(n){return n!=null&&n.constructor===void 0},vc=!1,Nn.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=hs({},this.state),typeof n=="function"&&(n=n(hs({},t),this.props)),n&&hs(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),R_(this))},Nn.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),R_(this))},Nn.prototype.render=Ii,ll=[],hE=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Nh.__r=0,fE=0;var gO,Ya,O_,IE;var LE=[],N_=[],TE=Je.__b,DE=Je.__r,AE=Je.diffed,ME=Je.__c,kE=Je.unmount;function vO(){for(var n;n=LE.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Wh),n.__H.__h.forEach(V_),n.__H.__h=[]}catch(e){n.__H.__h=[],Je.__e(e,n.__v)}}Je.__b=function(n){Ya=null,TE&&TE(n)},Je.__r=function(n){DE&&DE(n),gO=0;var e=(Ya=n.__c).__H;e&&(O_===Ya?(e.__h=[],Ya.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=N_,t.__N=t.i=void 0})):(e.__h.forEach(Wh),e.__h.forEach(V_),e.__h=[])),O_=Ya},Je.diffed=function(n){AE&&AE(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(LE.push(e)!==1&&IE===Je.requestAnimationFrame||((IE=Je.requestAnimationFrame)||_O)(vO)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==N_&&(t.__=t.__V),t.i=void 0,t.__V=N_})),O_=Ya=null},Je.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Wh),t.__h=t.__h.filter(function(i){return!i.__||V_(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Je.__e(i,t.__v)}}),ME&&ME(n,e)},Je.unmount=function(n){kE&&kE(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{Wh(i)}catch(r){e=r}}),t.__H=void 0,e&&Je.__e(e,t.__v))};var PE=typeof requestAnimationFrame=="function";function _O(n){var e,t=function(){clearTimeout(i),PE&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);PE&&(e=requestAnimationFrame(t))}function Wh(n){var e=Ya,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),Ya=e}function V_(n){var e=Ya;n.__c=n.__(),Ya=e}function yO(n,e){for(var t in e)n[t]=e[t];return n}function RE(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function BE(n){this.props=n}(BE.prototype=new Nn).isPureReactComponent=!0,BE.prototype.shouldComponentUpdate=function(n,e){return RE(this.props,n)||RE(this.state,e)};var FE=Je.__b;Je.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),FE&&FE(n)};var Fge=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var bO=Je.__e;Je.__e=function(n,e,t,i){if(n.then){for(var r,a=e;a=a.__;)if((r=a.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}bO(n,e,t,i)};var OE=Je.unmount;function jE(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=yO({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return jE(i,e,t)})),n}function zE(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return zE(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function H_(){this.__u=0,this.t=null,this.__b=null}function qE(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Uh(){this.u=null,this.o=null}Je.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),OE&&OE(n)},(H_.prototype=new Nn).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var r=qE(i.__v),a=!1,o=function(){a||(a=!0,t.__R=null,r?r(s):s())};t.__R=o;var s=function(){if(!--i.__u){if(i.state.__a){var p=i.state.__a;i.__v.__k[0]=zE(p,p.__c.__P,p.__c.__O)}var m;for(i.setState({__a:i.__b=null});m=i.t.pop();)m.forceUpdate()}},l=e.__h===!0;i.__u++||l||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(o,o)},H_.prototype.componentWillUnmount=function(){this.t=[]},H_.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=jE(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&Y(Ii,null,n.fallback);return r&&(r.__h=null),[Y(Ii,null,e.__a?null:n.children),r]};var NE=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function wO(n){return this.getChildContext=function(){return n.context},n.children}function SO(n){var e=this,t=n.i;e.componentWillUnmount=function(){fs(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),fs(Y(wO,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function $E(n,e){var t=Y(SO,{__v:n,i:e});return t.containerInfo=e,t}(Uh.prototype=new Nn).__a=function(n){var e=this,t=qE(e.__v),i=e.o.get(n);return i[0]++,function(r){var a=function(){e.props.revealOrder?(i.push(r),NE(e,n,i)):r()};t?t(a):a()}},Uh.prototype.render=function(n){this.u=null,this.o=new Map;var e=cu(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},Uh.prototype.componentDidUpdate=Uh.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){NE(n,t,e)})};var CO=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,xO=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,EO=typeof document<"u",IO=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};Nn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Nn.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var VE=Je.event;function TO(){}function DO(){return this.cancelBubble}function AO(){return this.defaultPrevented}Je.event=function(n){return VE&&(n=VE(n)),n.persist=TO,n.isPropagationStopped=DO,n.isDefaultPrevented=AO,n.nativeEvent=n};var MO,HE={configurable:!0,get:function(){return this.class}},WE=Je.vnode;Je.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var a in i={},t){var o=t[a];EO&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in t&&o==null||(a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&o===!0?o="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!IO(t.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():r&&xO.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),i[a]&&(a="oninputCapture")),i[a]=o)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=cu(t.children).forEach(function(s){s.props.selected=i.value.indexOf(s.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=cu(t.children).forEach(function(s){s.props.selected=i.multiple?i.defaultValue.indexOf(s.props.value)!=-1:i.defaultValue==s.props.value})),n.props=i,t.class!=t.className&&(HE.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",HE))}n.$$typeof=CO,WE&&WE(n)};var UE=Je.__r;Je.__r=function(n){UE&&UE(n),MO=n.__c};var aI=[],K_=new Map;function uf(n){aI.push(n),K_.forEach(e=>{lI(e,n)})}function oI(n){n.isConnected&&n.getRootNode&&sI(n.getRootNode())}function sI(n){let e=K_.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");let t=PO();t&&(e.nonce=t);let i=n===document?document.head:n,r=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}K_.set(n,e),kO(e)}}function kO(n){for(let e of aI)lI(n,e)}function lI(n,e){let{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((r,a)=>{r=r.trim(),r&&t.insertRule(r+"}",i+a)})}var W_;function PO(){return W_===void 0&&(W_=LO()),W_}function LO(){let n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");let e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&sI(document);var RO=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';uf(RO);var dl=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function ku(n){n.parentNode&&n.parentNode.removeChild(n)}function Cn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(d1(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function d1(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function cI(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let r=0;r<t.length;r+=1){let a=t[r].querySelectorAll(e);for(let o=0;o<a.length;o+=1)i.push(a[o])}return i}var BO=/(top|left|right|bottom|width|height)$/i;function gl(n,e){for(let t in e)u1(n,t,e[t])}function u1(n,e,t){t==null?n.style[e]="":typeof t=="number"&&BO.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function pf(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}var QE=0;function vl(){return QE+=1,"fc-dom-"+QE}function Pu(n){n.preventDefault()}function FO(n,e){return t=>{let i=Cn(t.target,n);i&&e.call(i,t,i)}}function p1(n,e,t,i){let r=FO(t,i);return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}function dI(n,e,t,i){let r;return p1(n,"mouseover",e,(a,o)=>{if(o!==r){r=o,t(a,o);let s=l=>{r=null,i(l,o),o.removeEventListener("mouseleave",s)};o.addEventListener("mouseleave",s)}})}var GE=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function m1(n,e){let t=i=>{e(i),GE.forEach(r=>{n.removeEventListener(r,t)})};GE.forEach(i=>{n.addEventListener(i,t)})}function uI(n){return Object.assign({onClick:n},pI(n))}function pI(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}var YE=0;function Fo(){return YE+=1,String(YE)}function Lu(){document.body.classList.add("fc-not-allowed")}function Ru(){document.body.classList.remove("fc-not-allowed")}function h1(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Pu)}function f1(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Pu)}function g1(n){n.addEventListener("contextmenu",Pu)}function v1(n){n.removeEventListener("contextmenu",Pu)}function mI(n){let e=[],t=[],i,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function hI(n,e,t){let i,r;for(i=0;i<t.length;i+=1)if(r=OO(n,e,t[i]),r)return r;return 0}function OO(n,e,t){return t.func?t.func(n,e):fI(n[t.field],e[t.field])*(t.order||1)}function fI(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function Gh(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function xc(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,r,a)=>i.replace("$"+a,r||""),n):t}function _1(n,e){return n-e}function Yh(n){return n%1===0}function NO(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}var VO=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Zt(n,e){return typeof n=="string"?HO(n):typeof n=="object"&&n?KE(n):typeof n=="number"?KE({[e||"milliseconds"]:n}):null}function HO(n){let e=VO.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function KE(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function WO(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function gI(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function UO(n){return _c(n)/365}function jO(n){return _c(n)/30}function _c(n){return yc(n)/864e5}function yc(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function du(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Za(n,e,t){if(n===e)return!0;let i=n.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],e[r]):n[r]===e[r]))return!1;return!0}var zO=["sun","mon","tue","wed","thu","fri","sat"];function mf(n,e){let t=vs(n);return t[2]+=e*7,Cr(t)}function xn(n,e){let t=vs(n);return t[2]+=e,Cr(t)}function Xa(n,e){let t=vs(n);return t[6]+=e,Cr(t)}function y1(n,e){return _l(n,e)/7}function _l(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function qO(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function $O(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function QO(n,e){return(e.valueOf()-n.valueOf())/1e3}function vI(n,e){let t=Ti(n),i=Ti(e);return{years:0,months:0,days:Math.round(_l(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function _I(n,e){let t=bc(n,e);return t!==null&&t%7===0?t/7:null}function bc(n,e){return _s(n)===_s(e)?Math.round(_l(n,e)):null}function Ti(n){return Cr([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function GO(n){return Cr([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function YO(n){return Cr([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function KO(n){return Cr([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function XO(n,e,t){let i=n.getUTCFullYear(),r=U_(n,i,e,t);if(r<1)return U_(n,i-1,e,t);let a=U_(n,i+1,e,t);return a>=1?Math.min(r,a):r}function U_(n,e,t,i){let r=Cr([e,0,1+ZO(e,t,i)]),a=Ti(n),o=Math.round(_l(r,a));return Math.floor(o/7)+1}function ZO(n,e,t){let i=7+e-t;return-((7+Cr([n,0,i]).getUTCDay()-e)%7)+i-1}function XE(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function ZE(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function vs(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Cr(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function b1(n){return!isNaN(n.valueOf())}function _s(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function yI(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",S1(e,!0)))),i}function Bu(n){return n.toISOString().replace(/T.*$/,"")}function w1(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function S1(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),a=Math.round(i%60);return e?`${t+Gh(r,2)}:${Gh(a,2)}`:`GMT${t}${r}${a?`:${Gh(a,2)}`:""}`}function Jt(n,e,t){let i,r;return function(...a){if(!i)r=n.apply(this,a);else if(!Za(i,a)){t&&t(r);let o=n.apply(this,a);(!e||!e(o,r))&&(r=o)}return i=a,r}}function Ec(n,e,t){let i,r;return a=>{if(!i)r=n.call(this,a);else if(!Br(i,a)){t&&t(r);let o=n.call(this,a);(!e||!e(o,r))&&(r=o)}return i=a,r}}var j_={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Zh={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},jh=/\s*([ap])\.?m\.?/i,JO=/,/g,eN=/\s+/g,tN=/\u200e/g,iN=/UTC|GMT/,X_=class{constructor(e){let t={},i={},r=9;for(let a in e)a in j_?(i[a]=e[a],j_[a]<9&&(r=Math.min(j_[a],r))):(t[a]=e[a],a in Zh&&(r=Math.min(Zh[a],r)));this.standardDateProps=t,this.extendedSettings=i,this.smallestUnitNum=r,this.buildFormattingFunc=Jt(JE)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,r){let{standardDateProps:a,extendedSettings:o}=this,s=lN(e.marker,t.marker,i.calendarSystem);if(!s)return this.format(e,i);let l=s;l>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(l=1);let p=this.format(e,i),m=this.format(t,i);if(p===m)return p;let _=cN(a,l),S=JE(_,o,i),C=S(e),E=S(t),I=dN(p,C,m,E),M=o.separator||r||i.defaultSeparator||"";return I?I.before+C+M+E+I.after:p+M+m}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function JE(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?r=>S1(r.timeZoneOffset):i===0&&e.week?r=>sN(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):nN(n,e,t)}function nN(n,e,t){n=Object.assign({},n),e=Object.assign({},e),rN(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){let a=Object.assign({},n);delete a.minute,r=new Intl.DateTimeFormat(t.locale.codes,a)}return a=>{let{marker:o}=a,s;r&&!o.getUTCMinutes()?s=r:s=i;let l=s.format(o);return aN(l,a,n,e,t)}}function rN(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function aN(n,e,t,i,r){return n=n.replace(tN,""),t.timeZoneName==="short"&&(n=oN(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":S1(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(JO,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(jh,"").trim():i.meridiem==="narrow"?n=n.replace(jh,(a,o)=>o.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(jh,(a,o)=>`${o.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(jh,a=>a.toLocaleLowerCase())),n=n.replace(eN," "),n=n.trim(),n}function oN(n,e){let t=!1;return n=n.replace(iN,()=>(t=!0,e)),t||(n+=` ${e}`),n}function sN(n,e,t,i,r){let a=[];return r==="long"?a.push(t):(r==="short"||r==="narrow")&&a.push(e),(r==="long"||r==="short")&&a.push(" "),a.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&a.reverse(),a.join("")}function lN(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:_s(n)!==_s(e)?1:0}function cN(n,e){let t={};for(let i in n)(!(i in Zh)||Zh[i]<=e)&&(t[i]=n[i]);return t}function dN(n,e,t,i){let r=0;for(;r<n.length;){let a=n.indexOf(e,r);if(a===-1)break;let o=n.substr(0,a);r=a+e.length;let s=n.substr(r),l=0;for(;l<t.length;){let p=t.indexOf(i,l);if(p===-1)break;let m=t.substr(0,p);l=p+i.length;let _=t.substr(l);if(o===m&&s===_)return{before:o,after:s}}}return null}function eI(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Jh(n,e,t,i){let r=eI(n,t.calendarSystem),a=e?eI(e,t.calendarSystem):null;return{date:r,start:r,end:a,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}var Z_=class{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,Jh(e,null,t,i))}formatRange(e,t,i,r){return i.cmdFormatter(this.cmdStr,Jh(e,t,i,r))}},J_=class{constructor(e){this.func=e}format(e,t,i){return this.func(Jh(e,null,t,i))}formatRange(e,t,i,r){return this.func(Jh(e,t,i,r))}};function hn(n){return typeof n=="object"&&n?new X_(n):typeof n=="string"?new Z_(n):typeof n=="function"?new J_(n):null}var C1={navLinkDayClick:K,navLinkWeekClick:K,duration:Zt,bootstrapFontAwesome:K,buttonIcons:K,customButtons:K,defaultAllDayEventDuration:Zt,defaultTimedEventDuration:Zt,nextDayThreshold:Zt,scrollTime:Zt,scrollTimeReset:Boolean,slotMinTime:Zt,slotMaxTime:Zt,dayPopoverFormat:hn,slotDuration:Zt,snapDuration:Zt,headerToolbar:K,footerToolbar:K,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:hn,dayHeaderClassNames:K,dayHeaderContent:K,dayHeaderDidMount:K,dayHeaderWillUnmount:K,dayCellClassNames:K,dayCellContent:K,dayCellDidMount:K,dayCellWillUnmount:K,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:K,weekNumbers:Boolean,weekNumberClassNames:K,weekNumberContent:K,weekNumberDidMount:K,weekNumberWillUnmount:K,editable:Boolean,viewClassNames:K,viewDidMount:K,viewWillUnmount:K,nowIndicator:Boolean,nowIndicatorClassNames:K,nowIndicatorContent:K,nowIndicatorDidMount:K,nowIndicatorWillUnmount:K,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:K,locale:K,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:K,eventOrder:mI,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:K,contentHeight:K,direction:String,weekNumberFormat:hn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:K,initialDate:K,now:K,eventDataTransform:K,stickyHeaderDates:K,stickyFooterScrollbar:K,viewHeight:K,defaultAllDay:Boolean,eventSourceFailure:K,eventSourceSuccess:K,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:K,eventConstraint:K,eventAllow:K,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:K,eventContent:K,eventDidMount:K,eventWillUnmount:K,selectConstraint:K,selectOverlap:K,selectAllow:K,droppable:Boolean,unselectCancel:String,slotLabelFormat:K,slotLaneClassNames:K,slotLaneContent:K,slotLaneDidMount:K,slotLaneWillUnmount:K,slotLabelClassNames:K,slotLabelContent:K,slotLabelDidMount:K,slotLabelWillUnmount:K,dayMaxEvents:K,dayMaxEventRows:K,dayMinWidth:Number,slotLabelInterval:Zt,allDayText:String,allDayClassNames:K,allDayContent:K,allDayDidMount:K,allDayWillUnmount:K,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:hn,rerenderDelay:Number,moreLinkText:K,moreLinkHint:K,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:K,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Zt,hiddenDays:K,fixedWeekCount:Boolean,validRange:K,visibleRange:K,titleFormat:K,eventInteractive:Boolean,noEventsText:String,viewHint:K,navLinkHint:K,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:K,moreLinkClassNames:K,moreLinkContent:K,moreLinkDidMount:K,moreLinkWillUnmount:K,monthStartFormat:hn,handleCustomRendering:K,customRenderingMetaMap:K,customRenderingReplaces:Boolean},ws={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},x1={datesSet:K,eventsSet:K,eventAdd:K,eventChange:K,eventRemove:K,windowResize:K,eventClick:K,eventMouseEnter:K,eventMouseLeave:K,select:K,unselect:K,loading:K,_unmount:K,_beforeprint:K,_afterprint:K,_noEventDrop:K,_noEventResize:K,_resize:K,_scrollRequest:K},E1={buttonText:K,buttonHints:K,views:K,plugins:K,initialEvents:K,events:K,eventSources:K},Ss={headerToolbar:cl,footerToolbar:cl,buttonText:cl,buttonHints:cl,buttonIcons:cl,dateIncrement:cl,plugins:zh,events:zh,eventSources:zh,resources:zh};function cl(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?Br(n,e):n===e}function zh(n,e){return Array.isArray(n)&&Array.isArray(e)?Za(n,e):n===e}var bI={type:String,component:K,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:K,usesMinMaxTime:Boolean,classNames:K,content:K,didMount:K,willUnmount:K};function hf(n){return gf(n,Ss)}function ff(n,e){let t={},i={};for(let r in e)r in n&&(t[r]=e[r](n[r]));for(let r in n)r in e||(i[r]=n[r]);return{refined:t,extra:i}}function K(n){return n}var{hasOwnProperty:ef}=Object.prototype;function gf(n,e){let t={};if(e){for(let i in e)if(e[i]===cl){let r=[];for(let a=n.length-1;a>=0;a-=1){let o=n[a][i];if(typeof o=="object"&&o)r.unshift(o);else if(o!==void 0){t[i]=o;break}}r.length&&(t[i]=gf(r))}}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let a in r)a in t||(t[a]=r[a])}return t}function Po(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function Ja(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function I1(n){let e={};for(let t of n)e[t]=!0;return e}function vf(n){let e=[];for(let t in n)e.push(n[t]);return e}function Br(n,e){if(n===e)return!0;for(let t in n)if(ef.call(n,t)&&!(t in e))return!1;for(let t in e)if(ef.call(e,t)&&n[t]!==e[t])return!1;return!0}var uN=/^on[A-Z]/;function pN(n,e){let t=e1(n,e);for(let i of t)if(!uN.test(i))return!1;return!0}function e1(n,e){let t=[];for(let i in n)ef.call(n,i)&&(i in e||t.push(i));for(let i in e)ef.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function Kh(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&mN(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function mN(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function wI(n,e=0,t,i=1){let r=[];t==null&&(t=Object.keys(n).length);for(let a=e;a<t;a+=i){let o=n[a];o!==void 0&&r.push(o)}return r}var SI={};function hN(n,e){SI[n]=e}function fN(n){return new SI[n]}var t1=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Cr(e)}markerToArray(e){return vs(e)}};hN("gregory",t1);var gN=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function CI(n){let e=gN.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(b1(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}var uu=class{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=fN(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Cr(XE(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Cr(e)),t===null||!b1(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=CI(e);if(t===null)return null;let{marker:i}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return _s(e)===_s(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return _s(e)===_s(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=_I(e,t),i!==null?{unit:"week",value:i}:(i=bc(e,t),i!==null?{unit:"day",value:i}:(i=qO(e,t),Yh(i)?{unit:"hour",value:i}:(i=$O(e,t),Yh(i)?{unit:"minute",value:i}:(i=QO(e,t),Yh(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let r;return i.years&&(r=this.diffWholeYears(e,t),r!==null)?r/UO(i):i.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/jO(i):i.days&&(r=bc(e,t),r!==null)?r/_c(i):(t.valueOf()-e.valueOf())/yc(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?Ti(e):t==="hour"?GO(e):t==="minute"?YO(e):t==="second"?KO(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):XO(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,r={}){return r.isEndExclusive&&(t=Xa(t,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),yI(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Cr(XE(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Cr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-ZE(vs(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(vs(e)):null}toDate(e,t){return this.timeZone==="local"?ZE(vs(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(vs(e))*1e3*60):new Date(e.valueOf()-(t||0))}},Lo=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}};Lo.prototype.classes={};Lo.prototype.iconClasses={};Lo.prototype.baseIconClass="";Lo.prototype.iconOverridePrefix="";function pu(n){n();let e=Je.debounceRendering,t=[];function i(r){t.push(r)}for(Je.debounceRendering=i,fs(Y(i1,{}),document.createElement("div"));t.length;)t.shift()();Je.debounceRendering=e}var i1=class extends Nn{render(){return Y("div",{})}componentDidMount(){this.setState({})}};function xI(n){let e=Hh(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=t.apply(this,arguments);if(i){let a=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&a.forEach(s=>{s.context=o.value,s.forceUpdate()})},this.sub=o=>{a.push(o);let s=o.componentWillUnmount;o.componentWillUnmount=()=>{a.splice(a.indexOf(o),1),s&&s.call(o)}}}return r},e}var tf=class{constructor(e,t,i,r){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},Oo=xI({});function EI(n,e,t,i,r,a,o,s,l,p,m,_,S,C){return{dateEnv:r,nowManager:a,options:t,pluginHooks:s,emitter:m,dispatch:l,getCurrentData:p,calendarApi:_,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:o,isRtl:t.direction==="rtl",addResizeHandler(E){m.on("_resize",E)},removeResizeHandler(E){m.off("_resize",E)},createScrollResponder(E){return new tf(E,m,Zt(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:S,unregisterInteractiveComponent:C}}var Fu=(()=>{class n extends Nn{shouldComponentUpdate(t,i){return this.debug&&console.log(e1(t,this.props),e1(i,this.state)),!Kh(this.props,t,this.propEquality)||!Kh(this.state,i,this.stateEquality)}safeSetState(t){Kh(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return n.addPropsEquality=vN,n.addStateEquality=_N,n.contextType=Oo,n})();Fu.prototype.propEquality={};Fu.prototype.stateEquality={};var qi=(()=>{class n extends Fu{}return n.contextType=Oo,n})();function vN(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function _N(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function ta(n,e){typeof n=="function"?n(e):n&&(n.current=e)}var mu=class extends qi{constructor(){super(...arguments),this.id=Fo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!n1(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ta(this.props.elRef,e)}}render(){let{props:e,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:a,renderProps:o}=e,s=T1(e,[],this.handleEl),l=!1,p,m=[],_;if(r!=null){let S=typeof r=="function"?r(o,Y):r;if(S===!0)l=!0;else{let C=S&&typeof S=="object";C&&"html"in S?s.dangerouslySetInnerHTML={__html:S.html}:C&&"domNodes"in S?m=Array.prototype.slice.call(S.domNodes):(C?B_(S):typeof S!="function")?p=S:_=S}}else l=!n1(e.generatorName,i);return l&&a&&(p=a(o)),this.queuedDomNodes=m,this.currentGeneratorMeta=_,Y(e.elTag,s,p)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;let{props:i,context:r}=this,{handleCustomRendering:a,customRenderingMetaMap:o}=r.options;if(a){let s=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:o?.[i.generatorName];s&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:s},i),{elClasses:(i.elClasses||[]).filter(yN)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!Za(e,t)){t.forEach(ku);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}};mu.addPropsEquality({elClasses:Za,elStyle:Br,elAttrs:pN,renderProps:Br});function n1(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function T1(n,e,t){let i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function yN(n){return!!n}var D1=xI(0),eo=(()=>{class n extends Nn{constructor(){super(...arguments),this.InnerContent=bN.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(ta(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:t}=this,i=wN(t.classNameGenerator,t.renderProps);if(t.children){let r=T1(t,i,this.handleEl),a=t.children(this.InnerContent,t.renderProps,r);return t.elTag?Y(t.elTag,r,a):a}else return Y(mu,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(i),renderId:this.context}))}componentDidMount(){var t,i;this.el?(i=(t=this.props).didMount)===null||i===void 0||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,i;(i=(t=this.props).willUnmount)===null||i===void 0||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return n.contextType=D1,n})();function bN(n,e){let t=n.props;return Y(mu,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function wN(n,e){let t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}var wc=class extends qi{render(){let{props:e,context:t}=this,{options:i}=t,r={view:t.viewApi};return Y(eo,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...A1(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>e.children)}};function A1(n){return[`fc-${n.type}-view`,"fc-view"]}function SN(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function tI(n,e){let t=[],{start:i}=e,r,a;for(n.sort(CN),r=0;r<n.length;r+=1)a=n[r],a.start>i&&t.push({start:i,end:a.start}),a.end>i&&(i=a.end);return i<e.end&&t.push({start:i,end:e.end}),t}function CN(n,e){return n.start.valueOf()-e.start.valueOf()}function Ro(n,e){let{start:t,end:i}=n,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(r={start:t,end:i}),r}function II(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function _f(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Ic(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function Ka(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function xN(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function TI(n){let e=Math.floor(_l(n.start,n.end))||1,t=Ti(n.start),i=xn(t,e);return{start:t,end:i}}function M1(n,e=Zt(0)){let t=null,i=null;if(n.end){i=Ti(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=yc(e)&&(i=xn(i,1))}return n.start&&(t=Ti(n.start),i&&i<=t&&(i=xn(t,1))),{start:t,end:i}}function ys(n,e,t,i){return i==="year"?Zt(t.diffWholeYears(n,e),"year"):i==="month"?Zt(t.diffWholeMonths(n,e),"month"):vI(n,e)}var ul=class{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:r}=this.props,a=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,i)}buildNext(e,t,i){let{dateEnv:r}=this.props,a=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,i)}build(e,t,i=!0){let{props:r}=this,a,o,s,l,p,m;return a=this.buildValidRange(),a=this.trimHiddenDays(a),i&&(e=xN(e,a)),o=this.buildCurrentRangeInfo(e,t),s=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,s),l=this.trimHiddenDays(l),p=l,r.showNonCurrentDates||(p=Ro(p,o.range)),p=this.adjustActiveRange(p),p=Ro(p,a),m=_f(o.range,a),Ka(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:s,activeRange:p,renderRange:l,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:m,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,r=null,a=null,o=null,s;return i.duration?(r=i.duration,a=i.durationUnit,o=this.buildRangeFromDuration(e,t,r,a)):(s=this.props.dayCount)?(a="day",o=this.buildRangeFromDayCount(e,t,s)):(o=this.buildCustomVisibleRange(e))?a=i.dateEnv.greatestWholeUnit(o.start,o.end).unit:(r=this.getFallbackDuration(),a=du(r).unit,o=this.buildRangeFromDuration(e,t,r,a)),{duration:r,unit:a,range:o}}getFallbackDuration(){return Zt({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:a}=this.props,{start:o,end:s}=e;return i&&(_c(r)<0&&(o=Ti(o),o=t.add(o,r)),_c(a)>1&&(s=Ti(s),s=xn(s,-1),s=t.add(s,a))),{start:o,end:s}}buildRangeFromDuration(e,t,i,r){let{dateEnv:a,dateAlignment:o}=this.props,s,l,p;if(!o){let{dateIncrement:_}=this.props;_&&yc(_)<yc(i)?o=du(_).unit:o=r}_c(i)<=1&&this.isHiddenDay(s)&&(s=this.skipHiddenDays(s,t),s=Ti(s));function m(){s=a.startOf(e,o),l=a.add(s,i),p={start:s,end:l}}return m(),this.trimHiddenDays(p)||(e=this.skipHiddenDays(e,t),m()),p}buildRangeFromDayCount(e,t,i){let{dateEnv:r,dateAlignment:a}=this.props,o=0,s=e,l;a&&(s=r.startOf(s,a)),s=Ti(s),s=this.skipHiddenDays(s,t),l=s;do l=xn(l,1),this.isHiddenDay(l)||(o+=1);while(o<i);return{start:s,end:l}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,r=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,a=this.refineRange(r);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?Zt(1,i):e||Zt({days:1}))}refineRange(e){if(e){let t=SN(e,this.props.dateEnv);return t&&(t=M1(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=xn(e,t);return e}};function Ou(n,e,t,i){return{instanceId:Fo(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function EN(n,e,t,i){for(let r=0;r<i.length;r+=1){let a=i[r].parse(n,t);if(a){let{allDay:o}=n;return o==null&&(o=e,o==null&&(o=a.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:a.duration,typeData:a.typeData,typeId:r}}}return null}function pl(n,e,t){let{dateEnv:i,pluginHooks:r,options:a}=t,{defs:o,instances:s}=n;s=Po(s,l=>!o[l.defId].recurringDef);for(let l in o){let p=o[l];if(p.recurringDef){let{duration:m}=p.recurringDef;m||(m=p.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let _=IN(p,m,e,i,r.recurringTypes);for(let S of _){let C=Ou(l,{start:S,end:i.add(S,m)});s[C.instanceId]=C}}}return{defs:o,instances:s}}function IN(n,e,t,i,r){let o=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(o=o.map(Ti)),o}var Xh={id:String,groupId:String,title:String,url:String,interactive:Boolean},DI={start:K,end:K,date:K,allDay:Boolean},TN=Object.assign(Object.assign(Object.assign({},Xh),DI),{extendedProps:K});function AI(n,e,t,i,r=k1(t),a,o){let{refined:s,extra:l}=yf(n,t,r),p=AN(e,t),m=EN(s,p,t.dateEnv,t.pluginHooks.recurringTypes);if(m){let S=hu(s,l,e?e.sourceId:"",m.allDay,!!m.duration,t,a);return S.recurringDef={typeId:m.typeId,typeData:m.typeData,duration:m.duration},{def:S,instance:null}}let _=DN(s,p,t,i);if(_){let S=hu(s,l,e?e.sourceId:"",_.allDay,_.hasEnd,t,a),C=Ou(S.defId,_.range,_.forcedStartTzo,_.forcedEndTzo);return o&&S.publicId&&o[S.publicId]&&(C.instanceId=o[S.publicId]),{def:S,instance:C}}return null}function yf(n,e,t=k1(e)){return ff(n,t)}function k1(n){return Object.assign(Object.assign(Object.assign({},nf),TN),n.pluginHooks.eventRefiners)}function hu(n,e,t,i,r,a,o){let s={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(o&&n.id?o[n.id]:"")||Fo(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:Tc(n,a),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(s,l(n));return Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function DN(n,e,t,i){let{allDay:r}=n,a,o=null,s=!1,l,p=null,m=n.start!=null?n.start:n.date;if(a=t.dateEnv.createMarkerMeta(m),a)o=a.marker;else if(!i)return null;return n.end!=null&&(l=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!a||a.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),r&&o&&(o=Ti(o)),l&&(p=l.marker,r&&(p=Ti(p)),o&&p<=o&&(p=null)),p?s=!0:i||(s=t.options.forceEventDuration||!1,p=t.dateEnv.add(o,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:s,range:{start:o,end:p},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function AN(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function fu(n,e,t,i,r,a){let o=pr(),s=k1(t);for(let l of n){let p=AI(l,e,t,i,s,r,a);p&&gu(p,o)}return o}function gu(n,e=pr()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Nu(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],r=wf(n,a=>MN(i,a));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return pr()}function MN(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function pr(){return{defs:{},instances:{}}}function bf(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function wf(n,e){let t=Po(n.defs,e),i=Po(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function kN(n,e){let{defs:t,instances:i}=n,r={},a={};for(let o in t)e.defs[o]||(r[o]=t[o]);for(let o in i)!e.instances[o]&&r[i[o].defId]&&(a[o]=i[o]);return{defs:r,instances:a}}function PN(n,e){return Array.isArray(n)?fu(n,null,e,!0):typeof n=="object"&&n?fu([n],null,e,!0):n!=null?String(n):null}function r1(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}var nf={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:K,overlap:K,allow:K,className:r1,classNames:r1,color:String,backgroundColor:String,borderColor:String,textColor:String},LN={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Tc(n,e){let t=PN(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function MI(n){return n.reduce(RN,LN)}function RN(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}var BN={id:String,defaultAllDay:Boolean,url:String,format:String,events:K,eventDataTransform:K,success:K,failure:K};function P1(n,e,t=L1(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:r,extra:a}=ff(i,t),o=FN(r,e);if(o)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Fo(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Tc(r,e),extendedProps:a}}return null}function L1(n){return Object.assign(Object.assign(Object.assign({},nf),BN),n.pluginHooks.eventSourceRefiners)}function FN(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let a=t[i].parseMeta(n);if(a)return{sourceDefId:i,meta:a}}return null}function kI(n,e,t,i,r){switch(e.type){case"RECEIVE_EVENTS":return ON(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return NN(n,t[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return VN(n,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return bf(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?pl(n,i.activeRange,r):n;case"REMOVE_EVENTS":return kN(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return LI(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return wf(n,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return pr();default:return n}}function ON(n,e,t,i,r,a){if(e&&t===e.latestFetchId){let o=fu(PI(r,e,a),e,a);return i&&(o=pl(o,i,a)),bf(LI(n,e.sourceId),o)}return n}function NN(n,e,t,i,r){let{defIdMap:a,instanceIdMap:o}=WN(n),s=fu(PI(t,e,r),e,r,!1,a,o);return pl(s,i,r)}function PI(n,e,t){let i=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=iI(n,r)),i&&(n=iI(n,i)),n}function iI(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let r=e(i);r?t.push(r):r==null&&t.push(i)}}return t}function VN(n,e,t,i){return t&&(e=pl(e,t,i)),bf(n,e)}function R1(n,e,t){let{defs:i}=n,r=Ja(n.instances,a=>i[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:t.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:t.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:a.forcedEndTzo}));return{defs:i,instances:r}}function LI(n,e){return wf(n,t=>t.sourceId!==e)}function HN(n,e){return{defs:n.defs,instances:Po(n.instances,t=>!e[t.instanceId])}}function WN(n){let{defs:e,instances:t}=n,i={},r={};for(let a in e){let o=e[a],{publicId:s}=o;s&&(i[s]=a)}for(let a in t){let o=t[a],s=e[o.defId],{publicId:l}=s;l&&(r[l]=a)}return{defIdMap:i,instanceIdMap:r}}var Bo=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){UN(this.handlers,e,t)}off(e,t){jN(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],r=this.options&&this.options[e],a=[].concat(r||[],i);for(let o of a)o.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};function UN(n,e,t){(n[e]||(n[e]=[])).push(t)}function jN(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}var zN={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function B1(n,e){return fu(qN(n),null,e)}function qN(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},zN),t)),e}function Sf(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},F1(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function $N(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function F1(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,rV(n,e.dateEnv)),t}function rf(n,e,t){let{dateEnv:i,options:r}=t,a=e;return n?(a=Ti(a),a=i.add(a,r.defaultAllDayEventDuration)):a=i.add(a,r.defaultTimedEventDuration),a}function Vu(n,e,t,i){let r=of(n.defs,e),a=pr();for(let o in n.defs){let s=n.defs[o];a.defs[o]=QN(s,r[o],t,i)}for(let o in n.instances){let s=n.instances[o],l=a.defs[s.defId];a.instances[o]=GN(s,l,r[s.defId],t,i)}return a}function QN(n,e,t,i){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),t.extendedProps));for(let o of i.pluginHooks.eventDefMutationAppliers)o(a,t,i);return!a.hasEnd&&i.options.forceEventDuration&&(a.hasEnd=!0),a}function GN(n,e,t,i,r){let{dateEnv:a}=r,o=i.standardProps&&i.standardProps.allDay===!0,s=i.standardProps&&i.standardProps.hasEnd===!1,l=Object.assign({},n);return o&&(l.range=TI(l.range)),i.datesDelta&&t.startEditable&&(l.range={start:a.add(l.range.start,i.datesDelta),end:a.add(l.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(l.range={start:a.add(l.range.start,i.startDelta),end:l.range.end}),i.endDelta&&t.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,i.endDelta)}),s&&(l.range={start:l.range.start,end:rf(e.allDay,l.range.start,r)}),e.allDay&&(l.range={start:Ti(l.range.start),end:Ti(l.range.end)}),l.range.end<l.range.start&&(l.range.end=rf(e.allDay,l.range.start,r)),l}var gs=class{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},Di=class n{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in DI)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=Xh[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Xh)t=Xh[e](t),this.mutate({standardProps:{[e]:t}});else if(e in nf){let i=nf[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let a=this._instance.range,o=ys(a.start,r,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,t={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let a=ys(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:r}=this._context,a={allDay:i.allDay},o=r.createMarker(e),s;if(o&&!(t!=null&&(s=r.createMarker(t),!s))&&this._instance){let l=this._instance.range;i.allDay===!0&&(l=TI(l));let p=ys(l.start,o,r,i.granularity);if(s){let m=ys(l.end,s,r,i.granularity);WO(p,m)?this.mutate({datesDelta:p,standardProps:a}):this.mutate({startDelta:p,endDelta:m,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:p,standardProps:a})}}moveStart(e){let t=Zt(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=Zt(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=Zt(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,r=hn(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:a}=r.getCurrentData(),o=Nu(a,t.instanceId);o=Vu(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let l=new n(r,i,t);this._def=o.defs[i.defId],this._instance=o.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:o}),r.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:to(o,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,t=RI(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new gs(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:a}=this,o={allDay:t.allDay};return t.title&&(o.title=t.title),r&&(o.start=r),a&&(o.end=a),t.publicId&&(o.id=t.publicId),t.groupId&&(o.groupId=t.groupId),t.url&&(o.url=t.url),i.display&&i.display!=="auto"&&(o.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?o.color=i.backgroundColor:(i.backgroundColor&&(o.backgroundColor=i.backgroundColor),i.borderColor&&(o.borderColor=i.borderColor)),i.textColor&&(o.textColor=i.textColor),i.classNames.length&&(o.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,t.extendedProps):o.extendedProps=t.extendedProps),o}toJSON(){return this.toPlainObject()}};function RI(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function to(n,e,t){let{defs:i,instances:r}=n,a=[],o=t?t.instanceId:"";for(let s in r){let l=r[s],p=i[l.defId];l.instanceId!==o&&a.push(new Di(e,p,l))}return a}function af(n,e,t,i){let r={},a={},o={},s=[],l=[],p=of(n.defs,e);for(let m in n.defs){let _=n.defs[m];p[_.defId].display==="inverse-background"&&(_.groupId?(r[_.groupId]=[],o[_.groupId]||(o[_.groupId]=_)):a[m]=[])}for(let m in n.instances){let _=n.instances[m],S=n.defs[_.defId],C=p[S.defId],E=_.range,I=!S.allDay&&i?M1(E,i):E,M=Ro(I,t);M&&(C.display==="inverse-background"?S.groupId?r[S.groupId].push(M):a[_.defId].push(M):C.display!=="none"&&(C.display==="background"?s:l).push({def:S,ui:C,instance:_,range:M,isStart:I.start&&I.start.valueOf()===M.start.valueOf(),isEnd:I.end&&I.end.valueOf()===M.end.valueOf()}))}for(let m in r){let _=r[m],S=tI(_,t);for(let C of S){let E=o[m],I=p[E.defId];s.push({def:E,ui:I,instance:null,range:C,isStart:!1,isEnd:!1})}}for(let m in a){let _=a[m],S=tI(_,t);for(let C of S)s.push({def:n.defs[m],ui:p[m],instance:null,range:C,isStart:!1,isEnd:!1})}return{bg:s,fg:l}}function nI(n,e){n.fcSeg=e}function No(n){return n.fcSeg||n.parentNode.fcSeg||null}function of(n,e){return Ja(n,t=>BI(t,e))}function BI(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),MI(t)}function O1(n,e){let t=n.map(YN);return t.sort((i,r)=>hI(i,r,e)),t.map(i=>i._seg)}function YN(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,a=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:a,duration:a-r,allDay:Number(t.allDay),_seg:n})}function KN(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:r,ui:a}=n.eventRange,o=a.startEditable;for(let s of i)o=s(o,r,a,e);return o}function XN(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function ZN(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function Cf(n,e,t,i,r,a,o){let{dateEnv:s,options:l}=t,{displayEventTime:p,displayEventEnd:m}=l,_=n.eventRange.def,S=n.eventRange.instance;p==null&&(p=i!==!1),m==null&&(m=r!==!1);let C=S.range.start,E=S.range.end,I=a||n.start||n.eventRange.range.start,M=o||n.end||n.eventRange.range.end,F=Ti(C).valueOf()===Ti(I).valueOf(),N=Ti(Xa(E,-1)).valueOf()===Ti(Xa(M,-1)).valueOf();return p&&!_.allDay&&(F||N)?(I=F?C:I,M=N?E:M,m&&_.hasEnd?s.formatRange(I,M,e,{forcedStartTzo:a?null:S.forcedStartTzo,forcedEndTzo:o?null:S.forcedEndTzo}):s.format(I,e,{forcedTzo:a?null:S.forcedStartTzo})):""}function yl(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=(t||e.start),isFuture:i.start>=(t||e.end),isToday:e&&Ka(e,i.start)}}function JN(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function N1(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function xf(n,e){let{def:t,instance:i}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:a,options:o}=e,{eventInteractive:s}=o;return s==null&&(s=t.interactive,s==null&&(s=!!a.hasHandlers("eventClick"))),s?pI(l=>{a.trigger("eventClick",{el:l.target,event:new Di(e,t,i),jsEvent:l,view:e.viewApi})}):{}}var eV={start:K,end:K,allDay:Boolean};function tV(n,e,t){let i=iV(n,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return i}function iV(n,e){let{refined:t,extra:i}=ff(n,eV),r=t.start?e.createMarkerMeta(t.start):null,a=t.end?e.createMarkerMeta(t.end):null,{allDay:o}=t;return o==null&&(o=r&&r.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:a?a.marker:null},allDay:o},i)}function V1(n,e){return II(n.range,e.range)&&n.allDay===e.allDay&&nV(n,e)}function nV(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function rV(n,e){return Object.assign(Object.assign({},FI(n.range,e,n.allDay)),{allDay:n.allDay})}function H1(n,e,t){return Object.assign(Object.assign({},FI(n,e,t)),{timeZone:e.timeZone})}function FI(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function aV(n,e,t){let i=yf({editable:!1},t),r=hu(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:BI(r,e),instance:Ou(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function W1(n,e,t){let i=!1,r=function(s){i||(i=!0,e(s))},a=function(s){i||(i=!0,t(s))},o=n(r,a);o&&typeof o.then=="function"&&o.then(r,a)}var sf=class extends Error{constructor(e,t){super(e),this.response=t}};function U1(n,e,t){n=n.toUpperCase();let i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(a=>[a,r],()=>{throw new sf("Failure parsing JSON",r)});throw new sf("Request failed",r)})}var z_;function j1(){return z_==null&&(z_=oV()),z_}function oV(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}var vu=class extends qi{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{pu(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{pu(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,r=i||t.height==="auto"||t.contentHeight==="auto",a=!r&&t.height!=null?t.height:"",o=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return j1()||o.push("fc-liquid-hack"),e.children(o,a,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}},Ta=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function OI(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Hu(n){return{[n.component.uid]:n}}var Dc={},Ac=(()=>{class n extends Nn{constructor(t,i){super(t,i),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:t,state:i}=this;return t.children(i.nowDate,i.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:t,context:i}=this,r=i.nowManager.getDateMarker(),a=i.dateEnv.startOf(r,t.unit),s=i.dateEnv.add(a,Zt(1,t.unit)).valueOf()-r.valueOf();return s=Math.min(1e3*60*60*24,s),{state:{nowDate:a,todayRange:sV(a)},waitMs:s}}setTimeout(t=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{let i=this.computeTiming();this.setState(i.state,()=>{this.setTimeout(i.waitMs)})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return n.contextType=Oo,n})();function sV(n){let e=Ti(n),t=xn(e,1);return{start:e,end:t}}var _u=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),r;t=t||"day",r=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),a,o;for(let s in t)r.push(s);for(a=0;a<r.length;a+=1)if(o=t[r[a]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=Zt(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),hn(t))}formatRange(e,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),hn(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let r=this.getCurrentData(),a=tV(i,r.dateEnv,Zt({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),Sf(a,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),$N(e,t))}addEvent(e,t){if(e instanceof Di){let o=e._def,s=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:gu({def:o,instance:s})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(t instanceof gs)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=vf(i.eventSources));else if(t!=null){let o=this.getEventSourceById(t);if(!o)return console.warn(`Could not find an event source with ID "${t}"`),null;r=o.internalEventSource}let a=AI(e,r,i,!1);if(a){let o=new Di(i,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:gu(a)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:RI(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;e=String(e);for(let a in i){let o=i[a];if(o.publicId===e){if(o.recurringDef)return new Di(t,o,null);for(let s in r){let l=r[s];if(l.defId===o.defId)return new Di(t,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return to(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let r in t)i.push(new gs(e,t[r]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new gs(t,i[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof gs)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=P1(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new gs(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=Zt(e);t&&this.trigger("_scrollRequest",{time:t})}};function z1(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function Ef(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function q1(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function $1(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function Q1(n,e){return{left:n.left-e.left,top:n.top-e.top}}var Uge=pr();function G1(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!Ka(i.activeRange,n))),isOther:!!(i&&!Ka(i.currentRange,n)),isToday:!!(e&&Ka(e,n)),isPast:!!(t?n<t:e&&n<e.start),isFuture:!!(t?n>t:e&&n>=e.end)}}function If(n,e){let t=["fc-day",`fc-day-${zO[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}var lV=hn({year:"numeric",month:"long",day:"numeric"}),cV=hn({week:"long"});function Wu(n,e,t="day",i=!0){let{dateEnv:r,options:a,calendarApi:o}=n,s=r.format(e,t==="week"?cV:lV);if(a.navLinks){let l=r.toDate(e),p=m=>{let _=t==="day"?a.navLinkDayClick:t==="week"?a.navLinkWeekClick:null;typeof _=="function"?_.call(o,r.toDate(e),m):(typeof _=="string"&&(t=_),o.zoomTo(e,t))};return Object.assign({title:xc(a.navLinkHint,[s,l],s),"data-navlink":""},i?uI(p):{onClick:p})}return{"aria-label":s}}var q_=null;function NI(){return q_===null&&(q_=dV()),q_}function dV(){let n=document.createElement("div");gl(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return ku(n),t}var $_;function VI(){return $_||($_=uV()),$_}function uV(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=HI(n);return document.body.removeChild(n),e}function HI(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function WI(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,a=parseInt(t.borderTopWidth,10)||0,o=parseInt(t.borderBottomWidth,10)||0,s=HI(n),l=s.y-i-r,p=s.x-a-o,m={borderLeft:i,borderRight:r,borderTop:a,borderBottom:o,scrollbarBottom:p,scrollbarLeft:0,scrollbarRight:0};return NI()&&t.direction==="rtl"?m.scrollbarLeft=l:m.scrollbarRight=l,e&&(m.paddingLeft=parseInt(t.paddingLeft,10)||0,m.paddingRight=parseInt(t.paddingRight,10)||0,m.paddingTop=parseInt(t.paddingTop,10)||0,m.paddingBottom=parseInt(t.paddingBottom,10)||0),m}function Y1(n,e=!1,t){let i=t?n.getBoundingClientRect():Uu(n),r=WI(n,e),a={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(a.left+=r.paddingLeft,a.right-=r.paddingRight,a.top+=r.paddingTop,a.bottom-=r.paddingBottom),a}function Uu(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function pV(n){let e=Tf(n),t=n.getBoundingClientRect();for(let i of e){let r=Ef(t,i.getBoundingClientRect());if(r)t=r;else return null}return t}function Tf(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}var bs=class{constructor(e,t,i,r){this.els=t;let a=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(a.left),r&&this.buildElVerticals(a.top)}buildElHorizontals(e){let t=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.left-e),i.push(a.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.top-e),i.push(a.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,r=t.length,a;for(a=0;a<r;a+=1)if(e>=t[a]&&e<i[a])return a}topToIndex(e){let{tops:t,bottoms:i}=this,r=t.length,a;for(a=0;a<r;a+=1)if(e>=t[a]&&e<i[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return qh(this.tops||[],e.tops||[])&&qh(this.bottoms||[],e.bottoms||[])&&qh(this.lefts||[],e.lefts||[])&&qh(this.rights||[],e.rights||[])}};function qh(n,e){let t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}var ml=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},yu=class extends ml{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},bu=class extends ml{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},Da=class extends qi{constructor(){super(...arguments),this.uid=Fo()}prepareHits(){}queryHit(e,t,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Cn(e,".fc-event-mirror")}isValidDateDownEl(e){return!Cn(e,".fc-event:not(.fc-bg-event)")&&!Cn(e,".fc-more-link")&&!Cn(e,"a[data-navlink]")&&!Cn(e,".fc-popover")}};var wu=class{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){let r=Object.assign(Object.assign({},t),{span:Df(t.span,e.touchingEntry.span)});i.push(r),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let r=e.span,a=t.span;r.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:a.start}},i),r.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:r.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:r}=this;t.lateral===-1?(Q_(r,t.level,t.levelCoord),Q_(i,t.level,[e])):Q_(i[t.level],t.lateral,e),this.stackCnts[hl(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:r,stackCnts:a}=this,o=t.length,s=0,l=-1,p=-1,m=null,_=0;for(let E=0;E<o;E+=1){let I=t[E];if(!r&&I>=s+this.getEntryThickness(e))break;let M=i[E],F,N=o1(M,e.span.start,a1),U=N[0]+N[1];for(;(F=M[U])&&F.span.start<e.span.end;){let j=I+this.getEntryThickness(F);j>s&&(s=j,m=F,l=E,p=U),j===s&&(_=Math.max(_,a[hl(F)]+1)),U+=1}}let S=0;if(m)for(S=l+1;S<o&&t[S]<s;)S+=1;let C=-1;return S<o&&t[S]===s&&(C=o1(i[S],e.span.end,a1)[0]),{touchingLevel:l,touchingLateral:p,touchingEntry:m,stackCnt:_,levelCoord:s,level:S,lateral:C}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,r=[];for(let a=0;a<i;a+=1){let o=e[a],s=t[a];for(let l of o)r.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:s}))}return r}};function a1(n){return n.span.end}function hl(n){return n.index+":"+n.span.start}function Df(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function Q_(n,e,t){n.splice(e,0,t)}function o1(n,e,t){let i=0,r=n.length;if(!r||e<t(n[i]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;i<r;){let a=Math.floor(i+(r-i)/2),o=t(n[a]);if(e<o)r=a;else if(e>o)i=a+1;else return[a,1]}return[i,0]}var Su=class{constructor(e,t){this.emitter=new Bo}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}},ju={};function UI(n,e){return!n||e>10?hn({weekday:"short"}):e>1?hn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):hn({weekday:"long"})}var jI="fc-col-header-cell";function zI(n){return n.text}var lf=class extends qi{render(){let{dateEnv:e,options:t,theme:i,viewApi:r}=this.context,{props:a}=this,{date:o,dateProfile:s}=a,l=G1(o,a.todayRange,null,s),p=[jI].concat(If(l,i)),m=e.format(o,a.dayHeaderFormat),_=!l.isDisabled&&a.colCnt>1?Wu(this.context,o):{},S=e.toDate(o);e.namedTimeZoneImpl&&(S=Xa(S,36e5));let C=Object.assign(Object.assign(Object.assign({date:S,view:r},a.extraRenderProps),{text:m}),l);return Y(eo,{elTag:"th",elClasses:p,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:Bu(o)},a.extraDataAttrs),renderProps:C,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:zI,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},E=>Y("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&Y(E,{elTag:"a",elAttrs:_,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}},mV=hn({weekday:"long"}),cf=class extends qi{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:r,options:a}=this.context,o=xn(new Date(2592e5),e.dow),s={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(o,e.dayHeaderFormat),p=Object.assign(Object.assign(Object.assign(Object.assign({date:o},s),{view:r}),e.extraRenderProps),{text:l});return Y(eo,{elTag:"th",elClasses:[jI,...If(s,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:zI,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},m=>Y("div",{className:"fc-scrollgrid-sync-inner"},Y(m,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(o,mV)}})))}},Cu=class extends qi{constructor(){super(...arguments),this.createDayHeaderFormatter=Jt(hV)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:r,renderIntro:a}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return Y(Ac,{unit:"day"},(s,l)=>Y("tr",{role:"row"},a&&a("day"),t.map(p=>r?Y(lf,{key:p.toISOString(),date:p,dateProfile:i,todayRange:l,colCnt:t.length,dayHeaderFormat:o}):Y(cf,{key:p.getUTCDay(),dow:p.getUTCDay(),dayHeaderFormat:o}))))}};function hV(n,e,t){return n||UI(e,t)}var xu=class{constructor(e,t){let i=e.start,{end:r}=e,a=[],o=[],s=-1;for(;i<r;)t.isHiddenDay(i)?a.push(s+.5):(s+=1,a.push(s),o.push(i)),i=xn(i,1);this.dates=o,this.indices=a,this.cnt=o.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(xn(e.end,-1)),r=Math.max(0,t),a=Math.min(this.cnt-1,i);return r=Math.ceil(r),a=Math.floor(a),r<=a?{firstIndex:r,lastIndex:a,isStart:t===r,isEnd:i===a}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(_l(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}},Eu=class{constructor(e,t){let{dates:i}=e,r,a,o;if(t){for(a=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==a;r+=1);o=Math.ceil(i.length/r)}else o=1,r=i.length;this.rowCnt=o,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:a,lastIndex:o}=i,s=a;for(;s<=o;){let l=Math.floor(s/t),p=Math.min((l+1)*t,o+1);r.push({row:l,firstCol:s%t,lastCol:(p-1)%t,isStart:i.isStart&&s===a,isEnd:i.isEnd&&p-1===o}),s=p}}return r}},Iu=class{constructor(){this.sliceBusinessHours=Jt(this._sliceBusinessHours),this.sliceDateSelection=Jt(this._sliceDateSpan),this.sliceEventStore=Jt(this._sliceEventStore),this.sliceEventDrag=Jt(this._sliceInteraction),this.sliceEventResize=Jt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,r,...a){let{eventUiBases:o}=e,s=this.sliceEventStore(e.eventStore,o,t,i,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,o,r,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,r,...a),fgEventSegs:s.fg,bgEventSegs:s.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,t,i,...a),eventResize:this.sliceEventResize(e.eventResize,o,t,i,...a),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,r,...a){return this._sliceDateSpan({range:{start:e,end:Xa(e,1)},allDay:!1},t,i,{},r,...a)}_sliceBusinessHours(e,t,i,r,...a){return e?this._sliceEventStore(pl(e,$h(t,!!i),r),{},t,i,...a).bg:[]}_sliceEventStore(e,t,i,r,...a){if(e){let o=af(e,t,$h(i,!!r),r);return{bg:this.sliceEventRanges(o.bg,a),fg:this.sliceEventRanges(o.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,r,...a){if(!e)return null;let o=af(e.mutatedEvents,t,$h(i,!!r),r);return{segs:this.sliceEventRanges(o.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,r,a,...o){if(!e)return[];let s=$h(t,!!i),l=Ro(e.range,s);if(l){e=Object.assign(Object.assign({},e),{range:l});let p=aV(e,r,a),m=this.sliceRange(e.range,...o);for(let _ of m)_.eventRange=p;return m}return[]}sliceEventRanges(e,t){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:xn(i.start,1)});let r=this.sliceRange(i,...t);for(let a of r)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return r}};function $h(n,e){let t=n.activeRange;return e?t:{start:Xa(t.start,n.slotMinTime.milliseconds),end:Xa(t.end,n.slotMaxTime.milliseconds-864e5)}}function Af(n,e,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!Ic(e.validRange,i[r].range))return!1;return qI({eventDrag:n},t)}function K1(n,e,t){return Ic(e.validRange,n.range)?qI({dateSelection:n},t):!1}function qI(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||$I)(i,e)}function $I(n,e,t={},i){return!(n.eventDrag&&!fV(n,e,t,i)||n.dateSelection&&!gV(n,e,t,i))}function fV(n,e,t,i){let r=e.getCurrentData(),a=n.eventDrag,o=a.mutatedEvents,s=o.defs,l=o.instances,p=of(s,a.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(p=Ja(p,i));let m=HN(n.eventStore,a.affectedEvents.instances),_=m.defs,S=m.instances,C=of(_,n.eventUiBases);for(let E in l){let I=l[E],M=I.range,F=p[I.defId],N=s[I.defId];if(!QI(F.constraints,M,m,n.businessHours,e))return!1;let{eventOverlap:U}=e.options,j=typeof U=="function"?U:null;for(let X in S){let te=S[X];if(_f(M,te.range)&&(C[te.defId].overlap===!1&&a.isEvent||F.overlap===!1||j&&!j(new Di(e,_[te.defId],te),new Di(e,N,I))))return!1}let $=r.eventStore;for(let X of F.allows){let te=Object.assign(Object.assign({},t),{range:I.range,allDay:N.allDay}),G=$.defs[N.defId],de=$.instances[E],Qe;if(G?Qe=new Di(e,G,de):Qe=new Di(e,N),!X(F1(te,e),Qe))return!1}}return!0}function gV(n,e,t,i){let r=n.eventStore,a=r.defs,o=r.instances,s=n.dateSelection,l=s.range,{selectionConfig:p}=e.getCurrentData();if(i&&(p=i(p)),!QI(p.constraints,l,r,n.businessHours,e))return!1;let{selectOverlap:m}=e.options,_=typeof m=="function"?m:null;for(let S in o){let C=o[S];if(_f(l,C.range)&&(p.overlap===!1||_&&!_(new Di(e,a[C.defId],C),null)))return!1}for(let S of p.allows){let C=Object.assign(Object.assign({},t),s);if(!S(F1(C,e),null))return!1}return!0}function QI(n,e,t,i,r){for(let a of n)if(!_V(vV(a,e,t,i,r),e))return!1;return!0}function vV(n,e,t,i,r){return n==="businessHours"?G_(pl(i,e,r)):typeof n=="string"?G_(wf(t,a=>a.groupId===n)):typeof n=="object"&&n?G_(pl(n,e,r)):[]}function G_(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function _V(n,e){for(let t of n)if(Ic(t,e))return!0;return!1}var Qh=/^(visible|hidden)$/,df=class extends qi{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ta(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,r=t&&i,a=["fc-scroller"];return t&&(i?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),Y("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Qh.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Qh.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Qh.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Qh.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},Aa=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:r,currentMap:a}=this,o=!1,s=!1;t!==null?(o=i in a,a[i]=t,r[i]=(r[i]||0)+1,s=!0):(r[i]-=1,r[i]||(delete a[i],delete this.callbackMap[i],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(i)),s&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return wI(this.currentMap,e,t,i)}getAll(){return vf(this.currentMap)}};function GI(n){let e=cI(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,NO(i));return Math.ceil(t)}function X1(n,e){return n.liquid&&e.liquid}function YI(n,e){return e.maxHeight!=null||X1(n,e)}function KI(n,e,t,i){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):Y("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,Y(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function XI(n,e){return Za(n,e,Br)}function ZI(n,e){let t=[];for(let i of n){let r=i.span||1;for(let a=0;a<r;a+=1)t.push(Y("col",{style:{width:i.width==="shrink"?JI(e):i.width||"",minWidth:i.minWidth||""}}))}return Y("colgroup",{},...t)}function JI(n){return n??4}function e3(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function t3(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function i3(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Z1(n){return Y("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function Mf(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function J1(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}var Sc=class extends qi{constructor(){super(...arguments),this.processCols=Jt(e=>e,XI),this.renderMicroColGroup=Jt(ZI),this.scrollerRefs=new Aa,this.scrollerElRefs=new Aa(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,r=e.sections||[],a=this.processCols(e.cols),o=this.renderMicroColGroup(a,t.shrinkWidth),s=t3(e.liquid,i);e.collapsibleWidth&&s.push("fc-scrollgrid-collapsible");let l=r.length,p=0,m,_=[],S=[],C=[];for(;p<l&&(m=r[p]).type==="header";)_.push(this.renderSection(m,o,!0)),p+=1;for(;p<l&&(m=r[p]).type==="body";)S.push(this.renderSection(m,o,!1)),p+=1;for(;p<l&&(m=r[p]).type==="footer";)C.push(this.renderSection(m,o,!0)),p+=1;let E=!j1(),I={role:"rowgroup"};return Y("table",{role:"grid",className:s.join(" "),style:{height:e.height}},!!(!E&&_.length)&&Y("thead",I,..._),!!(!E&&S.length)&&Y("tbody",I,...S),!!(!E&&C.length)&&Y("tfoot",I,...C),E&&Y("tbody",I,..._,...S,...C))}renderSection(e,t,i){return"outerContent"in e?Y(Ii,{key:e.key},e.outerContent):Y("tr",{key:e.key,role:"presentation",className:i3(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,r){if("outerContent"in i)return i.outerContent;let{props:a}=this,{forceYScrollbars:o,scrollerClientWidths:s,scrollerClientHeights:l}=this.state,p=YI(a,e),m=X1(a,e),_=a.liquid?o?"scroll":p?"auto":"hidden":"visible",S=e.key,C=KI(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&s[S]!==void 0?s[S]:null,clientHeight:l[S]!==void 0?l[S]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return Y(r?"th":"td",{ref:i.elRef,role:"presentation"},Y("div",{className:`fc-scroller-harness${m?" fc-scroller-harness-liquid":""}`},Y(df,{ref:this.scrollerRefs.createRef(S),elRef:this.scrollerElRefs.createRef(S),overflowY:_,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:m,liquidIsAbsolute:!0},C)))}_handleScrollerEl(e,t){let i=yV(this.props.sections,t);i&&ta(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return e3(this.props.cols)?GI(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=VI(),{scrollerRefs:t,scrollerElRefs:i}=this,r=!1,a={},o={};for(let s in t.currentMap){let l=t.currentMap[s];if(l&&l.needsYScrolling()){r=!0;break}}for(let s of this.props.sections){let l=s.key,p=i.currentMap[l];if(p){let m=p.parentNode;a[l]=Math.floor(m.getBoundingClientRect().width-(r?e.y:0)),o[l]=Math.floor(m.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:a,scrollerClientHeights:o}}};Sc.addStateEquality({scrollerClientWidths:Br,scrollerClientHeights:Br});function yV(n,e){for(let t of n)if(t.key===e)return t;return null}var fl=class extends qi{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&nI(e,this.props.seg)}}render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{eventRange:a}=r,{ui:o}=a,s={event:new Di(t,a.def,a.instance),view:t.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&KN(r,t),isStartResizable:!e.disableResizing&&XN(r,t),isEndResizable:!e.disableResizing&&ZN(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return Y(eo,Object.assign({},e,{elRef:this.handleEl,elClasses:[...JN(s),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:s,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&nI(this.el,this.props.seg)}},Tu=class extends qi{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{ui:a}=r.eventRange,o=i.eventTimeFormat||e.defaultTimeFormat,s=Cf(r,o,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return Y(fl,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:xf(r,t),defaultGenerator:bV,timeText:s}),(l,p)=>Y(Ii,null,Y(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:p.textColor}}),!!p.isStartResizable&&Y("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!p.isEndResizable&&Y("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};function bV(n){return Y("div",{className:"fc-event-main-frame"},n.timeText&&Y("div",{className:"fc-event-time"},n.timeText),Y("div",{className:"fc-event-title-container"},Y("div",{className:"fc-event-title fc-sticky"},n.event.title||Y(Ii,null,"\xA0"))))}var wV=hn({day:"numeric"}),Cc=class extends qi{constructor(){super(...arguments),this.refineRenderProps=Ec(SV)}render(){let{props:e,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return Y(eo,Object.assign({},e,{elClasses:[...If(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Bu(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}};function kf(n){return!!(n.dayCellContent||n1("dayCellContent",n))}function SV(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:r}=n,a=G1(e,n.todayRange,null,i),o=n.showDayNumber?t.format(e,r?n.monthStartFormat:wV):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},a),{isMonthStart:r,dayNumberText:o}),n.extraRenderProps)}var Du=class extends qi{render(){let{props:e}=this,{seg:t}=e;return Y(fl,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:CV,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};function CV(n){let{title:e}=n.event;return e&&Y("div",{className:"fc-event-title"},n.event.title)}function ey(n){return Y("div",{className:`fc-${n}`})}var ty=n=>Y(Oo.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:r}=n,a=i.weekNumberFormat||n.defaultFormat,o=t.computeWeekNumber(r),s=t.format(r,a);return Y(eo,Object.assign({},n,{renderProps:{num:o,text:s,date:r},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:xV,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function xV(n){return n.text}var Y_=10,s1=class extends qi{constructor(){super(...arguments),this.state={titleId:vl()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ta(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let t=pf(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:r}=this,a=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return $E(Y("div",Object.assign({},i.extraAttrs,{id:i.id,className:a.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),Y("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},Y("span",{className:"fc-popover-title",id:r.titleId},i.title),Y("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),Y("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:r}=this,a=pV(t);if(a){let o=r.getBoundingClientRect(),s=i?Cn(t,".fc-scrollgrid").getBoundingClientRect().top:a.top,l=e?a.right-o.width:a.left;s=Math.max(s,Y_),l=Math.min(l,document.documentElement.clientWidth-Y_-o.width),l=Math.max(l,Y_);let p=r.offsetParent.getBoundingClientRect();gl(r,{top:s-p.top,left:l-p.left})}}},l1=class extends Da{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:a,dateProfile:o}=i,s=t.format(r,e.dayPopoverFormat);return Y(Cc,{elRef:this.handleRootEl,date:r,dateProfile:o,todayRange:a},(l,p,m)=>Y(s1,{elRef:m.ref,id:i.id,title:s,extraClassNames:["fc-more-popover"].concat(m.className||[]),extraAttrs:m,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},kf(e)&&Y(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,r){let{rootEl:a,props:o}=this;return e>=0&&e<i&&t>=0&&t<r?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}},Au=class extends qi{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:vl()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ta(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:r}=i.options,a=rI(t).start;function o(s){let{def:l,instance:p,range:m}=s.eventRange;return{event:new Di(i,l,p),start:i.dateEnv.toDate(m.start),end:i.dateEnv.toDate(m.end),isStart:s.isStart,isEnd:s.isEnd}}typeof r=="function"&&(r=r({date:a,allDay:!!t.allDayDate,allSegs:t.allSegs.map(o),hiddenSegs:t.hiddenSegs.map(o),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(a,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return Y(Oo.Consumer,null,i=>{let{viewApi:r,options:a,calendarApi:o}=i,{moreLinkText:s}=a,{moreCnt:l}=e,p=rI(e),m=typeof s=="function"?s.call(o,l):`+${l} ${s}`,_=xc(a.moreLinkHint,[l],m),S={num:l,shortText:`+${l}`,text:m,view:r};return Y(Ii,null,!!e.moreCnt&&Y(eo,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),uI(this.handleClick)),{title:_,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:S,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||EV,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),t.isPopoverOpen&&Y(l1,{id:t.popoverId,startDate:p.start,endDate:p.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Cn(this.linkEl,".fc-view-harness"))}};function EV(n){return n.text}function rI(n){if(n.allDayDate)return{start:n.allDayDate,end:xn(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:n3(e),end:TV(e)}}function n3(n){return n.reduce(IV).eventRange.range.start}function IV(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function TV(n){return n.reduce(DV).eventRange.range.end}function DV(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}var c1=class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}},Mu=class extends c1{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:t}=this,i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}};var AV=[],d3={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},u3=Object.assign(Object.assign({},d3),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function MV(n){let e=n.length>0?n[0].code:"en",t=AV.concat(n),i={en:u3};for(let r of t)i[r.code]=r;return{map:i,defaultCode:e}}function p3(n,e){return typeof n=="object"&&!Array.isArray(n)?m3(n.code,[n.code],n):kV(n,e)}function kV(n,e){let t=[].concat(n||[]),i=PV(t,e)||u3;return m3(n,t,i)}function PV(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let a=i.slice(0,r).join("-");if(e[a])return e[a]}}return null}function m3(n,e,t){let i=gf([d3,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function no(n){return{id:Fo(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function LV(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(a){for(let o of a){let s=o.name,l=t[s];l===void 0?(t[s]=o.id,r(o.deps),i=BV(i,o)):l!==o.id&&console.warn(`Duplicate plugin '${s}'`)}}return n&&r(n),r(e),i}function RV(){let n=[],e=[],t;return(i,r)=>((!t||!Za(i,n)||!Za(r,e))&&(t=LV(i,r)),n=i,e=r,t)}function BV(n,e){return{premiumReleaseDate:FV(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function FV(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}var io=class extends Lo{};io.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};io.prototype.baseIconClass="fc-icon";io.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};io.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};io.prototype.iconOverrideOption="buttonIcons";io.prototype.iconOverrideCustomButtonOption="icon";io.prototype.iconOverridePrefix="fc-icon-";function OV(n,e){let t={},i;for(i in n)ny(i,t,n,e);for(i in e)ny(i,t,n,e);return t}function ny(n,e,t,i){if(e[n])return e[n];let r=NV(n,e,t,i);return r&&(e[n]=r),r}function NV(n,e,t,i){let r=t[n],a=i[n],o=m=>r&&r[m]!==null?r[m]:a&&a[m]!==null?a[m]:null,s=o("component"),l=o("superType"),p=null;if(l){if(l===n)throw new Error("Can't have a custom view type that references itself");p=ny(l,e,t,i)}return!s&&p&&(s=p.component),s?{type:n,component:s,defaults:Object.assign(Object.assign({},p?p.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},p?p.overrides:{}),a?a.rawOptions:{})}:null}function r3(n){return Ja(n,VV)}function VV(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=a3(e):t&&!(t.prototype instanceof qi)&&(t=a3(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function a3(n){return e=>Y(Oo.Consumer,null,t=>Y(eo,{elTag:"div",elClasses:A1(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function HV(n,e,t,i){let r=r3(n),a=r3(e.views),o=OV(r,a);return Ja(o,s=>WV(s,a,e,t,i))}function WV(n,e,t,i,r){let a=n.overrides.duration||n.defaults.duration||i.duration||t.duration,o=null,s="",l="",p={};if(a&&(o=UV(a),o)){let S=du(o);s=S.unit,S.value===1&&(l=s,p=e[s]?e[s].rawOptions:{})}let m=S=>{let C=S.buttonText||{},E=n.defaults.buttonTextKey;return E!=null&&C[E]!=null?C[E]:C[n.type]!=null?C[n.type]:C[l]!=null?C[l]:null},_=S=>{let C=S.buttonHints||{},E=n.defaults.buttonTextKey;return E!=null&&C[E]!=null?C[E]:C[n.type]!=null?C[n.type]:C[l]!=null?C[l]:null};return{type:n.type,component:n.component,duration:o,durationUnit:s,singleUnit:l,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},p),n.overrides),buttonTextOverride:m(i)||m(t)||n.overrides.buttonText,buttonTextDefault:m(r)||n.defaults.buttonText||m(ws)||n.type,buttonTitleOverride:_(i)||_(t)||n.overrides.buttonHint,buttonTitleDefault:_(r)||n.defaults.buttonHint||_(ws)}}var o3={};function UV(n){let e=JSON.stringify(n),t=o3[e];return t===void 0&&(t=Zt(n),o3[e]=t),t}function jV(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function zV(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function qV(n,e,t){let i=n.initialDate;return i!=null?e.createMarker(i):t.getDateMarker()}function $V(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function QV(n,e,t,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r;break}return n}function GV(n,e,t){let i=e?e.activeRange:null;return f3({},tH(n,t),i,t)}function YV(n,e,t,i){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return f3(n,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return XV(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?g3(n,r,i):n;case"FETCH_EVENT_SOURCES":return py(n,e.sourceIds?I1(e.sourceIds):v3(n,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return eH(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function KV(n,e,t){let i=e?e.activeRange:null;return py(n,v3(n,t),i,!0,t)}function h3(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function f3(n,e,t,i){let r={};for(let a of e)r[a.sourceId]=a;return t&&(r=g3(r,t,i)),Object.assign(Object.assign({},n),r)}function XV(n,e){return Po(n,t=>t.sourceId!==e)}function g3(n,e,t){return py(n,Po(n,i=>ZV(i,e,t)),e,!1,t)}function ZV(n,e,t){return _3(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function py(n,e,t,i,r){let a={};for(let o in n){let s=n[o];e[o]?a[o]=JV(s,t,i,r):a[o]=s}return a}function JV(n,e,t,i){let{options:r,calendarApi:a}=i,o=i.pluginHooks.eventSourceDefs[n.sourceDefId],s=Fo();return o.fetch({eventSource:n,range:e,isRefetch:t,context:i},l=>{let{rawEvents:p}=l;r.eventSourceSuccess&&(p=r.eventSourceSuccess.call(a,p,l.response)||p),n.success&&(p=n.success.call(a,p,l.response)||p),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:s,fetchRange:e,rawEvents:p})},l=>{let p=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(a,l),p=!0),n.failure&&(n.failure(l),p=!0),p||console.warn(l.message,l),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:s,fetchRange:e,error:l})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:s})}function eH(n,e,t,i){let r=n[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}function v3(n,e){return Po(n,t=>_3(t,e))}function tH(n,e){let t=L1(e),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let a of i){let o=P1(a,e,t);o&&r.push(o)}return r}function _3(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function iH(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function nH(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function rH(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function aH(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function oH(n,e,t,i,r){let a=n.headerToolbar?s3(n.headerToolbar,n,e,t,i,r):null,o=n.footerToolbar?s3(n.footerToolbar,n,e,t,i,r):null;return{header:a,footer:o}}function s3(n,e,t,i,r,a){let o={},s=[],l=!1;for(let p in n){let m=n[p],_=sH(m,e,t,i,r,a);o[p]=_.widgets,s.push(..._.viewsWithButtons),l=l||_.hasTitle}return{sectionWidgets:o,viewsWithButtons:s,hasTitle:l}}function sH(n,e,t,i,r,a){let o=e.direction==="rtl",s=e.customButtons||{},l=t.buttonText||{},p=e.buttonText||{},m=t.buttonHints||{},_=e.buttonHints||{},S=n?n.split(" "):[],C=[],E=!1;return{widgets:S.map(M=>M.split(",").map(F=>{if(F==="title")return E=!0,{buttonName:F};let N,U,j,$,X,te;if(N=s[F])j=G=>{N.click&&N.click.call(G.target,G,G.target)},($=i.getCustomButtonIconClass(N))||($=i.getIconClass(F,o))||(X=N.text),te=N.hint||N.text;else if(U=r[F]){C.push(F),j=()=>{a.changeView(F)},(X=U.buttonTextOverride)||($=i.getIconClass(F,o))||(X=U.buttonTextDefault);let G=U.buttonTextOverride||U.buttonTextDefault;te=xc(U.buttonTitleOverride||U.buttonTitleDefault||e.viewHint,[G,F],G)}else if(a[F])if(j=()=>{a[F]()},(X=l[F])||($=i.getIconClass(F,o))||(X=p[F]),F==="prevYear"||F==="nextYear"){let G=F==="prevYear"?"prev":"next";te=xc(m[G]||_[G],[p.year||"year","year"],p[F])}else te=G=>xc(m[F]||_[F],[p[G]||G,G],p[F]);return{buttonName:F,buttonClick:j,buttonIcon:$,buttonText:X,buttonHint:te}})),viewsWithButtons:C,hasTitle:E}}var ry=class{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},lH={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}},cH=no({name:"array-event-source",eventSourceDefs:[lH]}),dH={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){let{dateEnv:i}=n.context,r=n.eventSource.meta;W1(r.bind(null,H1(n.range,i)),a=>e({rawEvents:a}),t)}},uH=no({name:"func-event-source",eventSourceDefs:[dH]}),pH={method:String,extraParams:K,startParam:String,endParam:String,timeZoneParam:String},mH={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){let{meta:i}=n.eventSource,r=fH(i,n.range,n.context);U1(i.method,i.url,r).then(([a,o])=>{e({rawEvents:a,response:o})},t)}},hH=no({name:"json-event-source",eventSourceRefiners:pH,eventSourceDefs:[mH]});function fH(n,e,t){let{dateEnv:i,options:r}=t,a,o,s,l,p={};return a=n.startParam,a==null&&(a=r.startParam),o=n.endParam,o==null&&(o=r.endParam),s=n.timeZoneParam,s==null&&(s=r.timeZoneParam),typeof n.extraParams=="function"?l=n.extraParams():l=n.extraParams||{},Object.assign(p,l),p[a]=i.formatIso(e.start),p[o]=i.formatIso(e.end),i.timeZone!=="local"&&(p[s]=i.timeZone),p}var gH={daysOfWeek:K,startTime:Zt,endTime:Zt,duration:Zt,startRecur:K,endRecur:K},vH={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null,dateEnv:e},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=gI(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=Ro(e,{start:n.startRecur,end:n.endRecur});return i?yH(n.daysOfWeek,n.startTime,n.dateEnv,t,i):[]}},_H=no({name:"simple-recurring-event",recurringTypes:[vH],eventRefiners:gH});function yH(n,e,t,i,r){let a=n?I1(n):null,o=Ti(r.start),s=r.end,l=[];for(;o<s;){let p;(!a||a[o.getUTCDay()])&&(e?p=i.add(o,e):p=o,l.push(i.createMarker(t.toDate(p)))),o=xn(o,1)}return l}var bH=no({name:"change-handler",optionChangeHandlers:{events(n,e){l3([n],e)},eventSources:l3}});function l3(n,e){let t=vf(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let r of n){let a=!1;for(let o=0;o<t.length;o+=1)if(t[o]._raw===r){t.splice(o,1),a=!0;break}a||i.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function wH(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},H1(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function SH(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",to(n,e))}var CH=[cH,uH,hH,_H,bH,no({name:"misc",isLoadingFuncs:[n=>h3(n.eventSources)],propSetHandlers:{dateProfile:wH,eventStore:SH}})],ay=class{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new dl(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};function xH(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,hn(e.titleFormat||EH(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function EH(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=bc(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var Pf=class{constructor(){this.resetListeners=new Set}handleInput(e,t){let i=this.dateEnv;if(e!==i&&(typeof t=="function"?this.nowFn=t:i||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(let r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}},oy=class{constructor(e){this.computeCurrentViewData=Jt(this._computeCurrentViewData),this.organizeRawLocales=Jt(MV),this.buildLocale=Jt(p3),this.buildPluginHooks=RV(),this.buildDateEnv=Jt(IH),this.buildTheme=Jt(TH),this.parseToolbars=Jt(oH),this.buildViewSpecs=Jt(HV),this.buildDateProfileGenerator=Ec(DH),this.buildViewApi=Jt(AH),this.buildViewUiProps=Ec(PH),this.buildEventUiBySource=Jt(MH,Br),this.buildEventUiBases=Jt(kH),this.parseContextBusinessHours=Ec(LH),this.buildTitle=Jt(xH),this.nowManager=new Pf,this.emitter=new Bo,this.actionRunner=new ay(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=S=>{this.actionRunner.request(S)},this.props=e,this.actionRunner.pause(),this.nowManager=new Pf;let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,a=this.computeCurrentViewData(r,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let o={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s=qV(i.calendarOptions,i.dateEnv,this.nowManager),l=a.dateProfileGenerator.build(s);Ka(l.activeRange,s)||(s=l.currentRange.start);for(let S of i.pluginHooks.contextInit)S(o);let p=GV(i.calendarOptions,l,o),m={dynamicOptionOverrides:t,currentViewType:r,currentDate:s,dateProfile:l,businessHours:this.parseContextBusinessHours(o),eventSources:p,eventUiBases:{},eventStore:pr(),renderableEventStore:pr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},_=Object.assign(Object.assign({},o),m);for(let S of i.pluginHooks.reducers)Object.assign(m,S(null,null,_));iy(m,o)&&this.emitter.trigger("loading",!0),this.state=m,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:r}=this,a=$V(i.dynamicOptionOverrides,e),o=this.computeOptionsData(t.optionOverrides,a,t.calendarApi),s=jV(i.currentViewType,e),l=this.computeCurrentViewData(s,o,t.optionOverrides,a);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(l.options);let p={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:m,dateProfile:_}=i;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(_=l.dateProfileGenerator.build(m)),m=zV(m,e),_=QV(_,e,m,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Ka(_.currentRange,m))&&(m=_.currentRange.start);let S=YV(i.eventSources,e,_,p),C=kI(i.eventStore,e,S,_,p),I=h3(S)&&!l.options.progressiveEventRendering&&i.renderableEventStore||C,{eventUiSingleBase:M,selectionConfig:F}=this.buildViewUiProps(p),N=this.buildEventUiBySource(S),U=this.buildEventUiBases(I.defs,M,N),j={dynamicOptionOverrides:a,currentViewType:s,currentDate:m,dateProfile:_,eventSources:S,eventStore:C,renderableEventStore:I,selectionConfig:F,eventUiBases:U,businessHours:this.parseContextBusinessHours(p),dateSelection:iH(i.dateSelection,e),eventSelection:nH(i.eventSelection,e),eventDrag:rH(i.eventDrag,e),eventResize:aH(i.eventResize,e)},$=Object.assign(Object.assign({},p),j);for(let G of o.pluginHooks.reducers)Object.assign(j,G(i,e,$));let X=iy(i,p),te=iy(j,p);!X&&te?r.trigger("loading",!0):X&&!te&&r.trigger("loading",!1),this.state=j,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,a.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),a),t),s=r.pluginHooks.optionChangeHandlers,l=i&&i.calendarOptions,p=r.calendarOptions;if(l&&l!==p){l.timeZone!==p.timeZone&&(t.eventSources=o.eventSources=KV(o.eventSources,t.dateProfile,o),t.eventStore=o.eventStore=R1(o.eventStore,i.dateEnv,o.dateEnv),t.renderableEventStore=o.renderableEventStore=R1(o.renderableEventStore,i.dateEnv,o.dateEnv));for(let m in s)(this.optionsForHandling.indexOf(m)!==-1||l[m]!==p[m])&&s[m](p[m],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:a,localeDefaults:o,availableLocaleData:s,extra:l}=this.processRawCalendarOptions(e,t);c3(l);let p=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,a,s,r.defaultRangeSeparator),m=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),_=this.buildTheme(r,a),S=this.parseToolbars(r,this.stableOptionOverrides,_,m,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:a,dateEnv:p,viewSpecs:m,theme:_,toolbarConfig:S,localeDefaults:o,availableRawLocales:s.map}}processRawCalendarOptions(e,t){let{locales:i,locale:r}=hf([ws,e,t]),a=this.organizeRawLocales(i),o=a.map,s=this.buildLocale(r||a.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],CH),p=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},C1),x1),E1),l.listenerRefiners),l.optionRefiners),m={},_=hf([ws,s,e,t]),S={},C=this.currentCalendarOptionsInput,E=this.currentCalendarOptionsRefined,I=!1;for(let M in _)this.optionsForRefining.indexOf(M)===-1&&(_[M]===C[M]||Ss[M]&&M in C&&Ss[M](C[M],_[M]))?S[M]=E[M]:p[M]?(S[M]=p[M](_[M]),I=!0):m[M]=C[M];return I&&(this.currentCalendarOptionsInput=_,this.currentCalendarOptionsRefined=S,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:s,extra:m}}_computeCurrentViewData(e,t,i,r){let a=t.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:s}=this.processRawViewOptions(a,t.pluginHooks,t.localeDefaults,i,r);c3(s),this.nowManager.handleInput(t.dateEnv,o.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),p=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:a,options:o,dateProfileGenerator:l,viewApi:p}}processRawViewOptions(e,t,i,r,a){let o=hf([ws,e.optionDefaults,i,r,e.optionOverrides,a]),s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},C1),x1),E1),bI),t.listenerRefiners),t.optionRefiners),l={},p=this.currentViewOptionsInput,m=this.currentViewOptionsRefined,_=!1,S={};for(let C in o)o[C]===p[C]||Ss[C]&&Ss[C](o[C],p[C])?l[C]=m[C]:(o[C]===this.currentCalendarOptionsInput[C]||Ss[C]&&Ss[C](o[C],this.currentCalendarOptionsInput[C])?C in this.currentCalendarOptionsRefined&&(l[C]=this.currentCalendarOptionsRefined[C]):s[C]?l[C]=s[C](o[C]):S[C]=o[C],_=!0);return _&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:S}}};function IH(n,e,t,i,r,a,o,s){let l=p3(e||o.defaultCode,o.map);return new uu({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:a.cmdFormatter,defaultSeparator:s})}function TH(n,e){let t=e.themeClasses[n.themeSystem]||io;return new t(n)}function DH(n){let e=n.dateProfileGeneratorClass||ul;return new e(n)}function AH(n,e,t){return new ry(n,e,t)}function MH(n){return Ja(n,e=>e.ui)}function kH(n,e,t){let i={"":e};for(let r in n){let a=n[r];a.sourceId&&t[a.sourceId]&&(i[r]=t[a.sourceId])}return i}function PH(n){let{options:e}=n;return{eventUiSingleBase:Tc({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:Tc({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function iy(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function LH(n){return B1(n.options.businessHours,n)}function c3(n,e){for(let t in n)console.warn(`Unknown option '${t}'`+(e?` for view '${e}'`:""))}var sy=class extends qi{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return Y("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,r=[],a=!0;for(let o of e){let{buttonName:s,buttonClick:l,buttonText:p,buttonIcon:m,buttonHint:_}=o;if(s==="title")a=!1,r.push(Y("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let S=s===t.activeButton,C=!t.isTodayEnabled&&s==="today"||!t.isPrevEnabled&&s==="prev"||!t.isNextEnabled&&s==="next",E=[`fc-${s}-button`,i.getClass("button")];S&&E.push(i.getClass("buttonActive")),r.push(Y("button",{type:"button",title:typeof _=="function"?_(t.navUnit):_,disabled:C,"aria-pressed":S,className:E.join(" "),onClick:l},p||(m?Y("span",{className:m,role:"img"}):"")))}}if(r.length>1){let o=a&&i.getClass("buttonGroup")||"";return Y("div",{className:o},...r)}return r[0]}},Lf=class extends qi{render(){let{model:e,extraClassName:t}=this.props,i=!1,r,a,o=e.sectionWidgets,s=o.center;return o.left?(i=!0,r=o.left):r=o.start,o.right?(i=!0,a=o.right):a=o.end,Y("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",s||[]),this.renderSection("end",a||[]))}renderSection(e,t){let{props:i}=this;return Y(sy,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}},ly=class extends qi{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ta(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",o="";return i?t.availableWidth!==null?a=t.availableWidth/i:o=`${1/i*100}%`:a=e.height||"",Y("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:a,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},cy=class extends Ta{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:a}=r,o=No(i);if(o&&r.isValidSegDownEl(t.target)){let s=Cn(t.target,".fc-event-forced-url"),l=s?s.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:i,event:new Di(r.context,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:a.viewApi}),l&&!t.defaultPrevented&&(window.location.href=l)}},this.destroy=p1(e.el,"click",".fc-event",this.handleSegClick)}},dy=class extends Ta{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{No(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=dI(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:r}=this,{context:a}=r,o=No(i);(!t||r.isValidSegDownEl(t.target))&&a.emitter.trigger(e,{el:i,event:new Di(a,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:a.viewApi})}},uy=class extends Fu{constructor(){super(...arguments),this.buildViewContext=Jt(EI),this.buildViewPropTransformers=Jt(BH),this.buildToolbarProps=Jt(RH),this.headerRef=Rr(),this.footerRef=Rr(),this.interactionsStore={},this.state={viewLabelId:vl()},this.registerInteractiveComponent=(e,t)=>{let i=OI(e,t),o=[cy,dy].concat(this.props.pluginHooks.componentInteractions).map(s=>new s(i));this.interactionsStore[e.uid]=o,Dc[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete Dc[e.uid]},this.resizeRunner=new dl(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,r=!1,a="",o;e.isHeightAuto||e.forPrint?a="":i.height!=null?r=!0:i.contentHeight!=null?a=i.contentHeight:o=Math.max(i.aspectRatio,.5);let s=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return Y(Oo.Provider,{value:s},Y(Ac,{unit:"day"},p=>{let m=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,p,e.viewTitle);return Y(Ii,null,t.header&&Y(Lf,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:l},m)),Y(ly,{liquid:r,height:a,aspectRatio:o,labeledById:l},this.renderView(e),this.buildAppendContent()),t.footer&&Y(Lf,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},m)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==e[r]&&i[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return Y(Ii,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(t.viewPropsTransformers);for(let s of a)Object.assign(r,s.transform(r,e));let o=i.component;return Y(o,Object.assign({},r))}};function RH(n,e,t,i,r,a){let o=t.build(r,void 0,!1),s=t.buildPrev(e,i,!1),l=t.buildNext(e,i,!1);return{title:a,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:o.isValid&&!Ka(e.currentRange,r),isPrevEnabled:s.isValid,isNextEnabled:l.isValid}}function BH(n){return n.map(e=>new e)}var Rf=class extends _u{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;pu(()=>{fs(Y(vu,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,a,o,s)=>(this.setClassNames(r),this.setHeight(a),Y(D1.Provider,{value:this.customContentRenderId},Y(uy,Object.assign({isHeightAuto:o,forPrint:s},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,fs(null,this.el),this.setClassNames([]),this.setHeight(""))},oI(e),this.el=e,this.renderRunner=new dl(this.handleRenderRequest),new oy({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){pu(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Za(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){u1(this.el,"height",e)}};var OH=["*"],NH=["rootEl"],kc=n=>({$implicit:n});function VH(n,e){if(n&1&&(d(0,"div",2,0),Pt(2,3),u()),n&2){let t=w();g("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),c(2),g("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ae(4,kc,t.renderProps))}}function HH(n,e){if(n&1&&(d(0,"span",2,0),Pt(2,3),u()),n&2){let t=w();g("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),c(2),g("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ae(4,kc,t.renderProps))}}function WH(n,e){if(n&1&&(d(0,"a",2,0),Pt(2,3),u()),n&2){let t=w();g("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),c(2),g("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ae(4,kc,t.renderProps))}}function UH(n,e){if(n&1&&(d(0,"tr",2,0),Pt(2,3),u()),n&2){let t=w();g("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),c(2),g("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ae(4,kc,t.renderProps))}}function jH(n,e){if(n&1&&(d(0,"th",2,0),Pt(2,3),u()),n&2){let t=w();g("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),c(2),g("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ae(4,kc,t.renderProps))}}function zH(n,e){if(n&1&&(d(0,"td",2,0),Pt(2,3),u()),n&2){let t=w();g("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),c(2),g("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ae(4,kc,t.renderProps))}}var qH=["dayHeaderContent"],$H=["dayCellContent"],QH=["weekNumberContent"],GH=["nowIndicatorContent"],YH=["eventContent"],KH=["slotLaneContent"],XH=["slotLabelContent"],ZH=["allDayContent"],JH=["moreLinkContent"],eW=["noEventsContent"],tW=["resourceAreaHeaderContent"],iW=["resourceGroupLabelContent"],nW=["resourceLabelContent"],rW=["resourceLaneContent"],aW=["resourceGroupLaneContent"];function oW(n,e){if(n&1&&P(0,"transport-container",1),n&2){let t=e.$implicit;g("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",t.generatorMeta)("renderProps",t.renderProps)}}var y3={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},sW=["events","eventSources","resources"],lW=Object.prototype.hasOwnProperty;function Ff(n){return Array.isArray(n)?n.map(Ff):n instanceof Date?new Date(n.valueOf()):typeof n=="object"&&n?w3(n,Ff):n}function w3(n,e){let t={};for(let i in n)lW.call(n,i)&&(t[i]=e(n[i],i));return t}function hy(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,i,r;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!hy(n[i],e[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){var a=r[i];if(!hy(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}var Bf=typeof document<"u"?document.createDocumentFragment():null,cW=(()=>{class n{constructor(t){this.element=t}ngAfterViewInit(){Bf&&Bf.appendChild(this.element.nativeElement)}ngOnDestroy(){Bf&&Bf.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(B(xo))},n.\u0275cmp=re({type:n,selectors:[["offscreen-fragment"]],standalone:!1,ngContentSelectors:OH,decls:1,vars:0,template:function(t,i){t&1&&(Qr(),gr(0))},encapsulation:2}),n})(),Mc=typeof document<"u"?document.createDocumentFragment():null,dW=(()=>{class n{ngAfterViewInit(){let t=this.rootElRef?.nativeElement;b3(t,this.inPlaceOf),my(t,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(t)}ngOnChanges(t){let i=this.rootElRef?.nativeElement;if(i)if(this.inPlaceOf.parentNode!==Mc)b3(i,this.inPlaceOf),my(i,void 0,this.elAttrs),this.reportEl(i);else{let r=t.elAttrs;r&&my(i,r.previousValue,r.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===Mc&&Mc&&Mc.removeChild(this.inPlaceOf),this.reportEl(null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=re({type:n,selectors:[["transport-container"]],viewQuery:function(t,i){if(t&1&&Te(NH,5),t&2){let r;Z(r=J())&&(i.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},standalone:!1,features:[km],decls:6,vars:6,consts:[["rootEl",""],[3,"ngIf"],[3,"ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&R(0,VH,3,6,"ng-template",1)(1,HH,3,6,"ng-template",1)(2,WH,3,6,"ng-template",1)(3,UH,3,6,"ng-template",1)(4,jH,3,6,"ng-template",1)(5,zH,3,6,"ng-template",1),t&2&&(g("ngIf",i.elTag=="div"),c(),g("ngIf",i.elTag=="span"),c(),g("ngIf",i.elTag=="a"),c(),g("ngIf",i.elTag=="tr"),c(),g("ngIf",i.elTag=="th"),c(),g("ngIf",i.elTag=="td"))},dependencies:[ge,zi,Rn,Bn],encapsulation:2}),n})();function b3(n,e){e.parentNode?.insertBefore(n,e.nextSibling),Mc&&Mc.appendChild(e)}function my(n,e={},t={}){for(let i in e)i in t||(n[i]=null);for(let i in t)n[i]=t[i]}var S3=(()=>{class n{constructor(t,i){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map;let r=new Mu;r.subscribe(a=>{this.customRenderingMap=a,this.customRenderingArray=void 0,i.detectChanges()}),this.handleCustomRendering=r.handle.bind(r)}ngAfterViewInit(){let{deepChangeDetection:t}=this,i=z(z({},this.options),this.buildInputOptions());this.optionSnapshot=w3(i,(s,l)=>t&&y3[l]?Ff(s):s);let r=this.element.nativeElement,a=this.calendar=new Rf(r,z(z({},i),this.buildExtraOptions())),o=r.closest("ion-content");o&&o.componentOnReady?o.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{a.render()})}):a.render(),setTimeout(()=>a.updateSize())}ngDoCheck(){if(this.calendar){let{deepChangeDetection:t,optionSnapshot:i}=this,r=z(z({},this.options),this.buildInputOptions()),a={},o=[];for(let l in r)if(r.hasOwnProperty(l)){let p=r[l];t&&y3[l]?hy(i[l],p)||(i[l]=Ff(p),o.push(l)):i[l]!==p&&(i[l]=p,o.push(l)),a[l]=p}let s=Object.keys(i);for(let l of s)l in r||(delete i[l],o.push(l));o.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(z(z({},a),this.buildExtraOptions()),o))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){let t={};for(let i of sW){let r=this[i];r!=null&&(t[i]=r)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this,customRenderingReplaces:!0}}trackCustomRendering(t,i){return i.id}}return n.\u0275fac=function(t){return new(t||n)(B(xo),B(nc))},n.\u0275cmp=re({type:n,selectors:[["full-calendar"]],contentQueries:function(t,i,r){if(t&1&&(ye(r,qH,7),ye(r,$H,7),ye(r,QH,7),ye(r,GH,7),ye(r,YH,7),ye(r,KH,7),ye(r,XH,7),ye(r,ZH,7),ye(r,JH,7),ye(r,eW,7),ye(r,tW,7),ye(r,iW,7),ye(r,nW,7),ye(r,rW,7),ye(r,aW,7)),t&2){let a;Z(a=J())&&(i.dayHeaderContent=a.first),Z(a=J())&&(i.dayCellContent=a.first),Z(a=J())&&(i.weekNumberContent=a.first),Z(a=J())&&(i.nowIndicatorContent=a.first),Z(a=J())&&(i.eventContent=a.first),Z(a=J())&&(i.slotLaneContent=a.first),Z(a=J())&&(i.slotLabelContent=a.first),Z(a=J())&&(i.allDayContent=a.first),Z(a=J())&&(i.moreLinkContent=a.first),Z(a=J())&&(i.noEventsContent=a.first),Z(a=J())&&(i.resourceAreaHeaderContent=a.first),Z(a=J())&&(i.resourceGroupLabelContent=a.first),Z(a=J())&&(i.resourceLabelContent=a.first),Z(a=J())&&(i.resourceLaneContent=a.first),Z(a=J())&&(i.resourceGroupLaneContent=a.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},standalone:!1,decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,i){t&1&&(d(0,"offscreen-fragment"),R(1,oW,1,8,"transport-container",0),u()),t&2&&(c(),g("ngForOf",i.customRenderings)("ngForTrackBy",i.trackCustomRendering))},dependencies:[cW,dW,Gi],encapsulation:2}),n})(),C3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=wn({type:n}),n.\u0275inj=bn({imports:[[pe]]}),n})();var fy=class extends Da{constructor(){super(...arguments),this.headerElRef=Rr()}renderSimpleLayout(e,t){let{props:i,context:r}=this,a=[],o=Mf(r.options);return e&&a.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),Y(wc,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},Y(Sc,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,t,i,r){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:o,context:s}=this,l=!o.forPrint&&Mf(s.options),p=!o.forPrint&&J1(s.options),m=[];return e&&m.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),m.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),p&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Z1}]}),Y(wc,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},Y(a,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:m}))}};function Of(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function Nf(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function x3(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}var E3=hn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function I3(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var Vf=class extends qi{render(){let{props:e}=this;return Y(Tu,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:E3,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},Hf=class extends qi{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,a=i.eventTimeFormat||E3,o=Cf(r,a,t,!0,e.defaultDisplayEventEnd);return Y(fl,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:xf(e.seg,t),defaultGenerator:pW,timeText:o,isResizing:!1,isDateSelecting:!1}))}};function pW(n){return Y(Ii,null,Y("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&Y("div",{className:"fc-event-time"},n.timeText),Y("div",{className:"fc-event-title"},n.event.title||Y(Ii,null,"\xA0")))}var gy=class extends qi{constructor(){super(...arguments),this.compileSegs=Jt(mW)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return Y(Au,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Y(Ii,null,t.map(a=>{let o=a.eventRange.instance.instanceId;return Y("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:r[o]?"hidden":""}},I3(a)?Y(Hf,Object.assign({seg:a,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},yl(a,e.todayRange))):Y(Vf,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},yl(a,e.todayRange))))}))}})}};function mW(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}var hW=hn({week:"narrow"}),vy=class extends Da{constructor(){super(...arguments),this.rootElRef=Rr(),this.state={dayNumberId:vl()},this.handleRootEl=e=>{ta(this.rootElRef,e),ta(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:r}=this,{options:a,dateEnv:o}=e,{date:s,dateProfile:l}=t,p=t.showDayNumber&&gW(s,l.currentRange,o);return Y(Cc,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:fW,date:s,dateProfile:l,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:p,extraRenderProps:t.extraRenderProps},(m,_)=>Y("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&Y(ty,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Wu(e,s,"week"),date:s,defaultFormat:hW}),!_.isDisabled&&(t.showDayNumber||kf(a)||t.forceDayTop)?Y("div",{className:"fc-daygrid-day-top"},Y(m,{elTag:"a",elClasses:["fc-daygrid-day-number",p&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Wu(e,s)),{id:i.dayNumberId})})):t.showDayNumber?Y("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Y("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,Y("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,Y("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},Y(gy,{allDayDate:s,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),Y("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function fW(n){return n.dayNumberText||Y(Ii,null,"\xA0")}function gW(n,e,t){let{start:i,end:r}=e,a=Xa(r,-1),o=t.getYear(i),s=t.getMonth(i),l=t.getYear(a),p=t.getMonth(a);return!(o===l&&s===p)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<r.valueOf())}function T3(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function D3(n){return T3(n)+":"+n.lastCol}function vW(n,e,t,i,r,a,o){let s=new _y(F=>{let N=n[F.index].eventRange.instance.instanceId+":"+F.span.start+":"+(F.span.end-1);return r[N]||1});s.allowReslicing=!0,s.strictOrder=i,e===!0||t===!0?(s.maxCoord=a,s.hiddenConsumes=!0):typeof e=="number"?s.maxStackCnt=e:typeof t=="number"&&(s.maxStackCnt=t,s.hiddenConsumes=!0);let l=[],p=[];for(let F=0;F<n.length;F+=1){let N=n[F],U=D3(N);r[U]!=null?l.push({index:F,span:{start:N.firstCol,end:N.lastCol+1}}):p.push(N)}let m=s.addSegs(l),_=s.toRects(),{singleColPlacements:S,multiColPlacements:C,leftoverMargins:E}=_W(_,n,o),I=[],M=[];for(let F of p){C[F.firstCol].push({seg:F,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let N=F.firstCol;N<=F.lastCol;N+=1)S[N].push({seg:Pc(F,N,N+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let F=0;F<o.length;F+=1)I.push(0);for(let F of m){let N=n[F.index],U=F.span;C[U.start].push({seg:Pc(N,U.start,U.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let j=U.start;j<U.end;j+=1)I[j]+=1,S[j].push({seg:Pc(N,j,j+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let F=0;F<o.length;F+=1)M.push(E[F]);return{singleColPlacements:S,multiColPlacements:C,moreCnts:I,moreMarginTops:M}}function _W(n,e,t){let i=yW(n,t.length),r=[],a=[],o=[];for(let s=0;s<t.length;s+=1){let l=i[s],p=[],m=0,_=0;for(let C of l){let E=e[C.index];p.push({seg:Pc(E,s,s+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:C.levelCoord,marginTop:C.levelCoord-m}),m=C.levelCoord+C.thickness}let S=[];m=0,_=0;for(let C of l){let E=e[C.index],I=C.span.end-C.span.start>1,M=C.span.start===s;_+=C.levelCoord-m,m=C.levelCoord+C.thickness,I?(_+=C.thickness,M&&S.push({seg:Pc(E,C.span.start,C.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:C.levelCoord,marginTop:0})):M&&(S.push({seg:Pc(E,C.span.start,C.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:C.levelCoord,marginTop:_}),_=0)}r.push(p),a.push(S),o.push(_)}return{singleColPlacements:r,multiColPlacements:a,leftoverMargins:o}}function yW(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let r=i.span.start;r<i.span.end;r+=1)t[r].push(i);return t}function Pc(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let r=n.eventRange,a=r.range,o=Ro(a,{start:i[e].date,end:xn(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:o},isStart:n.isStart&&o.start.valueOf()===a.start.valueOf(),isEnd:n.isEnd&&o.end.valueOf()===a.end.valueOf()})}var _y=class extends wu{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:i}=this,r=a=>!this.forceHidden[hl(a)];for(let a=0;a<i.length;a+=1)i[a]=i[a].filter(r);return t}handleInvalidInsertion(e,t,i){let{entriesByLevel:r,forceHidden:a}=this,{touchingEntry:o,touchingLevel:s,touchingLateral:l}=e;if(this.hiddenConsumes&&o){let p=hl(o);if(!a[p])if(this.allowReslicing){let m=Object.assign(Object.assign({},o),{span:Df(o.span,t.span)}),_=hl(m);a[_]=!0,r[s][l]=m,i.push(m),this.splitEntry(o,t,i)}else a[p]=!0,i.push(o)}super.handleInvalidInsertion(e,t,i)}},Wf=class extends Da{constructor(){super(...arguments),this.cellElRefs=new Aa,this.frameElRefs=new Aa,this.fgElRefs=new Aa,this.segHarnessRefs=new Aa,this.rootElRef=Rr(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:r}=i,a=e.cells.length,o=Nf(e.businessHourSegs,a),s=Nf(e.bgEventSegs,a),l=Nf(this.getHighlightSegs(),a),p=Nf(this.getMirrorSegs(),a),{singleColPlacements:m,multiColPlacements:_,moreCnts:S,moreMarginTops:C}=vW(O1(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),E=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return Y("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((I,M)=>{let F=this.renderFgSegs(M,e.forPrint?m[M]:_[M],e.todayRange,E),N=this.renderFgSegs(M,bW(p[M],_),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return Y(vy,{key:I.key,elRef:this.cellElRefs.createRef(I.key),innerElRef:this.frameElRefs.createRef(I.key),dateProfile:e.dateProfile,date:I.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&M===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:I.extraRenderProps,extraDataAttrs:I.extraDataAttrs,extraClassNames:I.extraClassNames,extraDateSpan:I.extraDateSpan,moreCnt:S[M],moreMarginTop:C[M],singlePlacements:m[M],fgContentElRef:this.fgElRefs.createRef(I.key),fgContent:Y(Ii,null,Y(Ii,null,F),Y(Ii,null,N)),bgContent:Y(Ii,null,this.renderFillSegs(l[M],"highlight"),this.renderFillSegs(o[M],"non-business"),this.renderFillSegs(s[M],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!Br(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,r,a,o,s){let{context:l}=this,{eventSelection:p}=this.props,{framePositions:m}=this.state,_=this.props.cells.length===1,S=a||o||s,C=[];if(m)for(let E of t){let{seg:I}=E,{instanceId:M}=I.eventRange.instance,F=E.isVisible&&!r[M],N=E.isAbsolute,U="",j="";N&&(l.isRtl?(j=0,U=m.lefts[I.lastCol]-m.lefts[I.firstCol]):(U=0,j=m.rights[I.firstCol]-m.rights[I.lastCol])),C.push(Y("div",{className:"fc-daygrid-event-harness"+(N?" fc-daygrid-event-harness-abs":""),key:T3(I),ref:S?null:this.segHarnessRefs.createRef(D3(I)),style:{visibility:F?"":"hidden",marginTop:N?"":E.marginTop,top:N?E.absoluteTop:"",left:U,right:j}},I3(I)?Y(Hf,Object.assign({seg:I,isDragging:a,isSelected:M===p,defaultDisplayEventEnd:_},yl(I,i))):Y(Vf,Object.assign({seg:I,isDragging:a,isResizing:o,isDateSelecting:s,isSelected:M===p,defaultDisplayEventEnd:_},yl(I,i)))))}return C}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:a}=this.state,o=[];if(a)for(let s of e){let l=i?{right:0,left:a.lefts[s.lastCol]-a.lefts[s.firstCol]}:{left:0,right:a.rights[s.firstCol]-a.rights[s.lastCol]};o.push(Y("div",{key:N1(s.eventRange),className:"fc-daygrid-bg-harness",style:l},t==="bg-event"?Y(Du,Object.assign({seg:s},yl(s,r))):ey(t)))}return Y(Ii,{},...o)}updateSizing(e){let{props:t,state:i,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let l=t.cells.map(p=>r.currentMap[p.key]);if(l.length){let p=this.rootElRef.current,m=new bs(p,l,!0,!1);(!i.framePositions||!i.framePositions.similarTo(m))&&this.setState({framePositions:new bs(p,l,!0,!1)})}}let a=this.state.segHeights,o=this.querySegHeights(),s=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),o),maxContentHeight:s?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};Wf.addStateEquality({segHeights:Br});function bW(n,e){if(!n.length)return[];let t=wW(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function wW(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}var yy=class extends Da{constructor(){super(...arguments),this.splitBusinessHourSegs=Jt(Of),this.splitBgEventSegs=Jt(Of),this.splitFgEventSegs=Jt(Of),this.splitDateSelectionSegs=Jt(Of),this.splitEventDrag=Jt(x3),this.splitEventResize=Jt(x3),this.rowRefs=new Aa}render(){let{props:e,context:t}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),a=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitFgEventSegs(e.fgEventSegs,i),s=this.splitDateSelectionSegs(e.dateSelectionSegs,i),l=this.splitEventDrag(e.eventDrag,i),p=this.splitEventResize(e.eventResize,i),m=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return Y(Ac,{unit:"day"},(_,S)=>Y(Ii,null,e.cells.map((C,E)=>Y(Wf,{ref:this.rowRefs.createRef(E),key:C.length?C[0].date.toISOString():E,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:S,dateProfile:e.dateProfile,cells:C,renderIntro:e.renderRowIntro,businessHourSegs:r[E],eventSelection:e.eventSelection,bgEventSegs:a[E].filter(SW),fgEventSegs:o[E],dateSelectionSegs:s[E],eventDrag:l[E],eventResize:p[E],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:m,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new bs(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new bs(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:r}=this,a=i.leftToIndex(e),o=r.topToIndex(t);if(o!=null&&a!=null){let s=this.props.cells[o][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,a),allDay:!0},s.extraDateSpan),dayEl:this.getCellEl(o,a),rect:{left:i.lefts[a],right:i.rights[a],top:r.tops[o],bottom:r.bottoms[o]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,r=xn(i,1);return{start:i,end:r}}};function SW(n){return n.eventRange.def.allDay}var by=class extends Da{constructor(){super(...arguments),this.elRef=Rr(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:r}=e,a=i===!0||t===!0;a&&!r&&(a=!1,t=null,i=null);let o=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return Y("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Y("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,Y("tbody",{role:"presentation"},Y(yy,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=CW(this.elRef.current,this.props.dateProfile);if(e){let t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}};function CW(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${w1(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${Bu(e.currentDate)}"]`)),t}var wy=class extends Iu{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}},Sy=class extends Da{constructor(){super(...arguments),this.slicer=new wy,this.tableRef=Rr()}render(){let{props:e,context:t}=this;return Y(by,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},Uf=class extends fy{constructor(){super(...arguments),this.buildDayTableModel=Jt(xW),this.headerRef=Rr(),this.tableRef=Rr()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,t),a=e.dayHeaders&&Y(Cu,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),o=s=>Y(Sy,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:s.tableColGroupNode,tableMinWidth:s.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:s.clientWidth,clientHeight:s.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,o,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,o)}};function xW(n,e){let t=new xu(n.renderRange,e);return new Eu(t,/year|month|week/.test(n.currentRangeUnit))}var jf=class extends ul{buildRenderRange(e,t,i){let r=super.buildRenderRange(e,t,i),{props:a}=this;return EW({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}};function EW(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:r}=t,a;if(n.snapToWeek&&(i=e.startOfWeek(i),a=e.startOfWeek(r),a.valueOf()!==r.valueOf()&&(r=mf(a,1))),n.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(xn(t.end,-1))),s=Math.ceil(y1(o,r));r=mf(r,6-s)}return{start:i,end:r}}var IW=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';uf(IW);var A3=no({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Uf,dateProfileGeneratorClass:jf},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});ju.touchMouseIgnoreWait=500;var Cy=0,zf=0,xy=!1,qf=class{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&TW(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,DW()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new Bo,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),AW()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),MW()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||Cn(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){xy=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Cn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Cy||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(xy=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,t){let i=e.touches,r,a,o=0,s=0;return i&&i.length?(r=i[0].pageX,a=i[0].pageY):(r=e.pageX,a=e.pageY),t?(this.origPageX=r,this.origPageY=a):(o=r-this.origPageX,s=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:o,deltaY:s}}};function TW(n){return n.button===0&&!n.ctrlKey}function DW(){Cy+=1,setTimeout(()=>{Cy-=1},ju.touchMouseIgnoreWait)}function AW(){zf+=1,zf===1&&window.addEventListener("touchmove",k3,{passive:!1})}function MW(){zf-=1,zf||window.removeEventListener("touchmove",k3,{passive:!1})}function k3(n){xy&&n.preventDefault()}var Ey=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",gl(i,{left:r.left,top:r.top}),m1(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(ku(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&gl(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),gl(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}},$f=class extends ml{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},Qf=class extends $f{constructor(e,t){super(new yu(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Y1(this.scrollController.el)}},Iy=class extends $f{constructor(e){super(new bu,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},M3=typeof performance=="function"?performance.now:Date.now,Ty=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=M3();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,r=t-window.scrollY,a=this.pointerScreenY===null?0:r-this.pointerScreenY,o=this.pointerScreenX===null?0:i-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(M3()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:r}=this,a=r-e.distance,o=a*a/(r*r)*this.maxVelocity*t,s=1;switch(e.name){case"left":s=-1;case"right":i.setScrollLeft(i.getScrollLeft()+o*s);break;case"top":s=-1;case"bottom":i.setScrollTop(i.getScrollTop()+o*s);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,r=null,a=this.scrollCaches||[];for(let o of a){let s=o.clientRect,l=e-s.left,p=s.right-e,m=t-s.top,_=s.bottom-t;l>=0&&p>=0&&m>=0&&_>=0&&(m<=i&&this.everMovedUp&&o.canScrollUp()&&(!r||r.distance>m)&&(r={scrollCache:o,name:"top",distance:m}),_<=i&&this.everMovedDown&&o.canScrollDown()&&(!r||r.distance>_)&&(r={scrollCache:o,name:"bottom",distance:_}),l<=i&&this.everMovedLeft&&o.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:o,name:"left",distance:l}),p<=i&&this.everMovedRight&&o.canScrollRight()&&(!r||r.distance>p)&&(r={scrollCache:o,name:"right",distance:p}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new Iy(!1):new Qf(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}},bl=class extends Su{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,h1(document.body),g1(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let a=this.minDistance,o,{deltaX:s,deltaY:l}=r;o=s*s+l*l,o>=a*a&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,f1(document.body),v1(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new qf(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new Ey,this.autoScroller=new Ty}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},Dy=class{constructor(e){this.el=e,this.origRect=Uu(e),this.scrollCaches=Tf(e).map(t=>new Qf(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let r of this.scrollCaches)if(!kW(r.getEventTarget())&&!z1(i,r.clientRect))return!1;return!0}};function kW(n){let e=n.tagName;return e==="HTML"||e==="BODY"}var Lc=class{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Bo}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,r=e.subjectEl,a;r instanceof HTMLElement&&(a=Uu(r),i=q1(i,a));let o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&a){let s=Ef(a,o.rect);s&&(i=$1(s))}this.coordAdjust=Q1(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Gf(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Ja(this.droppableStore,e=>(e.component.prepareHits(),new Dy(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:r}=this,a=null;for(let o in i){let s=i[o].component,l=r[o];if(l&&l.isWithinClipping(e,t)){let p=l.computeLeft(),m=l.computeTop(),_=e-p,S=t-m,{origRect:C}=l,E=C.right-C.left,I=C.bottom-C.top;if(_>=0&&_<E&&S>=0&&S<I){let M=s.queryHit(_,S,E,I);M&&Ic(M.dateProfile.activeRange,M.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(_+p-window.scrollX,S+m-window.scrollY)))&&(!a||M.layer>a.layer)&&(M.componentId=o,M.context=s.context,M.rect.left+=p,M.rect.right+=p,M.rect.top+=m,M.rect.bottom+=m,a=M)}}}return a}};function Gf(n,e){return!n&&!e?!0:!!n!=!!e?!1:V1(n.dateSpan,e.dateSpan)}function P3(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,PW(n,e.dateEnv)),t}function PW(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}var Ay=class extends Ta{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,a=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:o,finalHit:s}=this.hitDragging;if(o&&s&&Gf(o,s)){let{context:l}=r,p=Object.assign(Object.assign({},P3(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:i.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",p)}}},this.dragging=new bl(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Lc(this.dragging,Hu(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},My=class extends Ta{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:s,dragging:l}=this,{options:p}=s.context,m=p.selectable&&s.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!m),l.delay=o.isTouch?LW(s):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,s)=>{let{context:l}=this.component,p=null,m=!1;if(o){let _=this.hitDragging.initialHit;o.componentId===_.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(_,o)||(p=RW(_,o,l.pluginHooks.dateSelectionTransformers)),(!p||!K1(p,o.dateProfile,l))&&(m=!0,p=null)}p?l.dispatch({type:"SELECT_DATES",selection:p}):s||l.dispatch({type:"UNSELECT_DATES"}),m?Lu():Ru(),s||(this.dragSelection=p)},this.handlePointerUp=o=>{this.dragSelection&&(Sf(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,r=this.dragging=new bl(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let a=this.hitDragging=new Lc(this.dragging,Hu(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function LW(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function RW(n,e,t){let i=n.dateSpan,r=e.dateSpan,a=[i.range.start,i.range.end,r.range.start,r.range.end];a.sort(_1);let o={};for(let s of t){let l=s(n,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:a[0],end:a[3]},o.allDay=i.allDay,o}var L3=(()=>{class n extends Ta{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let l=s.origEvent.target,{component:p,dragging:m}=this,{mirror:_}=m,{options:S}=p.context,C=p.context;this.subjectEl=s.subjectEl;let E=this.subjectSeg=No(s.subjectEl),M=(this.eventRange=E.eventRange).instance.instanceId;this.relevantEvents=Nu(C.getCurrentData().eventStore,M),m.minDistance=s.isTouch?0:S.eventDragMinDistance,m.delay=s.isTouch&&M!==p.props.eventSelection?FW(p):null,S.fixedMirrorParent?_.parentNode=S.fixedMirrorParent:_.parentNode=Cn(l,".fc"),_.revertDuration=S.dragRevertDuration;let F=p.isValidSegDownEl(l)&&!Cn(l,".fc-event-resizer");m.setIgnoreMove(!F),this.isDragging=F&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let l=this.component.context,p=this.eventRange,m=p.instance.instanceId;s.isTouch?m!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:m}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(s),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Di(l,p.def,p.instance),jsEvent:s.origEvent,view:l.viewApi}))},this.handleHitUpdate=(s,l)=>{if(!this.isDragging)return;let p=this.relevantEvents,m=this.hitDragging.initialHit,_=this.component.context,S=null,C=null,E=null,I=!1,M={affectedEvents:p,mutatedEvents:pr(),isEvent:!0};if(s){S=s.context;let F=S.options;_===S||F.editable&&F.droppable?(C=BW(m,s,this.eventRange.instance.range.start,S.getCurrentData().pluginHooks.eventDragMutationMassagers),C&&(E=Vu(p,S.getCurrentData().eventUiBases,C,S),M.mutatedEvents=E,Af(M,s.dateProfile,S)||(I=!0,C=null,E=null,M.mutatedEvents=pr()))):S=null}this.displayDrag(S,M),I?Lu():Ru(),l||(_===S&&Gf(m,s)&&(C=null),this.dragging.setMirrorNeedsRevert(!C),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=S,this.validMutation=C,this.mutatedRelevantEvents=E)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let l=this.component.context,p=l.viewApi,{receivingContext:m,validMutation:_}=this,S=this.eventRange.def,C=this.eventRange.instance,E=new Di(l,S,C),I=this.relevantEvents,M=this.mutatedRelevantEvents,{finalHit:F}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:E,jsEvent:s.origEvent,view:p}),_){if(m===l){let N=new Di(l,M.defs[S.defId],C?M.instances[C.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:M});let U={oldEvent:E,event:N,relatedEvents:to(M,l,C),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:I})}},j={};for(let $ of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(j,$(_,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},U),j),{el:s.subjectEl,delta:_.datesDelta,jsEvent:s.origEvent,view:p})),l.emitter.trigger("eventChange",U)}else if(m){let N={event:E,relatedEvents:to(I,l,C),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:I})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},N),{draggedEl:s.subjectEl,view:p})),l.dispatch({type:"REMOVE_EVENTS",eventStore:I}),l.emitter.trigger("eventRemove",N);let U=M.defs[S.defId],j=M.instances[C.instanceId],$=new Di(m,U,j);m.dispatch({type:"MERGE_EVENTS",eventStore:M});let X={event:$,relatedEvents:to(M,m,j),revert(){m.dispatch({type:"REMOVE_EVENTS",eventStore:M})}};m.emitter.trigger("eventAdd",X),s.isTouch&&m.dispatch({type:"SELECT_EVENT",eventInstanceId:C.instanceId}),m.emitter.trigger("drop",Object.assign(Object.assign({},P3(F.dateSpan,m)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:F.context.viewApi})),m.emitter.trigger("eventReceive",Object.assign(Object.assign({},X),{draggedEl:s.subjectEl,view:F.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:r}=i.context,a=this.dragging=new bl(t.el);a.pointer.selector=n.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new Lc(this.dragging,Dc);o.useSubjectCenter=t.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,i){let r=this.component.context,a=this.receivingContext;a&&a!==t&&(a===r?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:pr(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let t=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n})();function BW(n,e,t,i){let r=n.dateSpan,a=e.dateSpan,o=r.range.start,s=a.range.start,l={};r.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?o=Ti(t):o=t);let p=ys(o,s,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);p.milliseconds&&(l.allDay=!1);let m={datesDelta:p,standardProps:l};for(let _ of i)_(m,n,e);return m}function FW(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}var ky=class extends Ta{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:o}=this,s=this.querySegEl(a),l=No(s),p=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==p.instance.instanceId)},this.handleDragStart=a=>{let{context:o}=this.component,s=this.eventRange;this.relevantEvents=Nu(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(a);this.draggingSegEl=l,this.draggingSeg=No(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new Di(o,s.def,s.instance),jsEvent:a.origEvent,view:o.viewApi})},this.handleHitUpdate=(a,o,s)=>{let{context:l}=this.component,p=this.relevantEvents,m=this.hitDragging.initialHit,_=this.eventRange.instance,S=null,C=null,E=!1,I={affectedEvents:p,mutatedEvents:pr(),isEvent:!0};a&&(a.componentId===m.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(m,a)||(S=OW(m,a,s.subjectEl.classList.contains("fc-event-resizer-start"),_.range))),S&&(C=Vu(p,l.getCurrentData().eventUiBases,S,l),I.mutatedEvents=C,Af(I,a.dateProfile,l)||(E=!0,S=null,C=null,I.mutatedEvents=null)),C?l.dispatch({type:"SET_EVENT_RESIZE",state:I}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),E?Lu():Ru(),o||(S&&Gf(m,a)&&(S=null),this.validMutation=S,this.mutatedRelevantEvents=C)},this.handleDragEnd=a=>{let{context:o}=this.component,s=this.eventRange.def,l=this.eventRange.instance,p=new Di(o,s,l),m=this.relevantEvents,_=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:p,jsEvent:a.origEvent,view:o.viewApi}),this.validMutation){let S=new Di(o,_.defs[s.defId],l?_.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:_});let C={oldEvent:p,event:S,relatedEvents:to(_,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},C),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Zt(0),endDelta:this.validMutation.endDelta||Zt(0),jsEvent:a.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",C)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new bl(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Lc(this.dragging,Hu(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Cn(e.subjectEl,".fc-event")}};function OW(n,e,t,i){let r=n.context.dateEnv,a=n.dateSpan.range.start,o=e.dateSpan.range.start,s=ys(a,o,r,n.largeUnit);if(t){if(r.add(i.start,s)<i.end)return{startDelta:s}}else if(r.add(i.end,s)>i.start)return{endDelta:s};return null}var Py=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,a=pf(i.origEvent);this.matchesCancel=!!Cn(a,r),this.matchesEvent=!!Cn(a,L3.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:a}=this,o=r.getCurrentData();if(!a.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let s=r.options.unselectAuto;s&&(!s||!this.matchesCancel)&&r.calendarApi.unselect(i)}o.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new qf(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},NW={fixedMirrorParent:K},VW={dateClick:K,eventDragStart:K,eventDragStop:K,eventDrop:K,eventResizeStart:K,eventResizeStop:K,eventResize:K,drop:K,eventReceive:K,eventLeave:K};ju.dataAttrPrefix="";var R3=no({name:"@fullcalendar/interaction",componentInteractions:[Ay,My,L3,ky],calendarInteractions:[Py],elementDraggingImpl:bl,optionRefiners:NW,listenerRefiners:VW});var rr=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/Qualification";getHeaders(){let e=localStorage.getItem("token");return new Yt({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}ajouterQualification(e){console.log("qualificationservice",e);let t=this.getHeaders();return this.http.post(`${this.apiUrl}`,e,{headers:t}).pipe(ie(this.handleError))}getQualificationsParCheval(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}/cheval/${e}`,{headers:t}).pipe(ie(this.handleError))}mettreAJourRang(e,t){let i=this.getHeaders();return this.http.put(`${this.apiUrl}/rang/${e}`,t,{headers:i}).pipe(ie(this.handleError))}finaliserQualification(e){let t=this.getHeaders();return this.http.put(`${this.apiUrl}/finaliser/${e}`,{},{headers:t}).pipe(ie(this.handleError))}getAllQualifications(e){let t=this.getHeaders();return this.http.get(`${this.apiUrl}?entiteId=${e}`,{headers:t}).pipe(ie(this.handleError))}getQualificationById(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}updateQualification(e,t,i){let r=this.getHeaders();return this.http.put(`${this.apiUrl}/${e}?entiteId=${i}`,t,{headers:r}).pipe(ie(this.handleError))}deleteQualification(e,t){console.log("entitedeleteservicequalif",`${this.apiUrl}/${e}?entiteId=${t}`);let i=this.getHeaders();return this.http.delete(`${this.apiUrl}/${e}?entiteId=${t}`,{headers:i}).pipe(ie(this.handleError))}getNombreRangParCheval(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/stats/${e}/${t}`,{headers:i}).pipe(ie(this.handleError))}getTousLesRangsParCheval(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/historiquerang/${e}/${t}`,{headers:i}).pipe(ie(this.handleError))}handleError(e){let t="Une erreur inconnue est survenue";return e.error instanceof ErrorEvent?t=`Erreur: ${e.error.message}`:(t=`Code: ${e.status}
Message: ${e.message}`,e.error&&e.error.message&&(t+=`
D\xE9tails: ${e.error.message}`)),console.error(t),Ne(()=>new Error(t))}predictRankProbabilities(e,t){let i=this.getHeaders();return this.http.get(`${this.apiUrl}/predict-rank-probabilities/${e}/${t}`,{headers:i}).pipe(ie(this.handleError))}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var HW=["fullCalendar"],WW=["addQualificationForm"],UW=()=>({width:"50vw"});function jW(n,e){if(n&1&&(d(0,"b"),v(1),u()),n&2){let t=e.$implicit;c(),x(t.event.title)}}function zW(n,e){if(n&1&&v(0),n&2){let t=e.$implicit;Se(" ",t==null?null:t.label," (",t==null?null:t.value,") ")}}function qW(n,e){if(n&1){let t=W();d(0,"div")(1,"div",7)(2,"label",13),v(3),u(),d(4,"input",14),A("ngModelChange",function(r){y(t);let a=w();return D(a.mouvementForm.raison,r)||(a.mouvementForm.raison=r),b(r)}),u()(),d(5,"div",7)(6,"label",15),v(7),u(),d(8,"input",16),A("ngModelChange",function(r){y(t);let a=w();return D(a.mouvementForm.transporteur,r)||(a.mouvementForm.transporteur=r),b(r)}),u()(),d(9,"div",17)(10,"div",18)(11,"label",19),v(12),u(),d(13,"p-calendar",20),A("ngModelChange",function(r){y(t);let a=w();return D(a.mouvementForm.dateHeureDepart,r)||(a.mouvementForm.dateHeureDepart=r),b(r)}),u()(),d(14,"div",18)(15,"label",21),v(16),u(),d(17,"p-calendar",22),A("ngModelChange",function(r){y(t);let a=w();return D(a.mouvementForm.dateHeureArrivee,r)||(a.mouvementForm.dateHeureArrivee=r),b(r)}),u()()(),d(18,"div",17)(19,"div",18)(20,"label",23),v(21),u(),d(22,"p-dropdown",24),A("ngModelChange",function(r){y(t);let a=w();return D(a.mouvementForm.lieuDepartId,r)||(a.mouvementForm.lieuDepartId=r),b(r)}),u()(),d(23,"div",18)(24,"label",25),v(25),u(),d(26,"p-dropdown",26),A("ngModelChange",function(r){y(t);let a=w();return D(a.mouvementForm.lieuArriveeId,r)||(a.mouvementForm.lieuArriveeId=r),b(r)}),u()()(),d(27,"div",7)(28,"label",27),v(29),u(),d(30,"p-multiSelect",28),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedChevaux,r)||(a.selectedChevaux=r),b(r)}),R(31,zW,1,2,"ng-template",29),u()(),d(32,"div",7)(33,"label",30),v(34),u(),d(35,"textarea",31),A("ngModelChange",function(r){y(t);let a=w();return D(a.mouvementForm.conditions,r)||(a.mouvementForm.conditions=r),b(r)}),u()()()}if(n&2){let t=w();c(3),O("",t.dialogTitles.fieldsmouvement.raison,"*"),c(),T("ngModel",t.mouvementForm.raison),c(3),O("",t.dialogTitles.fieldsmouvement.transporteur,"**"),c(),T("ngModel",t.mouvementForm.transporteur),c(4),O("",t.dialogTitles.fieldsmouvement.dateHeureDepart,"*"),c(),T("ngModel",t.mouvementForm.dateHeureDepart),g("showTime",!0)("required",!0)("keepInvalid",!1),c(3),O("",t.dialogTitles.fieldsmouvement.dateHeureArrivee,"*"),c(),T("ngModel",t.mouvementForm.dateHeureArrivee),g("showTime",!0)("required",!0)("keepInvalid",!1),c(4),O("",t.dialogTitles.fieldsmouvement.lieuDepart,"*"),c(),T("ngModel",t.mouvementForm.lieuDepartId),g("options",t.lieuOptions),c(3),O("",t.dialogTitles.fieldsmouvement.lieuArrivee,"*"),c(),T("ngModel",t.mouvementForm.lieuArriveeId),g("options",t.lieuOptions),c(3),O("",t.dialogTitles.fieldsmouvement.chevaux,"*"),c(),T("ngModel",t.selectedChevaux),g("options",t.chevauxOptions)("required",!0)("dataKey","value"),c(4),x(t.dialogTitles.fieldsmouvement.conditions),c(),T("ngModel",t.mouvementForm.conditions)}}function $W(n,e){if(n&1){let t=W();d(0,"form",32,2),L("ngSubmit",function(){y(t);let r=w();return b(r.addQualification())}),d(2,"div",33)(3,"div",34)(4,"div",7)(5,"label",35),v(6),u(),d(7,"input",36),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.nom,r)||(a.newQualification.nom=r),b(r)}),u()()(),d(8,"div",37)(9,"div",7)(10,"label",38),v(11),u(),d(12,"p-calendar",39),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.dateQualificationDepart,r)||(a.newQualification.dateQualificationDepart=r),b(r)}),u()()(),d(13,"div",37)(14,"div",7)(15,"label",40),v(16),u(),d(17,"p-calendar",41),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.dateQualificationFin,r)||(a.newQualification.dateQualificationFin=r),b(r)}),u()()(),d(18,"div",34)(19,"div",7)(20,"label",42),v(21),u(),d(22,"p-inputNumber",43),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.distance,r)||(a.newQualification.distance=r),b(r)}),u()()(),d(23,"div",37)(24,"div",7)(25,"label",44),v(26),u(),d(27,"p-dropdown",45),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.lieuDepartId,r)||(a.newQualification.lieuDepartId=r),b(r)}),u()()(),d(28,"div",37)(29,"div",7)(30,"label",46),v(31),u(),d(32,"p-dropdown",47),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.lieuArriveeId,r)||(a.newQualification.lieuArriveeId=r),b(r)}),u()()(),d(33,"div",34)(34,"div",7)(35,"label",48),v(36),u(),d(37,"p-multiSelect",49),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.numerosSIRE,r)||(a.newQualification.numerosSIRE=r),b(r)}),u()()()()()}if(n&2){let t=w();c(6),x(t.dialogTitles.fieldsqualification.nom),c(),T("ngModel",t.newQualification.nom),g("placeholder",t.dialogTitles.fieldsqualification.nom),c(4),x(t.dialogTitles.fieldsqualification.dateHeureDepart),c(),T("ngModel",t.newQualification.dateQualificationDepart),g("showTime",!0),c(4),x(t.dialogTitles.fieldsqualification.dateHeureArrivee),c(),T("ngModel",t.newQualification.dateQualificationFin),g("showTime",!0),c(4),x(t.dialogTitles.fieldsqualification.distances),c(),T("ngModel",t.newQualification.distance),g("min",0)("step",100),c(4),x(t.dialogTitles.fieldsqualification.lieuDepart),c(),T("ngModel",t.newQualification.lieuDepartId),g("options",t.lieuOptions),c(4),x(t.dialogTitles.fieldsqualification.lieuArrivee),c(),T("ngModel",t.newQualification.lieuArriveeId),g("options",t.lieuOptions),c(4),x(t.dialogTitles.fieldsqualification.chevaux),c(),T("ngModel",t.newQualification.numerosSIRE),g("options",t.chevauxOptions)("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3)}}function QW(n,e){if(n&1){let t=W();d(0,"button",54),L("click",function(){y(t);let r=w(2);return b(r.deleteEvent())}),u()}if(n&2){let t=w(2);g("label",t.dialogTitles.buttons.delete)}}function GW(n,e){if(n&1){let t=W();d(0,"button",55),L("click",function(){y(t);let r=w(2);return b(r.saveEvent())}),u()}if(n&2){let t=w(2);g("label",t.dialogTitles.buttons.save)("disabled",!t.isFormValid())}}function YW(n,e){if(n&1){let t=W();d(0,"button",56),h(1,"translate"),h(2,"translate"),L("click",function(){y(t);let r=w(2);return b(r.saveEvent())}),u()}if(n&2){let t=w(2);g("label",t.isEditMode?f(1,2,"Qualification.buttons.edit"):f(2,4,"Qualification.buttons.add"))("disabled",!t.isFormValid())}}function KW(n,e){if(n&1){let t=W();R(0,QW,1,1,"button",50),d(1,"button",51),L("click",function(){y(t);let r=w();return b(r.hideDialog())}),u(),R(2,GW,1,2,"button",52)(3,YW,3,6,"button",53)}if(n&2){let t=w();g("ngIf",t.isEditMode),c(),g("label",t.dialogTitles.buttons.cancel),c(),g("ngIf",t.selectedEventType==="mouvement"),c(),g("ngIf",t.selectedEventType==="qualification")}}var Yf=class n{constructor(e,t,i,r,a,o,s,l,p,m){this.cd=e;this.entiteService=t;this.mouvementService=i;this.qualificationService=r;this.chevalService=a;this.messageService=o;this.lieuService=s;this.layoutService=l;this.translate=p;this.authService=m;this.entiteIdlogin=this.authService.getEntiteId(),this.updateLocale(),this.updateTranslations(),this.updateCalendarOptions(),this.translate.onLangChange.subscribe(()=>{this.updateLocale(),this.updateTranslations(),this.updateCalendarOptions()}),this.isAdmin=this.authService.isAdmin()}displayDialog=!1;isEditMode=!1;selectedEvent=null;selectedMouvement=null;selectedChevaux=[];chevauxOptions=[];eventTypes=[{label:"Mouvement",value:"mouvement"},{label:"Qualification",value:"qualification"}];selectedEventType="mouvement";qualifications=[];mouvementForm={raison:"",transporteur:"",dateHeureDepart:new Date,dateHeureArrivee:new Date,lieuDepartId:0,lieuArriveeId:0,conditions:"",numerosSIRE:[]};newQualification={nom:"",dateQualificationDepart:new Date,dateQualificationFin:new Date,distance:0,lieuDepartId:0,lieuArriveeId:0,numerosSIRE:[],chevalQualifications:[]};mouvements=[];events=[];lieux=[];lieuOptions=[];calendarOptions={initialView:"dayGridMonth",plugins:[A3,R3],dateClick:e=>this.handleDateClick(e),selectable:!0,select:e=>this.handleDateSelect(e),events:this.events,eventClick:e=>this.handleEventClick(e),eventDisplay:"block",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay"},contentHeight:"auto",aspectRatio:1.35,handleWindowResize:!0};fullCalendar;addQualificationForm;ngAfterViewInit(){this.handleResize(),window.addEventListener("resize",this.handleResize.bind(this))}ngOnDestroy(){this.resizeObserver&&this.resizeObserver.disconnect(),window.removeEventListener("resize",this.handleResize.bind(this))}handleResize(){this.fullCalendar?.getApi()&&setTimeout(()=>{this.fullCalendar.getApi().updateSize(),this.cd.detectChanges()},100)}resizeObserver;isAdmin=!1;currentLanguage="en";updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr",this.currentLanguage==="ar"?(document.documentElement.dir="rtl",document.documentElement.lang="ar"):(document.documentElement.dir="ltr",document.documentElement.lang=this.currentLanguage),this.updateCalendarOptions()}entiteIdlogin=null;entiteLogin=null;ngOnInit(){console.log(this.calendarOptions),this.loadMouvements(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadQualifications(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:t=>{this.entiteLogin=t.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:t=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin);let e=document.querySelector(".calendar-container");e&&(this.resizeObserver=new ResizeObserver(()=>this.handleResize()),this.resizeObserver.observe(e)),this.updateTranslations(),this.translate.onLangChange.subscribe(()=>{this.updateLocale(),this.updateTranslations(),this.updateCalendarOptions()})}updateCalendarOptions(){this.calendarOptions=Mt(z({},this.calendarOptions),{locale:this.currentLanguage,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay"},buttonText:{today:this.translate.instant("calendar.today"),month:this.translate.instant("calendar.month"),week:this.translate.instant("calendar.week"),day:this.translate.instant("calendar.day")},allDayText:this.translate.instant("calendar.allDay"),moreLinkText:this.translate.instant("calendar.more"),noEventsText:this.translate.instant("calendar.noEvents")}),this.fullCalendar?.getApi()&&this.fullCalendar.getApi().setOption("locale",this.currentLanguage)}dialogTitles={edit:"",new:"",eventTypes:{mouvement:"",qualification:""},fieldsmouvement:{raison:"",transporteur:"",dateHeureDepart:"",dateHeureArrivee:"",lieuDepart:"",lieuArrivee:"",chevaux:"",conditions:"",nom:""},fieldsqualification:{nom:"",dateHeureDepart:"",dateHeureArrivee:"",lieuDepart:"",lieuArrivee:"",chevaux:"",distances:""},buttons:{save:"",cancel:"",delete:""}};updateTranslations(){this.dialogTitles={edit:this.translate.instant("calendar.dialog.edit"),new:this.translate.instant("calendar.dialog.new"),eventTypes:{mouvement:this.translate.instant("calendar.dialog.eventTypes.mouvement"),qualification:this.translate.instant("calendar.dialog.eventTypes.qualification")},fieldsmouvement:{raison:this.translate.instant("calendar.dialog.fieldsmouvement.raison"),transporteur:this.translate.instant("calendar.dialog.fieldsmouvement.transporteur"),dateHeureDepart:this.translate.instant("calendar.dialog.fieldsmouvement.dateHeureDepart"),dateHeureArrivee:this.translate.instant("calendar.dialog.fieldsmouvement.dateHeureArrivee"),lieuDepart:this.translate.instant("calendar.dialog.fieldsmouvement.lieuDepart"),lieuArrivee:this.translate.instant("calendar.dialog.fieldsmouvement.lieuArrivee"),chevaux:this.translate.instant("calendar.dialog.fieldsmouvement.chevaux"),conditions:this.translate.instant("calendar.dialog.fieldsmouvement.conditions"),nom:this.translate.instant("calendar.dialog.fieldsmouvement.nom")},fieldsqualification:{nom:this.translate.instant("calendar.dialog.fieldsqualification.nom"),dateHeureDepart:this.translate.instant("calendar.dialog.fieldsqualification.dateHeureDepart"),dateHeureArrivee:this.translate.instant("calendar.dialog.fieldsqualification.dateHeureArrivee"),lieuDepart:this.translate.instant("calendar.dialog.fieldsqualification.lieuDepart"),lieuArrivee:this.translate.instant("calendar.dialog.fieldsqualification.lieuArrivee"),chevaux:this.translate.instant("calendar.dialog.fieldsqualification.chevaux"),distances:this.translate.instant("calendar.dialog.fieldsqualification.distances")},buttons:{save:this.translate.instant("calendar.dialog.buttons.save"),cancel:this.translate.instant("calendar.dialog.buttons.cancel"),delete:this.translate.instant("calendar.dialog.buttons.delete")}},this.eventTypes=[{label:this.translate.instant("calendar.eventTypes.mouvement"),value:"mouvement"},{label:this.translate.instant("calendar.eventTypes.qualification"),value:"qualification"}]}loadQualifications(){this.qualificationService.getAllQualifications(this.entiteIdlogin).subscribe({next:e=>{this.qualifications=e,this.updateCalendarEvents()},error:e=>{this.messageService.add({severity:"error",summary:"Erreur",detail:"\xC9chec du chargement des qualifications"}),console.error(e)}})}loadChevauxNotArchived(){this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxOptions=e.details.filter(t=>t.numeroSIRE!==null).map(t=>({label:t.nom,value:t.numeroSIRE.toString()}))},error:e=>{}})}loadMouvements(){this.mouvementService.getAllMouvements(this.entiteIdlogin).subscribe({next:e=>{this.mouvements=e.details,this.updateCalendarEvents()},error:e=>{this.messageService.add({severity:"error",summary:"Erreur",detail:"\xC9chec du chargement des mouvements"}),console.error(e)}})}loadLieux(){this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.lieuOptions=this.lieux.map(t=>({label:t.nom,value:t.id}))},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des lieux",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des lieux."})}})}updateCalendarEvents(){let e=this.mouvements.map(i=>({id:i.id,title:`Mouvement: ${i.raison}`,start:i.dateHeureDepart,end:i.dateHeureArrivee,backgroundColor:"#2196F3",borderColor:"#2196F3",textColor:"#FFFFFF",extendedProps:{type:"mouvement",mouvementId:i.id,transporteur:i.transporteur,conditions:i.conditions,numerosSIRE:i.numerosSIRE,lieuDepartId:i.lieuDepartId,lieuArriveeId:i.lieuArriveeId}})),t=this.qualifications.map(i=>({id:i.id,title:`Qualification: ${i.nom}`,start:i.dateQualificationDepart,end:i.dateQualificationFin,backgroundColor:"#4CAF50",borderColor:"#4CAF50",textColor:"#FFFFFF",extendedProps:{type:"qualification",qualificationId:i.id,distance:i.distance,numerosSIRE:i.numerosSIRE,lieuDepartId:i.lieuDepartId,lieuArriveeId:i.lieuArriveeId}}));this.events=[...e,...t],this.calendarOptions.events=[...this.events]}handleDateClick(e){this.isEditMode=!1,this.selectedEvent=null,this.selectedMouvement=null,this.selectedChevaux=[],this.selectedEventType="mouvement";let t=e.date,i=new Date;this.mouvementForm={raison:"",transporteur:"",dateHeureDepart:new Date(t),dateHeureArrivee:new Date(t),lieuDepartId:0,lieuArriveeId:0,conditions:"",numerosSIRE:[]},this.newQualification={nom:"",dateQualificationDepart:new Date(t),dateQualificationFin:new Date(t),distance:0,lieuDepartId:0,lieuArriveeId:0,numerosSIRE:[],chevalQualifications:[]},this.showDialog()}handleDateSelect(e){this.isEditMode=!1,this.selectedEvent=null,this.selectedMouvement=null,this.selectedChevaux=[],this.selectedEventType="mouvement";let t=e.start,i=e.end,r=new Date(i);r.setDate(r.getDate()-1),this.mouvementForm={raison:"",transporteur:"",dateHeureDepart:t,dateHeureArrivee:r,lieuDepartId:0,lieuArriveeId:0,conditions:"",numerosSIRE:[]},this.newQualification={nom:"",dateQualificationDepart:t,dateQualificationFin:r,distance:0,lieuDepartId:0,lieuArriveeId:0,numerosSIRE:[],chevalQualifications:[]},this.showDialog()}handleEventClick(e){this.isEditMode=!0,this.selectedEvent=e.event;let t=e.event.extendedProps.type;if(t==="mouvement"){this.selectedEventType="mouvement";let i=e.event.extendedProps.mouvementId;this.selectedMouvement=this.mouvements.find(r=>r.id===i)||null,this.selectedMouvement&&(this.mouvementForm={id:this.selectedMouvement.id,raison:this.selectedMouvement.raison,transporteur:this.selectedMouvement.transporteur,dateHeureDepart:new Date(this.selectedMouvement.dateHeureDepart),dateHeureArrivee:new Date(this.selectedMouvement.dateHeureArrivee),lieuDepartId:this.selectedMouvement.lieuDepartId,lieuArriveeId:this.selectedMouvement.lieuArriveeId,conditions:this.selectedMouvement.conditions||"",numerosSIRE:this.selectedMouvement.numerosSIRE},this.selectedChevaux=this.selectedMouvement.numerosSIRE.map(r=>this.chevauxOptions.find(a=>a.value===r.toString())).filter(r=>r!==void 0))}else if(t==="qualification"){this.selectedEventType="qualification";let i=e.event.extendedProps.qualificationId,r=this.qualifications.find(a=>a.id===i);r&&(this.newQualification={id:r.id,nom:r.nom,dateQualificationDepart:new Date(r.dateQualificationDepart),dateQualificationFin:new Date(r.dateQualificationFin),distance:r.distance,lieuDepartId:r.lieuDepartId,lieuArriveeId:r.lieuArriveeId,numerosSIRE:r.numerosSIRE,chevalQualifications:r.chevalQualifications})}this.showDialog()}compareFn(e,t){return e.value===t?.value}getChevalLabel(e){let t=this.chevauxOptions.find(i=>i.value===e);return t?t.label:""}addQualification(){console.log("addqualif"),this.addQualificationForm.valid&&(this.newQualification.entiteid=this.entiteIdlogin,console.log("addqualif,validform"),this.qualificationService.ajouterQualification(this.newQualification).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Qualification cr\xE9\xE9e"}),this.hideDialog()},error:e=>{this.messageService.add({severity:"error",summary:"Erreur",detail:"\xC9chec de la cr\xE9ation de la qualification"}),console.error(e)}}))}isFormValid(){return this.selectedEventType==="mouvement"?!!this.mouvementForm.raison&&!!this.mouvementForm.transporteur&&!!this.mouvementForm.dateHeureDepart&&!!this.mouvementForm.dateHeureArrivee&&!!this.mouvementForm.lieuDepartId&&!!this.mouvementForm.lieuArriveeId&&this.selectedChevaux.length>0:this.addQualificationForm?.valid||!1}deleteEvent(){if(!this.selectedEvent)return;let e=this.selectedEvent.extendedProps.type,t=this.selectedEvent.extendedProps[`${e}Id`];e==="mouvement"?this.mouvementService.deleteMouvement(t).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Mouvement.messages.successdelete")}),this.loadMouvements(),this.hideDialog()},error:i=>{this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Mouvement.messages.errordelete")}),console.error(i)}}):e==="qualification"&&this.qualificationService.deleteQualification(t,this.entiteIdlogin).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Qualification.delete_confirmation.qualification_success")}),this.loadQualifications(),this.hideDialog()},error:i=>{this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Qualification.delete_confirmation.qualification_error")}),console.error(i)}})}saveEvent(){if(!this.isFormValid()){this.messageService.add({severity:"warn",summary:"Attention",detail:"Veuillez remplir tous les champs obligatoires"});return}console.log("Saving event...",this.selectedEventType),this.selectedEventType==="mouvement"?this.saveMouvement():this.saveQualification()}saveMouvement(){let e=r=>{if(!r)return;let a=new Date(r);return a.setHours(1,1,0,0),a},t=this.selectedChevaux.filter(r=>r?.value).map(r=>r.value.toString());if(t.length===0){this.messageService.add({severity:"error",summary:"Erreur",detail:"Veuillez s\xE9lectionner au moins un cheval valide"});return}let i=Mt(z({},this.mouvementForm),{dateHeureDepart:e(this.mouvementForm.dateHeureDepart),dateHeureArrivee:e(this.mouvementForm.dateHeureArrivee),numerosSIRE:t,date_ajout:new Date,entiteid:this.entiteIdlogin});this.isEditMode&&this.mouvementForm.id?this.mouvementService.updateMouvement(this.mouvementForm.id,i).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Mouvement.messages.successedit")}),this.loadMouvements(),this.hideDialog()},error:r=>{this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Mouvement.messages.erroredit")}),console.error(r)}}):this.mouvementService.createMouvement(i).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Mouvement.messages.successadd")}),this.loadMouvements(),this.hideDialog()},error:r=>{this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Mouvement.messages.erroradd")}),console.error(r)}})}saveQualification(){let e=i=>{if(!i)return;let r=new Date(i);return r.setHours(1,1,0,0),r};if(console.log("Attempting to save qualification...",this.newQualification),!this.isQualificationFormValid()){this.messageService.add({severity:"warn",summary:"Attention",detail:"Veuillez remplir tous les champs obligatoires pour la qualification"});return}let t=Mt(z({},this.newQualification),{dateQualificationDepart:e(this.newQualification.dateQualificationDepart),dateQualificationFin:e(this.newQualification.dateQualificationFin),entiteid:this.entiteIdlogin});if(this.newQualification.entiteid=this.entiteIdlogin,!t.dateQualificationDepart||!t.dateQualificationFin){this.messageService.add({severity:"error",summary:"Erreur",detail:"Les dates de qualification sont invalides"});return}this.isEditMode&&this.newQualification.id?this.qualificationService.updateQualification(this.newQualification.id,t,this.entiteIdlogin).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Qualification.edit_success")}),this.loadQualifications(),this.hideDialog()},error:i=>{console.error("Error updating qualification:",i);let r=this.translate.instant("Qualification.edit_error");i.error?.message&&(r+=`: ${i.error.message}`),this.messageService.add({severity:"error",summary:"Erreur",detail:r})}}):this.qualificationService.ajouterQualification(t).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Qualification.add_success")}),this.loadQualifications(),this.hideDialog()},error:i=>{console.error("Error adding qualification:",i);let r=this.translate.instant("Qualification.add_error");i.error?.message?r+=`: ${i.error.message}`:i.status===0&&(r+=": Impossible de se connecter au serveur"),this.messageService.add({severity:"error",summary:"Erreur",detail:r})}})}isQualificationFormValid(){return!!this.newQualification.nom&&!!this.newQualification.dateQualificationDepart&&!!this.newQualification.lieuDepartId&&!!this.newQualification.lieuArriveeId&&this.newQualification.numerosSIRE?.length>0&&!!this.newQualification.chevalQualifications}showDialog(){this.displayDialog=!0}hideDialog(){this.displayDialog=!1,this.resetForm()}resetForm(){this.mouvementForm={raison:"",transporteur:"",dateHeureDepart:new Date,dateHeureArrivee:new Date,lieuDepartId:0,lieuArriveeId:0,conditions:"",numerosSIRE:[]},this.newQualification={nom:"",dateQualificationDepart:new Date,dateQualificationFin:new Date,distance:0,lieuDepartId:0,lieuArriveeId:0,numerosSIRE:[],chevalQualifications:[]},this.selectedChevaux=[],this.selectedEvent=null,this.selectedMouvement=null,this.isEditMode=!1,this.selectedEventType="mouvement"}static \u0275fac=function(t){return new(t||n)(B(nc),B(oe),B(Ni),B(rr),B(me),B(ne),B(Ce),B(Kr),B(Fe),B(ze))};static \u0275cmp=re({type:n,selectors:[["app-calendar"]],viewQuery:function(t,i){if(t&1&&(Te(HW,5),Te(WW,5)),t&2){let r;Z(r=J())&&(i.fullCalendar=r.first),Z(r=J())&&(i.addQualificationForm=r.first)}},features:[xe([ne,Ce])],decls:17,vars:14,consts:[["fullCalendar",""],["eventContent",""],["addQualificationForm","ngForm"],[1,"calendar-container"],[3,"options"],[3,"visibleChange","header","visible","modal"],[1,"p-fluid"],[1,"p-field"],["for","eventType"],["id","eventType","optionLabel","label","optionValue","value","name","eventType","required","",3,"ngModelChange","ngModel","options"],[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["pTemplate","footer"],["for","raison"],["id","raison","type","text","pInputText","","name","raison","required","",3,"ngModelChange","ngModel"],["for","transporteur"],["id","transporteur","type","text","pInputText","","name","transporteur","required","",3,"ngModelChange","ngModel"],[1,"p-grid"],[1,"p-col-6","p-field"],["for","dateHeureDepart"],["id","dateHeureDepart","name","dateHeureDepart","hourFormat","24","dataType","date","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showTime","required","keepInvalid"],["for","dateHeureArrivee"],["id","dateHeureArrivee","name","dateHeureArrivee","hourFormat","24","dataType","date","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showTime","required","keepInvalid"],["for","lieuDepartId"],["id","lieuDepartId","optionLabel","label","optionValue","value","name","lieuDepartId","required","",3,"ngModelChange","ngModel","options"],["for","lieuArriveeId"],["id","lieuArriveeId","optionLabel","label","optionValue","value","name","lieuArriveeId","required","",3,"ngModelChange","ngModel","options"],["for","numerosSIRE"],["id","numerosSIRE","optionLabel","label","placeholder","S\xE9lectionnez les chevaux","name","numerosSIRE",3,"ngModelChange","ngModel","options","required","dataKey"],["pTemplate","chip"],["for","conditions"],["id","conditions","pInputTextarea","","name","conditions","rows","3",3,"ngModelChange","ngModel"],[3,"ngSubmit"],[1,"p-grid","p-fluid"],[1,"p-col-12"],["for","newNom"],["id","newNom","pInputText","","name","nom","required","",3,"ngModelChange","ngModel","placeholder"],[1,"p-col-12","md:col-6"],["for","newDateDepart"],["id","newDateDepart","name","dateDepart","required","","hourFormat","24","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showTime"],["for","newDateFin"],["id","newDateFin","name","dateFin","hourFormat","24","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showTime"],["for","newDistance"],["id","newDistance","name","distance","required","",3,"ngModelChange","ngModel","min","step"],["for","newLieuDepartId"],["id","newLieuDepartId","optionLabel","label","optionValue","value","name","lieuDepartId","required","",3,"ngModelChange","ngModel","options"],["for","newLieuArriveeId"],["id","newLieuArriveeId","optionLabel","label","optionValue","value","name","lieuArriveeId","required","",3,"ngModelChange","ngModel","options"],["for","newNumerosSIRE"],["id","newNumerosSIRE","optionLabel","label","optionValue","value","name","numerosSIRE","required","","placeholder","S\xE9lectionnez les chevaux","styleClass","w-full",3,"ngModelChange","ngModel","options","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["pButton","","type","button","icon","pi pi-trash","class","p-button-danger",3,"label","click",4,"ngIf"],["pButton","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","type","button","icon","pi pi-check",3,"label","disabled","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-check","class","p-button-success",3,"label","disabled","click",4,"ngIf"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-danger",3,"click","label"],["pButton","","type","button","icon","pi pi-check",3,"click","label","disabled"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-success",3,"click","label","disabled"]],template:function(t,i){if(t&1){let r=W();P(0,"p-toast"),d(1,"div",3)(2,"full-calendar",4,0),R(4,jW,2,1,"ng-template",null,1,ae),u()(),P(6,"p-toast"),d(7,"p-dialog",5),A("visibleChange",function(o){return y(r),D(i.displayDialog,o)||(i.displayDialog=o),b(o)}),d(8,"div",6)(9,"div",7)(10,"label",8),v(11),h(12,"translate"),u(),d(13,"p-dropdown",9),A("ngModelChange",function(o){return y(r),D(i.selectedEventType,o)||(i.selectedEventType=o),b(o)}),u()(),R(14,qW,36,27,"div",10)(15,$W,38,25,"form",11),u(),R(16,KW,4,4,"ng-template",12),u()}t&2&&(c(2),g("options",i.calendarOptions),c(5),_e(se(13,UW)),g("header",i.isEditMode?i.dialogTitles.edit:i.dialogTitles.new),T("visible",i.displayDialog),g("modal",!0),c(4),O("",f(12,11,"calendar.dialog.eventType"),"*"),c(2),T("ngModel",i.selectedEventType),g("options",i.eventTypes),c(),g("ngIf",i.selectedEventType==="mouvement"),c(),g("ngIf",i.selectedEventType==="qualification"))},dependencies:[pe,ge,C3,S3,pt,Ri,$t,Pe,qe,tt,nt,ft,ci,Ye,dt,st,Xe,lt,ut,Ze,ct,mt,kt,rt,ht,gt,Kt,vr,Xr,Ve,Ke],styles:[".calendar-container[_ngcontent-%COMP%]{width:100%;overflow:hidden}@media (max-width: 768px){.calendar-container[_ngcontent-%COMP%]{padding:0 10px}}.calendar-container[_ngcontent-%COMP%]{width:100%;height:100%;min-height:600px;padding:1rem;box-sizing:border-box}.fc[_ngcontent-%COMP%]{width:100%!important;height:100%!important}@media (max-width: 768px){.calendar-container[_ngcontent-%COMP%]{padding:.5rem;min-height:400px}.fc-toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.fc-toolbar-chunk[_ngcontent-%COMP%]{margin-bottom:.5rem}}.p-dialog[_ngcontent-%COMP%]   .p-dialog-content[_ngcontent-%COMP%]{overflow:visible!important}"]})};var ro=class{id;nom="";adresse="";codePostal="";ville="";type="";capaciteMax;dimensions="";installations="";parentLieuId;EntiteId};var XW=["dt1"],ZW=["dt2"],JW=["updateLieuForm"],eU=()=>["id","nom","ville","codePostal","type"],tU=()=>[5,10,20],Kf=()=>({width:"50vw"});function iU(n,e){if(n&1){let t=W();d(0,"div",25)(1,"button",95),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddLieuDialog())}),u(),d(3,"button",95),h(4,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalDialog())}),u()()}n&2&&(c(),g("label",f(2,2,"Lieu.buttons.add")),c(2),g("label",f(4,4,"HorseComponent.buttons.add_horse")))}function nU(n,e){if(n&1){let t=W();d(0,"div",96)(1,"div")(2,"button",97),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(40);return b(r.clear(a))}),u()(),d(4,"div",98)(5,"p-button",99),h(6,"translate"),L("click",function(){y(t);let r=w();return b(r.exportExcelLieux())}),u(),d(7,"p-button",100),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.exportPdfLieux())}),u(),d(9,"p-button",101),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.exportCSVLieux())}),u()(),d(11,"p-iconField",102)(12,"p-inputIcon"),P(13,"i",103),u(),d(14,"input",104),h(15,"translate"),L("input",function(r){y(t);let a=w(),o=Q(40);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,5,"Lieu.Table.buttons.clear")),c(3),g("label",f(6,7,"Lieu.Table.buttons.excel")),c(2),g("label",f(8,9,"Lieu.Table.buttons.pdf")),c(2),g("label",f(10,11,"Lieu.Table.buttons.csv")),c(5),g("placeholder",f(15,13,"Lieu.Table.filters.search")))}function rU(n,e){n&1&&(d(0,"tr")(1,"th",105)(2,"div",106),v(3),h(4,"translate"),P(5,"p-columnFilter",107),h(6,"translate"),u()(),d(7,"th",105)(8,"div",106),v(9),h(10,"translate"),P(11,"p-columnFilter",108),h(12,"translate"),u()(),d(13,"th",109)(14,"div",106),v(15),h(16,"translate"),P(17,"p-columnFilter",110),h(18,"translate"),u()(),d(19,"th",111)(20,"div",106),v(21),h(22,"translate"),P(23,"p-columnFilter",112),h(24,"translate"),u()(),d(25,"th",109)(26,"div",106),v(27),h(28,"translate"),P(29,"p-columnFilter",113),h(30,"translate"),u()(),d(31,"th",105)(32,"div",106),v(33),h(34,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,11,"Lieu.Table.columns.nom")," "),c(2),g("placeholder",f(6,13,"Lieu.Table.filters.searchByName")),c(4),O(" ",f(10,15,"Lieu.Table.columns.ville")," "),c(2),g("placeholder",f(12,17,"Lieu.Table.filters.searchByCity")),c(4),O(" ",f(16,19,"Lieu.Table.columns.codePostal")," "),c(2),g("placeholder",f(18,21,"Lieu.Table.filters.searchByPostalCode")),c(4),O(" ",f(22,23,"Lieu.Table.columns.type")," "),c(2),g("placeholder",f(24,25,"Lieu.Table.filters.searchByType")),c(4),O(" ",f(28,27,"Lieu.Table.columns.capaciteMax")," "),c(2),g("placeholder",f(30,29,"Lieu.Table.filters.filterByCapacity")),c(4),O(" ",f(34,31,"Lieu.Table.columns.actions")," "))}function aU(n,e){if(n&1){let t=W();d(0,"div")(1,"button",116),h(2,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.deleteLieu(r.id))}),u(),d(3,"button",117),h(4,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.showUpdateLieuDialog(r))}),u(),d(5,"button",118),h(6,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.showLieuDetails(r))}),u()()}n&2&&(c(),g("pTooltip",f(2,3,"Lieu.Table.buttons.delete")),c(2),g("pTooltip",f(4,5,"Lieu.Table.buttons.edit")),c(2),g("pTooltip",f(6,7,"Lieu.Table.buttons.details")))}function oU(n,e){n&1&&(d(0,"div",119),v(1),h(2,"translate"),u()),n&2&&(c(),O(" ",f(2,1,"Lieu.Table.messages.unauthorized")," "))}function sU(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u(),d(5,"td"),v(6),u(),d(7,"td"),v(8),u(),d(9,"td"),v(10),u(),d(11,"td"),R(12,aU,7,9,"div",114)(13,oU,3,3,"div",115),u()()),n&2){let t=e.$implicit,i=w();c(2),x(t.nom),c(2),x(t.ville),c(2),x(t.codePostal),c(2),x(t.type),c(2),x(t.capaciteMax),c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin)}}function lU(n,e){n&1&&(d(0,"tr")(1,"td",120),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Lieu.Table.messages.noData")))}function cU(n,e){n&1&&(d(0,"tr")(1,"td",120),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Lieu.Table.messages.loading")))}function dU(n,e){if(n&1&&(d(0,"div",31)(1,"div",43)(2,"div",38)(3,"h4"),v(4),h(5,"translate"),u(),d(6,"p")(7,"strong"),v(8),h(9,"translate"),u(),v(10),u(),d(11,"p")(12,"strong"),v(13),h(14,"translate"),u(),v(15),u(),d(16,"p")(17,"strong"),v(18),h(19,"translate"),u(),v(20),u(),d(21,"p")(22,"strong"),v(23),h(24,"translate"),u(),v(25),h(26,"translate"),u(),d(27,"p")(28,"strong"),v(29),h(30,"translate"),u(),v(31),h(32,"translate"),u()(),d(33,"div",38)(34,"h4"),v(35),h(36,"translate"),u(),d(37,"p")(38,"strong"),v(39),h(40,"translate"),u(),v(41),u(),d(42,"p")(43,"strong"),v(44),h(45,"translate"),u(),v(46),u(),d(47,"p")(48,"strong"),v(49),h(50,"translate"),u(),v(51),u(),d(52,"p")(53,"strong"),v(54),h(55,"translate"),u(),v(56),h(57,"translate"),u()()()()),n&2){let t=w();c(4),x(f(5,20,"Lieu.details.sections.basicInfo")),c(4),O("",f(9,22,"Lieu.details.fields.name"),":"),c(2),O(" ",t.selectedLieu.nom,""),c(3),O("",f(14,24,"Lieu.details.fields.type"),":"),c(2),O(" ",t.selectedLieu.type,""),c(3),O("",f(19,26,"Lieu.details.fields.capacity"),":"),c(2),O(" ",t.selectedLieu.capaciteMax,""),c(3),O("",f(24,28,"Lieu.details.fields.dimensions"),":"),c(2),O(" ",t.selectedLieu.dimensions||f(26,30,"Lieu.details.notSpecified"),""),c(4),O("",f(30,32,"Lieu.details.fields.facilities"),":"),c(2),O(" ",t.selectedLieu.installations||f(32,34,"Lieu.details.notSpecified"),""),c(4),x(f(36,36,"Lieu.details.sections.location")),c(4),O("",f(40,38,"Lieu.details.fields.address"),":"),c(2),O(" ",t.selectedLieu.adresse,""),c(3),O("",f(45,40,"Lieu.details.fields.city"),":"),c(2),O(" ",t.selectedLieu.ville,""),c(3),O("",f(50,42,"Lieu.details.fields.postalCode"),":"),c(2),O(" ",t.selectedLieu.codePostal,""),c(3),O("",f(55,44,"Lieu.details.fields.parentPlace"),":"),c(2),O(" ",t.getParentLieuName(t.selectedLieu.parentLieuId)||f(57,46,"Lieu.details.none")," ")}}function uU(n,e){n&1&&(d(0,"div",121),P(1,"i",122),v(2),h(3,"translate"),u()),n&2&&(c(2),O("",f(3,1,"Lieu.fields.estimationencours")," "))}function pU(n,e){if(n&1&&(d(0,"div",123),P(1,"i",124),v(2),h(3,"translate"),u()),n&2){let t=w();c(2),Se(" ",f(3,2,"Lieu.fields.dimensionsestime"),": ",t.estimatedDimensions," ")}}function mU(n,e){if(n&1&&(v(0),h(1,"translate")),n&2){let t=e.$implicit;O(" ",f(1,1,t.label)," ")}}var Xf=class n{constructor(e,t,i,r,a,o,s,l,p,m,_,S){this.translate=e;this.chevalService=t;this.messageService=i;this.confirmationService=r;this.lieuService=a;this.entiteService=o;this.raceService=s;this.categorieService=l;this.contactService=p;this.chevalContactService=m;this.datePipe=_;this.authService=S;this.entiteIdlogin=this.authService.getEntiteId(),this.updateTranslatedOptionscheval(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptionscheval()}),this.updateTranslatedOptionscheval(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptionscheval(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;dt2;updateLieuForm;get exportLieuxColumns(){return[{title:"ID",dataKey:"id"},{title:"Nom",dataKey:"nom"},{title:"Adresse",dataKey:"adresse"},{title:"Ville",dataKey:"ville"},{title:"Code Postal",dataKey:"codePostal"},{title:"Type",dataKey:"type"},{title:"Capacit\xE9",dataKey:"capaciteMax"},{title:"Dimensions",dataKey:"dimensions"},{title:"Installations",dataKey:"installations"},{title:"Lieu Parent",dataKey:"parentLieuId"}]}exportExcelLieux(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.lieux.map(o=>{let s={};return this.exportLieuxColumns.forEach(l=>{let p=l.dataKey;o[p]!==void 0&&o[p]!==null?p==="parentLieuId"?s[l.title]=o.parentLieuId?this.getParentLieuName(o.parentLieuId):"Aucun":s[l.title]=o[p]:s[l.title]=""}),s}),r={Sheets:{"Liste Lieux":e.utils.json_to_sheet(t)},SheetNames:["Liste Lieux"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"lieux")})}exportCSVLieux(){if(!this.lieux||this.lieux.length===0){console.warn("Aucune donn\xE9e \xE0 exporter");return}try{let e=this.convertLieuxToCSV(this.lieux);this.downloadFile(e,"lieux.csv","text/csv;charset=utf-8;")}catch(e){console.error("Erreur lors de l'export CSV:",e)}}convertLieuxToCSV(e){if(!e||e.length===0)return"";let t=this.exportLieuxColumns.map(a=>a.title),i=this.exportLieuxColumns.map(a=>a.dataKey),r=t.join(";")+`\r
`;return e.forEach(a=>{i.forEach((o,s)=>{s>0&&(r+=";");let l=a[o];o==="parentLieuId"&&(l=a.parentLieuId?this.getParentLieuName(a.parentLieuId):"Aucun"),r+=l!=null?JSON.stringify(l).replace(/"/g,""):""}),r+=`\r
`}),r}exportPdfLieux(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des lieux",subject:"Export PDF",author:"Votre Application",keywords:"lieux, liste, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES LIEUX",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+40;t(i,{startY:p,head:[this.exportLieuxColumns.map(m=>m.title)],body:this.lieux.map(m=>[m.id,m.nom,m.adresse,m.ville,m.codePostal,m.type,m.capaciteMax,m.dimensions||"",m.installations||"",m.parentLieuId?this.getParentLieuName(m.parentLieuId):"Aucun"]),styles:{fontSize:8,cellPadding:3,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[51,102,153],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:30},1:{cellWidth:40},2:{cellWidth:60},7:{cellWidth:40},8:{cellWidth:50}},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des lieux",o,o-10)}}),i.save(`lieux_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Erreur lors de la g\xE9n\xE9ration du PDF:",e)}})}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",o=new Blob([e],{type:r});i.saveAs(o,t+"_export_"+new Date().getTime()+a)})}chevaux=[];chevauxnotarchived=[];lieux=[];entite=[];race=[];contact=[];filteredChevaux=[];filteredChevauxnotarchived=[];displayAddChevalDialog=!1;displayAddcategorie=!1;newCheval=new Qt;searchText="";loading=!0;chevalToEdit=null;displayEditChevalDialog=!1;sexeOptions=[{label:"M\xE2le",value:"M\xE2le"},{label:"Femelle",value:"Femelle"}];categorieOptions=[];raceOptions=[];pereOptions=[];souscategoriesOptions=[];parentOptions=[];mereOptions=[];lieuOptions=[];entiteOptions=[];contactOptions=[];chevauxOptions=[];maladieOptions=[{label:"Grippe \xE9quine",value:"Grippe \xE9quine"},{label:"Rhinopneumonie",value:"Rhinopneumonie"},{label:"T\xE9tanos",value:"T\xE9tanos"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Art\xE9rite virale \xE9quine",value:"Art\xE9rite virale \xE9quine"},{label:"Piroplasmose",value:"Piroplasmose"},{label:"Lymphangite \xE9pizootique",value:"Lymphangite \xE9pizootique"},{label:"Dermatophilose",value:"Dermatophilose"},{label:"Gourme",value:"Gourme"},{label:"Fourbure",value:"Fourbure"},{label:"Coliques",value:"Coliques"},{label:"Laminite",value:"Laminite"},{label:"Myopathie atypique",value:"Myopathie atypique"},{label:"Maladie de Lyme",value:"Maladie de Lyme"},{label:"Leucose \xE9quine",value:"Leucose \xE9quine"},{label:"Enc\xE9phalomy\xE9lite \xE9quine",value:"Enc\xE9phalomy\xE9lite \xE9quine"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Syndrome naviculaire",value:"Syndrome naviculaire"},{label:"Dermatite estivale r\xE9cidivante",value:"Dermatite estivale r\xE9cidivante"},{label:"Paralysie \xE0 tiques",value:"Paralysie \xE0 tiques"}];symptomesOptions=[{label:"Fi\xE8vre",value:"Fi\xE8vre"},{label:"Toux",value:"Toux"},{label:"\xC9coulement nasal",value:"\xC9coulement nasal"},{label:"Difficult\xE9 respiratoire",value:"Difficult\xE9 respiratoire"},{label:"Perte d'app\xE9tit",value:"Perte d'app\xE9tit"},{label:"Apathie",value:"Apathie"},{label:"Raideur musculaire",value:"Raideur musculaire"},{label:"Spasmes musculaires",value:"Spasmes musculaires"},{label:"Difficult\xE9 \xE0 avaler",value:"Difficult\xE9 \xE0 avaler"},{label:"Jaunisse",value:"Jaunisse"},{label:"Urine fonc\xE9e",value:"Urine fonc\xE9e"},{label:"Gonflement des membres",value:"Gonflement des membres"},{label:"Boiterie",value:"Boiterie"},{label:"Douleur articulaire",value:"Douleur articulaire"},{label:"L\xE9sions cutan\xE9es",value:"L\xE9sions cutan\xE9es"},{label:"D\xE9mangeaisons intenses",value:"D\xE9mangeaisons intenses"},{label:"\xC9coulement oculaire",value:"\xC9coulement oculaire"},{label:"Diarrh\xE9e",value:"Diarrh\xE9e"},{label:"Coliques",value:"Coliques"},{label:"Transpiration excessive",value:"Transpiration excessive"},{label:"Tremblements",value:"Tremblements"},{label:"Paralysie",value:"Paralysie"},{label:"Perte de poids",value:"Perte de poids"},{label:"\u0152d\xE8me",value:"\u0152d\xE8me"},{label:"Saignements",value:"Saignements"},{label:"Douleur abdominale",value:"Douleur abdominale"},{label:"D\xE9shydratation",value:"D\xE9shydratation"},{label:"Faiblesse g\xE9n\xE9rale",value:"Faiblesse g\xE9n\xE9rale"},{label:"Incoordination",value:"Incoordination"},{label:"Convulsions",value:"Convulsions"}];categories=[];newCategorie=new en;totalcategories=null;displayDetailsDialog=!1;selectedLieu=new ro;displayLieuDialog=!1;isAdmin=!1;translatedSexeOptions=[];currentLanguage="en";robeoptions=[];entiteIdlogin=null;entiteLogin=null;updateTranslatedOptions(){this.lieuTypes=[{label:this.translate.instant("Lieu.types.Ecurie"),value:"Ecurie"},{label:this.translate.instant("Lieu.types.Paddock"),value:"Paddock"},{label:this.translate.instant("Lieu.types.Manege"),value:"Manege"},{label:this.translate.instant("Lieu.types.Carriere"),value:"Carriere"},{label:this.translate.instant("Lieu.types.Hangar"),value:"Hangar"}]}updateTranslatedOptionscheval(){this.translatedSexeOptions=[{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.male"),value:"M\xE2le"},{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.female"),value:"Femelle"}],this.robeoptions=[{value:"ALEZAN",label:this.translate.instant("HorseComponent.coats.ALEZAN")},{value:"BAI",label:this.translate.instant("HorseComponent.coats.BAI")},{value:"BAI_BRUN",label:this.translate.instant("HorseComponent.coats.BAI_BRUN")},{value:"BLANC",label:this.translate.instant("HorseComponent.coats.BLANC")},{value:"GRIS",label:this.translate.instant("HorseComponent.coats.GRIS")},{value:"NOIR",label:this.translate.instant("HorseComponent.coats.NOIR")},{value:"PIE",label:this.translate.instant("HorseComponent.coats.PIE")},{value:"ROUAN",label:this.translate.instant("HorseComponent.coats.ROUAN")},{value:"SOURIS",label:this.translate.instant("HorseComponent.coats.SOURIS")},{value:"AUBERE",label:this.translate.instant("HorseComponent.coats.AUBERE")},{value:"CREME",label:this.translate.instant("HorseComponent.coats.CREME")},{value:"ISABELLE",label:this.translate.instant("HorseComponent.coats.ISABELLE")},{value:"PALOMINO",label:this.translate.instant("HorseComponent.coats.PALOMINO")}]}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadChevaux(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadRace(),this.loadParentLieux(),this.loadContact(),this.loadCategories(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions()}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin(),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}loadCategories(){this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{this.categories=e.details,this.totalcategories=e.details.length,this.categorieOptions=this.categories.map(t=>({label:t.nomFr,value:t.id})),this.updatesouscategoriesOptions(),this.updateparentOptions()},error:e=>{console.error("Failed to load categories:",e)}})}getParentLieuName(e){if(!e)return"";let t=this.parentLieuxOptions.find(i=>i.value===e);return t?t.label:""}showLieuDetails(e){this.selectedLieu=e,this.displayDetailsDialog=!0,console.log("D\xE9tails lieu:",e)}displayAddLieuDialog=!1;newLieu=new ro;lieuTypes=[];parentLieuxOptions=[];showAddLieuDialog(){this.displayAddLieuDialog=!0,this.newLieu=new ro}hideAddLieuDialog(){this.displayAddLieuDialog=!1}loadParentLieux(){this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.parentLieuxOptions=e.details.map(t=>({label:`${t.nom} (${t.ville})`,value:t.id}))},error:e=>{console.error("Erreur lors du chargement des lieux parents:",e)}})}largeur=null;longueur=null;combineDimensions(){this.largeur!==null&&this.longueur!==null?this.newLieu.dimensions=`${this.largeur}m*${this.longueur}m`:this.largeur!==null?this.newLieu.dimensions=`${this.largeur}m*0m`:this.longueur!==null?this.newLieu.dimensions=`0m*${this.longueur}m`:this.newLieu.dimensions=""}addLieu(e){e.valid&&(this.newLieu.EntiteId=this.entiteIdlogin??0,this.lieuService.addLieu(this.newLieu).subscribe({next:t=>{this.hideAddLieuDialog(),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Lieu.ajoutSuccess")}),this.displayAddcategorie=!1,this.loadLieux(),this.loadParentLieux(),this.largeur=null,this.longueur=null,this.newLieu=new ro},error:t=>{let i=this.translate.instant("Lieu.ajouttError");t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}editLargeur=null;editLongueur=null;parseDimensionsForEdit(e){if(e){let t=e.split("*");t.length===2&&(this.editLargeur=parseInt(t[0].replace("m",""),10)||null,this.editLongueur=parseInt(t[1].replace("m",""),10)||null)}else this.editLargeur=null,this.editLongueur=null}combineDimensionsForEdit(){this.editLargeur!==null&&this.editLongueur!==null?this.selectedLieu.dimensions=`${this.editLargeur}m*${this.editLongueur}m`:this.selectedLieu.dimensions=""}showUpdateLieuDialog(e){return Ft(this,null,function*(){this.parentLieuxOptions.length===0&&(yield this.loadParentLieux()),this.selectedLieu=z({},e),this.parseDimensionsForEdit(e.dimensions),this.displayLieuDialog=!0})}updateLieu(){this.confirmationService.confirm({message:this.translate.instant("Lieu.modifConfirmation"),header:this.translate.instant("Lieu.modifConfirmationHeader"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translate.instant("Lieu.Common.yes"),rejectLabel:this.translate.instant("Lieu.Common.no"),accept:()=>{this.lieuService.updateLieu(this.selectedLieu.id,this.selectedLieu,this.entiteIdlogin).subscribe({next:e=>{this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:this.translate.instant("Lieu.modifSuccess")}),this.loadLieux(),this.displayLieuDialog=!1,this.editLargeur=null,this.editLongueur=null},error:e=>{console.error("Error updating lieu:",e);let t=this.translate.instant("Lieu.modifError");e.error?.message?t=e.error.message:e.message&&(t=e.message),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:t})}})},reject:()=>{this.messageService.add({severity:"info",summary:this.translate.instant("Cancelled"),detail:this.translate.instant("Lieu.modifCancelled")})}})}deleteLieu(e){this.confirmationService.confirm({message:this.translate.instant("Lieu.deleteConfirmation"),header:this.translate.instant("Lieu.deleteConfirmationHeader"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translate.instant("Lieu.Common.yes"),rejectLabel:this.translate.instant("Lieu.Common.no"),accept:()=>{this.lieuService.deleteLieu(e,this.entiteIdlogin).subscribe({next:t=>{this.lieux=this.lieux.filter(i=>i.id!==e),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:this.translate.instant("Lieu.deleteSuccess")})},error:t=>{console.error("Erreur lors de la suppression:",t);let i=this.translate.instant("Lieu.deleteError");t.error?.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:i})}})},reject:()=>{this.messageService.add({severity:"info",summary:this.translate.instant("Cancelled"),detail:this.translate.instant("Lieu.deleteCancelled")})}})}totalChevaux=null;totalChevauxnotarchived=null;loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.chevaux=e.details,this.filteredChevaux=e.details,this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.filteredChevauxnotarchived=e.details,this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux not archived :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}totallieux=null;loadLieux(){this.loading=!0,this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.totallieux=e.details.length,this.lieuOptions=this.lieux.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des lieux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des lieux."})}})}loadRace(){this.loading=!0,this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.race=e.details,console.log(e.details),this.raceOptions=this.race.map(t=>({label:t.description,value:t.codeRace})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des races",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des races."})}})}loadContact(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.contact=e.details,this.contactOptions=this.contact.map(t=>({label:t.nom+" "+t.prenom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}updatePereAndMereOptions(){this.pereOptions=[{label:"---",value:""}],this.mereOptions=[{label:"---",value:""}],this.chevaux.forEach(e=>{this.pereOptions.push({label:e.nom,value:e.numeroSIRE}),this.mereOptions.push({label:e.nom,value:e.numeroSIRE})}),this.chevauxnotarchived.forEach(e=>{this.chevauxOptions.push({label:e.nom,value:e.numeroSIRE})})}updatesouscategoriesOptions(){this.souscategoriesOptions=[{label:"---",value:0}],this.categories.forEach(e=>{this.souscategoriesOptions.push({label:e.nomFr,value:e.id})})}updateparentOptions(){this.parentOptions=[{label:"---",value:0}],this.categories.forEach(e=>{this.parentOptions.push({label:e.nomFr,value:e.id})})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}showAddChevalDialog(){this.displayAddChevalDialog=!0}generateNumeroSIRE(e,t){let i=t.getFullYear().toString().slice(-2),r=(e+1).toString(),a=7-r.length,o="0".repeat(a)+r;return i+o}generateRandomSixDigits(){return Math.floor(Math.random()*1e6).toString().padStart(6,"0")}addCheval(e){e.valid&&(console.log(this.newCheval),this.chevalService.getMaxId().subscribe({next:t=>{this.newCheval.numeroSIRE=this.generateNumeroSIRE(t.details,this.newCheval.dateDeNaissance),this.newCheval.entiteId=this.entiteIdlogin;let i=this.generateRandomSixDigits();this.newCheval.cleSIRE=this.newCheval.numeroSIRE+i,this.newCheval.pereId===""&&(this.newCheval.pereId=""),this.newCheval.mereId===""&&(this.newCheval.mereId=""),this.chevalService.addCheval(this.newCheval).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:r.message}),this.displayAddChevalDialog=!1,this.loadChevaux(),this.newCheval=new Qt},error:r=>{let a="Erreur lors de l'ajout du cheval.";r.error&&r.error.message?a=r.error.message:r.message&&(a=r.message),this.messageService.add({severity:"error",summary:"Erreur",detail:a})}})},error:t=>{let i="Erreur lors de la r\xE9cup\xE9ration de l'ID maximum.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}estimatedDimensions=null;loadingEstimation=!1;onTypeChange(){this.newLieu.type&&this.newLieu.capaciteMax?this.estimateDimensions():this.newLieu.type&&this.estimateDimensions(0)}onCapacityChange(){this.newLieu.type&&this.newLieu.capaciteMax&&this.estimateDimensions()}estimateDimensions(e){let t=e!==void 0?e:this.newLieu.capaciteMax;!this.newLieu.type||t===void 0||(this.loadingEstimation=!0,this.lieuService.estimateDimensions(this.newLieu.type,t,this.entiteIdlogin).subscribe({next:i=>{if(console.log("R\xE9ponse compl\xE8te:",i),i){this.estimatedDimensions=i.recommendedDimensions;let r=i.recommendedDimensions.split("m*");r.length===2&&(this.largeur=parseFloat(r[0]),this.longueur=parseFloat(r[1]),this.combineDimensions())}else console.warn("R\xE9ponse du serveur invalide:",i),this.messageService.add({severity:"warn",summary:"Avertissement",detail:"Les dimensions recommand\xE9es ne sont pas disponibles dans la r\xE9ponse."});this.loadingEstimation=!1},error:i=>{console.error("Erreur lors de l'estimation des dimensions:",i),this.loadingEstimation=!1,this.messageService.add({severity:"warn",summary:"Avertissement",detail:"Impossible d'estimer les dimensions automatiquement. Veuillez les saisir manuellement."})}}))}static \u0275fac=function(t){return new(t||n)(B(Fe),B(me),B(ne),B(ce),B(Ce),B(oe),B(ke),B(be),B(Ie),B($e),B(he),B(ze))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&(Te(XW,5),Te(ZW,5),Te(JW,5)),t&2){let r;Z(r=J())&&(i.dt1=r.first),Z(r=J())&&(i.dt2=r.first),Z(r=J())&&(i.updateLieuForm=r.first)}},features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,he])],decls:311,vars:353,consts:[["dt2",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["updateLieuForm","ngForm"],["addLieuForm","ngForm"],["addChevalForm","ngForm"],["rel","stylesheet","href",Yn`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css`],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-6"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-building","text-blue-500","!text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-fluid"],[1,"p-grid","p-fluid"],[1,"p-col-12"],[1,"p-field"],[3,"for"],["id","edit-nom","pInputText","","name","nom","required","",3,"ngModelChange","ngModel","placeholder"],["id","edit-adresse","pInputText","","name","adresse","required","",3,"ngModelChange","ngModel","placeholder"],[1,"p-col-12","p-md-6"],["id","edit-ville","pInputText","","name","ville","required","",3,"ngModelChange","ngModel","placeholder"],["id","edit-codePostal","pInputText","","name","codePostal","required","",3,"ngModelChange","ngModel","placeholder"],["id","edit-type","name","type","required","",3,"ngModelChange","ngModel","options","placeholder"],["id","edit-capaciteMax","pInputText","","type","number","name","capaciteMax",3,"ngModelChange","ngModel","placeholder"],[1,"p-grid"],[1,"p-col-12","p-md-5"],[1,"p-inputgroup"],["type","number","pInputText","","name","editLongueur","min","1","step","1",3,"ngModelChange","change","ngModel","placeholder"],["type","number","pInputText","","name","editLargeur","min","1","step","1",3,"ngModelChange","change","ngModel","placeholder"],["id","edit-installations","pInputText","","name","installations",3,"ngModelChange","ngModel","placeholder"],["id","edit-parentLieuId","name","parentLieuId","filterBy","label",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],["class","p-fluid",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-times",3,"click","label"],["for","nom"],["id","nom","pInputText","","name","nom","required","",3,"ngModelChange","ngModel","placeholder"],["for","adresse"],["id","adresse","pInputText","","name","adresse","required","",3,"ngModelChange","ngModel","placeholder"],["for","ville"],["id","ville","pInputText","","name","ville","required","",3,"ngModelChange","ngModel","placeholder"],["for","codePostal"],["id","codePostal","pInputText","","name","codePostal","required","",3,"ngModelChange","ngModel","placeholder"],["for","type"],["id","type","name","type","required","",3,"ngModelChange","onChange","ngModel","options","placeholder"],["for","capaciteMax"],["id","capaciteMax","pInputText","","type","number","name","capaciteMax",3,"ngModelChange","change","ngModel","placeholder"],["class","text-sm text-primary",4,"ngIf"],["class","text-sm text-green-600",4,"ngIf"],["type","number","pInputText","","name","longueur","min","1","step","1",3,"ngModelChange","change","ngModel","placeholder"],["type","number","pInputText","","name","largeur","min","1","step","1",3,"ngModelChange","change","ngModel","placeholder"],["for","installations"],["id","installations","pInputText","","name","installations",3,"ngModelChange","ngModel","placeholder"],["for","parentLieuId"],["id","parentLieuId","name","parentLieuId","filterBy","label",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["id","nom","type","text","pInputText","","name","nom","required","",3,"ngModelChange","ngModel"],["for","robe"],["id","robe","name","robe","optionLabel","label","optionValue","value","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],["pTemplate","item"],["for","dateDeNaissance"],["id","dateDeNaissance","name","dateDeNaissance","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showIcon"],["for","sexe"],["id","sexe","filterBy","label","name","sexe","name","sexe","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","pereId"],["id","pereId","filterBy","label","name","pereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","mereId"],["id","mereId","filterBy","label","name","mereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","lieuId"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","raceCodeRace"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","categoriesId"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","contactIds"],["id","contactIds","required","","name","contactIds","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["icon","pi pi-file-pdf","styleClass","p-button-danger",3,"click","label"],["icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","12rem"],[1,"flex","justify-between","items-center"],["type","text","field","nom","display","menu",3,"placeholder"],["type","text","field","ville","display","menu",3,"placeholder"],[2,"min-width","8rem"],["type","text","field","codePostal","display","menu",3,"placeholder"],[2,"min-width","10rem"],["type","text","field","type","display","menu",3,"placeholder"],["type","numeric","field","capaciteMax","display","menu",3,"placeholder"],[4,"ngIf"],["class","text-center p-3 text-red-500 font-bold",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-warning","p-button-text","p-button-icon-only","ml-2",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","pi pi-info-circle",1,"p-button-info","p-button-text","p-button-icon-only","ml-2",3,"click","pTooltip"],[1,"text-center","p-3","text-red-500","font-bold"],["colspan","7"],[1,"text-sm","text-primary"],[1,"pi","pi-spinner","pi-spin"],[1,"text-sm","text-green-600"],[1,"pi","pi-check-circle"]],template:function(t,i){if(t&1){let r=W();P(0,"link",9),d(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"div")(6,"span",14),v(7),h(8,"translate"),u()(),d(9,"div",15),P(10,"i",16),u()(),d(11,"span",17),v(12),h(13,"translate"),u(),v(14," | "),d(15,"span",17),v(16),h(17,"translate"),u()()(),d(18,"div",11)(19,"div",12)(20,"div",13)(21,"div")(22,"span",14),v(23),h(24,"translate"),u(),d(25,"div",18),v(26),u()(),d(27,"div",19),P(28,"i",20),u()()()(),P(29,"div",21),d(30,"div",22),P(31,"p-toast")(32,"p-confirmDialog",23),d(33,"div",24)(34,"div",25)(35,"div",26),v(36),h(37,"translate"),u()(),R(38,iU,5,6,"div",27),d(39,"p-table",28,0),R(41,nU,16,15,"ng-template",null,1,ae)(43,rU,35,33,"ng-template",null,2,ae)(45,sU,14,7,"ng-template",null,3,ae)(47,lU,4,3,"ng-template",null,4,ae)(49,cU,4,3,"ng-template",null,5,ae),u()(),d(51,"p-dialog",29),h(52,"translate"),A("visibleChange",function(o){return y(r),D(i.displayLieuDialog,o)||(i.displayLieuDialog=o),b(o)}),d(53,"form",30,6),L("ngSubmit",function(){return y(r),b(i.updateLieu())}),d(55,"div",31)(56,"div",32)(57,"div",33)(58,"div",34)(59,"label",35),v(60),h(61,"translate"),u(),d(62,"input",36),h(63,"translate"),A("ngModelChange",function(o){return y(r),D(i.selectedLieu.nom,o)||(i.selectedLieu.nom=o),b(o)}),u()()(),d(64,"div",33)(65,"div",34)(66,"label",35),v(67),h(68,"translate"),u(),d(69,"input",37),h(70,"translate"),A("ngModelChange",function(o){return y(r),D(i.selectedLieu.adresse,o)||(i.selectedLieu.adresse=o),b(o)}),u()()(),d(71,"div",38)(72,"div",34)(73,"label",35),v(74),h(75,"translate"),u(),d(76,"input",39),h(77,"translate"),A("ngModelChange",function(o){return y(r),D(i.selectedLieu.ville,o)||(i.selectedLieu.ville=o),b(o)}),u()()(),d(78,"div",38)(79,"div",34)(80,"label",35),v(81),h(82,"translate"),u(),d(83,"input",40),h(84,"translate"),A("ngModelChange",function(o){return y(r),D(i.selectedLieu.codePostal,o)||(i.selectedLieu.codePostal=o),b(o)}),u()()(),d(85,"div",38)(86,"div",34)(87,"label",35),v(88),h(89,"translate"),u(),d(90,"p-dropdown",41),h(91,"translate"),A("ngModelChange",function(o){return y(r),D(i.selectedLieu.type,o)||(i.selectedLieu.type=o),b(o)}),u()()(),d(92,"div",38)(93,"div",34)(94,"label",35),v(95),h(96,"translate"),u(),d(97,"input",42),h(98,"translate"),A("ngModelChange",function(o){return y(r),D(i.selectedLieu.capaciteMax,o)||(i.selectedLieu.capaciteMax=o),b(o)}),u()()(),d(99,"div",38)(100,"div",34)(101,"label"),v(102),h(103,"translate"),u(),d(104,"div",43)(105,"div",44)(106,"div",45)(107,"input",46),h(108,"translate"),A("ngModelChange",function(o){return y(r),D(i.editLongueur,o)||(i.editLongueur=o),b(o)}),L("change",function(){return y(r),b(i.combineDimensionsForEdit())}),u()()()()(),d(109,"div",34)(110,"label"),v(111),h(112,"translate"),u(),d(113,"div",43)(114,"div",44)(115,"div",45)(116,"input",47),h(117,"translate"),A("ngModelChange",function(o){return y(r),D(i.editLargeur,o)||(i.editLargeur=o),b(o)}),L("change",function(){return y(r),b(i.combineDimensionsForEdit())}),u()()()()()(),d(118,"div",38)(119,"div",34)(120,"label",35),v(121),h(122,"translate"),u(),d(123,"input",48),h(124,"translate"),A("ngModelChange",function(o){return y(r),D(i.selectedLieu.installations,o)||(i.selectedLieu.installations=o),b(o)}),u()()(),d(125,"div",33)(126,"div",34)(127,"label",35),v(128),h(129,"translate"),u(),d(130,"p-dropdown",49),h(131,"translate"),A("ngModelChange",function(o){return y(r),D(i.selectedLieu.parentLieuId,o)||(i.selectedLieu.parentLieuId=o),b(o)}),u()()()()(),d(132,"div",50)(133,"button",51),h(134,"translate"),L("click",function(){return y(r),b(i.displayLieuDialog=!1)}),u(),P(135,"button",52),h(136,"translate"),u()()(),d(137,"p-dialog",29),h(138,"translate"),A("visibleChange",function(o){return y(r),D(i.displayDetailsDialog,o)||(i.displayDetailsDialog=o),b(o)}),R(139,dU,58,48,"div",53),d(140,"div",50)(141,"button",54),h(142,"translate"),L("click",function(){return y(r),b(i.displayDetailsDialog=!1)}),u()()(),d(143,"p-dialog",29),h(144,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddLieuDialog,o)||(i.displayAddLieuDialog=o),b(o)}),d(145,"form",30,7),L("ngSubmit",function(){y(r);let o=Q(146);return b(i.addLieu(o))}),d(147,"div",31)(148,"div",32)(149,"div",33)(150,"div",34)(151,"label",55),v(152),h(153,"translate"),u(),d(154,"input",56),h(155,"translate"),A("ngModelChange",function(o){return y(r),D(i.newLieu.nom,o)||(i.newLieu.nom=o),b(o)}),u()()(),d(156,"div",33)(157,"div",34)(158,"label",57),v(159),h(160,"translate"),u(),d(161,"input",58),h(162,"translate"),A("ngModelChange",function(o){return y(r),D(i.newLieu.adresse,o)||(i.newLieu.adresse=o),b(o)}),u()()(),d(163,"div",38)(164,"div",34)(165,"label",59),v(166),h(167,"translate"),u(),d(168,"input",60),h(169,"translate"),A("ngModelChange",function(o){return y(r),D(i.newLieu.ville,o)||(i.newLieu.ville=o),b(o)}),u()()(),d(170,"div",38)(171,"div",34)(172,"label",61),v(173),h(174,"translate"),u(),d(175,"input",62),h(176,"translate"),A("ngModelChange",function(o){return y(r),D(i.newLieu.codePostal,o)||(i.newLieu.codePostal=o),b(o)}),u()()(),d(177,"div",38)(178,"div",34)(179,"label",63),v(180),h(181,"translate"),u(),d(182,"p-dropdown",64),h(183,"translate"),A("ngModelChange",function(o){return y(r),D(i.newLieu.type,o)||(i.newLieu.type=o),b(o)}),L("onChange",function(){return y(r),b(i.onTypeChange())}),u()()(),d(184,"div",38)(185,"div",34)(186,"label",65),v(187),h(188,"translate"),u(),d(189,"input",66),h(190,"translate"),A("ngModelChange",function(o){return y(r),D(i.newLieu.capaciteMax,o)||(i.newLieu.capaciteMax=o),b(o)}),L("change",function(){return y(r),b(i.onCapacityChange())}),u()(),R(191,uU,4,3,"div",67)(192,pU,4,4,"div",68),u(),d(193,"div",33)(194,"div",34)(195,"label"),v(196),h(197,"translate"),u(),d(198,"div",43)(199,"div",44)(200,"div",45)(201,"input",69),h(202,"translate"),A("ngModelChange",function(o){return y(r),D(i.longueur,o)||(i.longueur=o),b(o)}),L("change",function(){return y(r),b(i.combineDimensions())}),u()()()()(),d(203,"div",34)(204,"label"),v(205),h(206,"translate"),u(),d(207,"div",43)(208,"div",44)(209,"div",45)(210,"input",70),h(211,"translate"),A("ngModelChange",function(o){return y(r),D(i.largeur,o)||(i.largeur=o),b(o)}),L("change",function(){return y(r),b(i.combineDimensions())}),u()()()()()(),d(212,"div",38)(213,"div",34)(214,"label",71),v(215),h(216,"translate"),u(),d(217,"input",72),h(218,"translate"),A("ngModelChange",function(o){return y(r),D(i.newLieu.installations,o)||(i.newLieu.installations=o),b(o)}),u()()(),d(219,"div",33)(220,"div",34)(221,"label",73),v(222),h(223,"translate"),u(),d(224,"p-dropdown",74),h(225,"translate"),A("ngModelChange",function(o){return y(r),D(i.newLieu.parentLieuId,o)||(i.newLieu.parentLieuId=o),b(o)}),u()()()()(),d(226,"div",50)(227,"button",51),h(228,"translate"),L("click",function(){return y(r),b(i.hideAddLieuDialog())}),u(),P(229,"button",52),h(230,"translate"),u()()(),d(231,"p-dialog",29),h(232,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalDialog,o)||(i.displayAddChevalDialog=o),b(o)}),d(233,"form",30,8),L("ngSubmit",function(){y(r);let o=Q(234);return b(i.addCheval(o))}),d(235,"div",31)(236,"div",32)(237,"div",38)(238,"div",34)(239,"label",55),v(240),h(241,"translate"),u(),d(242,"input",75),A("ngModelChange",function(o){return y(r),D(i.newCheval.nom,o)||(i.newCheval.nom=o),b(o)}),u()()(),d(243,"div",38)(244,"div",34)(245,"label",76),v(246),h(247,"translate"),u(),d(248,"p-dropdown",77),h(249,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.robe,o)||(i.newCheval.robe=o),b(o)}),R(250,mU,2,3,"ng-template",78),u()()(),d(251,"div",38)(252,"div",34)(253,"label",79),v(254),h(255,"translate"),u(),d(256,"p-calendar",80),A("ngModelChange",function(o){return y(r),D(i.newCheval.dateDeNaissance,o)||(i.newCheval.dateDeNaissance=o),b(o)}),u()()(),d(257,"div",38)(258,"div",34)(259,"label",81),v(260),h(261,"translate"),u(),d(262,"p-dropdown",82),h(263,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.sexe,o)||(i.newCheval.sexe=o),b(o)}),u()()(),d(264,"div",38)(265,"div",34)(266,"label",83),v(267),h(268,"translate"),u(),d(269,"p-dropdown",84),h(270,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.pereId,o)||(i.newCheval.pereId=o),b(o)}),u()()(),d(271,"div",38)(272,"div",34)(273,"label",85),v(274),h(275,"translate"),u(),d(276,"p-dropdown",86),h(277,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.mereId,o)||(i.newCheval.mereId=o),b(o)}),u()()(),d(278,"div",38)(279,"div",34)(280,"label",87),v(281),h(282,"translate"),u(),d(283,"p-dropdown",88),h(284,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.lieuId,o)||(i.newCheval.lieuId=o),b(o)}),u()()(),d(285,"div",38)(286,"div",34)(287,"label",89),v(288),h(289,"translate"),u(),d(290,"p-dropdown",90),h(291,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.raceCodeRace,o)||(i.newCheval.raceCodeRace=o),b(o)}),u()()(),d(292,"div",38)(293,"div",34)(294,"label",91),v(295),h(296,"translate"),u(),d(297,"p-dropdown",92),h(298,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.categoriesId,o)||(i.newCheval.categoriesId=o),b(o)}),u()()(),d(299,"div",38)(300,"div",34)(301,"label",93),v(302),h(303,"translate"),u(),d(304,"p-multiSelect",94),h(305,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.contactIds,o)||(i.newCheval.contactIds=o),b(o)}),u()()()()(),d(306,"div",50)(307,"button",51),h(308,"translate"),L("click",function(){return y(r),b(i.displayAddChevalDialog=!1)}),u(),P(309,"button",52),h(310,"translate"),u()()()()()}if(t&2){let r=Q(54),a=Q(146),o=Q(234);c(7),Se(" ",f(8,199,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(13,201,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(17,203,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(24,205,"Lieu.number_lieu")),c(3),x(i.totallieux),c(10),O("",f(37,207,"Lieu.list_lieu")," "),c(2),g("ngIf",i.isAdmin),c(),g("value",i.lieux)("rows",5)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(347,eU))("rowsPerPageOptions",se(348,tU)),c(12),_e(se(349,Kf)),g("header",f(52,209,"Lieu.modifTitle")),T("visible",i.displayLieuDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(8),g("for","edit-nom"),c(),x(f(61,211,"Lieu.fields.nom")),c(2),T("ngModel",i.selectedLieu.nom),g("placeholder",f(63,213,"Lieu.placeholders.nom")),c(4),g("for","edit-adresse"),c(),x(f(68,215,"Lieu.fields.adresse")),c(2),T("ngModel",i.selectedLieu.adresse),g("placeholder",f(70,217,"Lieu.placeholders.adresse")),c(4),g("for","edit-ville"),c(),x(f(75,219,"Lieu.fields.ville")),c(2),T("ngModel",i.selectedLieu.ville),g("placeholder",f(77,221,"Lieu.placeholders.ville")),c(4),g("for","edit-codePostal"),c(),x(f(82,223,"Lieu.fields.codePostal")),c(2),T("ngModel",i.selectedLieu.codePostal),g("placeholder",f(84,225,"Lieu.placeholders.codePostal")),c(4),g("for","edit-type"),c(),x(f(89,227,"Lieu.fields.type")),c(2),T("ngModel",i.selectedLieu.type),g("options",i.lieuTypes)("placeholder",f(91,229,"Lieu.placeholders.type")),c(4),g("for","edit-capaciteMax"),c(),x(f(96,231,"Lieu.fields.capaciteMax")),c(2),T("ngModel",i.selectedLieu.capaciteMax),g("placeholder",f(98,233,"Lieu.placeholders.capaciteMax")),c(5),x(f(103,235,"Lieu.fields.longueur")),c(5),T("ngModel",i.editLongueur),g("placeholder",f(108,237,"Lieu.placeholders.longueur")),c(4),x(f(112,239,"Lieu.fields.largeur")),c(5),T("ngModel",i.editLargeur),g("placeholder",f(117,241,"Lieu.placeholders.largeur")),c(4),g("for","edit-installations"),c(),x(f(122,243,"Lieu.fields.installations")),c(2),T("ngModel",i.selectedLieu.installations),g("placeholder",f(124,245,"Lieu.placeholders.installations")),c(4),g("for","edit-parentLieuId"),c(),x(f(129,247,"Lieu.fields.parentLieuId")),c(2),g("options",i.parentLieuxOptions),T("ngModel",i.selectedLieu.parentLieuId),g("filter",!0)("showClear",!0)("placeholder",f(131,249,"Lieu.placeholders.parentLieuId")),c(3),g("label",f(134,251,"Lieu.buttons.cancel")),c(2),g("label",f(136,253,"Lieu.buttons.edit"))("disabled",!r.valid),c(2),_e(se(350,Kf)),g("header",f(138,255,"Lieu.details.title")),T("visible",i.displayDetailsDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(2),g("ngIf",i.selectedLieu),c(2),g("label",f(142,257,"Lieu.details.buttons.close")),c(2),_e(se(351,Kf)),g("header",f(144,259,"Lieu.add_title")),T("visible",i.displayAddLieuDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(153,261,"Lieu.fields.nom")),c(2),T("ngModel",i.newLieu.nom),g("placeholder",f(155,263,"Lieu.placeholders.nom")),c(5),x(f(160,265,"Lieu.fields.adresse")),c(2),T("ngModel",i.newLieu.adresse),g("placeholder",f(162,267,"Lieu.fields.adresse")),c(5),x(f(167,269,"Lieu.fields.ville")),c(2),T("ngModel",i.newLieu.ville),g("placeholder",f(169,271,"Lieu.placeholders.ville")),c(5),x(f(174,273,"Lieu.fields.codePostal")),c(2),T("ngModel",i.newLieu.codePostal),g("placeholder",f(176,275,"Lieu.placeholders.codePostal")),c(5),x(f(181,277,"Lieu.fields.type")),c(2),T("ngModel",i.newLieu.type),g("options",i.lieuTypes)("placeholder",f(183,279,"Lieu.placeholders.type")),c(5),x(f(188,281,"Lieu.fields.capaciteMax")),c(2),T("ngModel",i.newLieu.capaciteMax),g("placeholder",f(190,283,"Lieu.placeholders.capaciteMax")),c(2),g("ngIf",i.loadingEstimation),c(),g("ngIf",i.estimatedDimensions&&!i.loadingEstimation),c(4),x(f(197,285,"Lieu.fields.longueur")),c(5),T("ngModel",i.longueur),g("placeholder",f(202,287,"Lieu.placeholders.longueur")),c(4),x(f(206,289,"Lieu.fields.largeur")),c(5),T("ngModel",i.largeur),g("placeholder",f(211,291,"Lieu.placeholders.largeur")),c(5),x(f(216,293,"Lieu.fields.installations")),c(2),T("ngModel",i.newLieu.installations),g("placeholder",f(218,295,"Lieu.placeholders.installations")),c(5),x(f(223,297,"Lieu.fields.parentLieuId")),c(2),g("options",i.parentLieuxOptions),T("ngModel",i.newLieu.parentLieuId),g("filter",!0)("showClear",!0)("placeholder",f(225,299,"Lieu.placeholders.parentLieuId")),c(3),g("label",f(228,301,"Lieu.buttons.cancel")),c(2),g("label",f(230,303,"Lieu.buttons.add"))("disabled",!a.valid),c(2),_e(se(352,Kf)),g("header",f(232,305,"HorseComponent.AddHorseDialog.header")),T("visible",i.displayAddChevalDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(241,307,"HorseComponent.AddHorseDialog.fields.name")),c(2),T("ngModel",i.newCheval.nom),c(4),x(f(247,309,"HorseComponent.AddHorseDialog.fields.coat")),c(2),T("ngModel",i.newCheval.robe),g("options",i.robeoptions)("placeholder",f(249,311,"HorseComponent.AddHorseDialog.selectCoat")),c(6),x(f(255,313,"HorseComponent.AddHorseDialog.fields.birth_date")),c(2),T("ngModel",i.newCheval.dateDeNaissance),g("showIcon",!0),c(4),x(f(261,315,"HorseComponent.AddHorseDialog.fields.gender")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.sexe),g("options",i.translatedSexeOptions)("placeholder",f(263,317,"HorseComponent.AddHorseDialog.placeholders.select_gender"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(268,319,"HorseComponent.AddHorseDialog.fields.father")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.pereId),g("options",i.pereOptions)("placeholder",f(270,321,"HorseComponent.AddHorseDialog.placeholders.select_father"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(275,323,"HorseComponent.AddHorseDialog.fields.mother")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.mereId),g("options",i.mereOptions)("placeholder",f(277,325,"HorseComponent.AddHorseDialog.placeholders.select_mother"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),O("",f(282,327,"HorseComponent.AddHorseDialog.fields.location")," "),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.lieuId),g("options",i.lieuOptions)("placeholder",f(284,329,"HorseComponent.AddHorseDialog.placeholders.select_location"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(289,331,"HorseComponent.AddHorseDialog.fields.race_code")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.raceCodeRace),g("options",i.raceOptions)("placeholder",f(291,333,"HorseComponent.AddHorseDialog.placeholders.select_race"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(296,335,"HorseComponent.AddHorseDialog.fields.category")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.categoriesId),g("options",i.categorieOptions)("placeholder",f(298,337,"HorseComponent.AddHorseDialog.placeholders.select_category"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(303,339,"HorseComponent.AddHorseDialog.fields.contacts")),c(2),T("ngModel",i.newCheval.contactIds),g("options",i.contactOptions)("placeholder",f(305,341,"HorseComponent.AddHorseDialog.placeholders.select_contacts"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(3),g("label",f(308,343,"HorseComponent.AddHorseDialog.buttons.cancel")),c(2),g("label",f(310,345,"HorseComponent.AddHorseDialog.buttons.add"))("disabled",!o.valid)}},dependencies:[an,_r,pe,ge,St,Yi,$t,Ki,Ve,Ke,tt,nt,Pe,qe,Si,We,He,Ye,dt,st,jm,Xe,lt,ut,IC,Ze,ct,pt,Ri,ft,ci,mt,kt,gt,Kt,rt,ht,wt,Li,bt,Pi,Ct,Xi],styles:['[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};var hU=["dt1"],fU=["editQualificationForm"],gU=["statsTable"],vU=()=>["id","nom","dateQualificationDepart","dateQualificationFin","distance","lieuDepartId","lieuArriveeId"],_U=()=>[5,10,20],Zf=()=>({width:"50vw"}),F3=()=>[],B3=()=>({width:"60vw"}),yU=()=>({width:"450px"}),bU=n=>({horseName:n});function wU(n,e){if(n&1){let t=W();d(0,"div",27)(1,"button",93),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalDialog())}),u(),d(3,"button",93),h(4,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddNewQualificationDialog())}),u()()}n&2&&(c(),g("label",f(2,2,"HorseComponent.buttons.add_horse")),c(2),g("label",f(4,4,"Qualification.add_title")))}function SU(n,e){if(n&1){let t=W();d(0,"div",94)(1,"div")(2,"button",95),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(40);return b(r.clear(a))}),u()(),d(4,"div",96)(5,"div",94)(6,"div",96)(7,"p-button",97),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.exportExcelqualifications())}),u(),d(9,"p-button",98),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.exportPdfqualifications())}),u(),d(11,"p-button",99),h(12,"translate"),L("click",function(){y(t);let r=w();return b(r.exportCSVqualification())}),u()()()(),d(13,"p-iconField",100)(14,"p-inputIcon"),P(15,"i",101),u(),d(16,"input",102),h(17,"translate"),L("input",function(r){y(t);let a=w(),o=Q(40);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,5,"Qualification.Table.caption.clear")),c(5),g("label",f(8,7,"Qualification.Table.caption.exportExcel")),c(2),g("label",f(10,9,"Qualification.Table.caption.exportPDF")),c(2),g("label",f(12,11,"Qualification.Table.caption.exportCSV")),c(5),g("placeholder",f(17,13,"Qualification.Table.caption.search")))}function CU(n,e){n&1&&(d(0,"tr")(1,"th",103)(2,"div",104),v(3),h(4,"translate"),P(5,"p-columnFilter",105),u()(),d(6,"th",106)(7,"div",104),v(8),h(9,"translate"),P(10,"p-columnFilter",107),u()(),d(11,"th",106)(12,"div",104),v(13),h(14,"translate"),P(15,"p-columnFilter",108),u()(),d(16,"th",106)(17,"div",104),v(18),h(19,"translate"),P(20,"p-columnFilter",109),u()(),d(21,"th",103)(22,"div",104),v(23),h(24,"translate"),P(25,"p-columnFilter",110),u()(),d(26,"th",111)(27,"div",104),v(28),h(29,"translate"),P(30,"p-columnFilter",112),u()(),d(31,"th",111)(32,"div",104),v(33),h(34,"translate"),P(35,"p-columnFilter",113),u()(),d(36,"th",106)(37,"div",104),v(38),h(39,"translate"),u()(),d(40,"th",106)(41,"div",104),v(42),h(43,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,9,"Qualification.Table.headers.id")," "),c(5),O(" ",f(9,11,"Qualification.Table.headers.name")," "),c(5),O(" ",f(14,13,"Qualification.Table.headers.startDate")," "),c(5),O(" ",f(19,15,"Qualification.Table.headers.endDate")," "),c(5),O(" ",f(24,17,"Qualification.Table.headers.distance")," "),c(5),O(" ",f(29,19,"Qualification.Table.headers.departureLocation")," "),c(5),O(" ",f(34,21,"Qualification.Table.headers.arrivalLocation")," "),c(5),O(" ",f(39,23,"Qualification.Table.headers.horses")," "),c(4),O(" ",f(43,25,"Qualification.Table.headers.actions")," "))}function xU(n,e){if(n&1){let t=W();d(0,"p-chip",117),L("click",function(){let r=y(t).$implicit,a=w(2);return b(a.onChipClick(r))}),u()}if(n&2){let t=e.$implicit,i=w(2);g("label",i.getChevalName(t))("styleClass",i.isChevalArchived(t)?"archived-chip":"cheval-chip")}}function EU(n,e){if(n&1){let t=W();d(0,"button",122),h(1,"translate"),L("click",function(){y(t);let r=w(2).$implicit,a=w();return b(a.editQualification(r))}),u()}n&2&&le("title",f(1,1,"Qualification.Table.buttons.edit"))}function IU(n,e){if(n&1){let t=W();d(0,"div")(1,"button",118),h(2,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.viewQualificationDetails(r))}),u(),R(3,EU,2,3,"button",119),d(4,"button",120),h(5,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.confirmDelete(r))}),u(),d(6,"button",121),h(7,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.manageHorses(r))}),u()()}if(n&2){let t=w().$implicit,i=w();c(),le("title",f(2,5,"Qualification.Table.buttons.view")),c(2),g("ngIf",!i.hasArchivedChevaux(t)),c(),le("title",f(5,7,"Qualification.Table.buttons.delete")),c(2),g("disabled",(t.chevalQualifications==null?null:t.chevalQualifications.length)===0),le("title",f(7,9,"Qualification.Table.buttons.manageHorses"))}}function TU(n,e){n&1&&(d(0,"div",123),v(1),h(2,"translate"),u()),n&2&&(c(),O(" ",f(2,1,"Qualification.Table.messages.notAuthorized")," "))}function DU(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u(),d(5,"td"),v(6),h(7,"date"),u(),d(8,"td"),v(9),h(10,"date"),u(),d(11,"td"),v(12),u(),d(13,"td"),v(14),u(),d(15,"td"),v(16),u(),d(17,"td"),R(18,xU,1,2,"p-chip",114),u(),d(19,"td"),R(20,IU,8,11,"div",115)(21,TU,3,3,"div",116),u()()),n&2){let t=e.$implicit,i=w();c(2),x(t.id),c(2),x(t.nom),c(2),x(ni(7,10,t.dateQualificationDepart,"dd/MM/yyyy")),c(3),x(ni(10,13,t.dateQualificationFin,"dd/MM/yyyy")),c(3),O("",t.distance," m"),c(2),x(i.getLieuName(t.lieuDepartId)),c(2),x(i.getLieuName(t.lieuArriveeId)),c(2),g("ngForOf",t.numerosSIRE),c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin)}}function AU(n,e){n&1&&(d(0,"tr")(1,"td",124),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Qualification.Table.messages.noQualifications")))}function MU(n,e){n&1&&(d(0,"tr")(1,"td",124),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Qualification.Table.messages.loading")))}function kU(n,e){n&1&&(d(0,"tr")(1,"th"),v(2),h(3,"translate"),u(),d(4,"th"),v(5),h(6,"translate"),u(),d(7,"th"),v(8),h(9,"translate"),u(),d(10,"th"),v(11),h(12,"translate"),u(),d(13,"th"),v(14),h(15,"translate"),u(),d(16,"th"),v(17),h(18,"translate"),u()()),n&2&&(c(2),x(f(3,6,"Qualification.manage_rang_horse.headers.sire")),c(3),x(f(6,8,"Qualification.manage_rang_horse.headers.rank")),c(3),x(f(9,10,"Qualification.manage_rang_horse.headers.firstPlace")),c(3),x(f(12,12,"Qualification.manage_rang_horse.headers.secondPlace")),c(3),x(f(15,14,"Qualification.manage_rang_horse.headers.thirdPlace")),c(3),x(f(18,16,"Qualification.manage_rang_horse.headers.actions")))}function PU(n,e){if(n&1){let t=W();d(0,"tr")(1,"td"),v(2),d(3,"button",125),h(4,"translate"),L("click",function(r){let a=y(t).$implicit;return w().predictRankProbabilities(a.numeroSIRE),b(r.stopPropagation())}),u()(),d(5,"td")(6,"p-inputNumber",126),A("ngModelChange",function(r){let a=y(t).$implicit;return D(a.rang,r)||(a.rang=r),b(r)}),u()(),d(7,"td"),v(8),u(),d(9,"td"),v(10),u(),d(11,"td"),v(12),u(),d(13,"td")(14,"button",127),h(15,"translate"),L("click",function(){let r=y(t).$implicit,a=w();return b(a.saveHorseRank(r))}),u()()()}if(n&2){let t=e.$implicit,i=w();c(2),O("",i.getChevalName(t.numeroSIRE)," "),c(),g("title",f(4,11,"Predict rank probabilities")),c(3),T("ngModel",t.rang),g("showButtons",!0)("min",0)("max",100),c(2),x(t.nombrePremierRang),c(2),x(t.nombreDeuxiemeRang),c(2),x(t.nombreTroisiemeRang),c(2),g("icon","pi pi-save"),le("title",f(15,13,"Qualification.manage_rang_horse.buttons.save"))}}function LU(n,e){if(n&1){let t=W();d(0,"button",128),h(1,"translate"),L("click",function(){y(t);let r=w();return b(r.finalizeQualification())}),u()}n&2&&g("label",f(1,1,"Qualification.manage_rang_horse.buttons.finalize"))}function RU(n,e){if(n&1&&(v(0),h(1,"translate")),n&2){let t=e.$implicit;O(" ",f(1,1,t.label)," ")}}function BU(n,e){n&1&&(d(0,"tr")(1,"th"),v(2),h(3,"translate"),u(),d(4,"th"),v(5),h(6,"translate"),u(),d(7,"th"),v(8),h(9,"translate"),u(),d(10,"th"),v(11),h(12,"translate"),u(),d(13,"th"),v(14),h(15,"translate"),u(),d(16,"th"),v(17),h(18,"translate"),u()()),n&2&&(c(2),x(f(3,6,"Qualification.details_dialog.horsesTable.headers.horseName")),c(3),x(f(6,8,"Qualification.details_dialog.horsesTable.headers.sire")),c(3),x(f(9,10,"Qualification.details_dialog.horsesTable.headers.rank")),c(3),x(f(12,12,"Qualification.details_dialog.horsesTable.headers.firstPlace")),c(3),x(f(15,14,"Qualification.details_dialog.horsesTable.headers.secondPlace")),c(3),x(f(18,16,"Qualification.details_dialog.horsesTable.headers.thirdPlace")))}function FU(n,e){if(n&1){let t=W();d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),d(5,"button",125),h(6,"translate"),L("click",function(r){let a=y(t).$implicit;return w(2).predictRankProbabilities(a.numeroSIRE),b(r.stopPropagation())}),u()(),d(7,"td"),v(8),u(),d(9,"td"),v(10),u(),d(11,"td"),v(12),u(),d(13,"td"),v(14),u()()}if(n&2){let t=e.$implicit,i=w(2);c(2),x(i.getChevalName(t.numeroSIRE)),c(2),O("",t.numeroSIRE," "),c(),g("title",f(6,7,"Predict rank probabilities")),c(3),x(t.rang||"-"),c(2),x(t.nombrePremierRang||0),c(2),x(t.nombreDeuxiemeRang||0),c(2),x(t.nombreTroisiemeRang||0)}}function OU(n,e){n&1&&(d(0,"tr")(1,"td",136),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Qualification.details_dialog.horsesTable.noData")))}function NU(n,e){if(n&1&&(d(0,"div",129)(1,"div",130)(2,"p")(3,"strong"),v(4),h(5,"translate"),u(),v(6),u(),d(7,"p")(8,"strong"),v(9),h(10,"translate"),u(),v(11),u(),d(12,"p")(13,"strong"),v(14),h(15,"translate"),u(),v(16),h(17,"date"),u(),d(18,"p")(19,"strong"),v(20),h(21,"translate"),u(),v(22),h(23,"date"),u(),d(24,"p")(25,"strong"),v(26),h(27,"translate"),u(),v(28),u()(),d(29,"div",130)(30,"p")(31,"strong"),v(32),h(33,"translate"),u(),v(34),u(),d(35,"p")(36,"strong"),v(37),h(38,"translate"),u(),v(39),u(),d(40,"p")(41,"strong"),v(42),h(43,"translate"),u(),v(44),u()(),d(45,"div",131)(46,"h4"),v(47),h(48,"translate"),u(),d(49,"p-table",132),R(50,BU,19,18,"ng-template",133)(51,FU,15,9,"ng-template",134)(52,OU,4,3,"ng-template",135),u()()()),n&2){let t=w();c(4),O("",f(5,20,"Qualification.details_dialog.fields.id"),":"),c(2),O(" ",t.selectedQualification.id,""),c(3),O("",f(10,22,"Qualification.details_dialog.fields.name"),":"),c(2),O(" ",t.selectedQualification.nom,""),c(3),O("",f(15,24,"Qualification.details_dialog.fields.startDate"),":"),c(2),O(" ",ni(17,26,t.selectedQualification.dateQualificationDepart,"dd/MM/yyyy HH:mm"),""),c(4),O("",f(21,29,"Qualification.details_dialog.fields.endDate"),":"),c(2),O(" ",ni(23,31,t.selectedQualification.dateQualificationFin,"dd/MM/yyyy HH:mm"),""),c(4),O("",f(27,34,"Qualification.details_dialog.fields.distance"),":"),c(2),O(" ",t.selectedQualification.distance," m"),c(4),O("",f(33,36,"Qualification.details_dialog.fields.departureLocation"),":"),c(2),O(" ",t.getLieuName(t.selectedQualification.lieuDepartId),""),c(3),O("",f(38,38,"Qualification.details_dialog.fields.arrivalLocation"),":"),c(2),O(" ",t.getLieuName(t.selectedQualification.lieuArriveeId),""),c(3),O("",f(43,40,"Qualification.details_dialog.fields.horsesCount"),":"),c(2),O(" ",(t.selectedQualification.chevalQualifications==null?null:t.selectedQualification.chevalQualifications.length)||0,""),c(3),O("",f(48,42,"Qualification.details_dialog.horsesTable.title"),":"),c(2),g("value",t.selectedQualification.chevalQualifications||se(44,F3))("paginator",!0)("rows",5)}}function VU(n,e){if(n&1){let t=W();d(0,"div",137)(1,"button",61),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.displayViewDialog=!1)}),u(),d(3,"button",138),h(4,"translate"),L("click",function(){y(t);let r=w();return b(r.exportQualificationDetailsPDF())}),u()()}n&2&&(c(),g("label",f(2,2,"Qualification.details_dialog.buttons.close")),c(2),g("label",f(4,4,"Qualification.details_dialog.buttons.exportPDF")))}function HU(n,e){if(n&1&&(d(0,"div"),v(1),u()),n&2){let t=e.$implicit;mi("disabled-option",t.label.includes("archiv\xE9 ou supprim\xE9")),c(),O(" ",t.label," ")}}function WU(n,e){if(n&1){let t=W();d(0,"form",34,9),L("ngSubmit",function(){y(t);let r=w();return b(r.saveQualification())}),d(2,"div",35)(3,"div",36)(4,"div",66)(5,"div",38)(6,"label",39),v(7),h(8,"translate"),u(),d(9,"input",139),h(10,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedQualification.nom,r)||(a.selectedQualification.nom=r),b(r)}),u()()(),d(11,"div",69)(12,"div",38)(13,"label",140),v(14),h(15,"translate"),u(),d(16,"p-calendar",141),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedQualification.dateQualificationDepart,r)||(a.selectedQualification.dateQualificationDepart=r),b(r)}),u()()(),d(17,"div",69)(18,"div",38)(19,"label",142),v(20),h(21,"translate"),u(),d(22,"p-calendar",143),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedQualification.dateQualificationFin,r)||(a.selectedQualification.dateQualificationFin=r),b(r)}),u()()(),d(23,"div",66)(24,"div",38)(25,"label",144),v(26),h(27,"translate"),u(),d(28,"p-inputNumber",145),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedQualification.distance,r)||(a.selectedQualification.distance=r),b(r)}),u()()(),d(29,"div",69)(30,"div",38)(31,"label",146),v(32),h(33,"translate"),u(),d(34,"p-dropdown",147),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedQualification.lieuDepartId,r)||(a.selectedQualification.lieuDepartId=r),b(r)}),u()()(),d(35,"div",69)(36,"div",38)(37,"label",148),v(38),h(39,"translate"),u(),d(40,"p-dropdown",149),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedQualification.lieuArriveeId,r)||(a.selectedQualification.lieuArriveeId=r),b(r)}),u()()(),d(41,"div",66)(42,"div",38)(43,"label",150),v(44),h(45,"translate"),u(),d(46,"p-multiSelect",151),h(47,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedQualification.numerosSIRE,r)||(a.selectedQualification.numerosSIRE=r),b(r)}),R(48,HU,2,3,"ng-template",43),u()()()()(),d(49,"div",60)(50,"button",61),h(51,"translate"),L("click",function(){y(t);let r=w();return b(r.displayEditDialog=!1)}),u(),P(52,"button",82),h(53,"translate"),u()()}if(n&2){let t=Q(1),i=w();c(7),x(f(8,29,"Qualification.fields.name")),c(2),T("ngModel",i.selectedQualification.nom),g("placeholder",f(10,31,"Qualification.placeholders.name")),c(5),x(f(15,33,"Qualification.fields.start_date")),c(2),T("ngModel",i.selectedQualification.dateQualificationDepart),g("showTime",!0),c(4),x(f(21,35,"Qualification.fields.end_date")),c(2),T("ngModel",i.selectedQualification.dateQualificationFin),g("showTime",!0),c(4),x(f(27,37,"Qualification.fields.distance")),c(2),T("ngModel",i.selectedQualification.distance),g("min",0)("step",100),c(4),x(f(33,39,"Qualification.fields.departure_location")),c(2),T("ngModel",i.selectedQualification.lieuDepartId),g("options",i.lieuOptions),c(4),x(f(39,41,"Qualification.fields.arrival_location")),c(2),T("ngModel",i.selectedQualification.lieuArriveeId),g("options",i.lieuOptions),c(4),x(f(45,43,"Qualification.fields.horses")),c(2),T("ngModel",i.selectedQualification.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(47,45,"Qualification.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(4),g("label",f(51,47,"Qualification.buttons.cancel")),c(2),g("label",f(53,49,"Qualification.buttons.save"))("disabled",!t.valid)}}function UU(n,e){n&1&&(d(0,"tr")(1,"th"),v(2),h(3,"translate"),u(),d(4,"th"),v(5),h(6,"translate"),u()()),n&2&&(c(2),x(f(3,2,"Qualification.stats_dialog.table.headers.rank")),c(3),x(f(6,4,"Qualification.stats_dialog.table.headers.count")))}function jU(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u()()),n&2){let t=e.$implicit;c(2),x(t.rang),c(2),x(t.nombreDeFois)}}function zU(n,e){if(n&1&&(d(0,"div",152)(1,"h4"),v(2),h(3,"translate"),u(),d(4,"p-table",153,10),R(6,UU,7,6,"ng-template",133)(7,jU,5,2,"ng-template",134),u()()),n&2){let t=w();c(2),x(ni(3,3,"Qualification.stats_dialog.fields.horseName",Ae(6,bU,t.getChevalName(t.selectedChevalStats.numeroSIRE)))),c(2),g("value",t.selectedChevalStats.statistiques)("responsive",!0)}}function qU(n,e){if(n&1){let t=W();d(0,"button",154),h(1,"translate"),L("click",function(){y(t);let r=w();return b(r.displayStatsDialog=!1)}),u()}n&2&&g("label",f(1,1,"Qualification.stats_dialog.buttons.close"))}function $U(n,e){if(n&1&&(d(0,"div",155)(1,"div",131)(2,"h4"),v(3),u()(),d(4,"div",156)(5,"p",157),v(6,"Rank 1"),u(),P(7,"p-progressBar",158),d(8,"p"),v(9),u()(),d(10,"div",156)(11,"p",157),v(12,"Rank 2"),u(),P(13,"p-progressBar",158),d(14,"p"),v(15),u()(),d(16,"div",156)(17,"p",157),v(18,"Rank 3"),u(),P(19,"p-progressBar",158),d(20,"p"),v(21),u()()()),n&2){let t=w();c(3),O("Prediction for ",t.selectedHorseName,""),c(4),g("value",t.currentProbabilities[1])("showValue",!0),c(2),O("",t.currentProbabilities[1],"%"),c(4),g("value",t.currentProbabilities[2])("showValue",!0),c(2),O("",t.currentProbabilities[2],"%"),c(4),g("value",t.currentProbabilities[3])("showValue",!0),c(2),O("",t.currentProbabilities[3],"%")}}function QU(n,e){if(n&1){let t=W();d(0,"button",159),L("click",function(){y(t);let r=w();return b(r.displayProbabilitiesDialog=!1)}),u()}}var Jf=class n{constructor(e,t,i,r,a,o,s,l,p,m,_,S,C,E,I,M,F,N,U){this.translate=e;this.qualificationService=t;this.chevalService=i;this.messageService=r;this.confirmationService=a;this.lieuService=o;this.entiteService=s;this.raceService=l;this.categorieService=p;this.contactService=m;this.chevalContactService=_;this.anciennomService=S;this.chevalordonnanceService=C;this.acteService=E;this.planningService=I;this.datePipe=M;this.authService=F;this.AnalysesanitaireService=N;this.mouvementService=U;this.entiteIdlogin=this.authService.getEntiteId(),this.maxRangChanged.pipe(Am(300),Mm()).subscribe(j=>{this.loadChevalStats()}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;get exportQualificationColumns(){return[{title:"ID",dataKey:"id"},{title:"Nom",dataKey:"nom"},{title:"Date D\xE9part",dataKey:"dateQualificationDepart"},{title:"Date Fin",dataKey:"dateQualificationFin"},{title:"Distance (m)",dataKey:"distance"},{title:"Lieu D\xE9part",dataKey:"lieuDepartId"},{title:"Lieu Arriv\xE9e",dataKey:"lieuArriveeId"},{title:"N\xB0 SIRE",dataKey:"numerosSIRE"},{title:"Nombre Chevaux",dataKey:"chevalCount"}]}exportExcelqualifications(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.qualifications.map(o=>({ID:o.id,Nom:o.nom||"","Date D\xE9part":o.dateQualificationDepart?new Date(o.dateQualificationDepart).toLocaleString("fr-FR"):"","Date Fin":o.dateQualificationFin?new Date(o.dateQualificationFin).toLocaleString("fr-FR"):"","Distance (m)":o.distance||0,"Lieu D\xE9part":o.lieuDepartId||"","Lieu Arriv\xE9e":o.lieuArriveeId||"","N\xB0 SIRE":Array.isArray(o.numerosSIRE)?o.numerosSIRE.join(", "):o.numerosSIRE||"","Nombre Chevaux":o.chevalQualifications?.length||0})),r={Sheets:{Qualifications:e.utils.json_to_sheet(t)},SheetNames:["Qualifications"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"qualifications")})}exportCSVqualification(){if(!this.qualifications||this.qualifications.length===0){console.warn("Aucune donn\xE9e \xE0 exporter");return}try{let e=this.convertQualificationsToCSV(this.qualifications);this.downloadFile(e,"qualifications.csv","text/csv;charset=utf-8;")}catch(e){console.error("Erreur lors de l'export CSV:",e)}}convertQualificationsToCSV(e){if(!e||e.length===0)return"";let i=this.exportQualificationColumns.map(r=>r.title).join(";")+`\r
`;return e.forEach(r=>{let a=[r.id,`"${r.nom||""}"`,r.dateQualificationDepart?new Date(r.dateQualificationDepart).toLocaleString("fr-FR"):"",r.dateQualificationFin?new Date(r.dateQualificationFin).toLocaleString("fr-FR"):"",r.distance||0,r.lieuDepartId||"",r.lieuArriveeId||"",Array.isArray(r.numerosSIRE)?r.numerosSIRE.join(", "):r.numerosSIRE||"",r.chevalQualifications?.length||0];i+=a.join(";")+`\r
`}),i}exportPdfqualifications(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des qualifications",subject:"Export PDF",author:"Votre Application",keywords:"qualifications, chevaux, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES QUALIFICATIONS",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+40;t(i,{startY:p,head:[this.exportQualificationColumns.map(m=>m.title)],body:this.qualifications.map(m=>[m.id,m.nom||"",m.dateQualificationDepart?new Date(m.dateQualificationDepart).toLocaleString("fr-FR"):"",m.dateQualificationFin?new Date(m.dateQualificationFin).toLocaleString("fr-FR"):"",m.distance||0,m.lieuDepartId||"",m.lieuArriveeId||"",Array.isArray(m.numerosSIRE)?m.numerosSIRE.join(", "):m.numerosSIRE||"",m.chevalQualifications?.length||0]),styles:{fontSize:8,cellPadding:3,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[51,102,153],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:30},2:{cellWidth:70},3:{cellWidth:70},8:{cellWidth:40}},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des qualifications",o,o-10)}}),i.save(`qualifications_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Erreur lors de la g\xE9n\xE9ration du PDF:",e)}})}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",o=new Blob([e],{type:r});i.saveAs(o,t+"_export_"+new Date().getTime()+a)})}qualifications=[];selectedQualification=null;displayHorseDialog=!1;displayViewDialog=!1;displayEditDialog=!1;chevaux=[];chevauxnotarchived=[];mouvement=[];lieux=[];entite=[];race=[];categorie=[];contact=[];filteredMouvement=[];filteredMouvementnotarchived=[];displayAddChevalDialog=!1;newCheval=new Qt;searchText="";loading=!0;sexeOptions=[{label:"M\xE2le",value:"M\xE2le"},{label:"Femelle",value:"Femelle"}];translatedSexeOptions=[];categorieOptions=[];raceOptions=[];pereOptions=[];mereOptions=[];lieuOptions=[];entiteOptions=[];contactOptions=[];chevauxOptions=[];maxRangChanged=new Im;robeoptions=[];currentLanguage="en";isAdmin=!1;updateTranslatedOptions(){this.translatedSexeOptions=[{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.male"),value:"M\xE2le"},{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.female"),value:"Femelle"}],this.robeoptions=[{value:"ALEZAN",label:this.translate.instant("HorseComponent.coats.ALEZAN")},{value:"BAI",label:this.translate.instant("HorseComponent.coats.BAI")},{value:"BAI_BRUN",label:this.translate.instant("HorseComponent.coats.BAI_BRUN")},{value:"BLANC",label:this.translate.instant("HorseComponent.coats.BLANC")},{value:"GRIS",label:this.translate.instant("HorseComponent.coats.GRIS")},{value:"NOIR",label:this.translate.instant("HorseComponent.coats.NOIR")},{value:"PIE",label:this.translate.instant("HorseComponent.coats.PIE")},{value:"ROUAN",label:this.translate.instant("HorseComponent.coats.ROUAN")},{value:"SOURIS",label:this.translate.instant("HorseComponent.coats.SOURIS")},{value:"AUBERE",label:this.translate.instant("HorseComponent.coats.AUBERE")},{value:"CREME",label:this.translate.instant("HorseComponent.coats.CREME")},{value:"ISABELLE",label:this.translate.instant("HorseComponent.coats.ISABELLE")},{value:"PALOMINO",label:this.translate.instant("HorseComponent.coats.PALOMINO")}]}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}entiteIdlogin=null;entiteLogin=null;ngOnInit(){this.loadQualifications(),this.loadChevaux(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadEntite(),this.loadRace(),this.loadCategorie(),this.loadContact(),this.loadMouvement(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}totalqualification=null;loadQualifications(){this.loading=!0,this.qualificationService.getAllQualifications(this.entiteIdlogin).subscribe({next:e=>{this.qualifications=e,this.totalqualification=e.length,this.loading=!1},error:e=>{this.messageService.add({severity:"error",summary:"Erreur",detail:"\xC9chec du chargement des qualifications"}),this.loading=!1}})}viewQualificationDetails(e){this.selectedQualification=z({},e),this.displayViewDialog=!0}displayAddDialog=!1;newQualification=this.createEmptyQualification();createEmptyQualification(){return{id:0,nom:"",lieuDepartId:0,lieuArriveeId:0,distance:0,dateQualificationDepart:new Date,dateQualificationFin:new Date,numerosSIRE:[],chevalQualifications:[],entiteid:0,date_ajout:new Date}}showAddNewQualificationDialog(){this.newQualification=this.createEmptyQualification(),this.displayAddDialog=!0}addQualification(){if(!this.newQualification)return;let e=Mt(z({},this.newQualification),{dateQualificationDepart:this.formatDateForApi(this.newQualification.dateQualificationDepart),dateQualificationFin:this.formatDateForApi(this.newQualification.dateQualificationFin),chevalQualifications:this.newQualification.chevalQualifications||[],entiteid:this.entiteIdlogin});this.newQualification.entiteid=this.entiteIdlogin,this.loading=!0,this.qualificationService.ajouterQualification(e).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Qualification.add_success")}),this.displayAddDialog=!1,this.loadQualifications()},error:t=>{console.error("Create error:",t),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Qualification.add_error")}),this.loading=!1},complete:()=>{this.loading=!1}})}formatDateForApi(e){return e instanceof Date?e.toISOString():e}editQualificationForm;editQualification(e){this.selectedQualification=JSON.parse(JSON.stringify(e)),console.log("numerosSIRE:",this.selectedQualification?.numerosSIRE),console.log("First item type:",typeof this.selectedQualification?.numerosSIRE[0]),this.selectedQualification&&(this.selectedQualification.dateQualificationDepart&&typeof this.selectedQualification.dateQualificationDepart=="string"&&(this.selectedQualification.dateQualificationDepart=new Date(this.selectedQualification.dateQualificationDepart)),this.selectedQualification.dateQualificationFin&&typeof this.selectedQualification.dateQualificationFin=="string"&&(this.selectedQualification.dateQualificationFin=new Date(this.selectedQualification.dateQualificationFin))),this.displayEditDialog=!0}saveQualification(){!this.selectedQualification||!this.editQualificationForm?.valid||(this.loading=!0,this.qualificationService.updateQualification(this.selectedQualification.id,this.selectedQualification,this.entiteIdlogin).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Qualification.edit_success")}),this.displayEditDialog=!1,this.loadQualifications()},error:e=>{console.error("Update error:",e),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Qualification.edit_error")}),this.loading=!1},complete:()=>{this.loading=!1}}))}confirmDelete(e){this.confirmationService.confirm({message:this.translate.instant("delete_confirmation.message",{name:e.nom}),header:this.translate.instant("delete_confirmation.header"),icon:"pi pi-exclamation-triangle",accept:()=>{this.qualificationService.deleteQualification(e.id,this.entiteIdlogin).subscribe({next:()=>{this.messageService.add({severity:"success",summary:this.translate.instant("success"),detail:this.translate.instant("delete_confirmation.success")}),this.loadQualifications()},error:()=>{this.messageService.add({severity:"error",summary:this.translate.instant("error"),detail:this.translate.instant("delete_confirmation.error")})}})}})}manageHorses(e){this.selectedQualification=e,this.displayHorseDialog=!0}saveHorseRank(e){if(!this.selectedQualification){this.messageService.add({severity:"error",summary:"Erreur",detail:"Aucune qualification s\xE9lectionn\xE9e"});return}let t=[{numeroSIRE:e.numeroSIRE,rang:e.rang}];this.qualificationService.mettreAJourRang(this.selectedQualification.id,t).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Qualification.manage_rang_horse.message.updaterangsuccess")})},error:()=>{this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Qualification.manage_rang_horse.message.updaterangerror")})}})}finalizeQualification(){if(!this.selectedQualification){this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Qualification.manage_rang_horse.message.notfound")});return}this.qualificationService.finaliserQualification(this.selectedQualification.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Qualification.manage_rang_horse.message.finaliser")}),this.displayHorseDialog=!1,this.loadQualifications()},error:()=>{this.messageService.add({severity:"error",summary:"Erreur",detail:"\xC9chec de la finalisation"})}})}showAddQualificationDialog(){}selectedCheval=null;totalChevaux=null;totalChevauxnotarchived=null;isChevalArchived(e){let t=this.chevaux.find(i=>i.numeroSIRE===e);return t?t.archived:!1}hasArchivedChevaux(e){return!e.numerosSIRE||e.numerosSIRE.length===0?!1:e.numerosSIRE.some(t=>{let i=this.chevaux.find(r=>r.numeroSIRE===t);return i?i.archived:!1})}loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.chevaux=e.details,this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}totalMouvement=null;loadMouvement(){this.loading=!0,this.mouvementService.getAllMouvements(this.entiteIdlogin).subscribe({next:e=>{console.log("mouvement",e),this.mouvement=e.details,this.filteredMouvement=e.details,this.totalMouvement=e.details.length,console.log("Nombre total de mouvement :",this.totalMouvement),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadLieux(){this.loading=!0,this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.lieuOptions=this.lieux.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des lieux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des lieux."})}})}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}loadRace(){this.loading=!0,this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.race=e.details,console.log(e.details),this.raceOptions=this.race.map(t=>({label:t.description,value:t.codeRace})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des races",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des races."})}})}loadCategorie(){this.loading=!0,this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.categorie=e.details,this.categorieOptions=this.categorie.map(t=>({label:t.nomFr,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}loadContact(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.contact=e.details,this.contactOptions=this.contact.map(t=>({label:t.nom+" "+t.prenom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}updatePereAndMereOptions(){this.pereOptions=[{label:"---",value:""}],this.mereOptions=[{label:"---",value:""}],this.chevaux.forEach(e=>{this.pereOptions.push({label:e.nom,value:e.numeroSIRE}),this.mereOptions.push({label:e.nom,value:e.numeroSIRE})}),this.chevauxnotarchived.forEach(e=>{this.chevauxOptions.push({label:e.nom,value:e.numeroSIRE})})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}showAddChevalDialog(){this.displayAddChevalDialog=!0}generateNumeroSIRE(e,t){let i=t.getFullYear().toString().slice(-2),r=(e+1).toString(),a=7-r.length,o="0".repeat(a)+r;return i+o}generateRandomSixDigits(){return Math.floor(Math.random()*1e6).toString().padStart(6,"0")}addCheval(e){e.valid&&(console.log(this.newCheval),this.chevalService.getMaxId().subscribe({next:t=>{this.newCheval.numeroSIRE=this.generateNumeroSIRE(t.details,this.newCheval.dateDeNaissance),this.newCheval.entiteId=this.entiteIdlogin;let i=this.generateRandomSixDigits();this.newCheval.cleSIRE=this.newCheval.numeroSIRE+i,this.newCheval.pereId===""&&(this.newCheval.pereId=""),this.newCheval.mereId===""&&(this.newCheval.mereId=""),this.chevalService.addCheval(this.newCheval).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:r.message}),this.displayAddChevalDialog=!1,this.loadChevaux(),this.newCheval=new Qt},error:r=>{let a="Erreur lors de l'ajout du cheval.";r.error&&r.error.message?a=r.error.message:r.message&&(a=r.message),this.messageService.add({severity:"error",summary:"Erreur",detail:a})}})},error:t=>{let i="Erreur lors de la r\xE9cup\xE9ration de l'ID maximum.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}getLieuName(e){let t=this.lieux.find(i=>i.id===e);return t?t.nom:e.toString()}getChevalName(e){let t=this.chevauxOptions.find(r=>r.value===e);if(t)return this.chevaux.find(a=>a.numeroSIRE===e)?.archived?`${t.label} (archiv\xE9)`:t.label;let i=this.chevaux.find(r=>r.numeroSIRE===e);return i?i.archived?`${i.nom} (archiv\xE9)`:i.nom:e}exportQualificationDetailsPDF(){return Ft(this,null,function*(){if(this.selectedQualification)try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=40,o=a+20;i.setProperties({title:`D\xE9tails Qualification ${this.selectedQualification.nom}`,subject:"Export PDF",author:"Votre Application",keywords:"qualification, chevaux, export",creator:"Votre Application"}),i.setFontSize(18),i.setFont("helvetica","bold"),i.text("D\xC9TAILS QUALIFICATION",r/2,a,{align:"center"}),i.setFontSize(12),i.setFont("helvetica","normal"),i.text(`Nom: ${this.selectedQualification.nom}`,a,a+30),i.text(`ID: ${this.selectedQualification.id}`,r-a,a+30,{align:"right"});let s=[["Date D\xE9part",this.datePipe.transform(this.selectedQualification.dateQualificationDepart,"dd/MM/yyyy HH:mm")||""],["Date Fin",this.datePipe.transform(this.selectedQualification.dateQualificationFin,"dd/MM/yyyy HH:mm")||""],["Distance",`${this.selectedQualification.distance} m`],["Lieu D\xE9part",this.getLieuName(this.selectedQualification.lieuDepartId)],["Lieu Arriv\xE9e",this.getLieuName(this.selectedQualification.lieuArriveeId)],["Nombre Chevaux",this.selectedQualification.chevalQualifications?.length||0]];if(t(i,{startY:o+40,head:[["D\xE9tail","Valeur"]],body:s,styles:{fontSize:10,cellPadding:5,valign:"middle"},headStyles:{fillColor:[51,102,153],textColor:[255,255,255],fontStyle:"bold"},margin:{left:a,right:a}}),this.selectedQualification.chevalQualifications?.length){let m=this.selectedQualification.chevalQualifications.map(_=>[this.getChevalName(_.numeroSIRE),_.numeroSIRE,_.rang||"-",_.nombrePremierRang||0,_.nombreDeuxiemeRang||0,_.nombreTroisiemeRang||0]);t(i,{startY:i.lastAutoTable.finalY+20,head:[["Nom","SIRE","Rang","1\xE8re Places","2\xE8me Places","3\xE8me Places"]],body:m,styles:{fontSize:8,cellPadding:3,overflow:"linebreak"},headStyles:{fillColor:[51,102,153],textColor:[255,255,255],fontStyle:"bold"},margin:{left:a,right:a}})}let p=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(8),i.text(`G\xE9n\xE9r\xE9 le ${p}`,r-a,i.internal.pageSize.getHeight()-a+20,{align:"right"}),i.save(`qualification_${this.selectedQualification.id}_details.pdf`)}catch(e){console.error("Erreur lors de la g\xE9n\xE9ration du PDF:",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"\xC9chec de la g\xE9n\xE9ration du PDF"})}})}displayStatsDialog=!1;selectedChevalStats=null;selectedRang=1;selectedSire="";_maxRang=10;onChipClick(e){this.selectedSire=e,this.displayStatsDialog=!0,this.chevalService.rechercherCheval(e,this.entiteIdlogin).subscribe({next:t=>{this.selectedCheval=t.details,this.loadChevalStats()},error:t=>{console.error("Erreur lors de la recherche du cheval:",t),this.loadChevalStats()}})}loadChevalStats(){this.qualificationService.getTousLesRangsParCheval(this.selectedSire,this.maxRang).subscribe({next:e=>{this.selectedChevalStats=e},error:e=>{console.error("Erreur:",e)}})}checkChevalRang(){!this.selectedSire||!this.selectedRang||this.qualificationService.getNombreRangParCheval(this.selectedSire,this.selectedRang).subscribe({next:e=>{this.selectedChevalStats=e},error:e=>{console.error("Erreur:",e)}})}get maxRang(){return this._maxRang}set maxRang(e){this._maxRang=e,this.maxRangChanged.next(e)}statsTable;get exportStatChevalColumns(){return[{title:"Rang",dataKey:"rang"},{title:"Nombre de fois",dataKey:"nombreDeFois"}]}exportstatchevalExcel(){this.selectedChevalStats&&import("./chunk-SC6JYBFT.js").then(e=>{let t=this.selectedChevalStats.statistiques.map(o=>({Rang:o.rang,"Nombre de fois":o.nombreDeFois})),r={Sheets:{Stats_Rang:e.utils.json_to_sheet(t)},SheetNames:["Stats_Rang"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,`stats_rang_${this.selectedChevalStats.numeroSIRE}`)})}exportstatchevalCSV(){if(!this.selectedChevalStats||!this.selectedChevalStats.statistiques){console.warn("Aucune donn\xE9e \xE0 exporter");return}try{let e=this.convertStatsToCSV(this.selectedChevalStats.statistiques);this.downloadFile(e,`stats_rang_${this.selectedChevalStats.numeroSIRE}.csv`,"text/csv;charset=utf-8;")}catch(e){console.error("Erreur lors de l'export CSV:",e)}}convertStatsToCSV(e){if(!e||e.length===0)return"";let i=this.exportStatChevalColumns.map(r=>r.title).join(";")+`\r
`;return e.forEach(r=>{let a=[r.rang,r.nombreDeFois];i+=a.join(";")+`\r
`}),i}exportstatchevalPdf(){return Ft(this,null,function*(){if(this.selectedChevalStats)try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:`Statistiques de rang - ${this.selectedChevalStats.numeroSIRE}`,subject:"Export PDF",author:"Votre Application",keywords:"statistiques, cheval, rang, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("STATISTIQUES DE RANG",r/2,o+20,{align:"center"}),i.setFontSize(14),i.text(`Cheval: ${this.getChevalName(this.selectedChevalStats.numeroSIRE)}`,o,o+50),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+80;t(i,{startY:p,head:[this.exportStatChevalColumns.map(m=>m.title)],body:this.selectedChevalStats.statistiques.map(m=>[m.rang,m.nombreDeFois]),styles:{fontSize:10,cellPadding:5,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[51,102,153],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"center"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto"}},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text(`Statistiques de rang - ${this.selectedChevalStats.numeroSIRE}`,o,o-10)}}),i.save(`stats_rang_${this.selectedChevalStats.numeroSIRE}_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Erreur lors de la g\xE9n\xE9ration du PDF:",e)}})}displayProbabilitiesDialog=!1;currentProbabilities=null;selectedHorseName="";predictRankProbabilities(e){this.selectedHorseName=this.getChevalName(e),this.qualificationService.predictRankProbabilities(e,this.entiteIdlogin).subscribe({next:t=>{this.currentProbabilities=t.probabilities,this.displayProbabilitiesDialog=!0},error:t=>{console.error("Error predicting probabilities:",t),this.currentProbabilities={1:1,2:1,3:1},this.displayProbabilitiesDialog=!0}})}static \u0275fac=function(t){return new(t||n)(B(Fe),B(rr),B(me),B(ne),B(ce),B(Ce),B(oe),B(ke),B(be),B(Ie),B($e),B(Et),B(at),B(it),B(vt),B(he),B(ze),B(_t),B(Ni))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&(Te(hU,5),Te(fU,5),Te(gU,5)),t&2){let r;Z(r=J())&&(i.dt1=r.first),Z(r=J())&&(i.editQualificationForm=r.first),Z(r=J())&&(i.statsTable=r.first)}},features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t,Ni,rr])],decls:222,vars:268,consts:[["dt1",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["footer",""],["addChevalForm","ngForm"],["addQualificationForm","ngForm"],["editQualificationForm","ngForm"],["statsTable",""],["rel","stylesheet","href",Yn`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css`],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-6"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-graduation-cap","text-amber-500","!text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","header","visible"],["styleClass","sticky-column-table",3,"value","paginator","rows"],[3,"visibleChange","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-fluid"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-6"],[1,"p-field"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",3,"ngModelChange","ngModel"],["for","robe"],["id","robe","name","robe","optionLabel","label","optionValue","value","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],["pTemplate","item"],["for","dateDeNaissance"],["id","dateDeNaissance","name","dateDeNaissance","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showIcon"],["for","sexe"],["id","sexe","filterBy","label","name","sexe","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","pereId"],["id","pereId","filterBy","label","name","pereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","mereId"],["id","mereId","filterBy","label","name","mereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","lieuId"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","raceCodeRace"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","categoriesId"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","contactIds"],["id","contactIds","required","","name","contactIds","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],["class","grid p-fluid",4,"ngIf"],["pTemplate","footer"],[3,"ngSubmit",4,"ngIf"],[1,"p-col-12"],["for","newNom"],["id","newNom","pInputText","","name","nom","required","",3,"ngModelChange","ngModel","placeholder"],[1,"p-col-12","md:col-6"],["for","newDateDepart"],["id","newDateDepart","name","dateDepart","required","","hourFormat","24","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showTime"],["for","newDateFin"],["id","newDateFin","name","dateFin","hourFormat","24","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showTime"],["for","newDistance"],["id","newDistance","name","distance","required","",3,"ngModelChange","ngModel","min","step"],["for","newLieuDepartId"],["id","newLieuDepartId","optionLabel","label","optionValue","value","name","lieuDepartId",3,"ngModelChange","ngModel","options"],["for","newLieuArriveeId"],["id","newLieuArriveeId","optionLabel","label","optionValue","value","name","lieuArriveeId","required","",3,"ngModelChange","ngModel","options"],["for","newNumerosSIRE"],["id","newNumerosSIRE","optionLabel","label","optionValue","value","name","numerosSIRE","required","","styleClass","w-full",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-success",3,"label","disabled"],[1,"field"],["for","maxRang"],["id","maxRang","mode","decimal",3,"ngModelChange","ngModel","min","max","showButtons"],[1,"flex","gap-2","mb-4"],["pButton","","icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["pButton","","icon","pi pi-file-pdf","styleClass","p-button-danger",3,"click","label"],["pButton","","icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["class","mt-4",4,"ngIf"],["header","Rank Probabilities",3,"visibleChange","visible","modal"],["class","grid",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["icon","pi pi-file-pdf","styleClass","p-button-danger",3,"click","label"],["icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","8rem"],[1,"flex","justify-between","items-center"],["type","text","field","id","display","menu"],[2,"min-width","12rem"],["type","text","field","nom","display","menu"],["type","date","field","dateQualificationDepart","display","menu"],["type","date","field","dateQualificationFin","display","menu"],["type","numeric","field","distance","display","menu"],[2,"min-width","10rem"],["type","numeric","field","lieuDepartId","display","menu"],["type","numeric","field","lieuArriveeId","display","menu"],[3,"label","styleClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-center p-3 text-red-500 font-bold",4,"ngIf"],[3,"click","label","styleClass"],["pButton","","pRipple","","type","button","icon","pi pi-eye",1,"p-button-info","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-pencil","class","p-button-warning p-button-text p-button-icon-only",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-list",1,"p-button-secondary","p-button-text","p-button-icon-only",3,"click","disabled"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-warning","p-button-text","p-button-icon-only",3,"click"],[1,"text-center","p-3","text-red-500","font-bold"],["colspan","9"],["pButton","","type","button","icon","pi pi-chart-line",1,"p-button-rounded","p-button-sm","p-button-text","p-button-info","ml-2",3,"click","title"],[3,"ngModelChange","ngModel","showButtons","min","max"],["pButton","",1,"p-button-rounded","p-button-success","p-button-text",3,"click","icon"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-primary",3,"click","label"],[1,"grid","p-fluid"],[1,"col-12","md:col-6"],[1,"col-12"],["styleClass","p-datatable-sm",3,"value","paginator","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["colspan","6"],[1,"flex","justify-content-between"],["pButton","","pRipple","","type","button","icon","pi pi-file-pdf",1,"p-button-danger",3,"click","label"],["id","nom","pInputText","","name","nom","required","",3,"ngModelChange","ngModel","placeholder"],["for","dateDepart"],["id","dateDepart","name","dateDepart","required","","hourFormat","24","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showTime"],["for","dateFin"],["id","dateFin","name","dateFin","hourFormat","24","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showTime"],["for","distance"],["id","distance","name","distance","required","",3,"ngModelChange","ngModel","min","step"],["for","lieuDepartId"],["id","lieuDepartId","optionLabel","label","optionValue","value","name","lieuDepartId","required","",3,"ngModelChange","ngModel","options"],["for","lieuArriveeId"],["id","lieuArriveeId","optionLabel","label","optionValue","value","name","lieuArriveeId","required","",3,"ngModelChange","ngModel","options"],["for","numerosSIRE"],["id","numerosSIRE","optionLabel","label","optionValue","value","name","numerosSIRE","required","","styleClass","w-full",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[1,"mt-4"],[3,"value","responsive"],["pButton","","icon","pi pi-times",3,"click","label"],[1,"grid"],[1,"col-4","text-center"],[1,"font-bold"],[3,"value","showValue"],["pButton","","pRipple","","label","Close","icon","pi pi-times",1,"p-button-text",3,"click"]],template:function(t,i){if(t&1){let r=W();P(0,"link",11),d(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15)(5,"div")(6,"span",16),v(7),h(8,"translate"),u()(),d(9,"div",17),P(10,"i",18),u()(),d(11,"span",19),v(12),h(13,"translate"),u(),v(14," | "),d(15,"span",19),v(16),h(17,"translate"),u()()(),d(18,"div",13)(19,"div",14)(20,"div",15)(21,"div")(22,"span",16),v(23),h(24,"translate"),u(),d(25,"div",20),v(26),u()(),d(27,"div",21),P(28,"i",22),u()()()(),P(29,"div",23),d(30,"div",24),P(31,"p-toast")(32,"p-confirmDialog",25),d(33,"div",26)(34,"div",27)(35,"div",28),v(36),h(37,"translate"),u()(),R(38,wU,5,6,"div",29),d(39,"p-table",30,0),R(41,SU,18,15,"ng-template",null,1,ae)(43,CU,44,27,"ng-template",null,2,ae)(45,DU,22,16,"ng-template",null,3,ae)(47,AU,4,3,"ng-template",null,4,ae)(49,MU,4,3,"ng-template",null,5,ae),u()(),d(51,"p-dialog",31),h(52,"translate"),A("visibleChange",function(o){return y(r),D(i.displayHorseDialog,o)||(i.displayHorseDialog=o),b(o)}),d(53,"p-table",32),R(54,kU,19,18,"ng-template",null,2,ae)(56,PU,16,15,"ng-template",null,3,ae),u(),R(58,LU,2,3,"ng-template",null,6,ae),u(),d(60,"p-dialog",33),h(61,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalDialog,o)||(i.displayAddChevalDialog=o),b(o)}),d(62,"form",34,7),L("ngSubmit",function(){y(r);let o=Q(63);return b(i.addCheval(o))}),d(64,"div",35)(65,"div",36)(66,"div",37)(67,"div",38)(68,"label",39),v(69),h(70,"translate"),u(),d(71,"input",40),A("ngModelChange",function(o){return y(r),D(i.newCheval.nom,o)||(i.newCheval.nom=o),b(o)}),u()()(),d(72,"div",37)(73,"div",38)(74,"label",41),v(75),h(76,"translate"),u(),d(77,"p-dropdown",42),h(78,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.robe,o)||(i.newCheval.robe=o),b(o)}),R(79,RU,2,3,"ng-template",43),u()()(),d(80,"div",37)(81,"div",38)(82,"label",44),v(83),h(84,"translate"),u(),d(85,"p-calendar",45),A("ngModelChange",function(o){return y(r),D(i.newCheval.dateDeNaissance,o)||(i.newCheval.dateDeNaissance=o),b(o)}),u()()(),d(86,"div",37)(87,"div",38)(88,"label",46),v(89),h(90,"translate"),u(),d(91,"p-dropdown",47),h(92,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.sexe,o)||(i.newCheval.sexe=o),b(o)}),u()()(),d(93,"div",37)(94,"div",38)(95,"label",48),v(96),h(97,"translate"),u(),d(98,"p-dropdown",49),h(99,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.pereId,o)||(i.newCheval.pereId=o),b(o)}),u()()(),d(100,"div",37)(101,"div",38)(102,"label",50),v(103),h(104,"translate"),u(),d(105,"p-dropdown",51),h(106,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.mereId,o)||(i.newCheval.mereId=o),b(o)}),u()()(),d(107,"div",37)(108,"div",38)(109,"label",52),v(110),h(111,"translate"),u(),d(112,"p-dropdown",53),h(113,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.lieuId,o)||(i.newCheval.lieuId=o),b(o)}),u()()(),d(114,"div",37)(115,"div",38)(116,"label",54),v(117),h(118,"translate"),u(),d(119,"p-dropdown",55),h(120,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.raceCodeRace,o)||(i.newCheval.raceCodeRace=o),b(o)}),u()()(),d(121,"div",37)(122,"div",38)(123,"label",56),v(124),h(125,"translate"),u(),d(126,"p-dropdown",57),h(127,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.categoriesId,o)||(i.newCheval.categoriesId=o),b(o)}),u()()(),d(128,"div",37)(129,"div",38)(130,"label",58),v(131),h(132,"translate"),u(),d(133,"p-multiSelect",59),h(134,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.contactIds,o)||(i.newCheval.contactIds=o),b(o)}),u()()()()(),d(135,"div",60)(136,"button",61),h(137,"translate"),L("click",function(){return y(r),b(i.displayAddChevalDialog=!1)}),u(),P(138,"button",62),h(139,"translate"),u()()(),d(140,"p-dialog",31),h(141,"translate"),A("visibleChange",function(o){return y(r),D(i.displayViewDialog,o)||(i.displayViewDialog=o),b(o)}),R(142,NU,53,45,"div",63)(143,VU,5,6,"ng-template",64),u(),d(144,"p-dialog",33),h(145,"translate"),A("visibleChange",function(o){return y(r),D(i.displayEditDialog,o)||(i.displayEditDialog=o),b(o)}),R(146,WU,54,51,"form",65),u(),d(147,"p-dialog",33),h(148,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddDialog,o)||(i.displayAddDialog=o),b(o)}),d(149,"form",34,8),L("ngSubmit",function(){return y(r),b(i.addQualification())}),d(151,"div",35)(152,"div",36)(153,"div",66)(154,"div",38)(155,"label",67),v(156),h(157,"translate"),u(),d(158,"input",68),h(159,"translate"),A("ngModelChange",function(o){return y(r),D(i.newQualification.nom,o)||(i.newQualification.nom=o),b(o)}),u()()(),d(160,"div",69)(161,"div",38)(162,"label",70),v(163),h(164,"translate"),u(),d(165,"p-calendar",71),A("ngModelChange",function(o){return y(r),D(i.newQualification.dateQualificationDepart,o)||(i.newQualification.dateQualificationDepart=o),b(o)}),u()()(),d(166,"div",69)(167,"div",38)(168,"label",72),v(169),h(170,"translate"),u(),d(171,"p-calendar",73),A("ngModelChange",function(o){return y(r),D(i.newQualification.dateQualificationFin,o)||(i.newQualification.dateQualificationFin=o),b(o)}),u()()(),d(172,"div",66)(173,"div",38)(174,"label",74),v(175),h(176,"translate"),u(),d(177,"p-inputNumber",75),A("ngModelChange",function(o){return y(r),D(i.newQualification.distance,o)||(i.newQualification.distance=o),b(o)}),u()()(),d(178,"div",69)(179,"div",38)(180,"label",76),v(181),h(182,"translate"),u(),d(183,"p-dropdown",77),A("ngModelChange",function(o){return y(r),D(i.newQualification.lieuDepartId,o)||(i.newQualification.lieuDepartId=o),b(o)}),u()()(),d(184,"div",69)(185,"div",38)(186,"label",78),v(187),h(188,"translate"),u(),d(189,"p-dropdown",79),A("ngModelChange",function(o){return y(r),D(i.newQualification.lieuArriveeId,o)||(i.newQualification.lieuArriveeId=o),b(o)}),u()()(),d(190,"div",66)(191,"div",38)(192,"label",80),v(193),h(194,"translate"),u(),d(195,"p-multiSelect",81),h(196,"translate"),A("ngModelChange",function(o){return y(r),D(i.newQualification.numerosSIRE,o)||(i.newQualification.numerosSIRE=o),b(o)}),u()()()()(),d(197,"div",60)(198,"button",61),h(199,"translate"),L("click",function(){return y(r),b(i.displayAddDialog=!1)}),u(),P(200,"button",82),h(201,"translate"),u()()(),d(202,"p-dialog",31),h(203,"translate"),A("visibleChange",function(o){return y(r),D(i.displayStatsDialog,o)||(i.displayStatsDialog=o),b(o)}),d(204,"div",35)(205,"div",83)(206,"label",84),v(207),h(208,"translate"),u(),d(209,"p-inputNumber",85),A("ngModelChange",function(o){return y(r),D(i.maxRang,o)||(i.maxRang=o),b(o)}),u()(),d(210,"div",86)(211,"button",87),h(212,"translate"),L("click",function(){return y(r),b(i.exportstatchevalExcel())}),u(),d(213,"button",88),h(214,"translate"),L("click",function(){return y(r),b(i.exportstatchevalPdf())}),u(),d(215,"button",89),h(216,"translate"),L("click",function(){return y(r),b(i.exportstatchevalCSV())}),u()()(),R(217,zU,8,8,"div",90)(218,qU,2,3,"ng-template",64),u(),d(219,"p-dialog",91),A("visibleChange",function(o){return y(r),D(i.displayProbabilitiesDialog,o)||(i.displayProbabilitiesDialog=o),b(o)}),R(220,$U,22,10,"div",92)(221,QU,1,0,"ng-template",64),u()()()}if(t&2){let r=Q(63),a=Q(150);c(7),Se(" ",f(8,166,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(13,168,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(17,170,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(24,172,"Qualification.number_qualification")),c(3),x(i.totalqualification),c(10),O(" ",f(37,174,"Qualification.title_component")," "),c(2),g("ngIf",i.isAdmin),c(),g("value",i.qualifications)("rows",5)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(258,vU))("rowsPerPageOptions",se(259,_U)),c(12),_e(se(260,Zf)),g("header",f(52,176,"Qualification.manage_rang_horse.header")),T("visible",i.displayHorseDialog),c(2),g("value",(i.selectedQualification==null?null:i.selectedQualification.chevalQualifications)||se(261,F3))("paginator",!0)("rows",5),c(7),_e(se(262,Zf)),g("header",f(61,178,"HorseComponent.AddHorseDialog.header")),T("visible",i.displayAddChevalDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(70,180,"HorseComponent.AddHorseDialog.fields.name")),c(2),T("ngModel",i.newCheval.nom),c(4),x(f(76,182,"HorseComponent.AddHorseDialog.fields.coat")),c(2),T("ngModel",i.newCheval.robe),g("options",i.robeoptions)("placeholder",f(78,184,"HorseComponent.AddHorseDialog.selectCoat")),c(6),x(f(84,186,"HorseComponent.AddHorseDialog.fields.birth_date")),c(2),T("ngModel",i.newCheval.dateDeNaissance),g("showIcon",!0),c(4),x(f(90,188,"HorseComponent.AddHorseDialog.fields.gender")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.sexe),g("options",i.translatedSexeOptions)("placeholder",f(92,190,"HorseComponent.AddHorseDialog.placeholders.select_gender"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(97,192,"HorseComponent.AddHorseDialog.fields.father")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.pereId),g("options",i.pereOptions)("placeholder",f(99,194,"HorseComponent.AddHorseDialog.placeholders.select_father"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(104,196,"HorseComponent.AddHorseDialog.fields.mother")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.mereId),g("options",i.mereOptions)("placeholder",f(106,198,"HorseComponent.AddHorseDialog.placeholders.select_mother"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),O("",f(111,200,"HorseComponent.AddHorseDialog.fields.location")," "),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.lieuId),g("options",i.lieuOptions)("placeholder",f(113,202,"HorseComponent.AddHorseDialog.placeholders.select_location"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(118,204,"HorseComponent.AddHorseDialog.fields.race_code")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.raceCodeRace),g("options",i.raceOptions)("placeholder",f(120,206,"HorseComponent.AddHorseDialog.placeholders.select_race"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(125,208,"HorseComponent.AddHorseDialog.fields.category")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.categoriesId),g("options",i.categorieOptions)("placeholder",f(127,210,"HorseComponent.AddHorseDialog.placeholders.select_category"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(132,212,"HorseComponent.AddHorseDialog.fields.contacts")),c(2),T("ngModel",i.newCheval.contactIds),g("options",i.contactOptions)("placeholder",f(134,214,"HorseComponent.AddHorseDialog.placeholders.select_contacts"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(3),g("label",f(137,216,"HorseComponent.AddHorseDialog.buttons.cancel")),c(2),g("label",f(139,218,"HorseComponent.AddHorseDialog.buttons.add"))("disabled",!r.valid),c(2),_e(se(263,B3)),g("header",f(141,220,"Qualification.details_dialog.header")),T("visible",i.displayViewDialog),c(2),g("ngIf",i.selectedQualification),c(2),_e(se(264,Zf)),g("header",f(145,222,"Qualification.edit_title")),T("visible",i.displayEditDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(2),g("ngIf",i.selectedQualification),c(),_e(se(265,Zf)),g("header",f(148,224,"Qualification.add_title")),T("visible",i.displayAddDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(157,226,"Qualification.fields.name")),c(2),T("ngModel",i.newQualification.nom),g("placeholder",f(159,228,"Qualification.placeholders.name")),c(5),x(f(164,230,"Qualification.fields.start_date")),c(2),T("ngModel",i.newQualification.dateQualificationDepart),g("showTime",!0),c(4),x(f(170,232,"Qualification.fields.end_date")),c(2),T("ngModel",i.newQualification.dateQualificationFin),g("showTime",!0),c(4),x(f(176,234,"Qualification.fields.distance")),c(2),T("ngModel",i.newQualification.distance),g("min",0)("step",100),c(4),x(f(182,236,"Qualification.fields.departure_location")),c(2),T("ngModel",i.newQualification.lieuDepartId),g("options",i.lieuOptions),c(4),x(f(188,238,"Qualification.fields.arrival_location")),c(2),T("ngModel",i.newQualification.lieuArriveeId),g("options",i.lieuOptions),c(4),x(f(194,240,"Qualification.fields.horses")),c(2),T("ngModel",i.newQualification.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(196,242,"Qualification.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(3),g("label",f(199,244,"Qualification.buttons.cancel")),c(2),g("label",f(201,246,"Qualification.buttons.add"))("disabled",!a.valid),c(2),_e(se(266,B3)),g("header",f(203,248,"Qualification.stats_dialog.header")),T("visible",i.displayStatsDialog),c(5),x(f(208,250,"Qualification.stats_dialog.fields.maxRanks")),c(2),T("ngModel",i.maxRang),g("min",1)("max",20)("showButtons",!0),c(2),g("label",f(212,252,"Qualification.stats_dialog.buttons.excel")),c(2),g("label",f(214,254,"Qualification.stats_dialog.buttons.pdf")),c(2),g("label",f(216,256,"Qualification.stats_dialog.buttons.csv")),c(2),g("ngIf",i.selectedChevalStats),c(2),_e(se(267,yU)),T("visible",i.displayProbabilitiesDialog),g("modal",!0),c(),g("ngIf",i.currentProbabilities)}},dependencies:[ds,Sa,$t,zx,ru,vr,Xr,pe,Gi,ge,he,Ve,Ke,St,Yi,Ki,tt,nt,Pe,qe,Si,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,Ri,ft,ci,mt,kt,gt,Kt,rt,ht,wt,Li,bt,Pi,Ct,Xi],styles:['[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};var GU=["dt1"],YU=["statsTable"],KU=()=>["id","numeroFacture","acheteur","modePaiement"],XU=()=>[5,10,20],Ly=()=>({width:"50vw"});function ZU(n,e){if(n&1){let t=W();d(0,"div",25)(1,"button",62),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalDialog())}),u(),d(3,"button",62),h(4,"translate"),L("click",function(){y(t);let r=w();return b(r.showVendreChevauxDialog())}),u()()}n&2&&(c(),g("label",f(2,2,"HorseComponent.buttons.add_horse")),c(2),g("label",f(4,4,"Facture.add_title")))}function JU(n,e){if(n&1){let t=W();d(0,"div",63)(1,"div")(2,"button",64),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(39);return b(r.clear(a))}),u()(),d(4,"div",65)(5,"div",63)(6,"div",65)(7,"p-button",66),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.exportExcel())}),u(),d(9,"p-button",67),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.exportCSV())}),u()()()(),d(11,"p-iconField",68)(12,"p-inputIcon"),P(13,"i",69),u(),d(14,"input",70),h(15,"translate"),L("input",function(r){y(t);let a=w(),o=Q(39);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,4,"Facture.invoiceTable.caption.clear")),c(5),g("label",f(8,6,"Facture.invoiceTable.caption.exportExcel")),c(2),g("label",f(10,8,"Facture.invoiceTable.caption.exportCSV")),c(5),g("placeholder",f(15,10,"Facture.invoiceTable.caption.search")))}function ej(n,e){n&1&&(d(0,"tr")(1,"th",71)(2,"div",72),v(3),h(4,"translate"),P(5,"p-columnFilter",73),u()(),d(6,"th",74)(7,"div",72),v(8),h(9,"translate"),P(10,"p-columnFilter",75),u()(),d(11,"th",74)(12,"div",72),v(13),h(14,"translate"),P(15,"p-columnFilter",76),u()(),d(16,"th",74)(17,"div",72),v(18),h(19,"translate"),P(20,"p-columnFilter",77),u()(),d(21,"th",71)(22,"div",72),v(23),h(24,"translate"),P(25,"p-columnFilter",78),u()(),d(26,"th",71)(27,"div",72),v(28),h(29,"translate"),P(30,"p-columnFilter",79),u()(),d(31,"th",71)(32,"div",72),v(33),h(34,"translate"),P(35,"p-columnFilter",80),u()(),d(36,"th",81)(37,"div",72),v(38),h(39,"translate"),P(40,"p-columnFilter",82),u()(),d(41,"th",74)(42,"div",72),v(43),h(44,"translate"),u()(),d(45,"th",74)(46,"div",72),v(47),h(48,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,10,"Facture.invoiceTable.headers.id")," "),c(5),O(" ",f(9,12,"Facture.invoiceTable.headers.invoiceNumber")," "),c(5),O(" ",f(14,14,"Facture.invoiceTable.headers.date")," "),c(5),O(" ",f(19,16,"Facture.invoiceTable.headers.buyer")," "),c(5),O(" ",f(24,18,"Facture.invoiceTable.headers.amountHT")," "),c(5),O(" ",f(29,20,"Facture.invoiceTable.headers.vat")," "),c(5),O(" ",f(34,22,"Facture.invoiceTable.headers.amountTTC")," "),c(5),O(" ",f(39,24,"Facture.invoiceTable.headers.paymentMethod")," "),c(5),O(" ",f(44,26,"Facture.invoiceTable.headers.horses")," "),c(4),O(" ",f(48,28,"Facture.invoiceTable.headers.actions")," "))}function tj(n,e){if(n&1&&P(0,"p-chip",86),n&2){let t=e.$implicit,i=w(2);g("label",i.getChevalName(t.numeroSIRE)+" : "+t.prix+" TND")}}function ij(n,e){if(n&1){let t=W();d(0,"div")(1,"button",87),h(2,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.viewFactureDetails(r))}),u(),d(3,"button",88),h(4,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.openEditDialog(r))}),u(),d(5,"button",89),h(6,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.confirmDelete(r))}),u()()}n&2&&(c(),le("title",f(2,3,"Facture.invoiceTable.buttons.view")),c(2),le("title",f(4,5,"Facture.invoiceTable.buttons.edit")),c(2),le("title",f(6,7,"Facture.invoiceTable.buttons.delete")))}function nj(n,e){if(n&1){let t=W();d(0,"div",90)(1,"button",87),h(2,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.viewFactureDetails(r))}),u()()}n&2&&(c(),le("title",f(2,1,"Facture.invoiceTable.buttons.view")))}function rj(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u(),d(5,"td"),v(6),h(7,"date"),u(),d(8,"td"),v(9),u(),d(10,"td"),v(11),u(),d(12,"td"),v(13),u(),d(14,"td"),v(15),u(),d(16,"td"),v(17),u(),d(18,"td"),R(19,tj,1,1,"p-chip",83),u(),d(20,"td"),R(21,ij,7,9,"div",84)(22,nj,3,3,"div",85),u()()),n&2){let t=e.$implicit,i=w();c(2),x(t.id),c(2),x(t.numeroFacture),c(2),x(ni(7,11,t.dateFacture,"dd/MM/yyyy")),c(3),x(t.acheteur),c(2),x(t.montantHT),c(2),x(t.tva),c(2),O("",t.montantTTC," "),c(2),x(t.modePaiement),c(2),g("ngForOf",t.chevaux),c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin)}}function aj(n,e){n&1&&(d(0,"tr")(1,"td",91),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Facture.invoiceTable.messages.noInvoices")))}function oj(n,e){n&1&&(d(0,"tr")(1,"td",91),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Facture.invoiceTable.messages.loading")))}function sj(n,e){if(n&1&&(v(0),h(1,"translate")),n&2){let t=e.$implicit;O(" ",f(1,1,t.label)," ")}}function lj(n,e){if(n&1){let t=W();d(0,"div",102)(1,"div",103),v(2),u(),d(3,"div",103)(4,"p-inputNumber",104),A("ngModelChange",function(r){let a=y(t).$implicit;return D(a.prix,r)||(a.prix=r),b(r)}),u()()()}if(n&2){let t=e.$implicit,i=w(3);c(2),O(" ",i.getChevalLabel(t.numeroSIRE)," "),c(2),T("ngModel",t.prix),g("name","prix_"+t.numeroSIRE)}}function cj(n,e){if(n&1&&(d(0,"div",34)(1,"label"),v(2),h(3,"translate"),u(),R(4,lj,5,3,"div",101),u()),n&2){let t=w(2);c(2),x(f(3,2,"Facture.fields.prices")),c(2),g("ngForOf",t.newFacture.chevaux)}}function dj(n,e){if(n&1){let t=W();Ue(0),d(1,"form",30,8),L("ngSubmit",function(){y(t);let r=w();return b(r.createFacture())}),d(3,"div",31)(4,"div",34)(5,"label",92),v(6),h(7,"translate"),u(),d(8,"p-multiSelect",93),h(9,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedChevaux,r)||(a.selectedChevaux=r),b(r)}),L("onChange",function(r){y(t);let a=w();return b(a.onChevalSelectnew(r))}),u()(),R(10,cj,5,4,"div",94),d(11,"div",34)(12,"label",95),v(13),h(14,"translate"),u(),d(15,"input",96),A("ngModelChange",function(r){y(t);let a=w();return D(a.newFacture.acheteur,r)||(a.newFacture.acheteur=r),b(r)}),u()(),d(16,"div",34)(17,"label",97),v(18),h(19,"translate"),u(),d(20,"p-dropdown",98),A("ngModelChange",function(r){y(t);let a=w();return D(a.newFacture.modePaiement,r)||(a.newFacture.modePaiement=r),b(r)}),u()(),d(21,"div",34)(22,"label",99),v(23),h(24,"translate"),u(),d(25,"textarea",100),h(26,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newFacture.notes,r)||(a.newFacture.notes=r),b(r)}),v(27,"                    "),u()()(),d(28,"div",56)(29,"button",57),h(30,"translate"),L("click",function(){y(t);let r=w();return b(r.displayVenteChevauxDialog=!1)}),u(),P(31,"button",58),h(32,"translate"),u()(),je()}if(n&2){let t=Q(2),i=w();c(6),x(f(7,19,"Facture.fields.horses")),c(2),T("ngModel",i.selectedChevaux),g("options",i.chevauxOptions)("placeholder",f(9,21,"Facture.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(2),g("ngIf",i.newFacture.chevaux.length>0),c(3),x(f(14,23,"Facture.fields.buyer")),c(2),T("ngModel",i.newFacture.acheteur),c(3),x(f(19,25,"Facture.fields.payment_method")),c(2),T("ngModel",i.newFacture.modePaiement),g("options",i.translatedPaymentOptions),c(3),x(f(24,27,"Facture.fields.notes")),c(2),T("ngModel",i.newFacture.notes),g("placeholder",f(26,29,"Facture.placeholders.enter_notes")),c(4),g("label",f(30,31,"Facture.buttons.cancel")),c(2),g("label",f(32,33,"Facture.buttons.create"))("disabled",!t.valid||i.hasInvalidPrix())}}function uj(n,e){if(n&1){let t=W();d(0,"div",105),P(1,"i",106),d(2,"h3"),v(3,"Aucun cheval disponible pour la vente"),u(),d(4,"p"),v(5,"Tous les chevaux sont archiv\xE9s ou d\xE9j\xE0 vendus."),u(),d(6,"button",107),L("click",function(){y(t);let r=w();return b(r.displayVenteChevauxDialog=!1)}),u()()}}function pj(n,e){if(n&1){let t=W();d(0,"div",102)(1,"div",115),v(2),u(),d(3,"div",115)(4,"p-inputNumber",104),A("ngModelChange",function(r){let a=y(t).$implicit;return D(a.prix,r)||(a.prix=r),b(r)}),u()(),d(5,"div",116)(6,"button",89),L("click",function(){let r=y(t).index,a=w(2);return b(a.removeCheval(r))}),u()()()}if(n&2){let t=e.$implicit,i=e.index,r=w(2);c(2),Se(" ",r.getChevalName(t.numeroSIRE)," (",t.numeroSIRE,") "),c(2),T("ngModel",t.prix),g("name","existing_prix_"+i)}}function mj(n,e){if(n&1){let t=W();d(0,"div",102)(1,"div",115),v(2),u(),d(3,"div",115)(4,"p-inputNumber",104),A("ngModelChange",function(r){let a=y(t).$implicit;return D(a.prix,r)||(a.prix=r),b(r)}),u()(),d(5,"div",116)(6,"button",117),L("click",function(){let r=y(t).index,a=w(3);return b(a.removeNewCheval(r))}),u()()()}if(n&2){let t=e.$implicit,i=e.index;c(2),Se(" ",t.label," (",t.value,") "),c(2),T("ngModel",t.prix),g("name","new_prix_"+i)}}function hj(n,e){if(n&1&&(d(0,"div",108)(1,"div",34)(2,"label"),v(3),h(4,"translate"),u(),R(5,mj,7,4,"div",101),u()()),n&2){let t=w(2);c(3),x(f(4,2,"Facture.fields.newchoosedhorses")),c(2),g("ngForOf",t.selectedChevauxWithPrices)}}function fj(n,e){if(n&1){let t=W();d(0,"form",30,9),L("ngSubmit",function(){y(t);let r=w();return b(r.updateFacture())}),d(2,"div",31)(3,"div",32)(4,"div",108)(5,"div",34)(6,"label",95),v(7),h(8,"translate"),u(),d(9,"input",109),h(10,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedFacture.acheteur,r)||(a.selectedFacture.acheteur=r),b(r)}),u()()(),d(11,"div",110)(12,"div",34)(13,"label",97),v(14),h(15,"translate"),u(),d(16,"p-dropdown",98),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedFacture.modePaiement,r)||(a.selectedFacture.modePaiement=r),b(r)}),u()()(),d(17,"div",108)(18,"div",34)(19,"label",99),v(20),h(21,"translate"),u(),d(22,"textarea",100),h(23,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedFacture.notes,r)||(a.selectedFacture.notes=r),b(r)}),u()()(),d(24,"div",108)(25,"div",34)(26,"label"),v(27),h(28,"translate"),u(),R(29,pj,7,4,"div",101),u()(),d(30,"div",108)(31,"div",34)(32,"label",111),v(33),h(34,"translate"),u(),d(35,"p-multiSelect",112),h(36,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.selectedChevauxValues,r)||(a.selectedChevauxValues=r),b(r)}),L("onChange",function(r){y(t);let a=w();return b(a.onChevalSelect(r))}),u()()(),R(37,hj,6,4,"div",113),u()(),d(38,"div",56)(39,"button",57),h(40,"translate"),L("click",function(){y(t);let r=w();return b(r.displayEditDialog=!1)}),u(),P(41,"button",114),h(42,"translate"),u()()}if(n&2){let t=Q(1),i=w();c(7),x(f(8,22,"Facture.fields.buyer")),c(2),T("ngModel",i.selectedFacture.acheteur),g("placeholder",f(10,24,"Facture.fields.buyer")),c(5),x(f(15,26,"Facture.fields.payment_method")),c(2),T("ngModel",i.selectedFacture.modePaiement),g("options",i.translatedPaymentOptions),c(4),x(f(21,28,"Facture.fields.notes")),c(2),T("ngModel",i.selectedFacture.notes),g("placeholder",f(23,30,"Facture.placeholders.enter_notes")),c(5),x(f(28,32,"Facture.fields.existhorses")),c(2),g("ngForOf",i.selectedFacture.chevaux),c(4),x(f(34,34,"Facture.fields.horses")),c(2),T("ngModel",i.selectedChevauxValues),g("options",i.availableChevauxOptions)("placeholder",f(36,36,"Facture.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(2),g("ngIf",i.selectedChevauxWithPrices.length>0),c(2),g("label",f(40,38,"Facture.buttons.cancel")),c(2),g("label",f(42,40,"Facture.buttons.edit"))("disabled",!t.valid||i.hasInvalidPrix())}}var e0=class n{constructor(e,t,i,r,a,o,s,l,p,m,_,S,C,E,I,M,F,N,U,j){this.translate=e;this.factureService=t;this.qualificationService=i;this.chevalService=r;this.messageService=a;this.confirmationService=o;this.lieuService=s;this.entiteService=l;this.raceService=p;this.categorieService=m;this.contactService=_;this.chevalContactService=S;this.anciennomService=C;this.chevalordonnanceService=E;this.acteService=I;this.planningService=M;this.datePipe=F;this.authService=N;this.AnalysesanitaireService=U;this.mouvementService=j;this.entiteIdlogin=this.authService.getEntiteId(),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions()}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;get exportQualificationColumns(){return[{title:"ID",dataKey:"id"},{title:"Nom",dataKey:"nom"},{title:"Date D\xE9part",dataKey:"dateQualificationDepart"},{title:"Date Fin",dataKey:"dateQualificationFin"},{title:"Distance (m)",dataKey:"distance"},{title:"Lieu D\xE9part",dataKey:"lieuDepartId"},{title:"Lieu Arriv\xE9e",dataKey:"lieuArriveeId"},{title:"N\xB0 SIRE",dataKey:"numerosSIRE"},{title:"Nombre Chevaux",dataKey:"chevalCount"}]}exportExcelqualifications(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.qualifications.map(o=>({ID:o.id,Nom:o.nom||"","Date D\xE9part":o.dateQualificationDepart?new Date(o.dateQualificationDepart).toLocaleString("fr-FR"):"","Date Fin":o.dateQualificationFin?new Date(o.dateQualificationFin).toLocaleString("fr-FR"):"","Distance (m)":o.distance||0,"Lieu D\xE9part":o.lieuDepartId||"","Lieu Arriv\xE9e":o.lieuArriveeId||"","N\xB0 SIRE":Array.isArray(o.numerosSIRE)?o.numerosSIRE.join(", "):o.numerosSIRE||"","Nombre Chevaux":o.chevalQualifications?.length||0})),r={Sheets:{Qualifications:e.utils.json_to_sheet(t)},SheetNames:["Qualifications"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"qualifications")})}exportCSVqualification(){if(!this.qualifications||this.qualifications.length===0){console.warn("Aucune donn\xE9e \xE0 exporter");return}try{let e=this.convertQualificationsToCSV(this.qualifications);this.downloadFile(e,"qualifications.csv","text/csv;charset=utf-8;")}catch(e){console.error("Erreur lors de l'export CSV:",e)}}convertQualificationsToCSV(e){if(!e||e.length===0)return"";let i=this.exportQualificationColumns.map(r=>r.title).join(";")+`\r
`;return e.forEach(r=>{let a=[r.id,`"${r.nom||""}"`,r.dateQualificationDepart?new Date(r.dateQualificationDepart).toLocaleString("fr-FR"):"",r.dateQualificationFin?new Date(r.dateQualificationFin).toLocaleString("fr-FR"):"",r.distance||0,r.lieuDepartId||"",r.lieuArriveeId||"",Array.isArray(r.numerosSIRE)?r.numerosSIRE.join(", "):r.numerosSIRE||"",r.chevalQualifications?.length||0];i+=a.join(";")+`\r
`}),i}exportPdfqualifications(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des qualifications",subject:"Export PDF",author:"Votre Application",keywords:"qualifications, chevaux, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES QUALIFICATIONS",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+40;t(i,{startY:p,head:[this.exportQualificationColumns.map(m=>m.title)],body:this.qualifications.map(m=>[m.id,m.nom||"",m.dateQualificationDepart?new Date(m.dateQualificationDepart).toLocaleString("fr-FR"):"",m.dateQualificationFin?new Date(m.dateQualificationFin).toLocaleString("fr-FR"):"",m.distance||0,m.lieuDepartId||"",m.lieuArriveeId||"",Array.isArray(m.numerosSIRE)?m.numerosSIRE.join(", "):m.numerosSIRE||"",m.chevalQualifications?.length||0]),styles:{fontSize:8,cellPadding:3,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[51,102,153],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:30},2:{cellWidth:70},3:{cellWidth:70},8:{cellWidth:40}},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des qualifications",o,o-10)}}),i.save(`qualifications_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Erreur lors de la g\xE9n\xE9ration du PDF:",e)}})}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}qualifications=[];selectedQualification=null;displayHorseDialog=!1;displayViewDialog=!1;displayEditDialog=!1;chevaux=[];chevauxnotarchived=[];mouvement=[];lieux=[];entite=[];race=[];categorie=[];contact=[];filteredMouvement=[];filteredMouvementnotarchived=[];displayAddChevalDialog=!1;newCheval=new Qt;searchText="";loading=!0;sexeOptions=[{label:"M\xE2le",value:"M\xE2le"},{label:"Femelle",value:"Femelle"}];categorieOptions=[];raceOptions=[];pereOptions=[];mereOptions=[];lieuOptions=[];entiteOptions=[];contactOptions=[];chevauxOptions=[];translatedSexeOptions=[];translatedPaymentOptions=[];selectedFacture=null;selectedChevaux=[];robeoptions=[];isAdmin=!1;currentLanguage="en";updateTranslatedOptions(){this.translatedSexeOptions=[{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.male"),value:"M\xE2le"},{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.female"),value:"Femelle"}],this.translatedPaymentOptions=[{label:this.translate.instant("HorseComponent.SellHorsesDialog.payment_options.cash"),value:"cash"},{label:this.translate.instant("HorseComponent.SellHorsesDialog.payment_options.check"),value:"check"},{label:this.translate.instant("HorseComponent.SellHorsesDialog.payment_options.transfer"),value:"transfer"},{label:this.translate.instant("HorseComponent.SellHorsesDialog.payment_options.card"),value:"card"}],this.robeoptions=[{value:"ALEZAN",label:this.translate.instant("HorseComponent.coats.ALEZAN")},{value:"BAI",label:this.translate.instant("HorseComponent.coats.BAI")},{value:"BAI_BRUN",label:this.translate.instant("HorseComponent.coats.BAI_BRUN")},{value:"BLANC",label:this.translate.instant("HorseComponent.coats.BLANC")},{value:"GRIS",label:this.translate.instant("HorseComponent.coats.GRIS")},{value:"NOIR",label:this.translate.instant("HorseComponent.coats.NOIR")},{value:"PIE",label:this.translate.instant("HorseComponent.coats.PIE")},{value:"ROUAN",label:this.translate.instant("HorseComponent.coats.ROUAN")},{value:"SOURIS",label:this.translate.instant("HorseComponent.coats.SOURIS")},{value:"AUBERE",label:this.translate.instant("HorseComponent.coats.AUBERE")},{value:"CREME",label:this.translate.instant("HorseComponent.coats.CREME")},{value:"ISABELLE",label:this.translate.instant("HorseComponent.coats.ISABELLE")},{value:"PALOMINO",label:this.translate.instant("HorseComponent.coats.PALOMINO")}]}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}entiteIdlogin=null;entiteLogin=null;entitenom="";ngOnInit(){this.loadChevaux(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadEntite(),this.loadRace(),this.loadCategorie(),this.loadContact(),this.loadFactures(),this.setupExportColumns(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,this.entitenom=this.entiteLogin.nom,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}confirmDelete(e){this.confirmationService.confirm({message:this.translate.instant("Facture.delete_facture.deleteConfirmation.message",{invoiceNumber:e.numeroFacture}),header:this.translate.instant("Facture.delete_facture.deleteConfirmation.header"),icon:"pi pi-exclamation-triangle",accept:()=>{this.factureService.deleteFacture(e.numeroFacture,this.entiteIdlogin).subscribe({next:()=>{this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:this.translate.instant("Facture.delete_facture.deleteConfirmation.success")}),this.loadFactures(),this.chevauxOptions=[],this.loadChevauxNotArchived()},error:()=>{this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("Facture.delete_facture.deleteConfirmation.error")})}})}})}selectedCheval=null;totalChevaux=null;totalChevauxnotarchived=null;loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.chevaux=e.details,this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadLieux(){this.loading=!0,this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.lieuOptions=this.lieux.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des lieux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des lieux."})}})}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}loadRace(){this.loading=!0,this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.race=e.details,console.log(e.details),this.raceOptions=this.race.map(t=>({label:t.description,value:t.codeRace})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des races",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des races."})}})}loadCategorie(){this.loading=!0,this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.categorie=e.details,this.categorieOptions=this.categorie.map(t=>({label:t.nomFr,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}loadContact(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.contact=e.details,this.contactOptions=this.contact.map(t=>({label:t.nom+" "+t.prenom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}updatePereAndMereOptions(){this.pereOptions=[{label:"---",value:""}],this.mereOptions=[{label:"---",value:""}],this.chevaux.forEach(e=>{this.pereOptions.push({label:e.nom,value:e.numeroSIRE}),this.mereOptions.push({label:e.nom,value:e.numeroSIRE})}),this.chevauxnotarchived.forEach(e=>{this.chevauxOptions.push({label:e.nom,value:e.numeroSIRE})}),console.log("chevauxoption",this.chevauxOptions)}showAddChevalDialog(){this.displayAddChevalDialog=!0}generateNumeroSIRE(e,t){let i=t.getFullYear().toString().slice(-2),r=(e+1).toString(),a=7-r.length,o="0".repeat(a)+r;return i+o}generateRandomSixDigits(){return Math.floor(Math.random()*1e6).toString().padStart(6,"0")}addCheval(e){e.valid&&(console.log(this.newCheval),this.chevalService.getMaxId().subscribe({next:t=>{this.newCheval.numeroSIRE=this.generateNumeroSIRE(t.details,this.newCheval.dateDeNaissance),this.newCheval.entiteId=this.entiteIdlogin;let i=this.generateRandomSixDigits();this.newCheval.cleSIRE=this.newCheval.numeroSIRE+i,this.newCheval.pereId===""&&(this.newCheval.pereId=""),this.newCheval.mereId===""&&(this.newCheval.mereId=""),this.chevalService.addCheval(this.newCheval).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:r.message}),this.displayAddChevalDialog=!1,this.loadChevaux(),this.newCheval=new Qt},error:r=>{let a="Erreur lors de l'ajout du cheval.";r.error&&r.error.message?a=r.error.message:r.message&&(a=r.message),this.messageService.add({severity:"error",summary:"Erreur",detail:a})}})},error:t=>{let i="Erreur lors de la r\xE9cup\xE9ration de l'ID maximum.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}getLieuName(e){let t=this.lieux.find(i=>i.id===e);return t?t.nom:e.toString()}getChevalName(e){let t=this.chevauxOptions.find(r=>r.value===e);if(t)return t.label;let i=this.chevaux.find(r=>r.numeroSIRE===e);return i?i.nom:e}getChevalLabel(e){let t=this.chevauxOptions.find(r=>r.value===e);if(t)return t.label;let i=this.chevaux.find(r=>r.numeroSIRE===e);return i?i.nom:e}displayStatsDialog=!1;selectedChevalStats=null;selectedRang=1;selectedSire="";onChipClick(e){this.selectedSire=e,this.displayStatsDialog=!0}statsTable;get exportStatChevalColumns(){return[{title:"Rang",dataKey:"rang"},{title:"Nombre de fois",dataKey:"nombreDeFois"}]}exportstatchevalExcel(){this.selectedChevalStats&&import("./chunk-SC6JYBFT.js").then(e=>{let t=this.selectedChevalStats.statistiques.map(o=>({Rang:o.rang,"Nombre de fois":o.nombreDeFois})),r={Sheets:{Stats_Rang:e.utils.json_to_sheet(t)},SheetNames:["Stats_Rang"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,`stats_rang_${this.selectedChevalStats.numeroSIRE}`)})}exportstatchevalCSV(){if(!this.selectedChevalStats||!this.selectedChevalStats.statistiques){console.warn("Aucune donn\xE9e \xE0 exporter");return}try{let e=this.convertStatsToCSV(this.selectedChevalStats.statistiques);this.downloadFile(e,`stats_rang_${this.selectedChevalStats.numeroSIRE}.csv`,"text/csv;charset=utf-8;")}catch(e){console.error("Erreur lors de l'export CSV:",e)}}convertStatsToCSV(e){if(!e||e.length===0)return"";let i=this.exportStatChevalColumns.map(r=>r.title).join(";")+`\r
`;return e.forEach(r=>{let a=[r.rang,r.nombreDeFois];i+=a.join(";")+`\r
`}),i}exportstatchevalPdf(){return Ft(this,null,function*(){if(this.selectedChevalStats)try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:`Statistiques de rang - ${this.selectedChevalStats.numeroSIRE}`,subject:"Export PDF",author:"Votre Application",keywords:"statistiques, cheval, rang, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("STATISTIQUES DE RANG",r/2,o+20,{align:"center"}),i.setFontSize(14),i.text(`Cheval: ${this.getChevalName(this.selectedChevalStats.numeroSIRE)}`,o,o+50),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+80;t(i,{startY:p,head:[this.exportStatChevalColumns.map(m=>m.title)],body:this.selectedChevalStats.statistiques.map(m=>[m.rang,m.nombreDeFois]),styles:{fontSize:10,cellPadding:5,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[51,102,153],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"center"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto"}},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text(`Statistiques de rang - ${this.selectedChevalStats.numeroSIRE}`,o,o-10)}}),i.save(`stats_rang_${this.selectedChevalStats.numeroSIRE}_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Erreur lors de la g\xE9n\xE9ration du PDF:",e)}})}factures=[];exportColumns=[];totalvendu=null;loadFactures(){this.loading=!0,this.factureService.getAllFactures(this.entiteIdlogin).subscribe({next:e=>{this.factures=e,this.totalvendu=e.length,console.log("facture",this.factures),this.loading=!1},error:e=>{console.error("Erreur lors du chargement des factures",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Impossible de charger les factures"}),this.loading=!1}})}setupExportColumns(){this.exportColumns=[{title:"ID",field:"id"},{title:"Num\xE9ro",field:"numeroFacture"},{title:"Date",field:"dateFacture"},{title:"Acheteur",field:"acheteur"},{title:"Montant HT",field:"montantHT"},{title:"TVA",field:"tva"},{title:"Montant TTC",field:"montantTTC"},{title:"Mode Paiement",field:"modePaiement"}]}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}exportExcel(){import("./chunk-SC6JYBFT.js").then(e=>{let i={Sheets:{data:e.utils.json_to_sheet(this.factures)},SheetNames:["data"]},r=e.write(i,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(r,"factures")})}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=new Blob([e],{type:r});i.saveAs(a,`${t}_${new Date().getTime()}.xlsx`)})}exportPdf(){import("./chunk-QQRKQCVJ.js").then(e=>{import("./chunk-7KJGJMGE.js").then(t=>{let i=new e.default("p","pt");i.autoTable(this.factures),i.save("factures.pdf")})})}exportCSV(){import("./chunk-WMHKCCNS.js").then(e=>{let t=this.convertToCSV(this.factures,this.exportColumns),i=new Blob([t],{type:"text/csv;charset=utf-8;"});e.saveAs(i,`factures_${new Date().getTime()}.csv`)})}convertToCSV(e,t){let i=t.map(a=>a.title).join(";"),r=e.map(a=>t.map(o=>a[o.field]).join(";")).join(`
`);return`${i}
${r}`}viewFactureDetails(e){this.downloadFacturePdf(e,this.entitenom)}editFacture(e){console.log("\xC9diter:",e)}downloadFacturePdf(e,t){return Ft(this,null,function*(){this.generateFacturePdf(e,t)})}generateFacturePdf(e,t){return Ft(this,null,function*(){let{jsPDF:i}=yield import("./chunk-QQRKQCVJ.js"),{default:r}=yield import("./chunk-7KJGJMGE.js"),a=new i("p","pt","a4"),o=a.internal.pageSize.getWidth(),s=a.internal.pageSize.getHeight(),l=40;a.setProperties({title:`Facture ${e.numeroFacture}`,subject:"Facture",author:"Votre Application",keywords:"facture, vente",creator:"Votre Application"}),a.setFontSize(18),a.setFont("helvetica","bold"),a.text("FACTURE",o/2,l+30,{align:"center"}),a.setFontSize(12),a.setFont("helvetica","normal"),a.text(`N\xB0: ${e.numeroFacture}`,o-l,l+30,{align:"right"}),a.text(`Date: ${new Date(e.dateFacture).toLocaleDateString("fr-FR")}`,o-l,l+50,{align:"right"}),a.setFontSize(14),a.text("CLIENT",l,l+80),a.setFontSize(12),a.text(e.acheteur,l,l+100),a.setDrawColor(200,200,200),a.setLineWidth(.5),a.line(l,l+120,o-l,l+120);let p=l+140;r(a,{startY:p,head:[["SIRE","Nom cheval ","Prix unitaire","Total"]],body:e.chevaux.map(_=>[_.numeroSIRE,` ${this.getChevalName(_.numeroSIRE)}`,`${_.prix.toFixed(2)} TND`,`${_.prix.toFixed(2)} TND`]),styles:{fontSize:10,cellPadding:6},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold",halign:"center"},columnStyles:{2:{halign:"right"},3:{halign:"right"}},margin:{left:l,right:l}});let m=a.lastAutoTable.finalY+20;a.setFontSize(12),a.text("Total HT:",o-l-170,m),a.text(`${e.montantHT.toFixed(2)} TND`,o-l,m,{align:"right"}),a.text("TVA (20%):",o-l-170,m+25),a.text(`${e.tva.toFixed(2)} TND`,o-l,m+25,{align:"right"}),a.setFontSize(14),a.setFont("helvetica","bold"),a.text("Total TTC:",o-l-170,m+50),a.text(`${e.montantTTC.toFixed(2)} TND`,o-l,m+50,{align:"right"}),a.setFontSize(12),a.setFont("helvetica","normal"),a.text(`Mode de paiement: ${e.modePaiement}`,l,m+80),e.notes&&a.text(`Notes: ${e.notes}`,l,m+100),a.setFontSize(10),a.setTextColor(150,150,150),a.text(`Merci pour votre confiance chez ${t} `,o/2,s-l,{align:"center"}),a.save(`facture_${e.numeroFacture}.pdf`)})}availableChevauxOptions=[];selectedChevauxValues=[];selectedChevauxWithPrices=[];openEditDialog(e){this.selectedFacture=z({},e),this.updateAvailableChevauxOptions(),this.displayEditDialog=!0}updateAvailableChevauxOptions(){let e=this.selectedFacture?.chevaux.map(t=>t.numeroSIRE)||[];this.availableChevauxOptions=this.chevauxOptions}onChevalSelect(e){this.selectedChevauxValues.forEach(t=>{if(!this.selectedChevauxWithPrices.some(i=>i.value===t)){let i=this.chevauxOptions.find(r=>r.value===t);this.selectedChevauxWithPrices.push({label:i?.label||t,value:t,prix:0})}}),this.selectedChevauxWithPrices=this.selectedChevauxWithPrices.filter(t=>this.selectedChevauxValues.includes(t.value))}removeCheval(e){this.selectedFacture&&(this.selectedFacture.chevaux.splice(e,1),this.updateAvailableChevauxOptions())}removeNewCheval(e){this.selectedChevauxWithPrices.splice(e,1),this.selectedChevauxValues=this.selectedChevauxWithPrices.map(t=>t.value)}hasInvalidPrix(){let e=this.selectedFacture?.chevaux.some(i=>!i.prix||i.prix<=0||isNaN(i.prix))||!1,t=this.selectedChevauxWithPrices.some(i=>!i.prix||i.prix<=0||isNaN(i.prix));return e||t}updateFacture(){if(!this.selectedFacture)return;this.selectedChevauxWithPrices.forEach(t=>{this.selectedFacture?.chevaux.push({numeroSIRE:t.value,prix:t.prix})}),this.selectedChevauxValues=[],this.selectedChevauxWithPrices=[];let e={acheteur:this.selectedFacture.acheteur,modePaiement:this.selectedFacture.modePaiement,notes:this.selectedFacture.notes,chevaux:this.selectedFacture.chevaux};this.factureService.updateFacture(this.selectedFacture.id,e,this.entiteIdlogin).subscribe({next:t=>{console.log("facture",t),this.messageService.add({severity:"success",summary:this.translate.instant("Facture.update_facture.succes"),detail:this.translate.instant("Facture.update_facture.detail")}),this.displayEditDialog=!1,this.downloadFacturePdf(t,this.entitenom),this.loadFactures(),this.loadChevaux()},error:t=>{console.error("Erreur lors de la modification de la facture",t),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Facture.update_facture.error")})}})}displayVenteChevauxDialog=!1;hasInvalidPrixnewfacture(){return this.newFacture?.chevaux?this.newFacture.chevaux.some(e=>e.prix<=0):!1}newFacture={acheteur:"",modePaiement:"",notes:"",chevaux:[],entiteid:0};modePaiementOptions=[{label:"Virement bancaire",value:"Virement"},{label:"Ch\xE8que",value:"Cheque"},{label:"Esp\xE8ces",value:"Especes"},{label:"Carte bancaire",value:"Carte"}];showVendreChevauxDialog(){this.displayVenteChevauxDialog=!0,this.resetfactureForm()}resetfactureForm(){this.newFacture={acheteur:"",modePaiement:"",notes:"",chevaux:[],entiteid:0},this.selectedChevaux=[]}onChevalSelectnew(e){this.newFacture.chevaux=this.selectedChevaux.map(t=>({numeroSIRE:t,prix:0}))}createFacture(){if(this.newFacture.entiteid=this.entiteIdlogin,this.newFacture.chevaux.some(e=>e.prix<=0)){this.messageService.add({severity:"warn",summary:"Attention",detail:this.translate.instant("Facture.add_facture.detailprice")});return}this.factureService.createFacture(this.newFacture).subscribe({next:e=>{console.log("facture",e),this.messageService.add({severity:"success",summary:this.translate.instant("Facture.add_facture.succes"),detail:this.translate.instant("Facture.add_facture.detail")}),this.displayVenteChevauxDialog=!1,this.downloadFacturePdf(e,this.entitenom),this.loadFactures(),this.loadChevaux(),this.loadChevauxNotArchived()},error:e=>{console.error("Erreur lors de la cr\xE9ation de la facture",e),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Facture.add_facture.error")})}})}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ir),B(rr),B(me),B(ne),B(ce),B(Ce),B(oe),B(ke),B(be),B(Ie),B($e),B(Et),B(at),B(it),B(vt),B(he),B(ze),B(_t),B(Ni))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&(Te(GU,5),Te(YU,5)),t&2){let r;Z(r=J())&&(i.dt1=r.first),Z(r=J())&&(i.statsTable=r.first)}},features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t,Ni,rr,ir])],decls:138,vars:170,consts:[["dt1",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["addChevalForm","ngForm"],["noHorsesAvailable",""],["venteForm","ngForm"],["editFactureForm","ngForm"],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-6"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-dollar","text-amber-500","!text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-fluid"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-6"],[1,"p-field"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",3,"ngModelChange","ngModel"],["for","robe"],["id","robe","name","robe","optionLabel","label","optionValue","value","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],["pTemplate","item"],["for","dateDeNaissance"],["id","dateDeNaissance","name","dateDeNaissance","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showIcon"],["for","sexe"],["id","sexe","filterBy","label","name","sexe","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","pereId"],["id","pereId","filterBy","label","name","pereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","mereId"],["id","mereId","filterBy","label","name","mereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","lieuId"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","raceCodeRace"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","categoriesId"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","contactIds"],["id","contactIds","required","","name","contactIds","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],[3,"visibleChange","visible","header","modal","draggable","resizable"],[4,"ngIf","ngIfElse"],[3,"ngSubmit",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","8rem"],[1,"flex","justify-between","items-center"],["type","text","field","id","display","menu"],[2,"min-width","12rem"],["type","text","field","numeroFacture","display","menu"],["type","date","field","dateFacture","display","menu"],["type","text","field","acheteur","display","menu"],["type","numeric","field","montantHT","display","menu"],["type","numeric","field","tva","display","menu"],["type","numeric","field","montantTTC","display","menu"],[2,"min-width","10rem"],["type","text","field","modePaiement","display","menu"],["class","mr-2","styleClass","custom-chip",3,"label",4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-center p-3 text-red-500 font-bold",4,"ngIf"],["styleClass","custom-chip",1,"mr-2",3,"label"],["pButton","","pRipple","","type","button","icon","pi pi-file-pdf",1,"p-button-info","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-warning","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click"],[1,"text-center","p-3","text-red-500","font-bold"],["colspan","10"],["for","chevaux"],["id","chevaux","optionLabel","label","optionValue","value","name","chevaux","required","","styleClass","w-full md:w-80",3,"ngModelChange","onChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["class","p-field",4,"ngIf"],["for","acheteur"],["id","acheteur","type","text","pInputText","","name","acheteur","required","",3,"ngModelChange","ngModel"],["for","modePaiement"],["id","modePaiement","optionLabel","label","optionValue","value","name","modePaiement","required","",3,"ngModelChange","ngModel","options"],["for","notes"],["id","notes","pInputTextarea","","name","notes","rows","3",3,"ngModelChange","ngModel","placeholder"],["class","p-grid p-align-center","style","margin-bottom: 10px;",4,"ngFor","ngForOf"],[1,"p-grid","p-align-center",2,"margin-bottom","10px"],[1,"p-col-6"],["mode","currency","currency","TND","locale","fr-FR","required","",3,"ngModelChange","ngModel","name"],[1,"p-fluid","p-text-center",2,"padding","2rem"],[1,"pi","pi-info-circle",2,"font-size","2rem","color","var(--primary-color)"],["pButton","","pRipple","","type","button","label","Fermer","icon","pi pi-times",1,"p-button-text",3,"click"],[1,"p-col-12"],["id","acheteur","pInputText","","name","acheteur","required","",3,"ngModelChange","ngModel","placeholder"],[1,"p-col-12","md:col-6"],["for","newChevaux"],["id","newChevaux","optionLabel","label","optionValue","value","name","newChevaux","styleClass","w-full md:w-80",3,"ngModelChange","onChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["class","p-col-12",4,"ngIf"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-success",3,"label","disabled"],[1,"p-col-5"],[1,"p-col-2"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text","p-button-icon-only",3,"click"]],template:function(t,i){if(t&1){let r=W();d(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"div")(5,"span",14),v(6),h(7,"translate"),u()(),d(8,"div",15),P(9,"i",16),u()(),d(10,"span",17),v(11),h(12,"translate"),u(),v(13," | "),d(14,"span",17),v(15),h(16,"translate"),u()()(),d(17,"div",11)(18,"div",12)(19,"div",13)(20,"div")(21,"span",14),v(22),h(23,"translate"),u(),d(24,"div",18),v(25),u()(),d(26,"div",19),P(27,"i",20),u()()()(),P(28,"div",21),d(29,"div",22),P(30,"p-toast")(31,"p-confirmDialog",23),d(32,"div",24)(33,"div",25)(34,"div",26),v(35),h(36,"translate"),u()(),R(37,ZU,5,6,"div",27),d(38,"p-table",28,0),R(40,JU,16,12,"ng-template",null,1,ae)(42,ej,49,30,"ng-template",null,2,ae)(44,rj,23,14,"ng-template",null,3,ae)(46,aj,4,3,"ng-template",null,4,ae)(48,oj,4,3,"ng-template",null,5,ae),u()(),d(50,"p-dialog",29),h(51,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalDialog,o)||(i.displayAddChevalDialog=o),b(o)}),d(52,"form",30,6),L("ngSubmit",function(){y(r);let o=Q(53);return b(i.addCheval(o))}),d(54,"div",31)(55,"div",32)(56,"div",33)(57,"div",34)(58,"label",35),v(59),h(60,"translate"),u(),d(61,"input",36),A("ngModelChange",function(o){return y(r),D(i.newCheval.nom,o)||(i.newCheval.nom=o),b(o)}),u()()(),d(62,"div",33)(63,"div",34)(64,"label",37),v(65),h(66,"translate"),u(),d(67,"p-dropdown",38),h(68,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.robe,o)||(i.newCheval.robe=o),b(o)}),R(69,sj,2,3,"ng-template",39),u()()(),d(70,"div",33)(71,"div",34)(72,"label",40),v(73),h(74,"translate"),u(),d(75,"p-calendar",41),A("ngModelChange",function(o){return y(r),D(i.newCheval.dateDeNaissance,o)||(i.newCheval.dateDeNaissance=o),b(o)}),u()()(),d(76,"div",33)(77,"div",34)(78,"label",42),v(79),h(80,"translate"),u(),d(81,"p-dropdown",43),h(82,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.sexe,o)||(i.newCheval.sexe=o),b(o)}),u()()(),d(83,"div",33)(84,"div",34)(85,"label",44),v(86),h(87,"translate"),u(),d(88,"p-dropdown",45),h(89,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.pereId,o)||(i.newCheval.pereId=o),b(o)}),u()()(),d(90,"div",33)(91,"div",34)(92,"label",46),v(93),h(94,"translate"),u(),d(95,"p-dropdown",47),h(96,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.mereId,o)||(i.newCheval.mereId=o),b(o)}),u()()(),d(97,"div",33)(98,"div",34)(99,"label",48),v(100),h(101,"translate"),u(),d(102,"p-dropdown",49),h(103,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.lieuId,o)||(i.newCheval.lieuId=o),b(o)}),u()()(),d(104,"div",33)(105,"div",34)(106,"label",50),v(107),h(108,"translate"),u(),d(109,"p-dropdown",51),h(110,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.raceCodeRace,o)||(i.newCheval.raceCodeRace=o),b(o)}),u()()(),d(111,"div",33)(112,"div",34)(113,"label",52),v(114),h(115,"translate"),u(),d(116,"p-dropdown",53),h(117,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.categoriesId,o)||(i.newCheval.categoriesId=o),b(o)}),u()()(),d(118,"div",33)(119,"div",34)(120,"label",54),v(121),h(122,"translate"),u(),d(123,"p-multiSelect",55),h(124,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.contactIds,o)||(i.newCheval.contactIds=o),b(o)}),u()()()()(),d(125,"div",56)(126,"button",57),h(127,"translate"),L("click",function(){return y(r),b(i.displayAddChevalDialog=!1)}),u(),P(128,"button",58),h(129,"translate"),u()()(),d(130,"p-dialog",59),h(131,"translate"),A("visibleChange",function(o){return y(r),D(i.displayVenteChevauxDialog,o)||(i.displayVenteChevauxDialog=o),b(o)}),R(132,dj,33,35,"ng-container",60)(133,uj,7,0,"ng-template",null,7,ae),u(),d(135,"p-dialog",29),h(136,"translate"),A("visibleChange",function(o){return y(r),D(i.displayEditDialog,o)||(i.displayEditDialog=o),b(o)}),R(137,fj,43,42,"form",61),u()()()}if(t&2){let r,a=Q(53),o=Q(134);c(6),Se(" ",f(7,109,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(12,111,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(16,113,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(23,115,"Facture.number_facture")),c(3),x(i.totalvendu),c(10),O("",f(36,117,"Facture.title_component")," "),c(2),g("ngIf",i.isAdmin),c(),g("value",i.factures)("rows",5)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(165,KU))("rowsPerPageOptions",se(166,XU)),c(12),_e(se(167,Ly)),g("header",f(51,119,"HorseComponent.AddHorseDialog.header")),T("visible",i.displayAddChevalDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(60,121,"HorseComponent.AddHorseDialog.fields.name")),c(2),T("ngModel",i.newCheval.nom),c(4),x(f(66,123,"HorseComponent.AddHorseDialog.fields.coat")),c(2),T("ngModel",i.newCheval.robe),g("options",i.robeoptions)("placeholder",f(68,125,"HorseComponent.AddHorseDialog.selectCoat")),c(6),x(f(74,127,"HorseComponent.AddHorseDialog.fields.birth_date")),c(2),T("ngModel",i.newCheval.dateDeNaissance),g("showIcon",!0),c(4),x(f(80,129,"HorseComponent.AddHorseDialog.fields.gender")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.sexe),g("options",i.translatedSexeOptions)("placeholder",f(82,131,"HorseComponent.AddHorseDialog.placeholders.select_gender"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(87,133,"HorseComponent.AddHorseDialog.fields.father")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.pereId),g("options",i.pereOptions)("placeholder",f(89,135,"HorseComponent.AddHorseDialog.placeholders.select_father"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(94,137,"HorseComponent.AddHorseDialog.fields.mother")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.mereId),g("options",i.mereOptions)("placeholder",f(96,139,"HorseComponent.AddHorseDialog.placeholders.select_mother"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),O("",f(101,141,"HorseComponent.AddHorseDialog.fields.location")," "),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.lieuId),g("options",i.lieuOptions)("placeholder",f(103,143,"HorseComponent.AddHorseDialog.placeholders.select_location"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(108,145,"HorseComponent.AddHorseDialog.fields.race_code")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.raceCodeRace),g("options",i.raceOptions)("placeholder",f(110,147,"HorseComponent.AddHorseDialog.placeholders.select_race"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(115,149,"HorseComponent.AddHorseDialog.fields.category")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.categoriesId),g("options",i.categorieOptions)("placeholder",f(117,151,"HorseComponent.AddHorseDialog.placeholders.select_category"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(122,153,"HorseComponent.AddHorseDialog.fields.contacts")),c(2),T("ngModel",i.newCheval.contactIds),g("options",i.contactOptions)("placeholder",f(124,155,"HorseComponent.AddHorseDialog.placeholders.select_contacts"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(3),g("label",f(127,157,"HorseComponent.AddHorseDialog.buttons.cancel")),c(2),g("label",f(129,159,"HorseComponent.AddHorseDialog.buttons.add"))("disabled",!a.valid),c(2),_e(se(168,Ly)),T("visible",i.displayVenteChevauxDialog),g("header",f(131,161,"Facture.add_title"))("modal",!0)("draggable",!1)("resizable",!1),c(2),g("ngIf",((r=i.totalChevauxnotarchived)!==null&&r!==void 0?r:0)>0)("ngIfElse",o),c(3),_e(se(169,Ly)),g("header",f(136,163,"Facture.edit_title")),T("visible",i.displayEditDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(2),g("ngIf",i.selectedFacture)}},dependencies:[ds,Sa,$t,Ve,Ke,vr,Xr,pe,Gi,ge,he,St,Yi,Ki,tt,nt,Pe,qe,Si,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,Ri,ft,ci,mt,kt,gt,Kt,rt,ht,wt,Li,bt,Pi,Ct,Xi],styles:['.cheval-chip[_ngcontent-%COMP%]   .p-chip-text[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;text-decoration-color:#0000004d;transition:text-decoration-color .2s}.cheval-chip[_ngcontent-%COMP%]:hover   .p-chip-text[_ngcontent-%COMP%]{text-decoration-color:#000000b3;color:var(--primary-color)}.cheval-chip[_ngcontent-%COMP%]{transition:all .2s ease}.cheval-chip[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}p-chip[_ngcontent-%COMP%]{cursor:pointer}p-chip[_ngcontent-%COMP%]   .p-chip-text[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#0000004d;transition:all .2s}p-chip[_ngcontent-%COMP%]:hover   .p-chip-text[_ngcontent-%COMP%]{text-decoration-color:#000000b3;color:var(--primary-color)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};var gj=n=>({label:n,value:!0}),vj=n=>({label:n,value:!1}),_j=(n,e)=>[n,e];function yj(n,e){if(n&1){let t=W();d(0,"div")(1,"form",3,0),L("ngSubmit",function(){y(t);let r=Q(2),a=w();return b(a.addCategorie(r))}),d(3,"div",4)(4,"div",5)(5,"div",6),v(6),h(7,"translate"),u(),d(8,"div",7)(9,"div",8)(10,"label",9),v(11),h(12,"translate"),u(),d(13,"input",10),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCategorie.nomFr,r)||(a.newCategorie.nomFr=r),b(r)}),u()(),d(15,"div",8)(16,"label",11),v(17),h(18,"translate"),u(),d(19,"input",12),h(20,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCategorie.nomEn,r)||(a.newCategorie.nomEn=r),b(r)}),u()()(),d(21,"div",7)(22,"div",8)(23,"label",13),v(24),h(25,"translate"),u(),d(26,"p-dropdown",14),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCategorie.parentId,r)||(a.newCategorie.parentId=r),b(r)}),u()(),d(27,"div",8)(28,"label",15),v(29),h(30,"translate"),u(),d(31,"p-dropdown",16),h(32,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCategorie.sousCategories,r)||(a.newCategorie.sousCategories=r),b(r)}),u()()(),d(33,"div",7)(34,"div",8)(35,"label",17),v(36),h(37,"translate"),u(),d(38,"p-dropdown",18),h(39,"translate"),h(40,"translate"),h(41,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCategorie.estPublique,r)||(a.newCategorie.estPublique=r),b(r)}),u()()()()(),d(42,"div",19),P(43,"button",20),h(44,"translate"),u()()()}if(n&2){let t=Q(2),i=w();c(6),x(f(7,28,"categorie.AddcategoryDialog.header")),c(5),O(" ",f(12,30,"categorie.AddcategoryDialog.fields.nameFr.label"),""),c(2),T("ngModel",i.newCategorie.nomFr),g("placeholder",f(14,32,"categorie.AddcategoryDialog.fields.nameFr.placeholder")),c(4),O(" ",f(18,34,"categorie.AddcategoryDialog.fields.nameEn.label"),""),c(2),g("placeholder",f(20,36,"categorie.AddcategoryDialog.fields.nameEn.placeholder")),T("ngModel",i.newCategorie.nomEn),c(5),x(f(25,38,"categorie.AddcategoryDialog.fields.parent.label")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCategorie.parentId),g("options",i.parentOptions)("virtualScroll",!0)("virtualScrollItemSize",15),c(3),x(f(30,40,"categorie.AddcategoryDialog.fields.subcategories.label")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCategorie.sousCategories),g("options",i.souscategoriesOptions)("placeholder",f(32,42,"categorie.AddcategoryDialog.fields.subcategories.placeholder"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(37,44,"categorie.AddcategoryDialog.fields.isPublic.label")),c(2),T("ngModel",i.newCategorie.estPublique),g("options",li(58,_j,Ae(54,gj,f(39,46,"categorie.AddcategoryDialog.fields.isPublic.options.yes")),Ae(56,vj,f(40,48,"categorie.AddcategoryDialog.fields.isPublic.options.no"))))("placeholder",f(41,50,"categorie.AddcategoryDialog.fields.isPublic.placeholder")),c(5),g("label",f(44,52,"categorie.AddcategoryDialog.buttons.submit"))("disabled",!t.valid)}}function bj(n,e){n&1&&(d(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",23)(4,"div",24)(5,"span",25),v(6,"403"),u(),d(7,"h1",26),v(8),h(9,"translate"),u(),d(10,"div",27),v(11),h(12,"translate"),u(),d(13,"a",28)(14,"span",29),P(15,"i",30),u(),d(16,"span",31)(17,"span",32),v(18),h(19,"translate"),u(),d(20,"span",33),v(21),h(22,"translate"),u()()()()()()()()),n&2&&(c(8),O(" ",f(9,4,"error.forbidden.title")," "),c(3),O(" ",f(12,6,"error.forbidden.message")," "),c(7),O(" ",f(19,8,"error.forbidden.permission_manager")," "),c(3),O(" ",f(22,10,"error.forbidden.unauthorized")," "))}var t0=class n{constructor(e,t,i,r,a,o){this.translate=e;this.messageService=t;this.confirmationService=i;this.entiteService=r;this.categorieService=a;this.authService=o;this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}categories=[];newCategorie=new en;totalcategories=null;entiteIdlogin=null;entiteLogin=null;loading=!0;souscategoriesOptions=[];parentOptions=[];entite=[];entiteOptions=[];isAdmin=!1;currentLanguage="en";updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadEntite(),this.loadCategories(),this.entiteIdlogin=this.authService.getEntiteId(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}loadCategories(){this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{this.categories=e.details,this.totalcategories=e.details.length,this.updatesouscategoriesOptions(),this.updateparentOptions()},error:e=>{console.error("Failed to load categories:",e)}})}updatesouscategoriesOptions(){this.souscategoriesOptions=[{label:"---",value:0}],this.categories.forEach(e=>{this.souscategoriesOptions.push({label:e.nomFr,value:e.id})})}updateparentOptions(){this.parentOptions=[{label:"---",value:0}],this.categories.forEach(e=>{this.parentOptions.push({label:e.nomFr,value:e.id})})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}addCategorie(e){e.valid?(this.newCategorie.EntiteId=this.entiteIdlogin??0,this.newCategorie.parentId===0&&(this.newCategorie.parentId=0),this.newCategorie.sousCategories===0&&(this.newCategorie.sousCategories=0),this.categorieService.createCategorie(this.newCategorie).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:t.message}),this.loadCategories(),this.newCategorie=new en},error:t=>{let i="Erreur lors de l'ajout du cheval.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}})):console.error("Le formulaire est invalide")}displayUpdateCategorieDialog=!1;categorieToUpdate=new en;loadSousCategoriesOptions(){this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{this.souscategoriesOptions=e.details.map(t=>({label:t.nomFr,value:t.id}))},error:e=>{console.error("Erreur lors du chargement des sous-cat\xE9gories:",e)}})}loadparentOptions(){this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{this.parentOptions=e.details.map(t=>({label:t.nomFr,value:t.id}))},error:e=>{console.error("Erreur lors du chargement des parent:",e)}})}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ne),B(ce),B(oe),B(be),B(ze))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t])],decls:4,vars:2,consts:[["addCategorieForm","ngForm"],[4,"ngIf"],["class","flex items-center justify-center  overflow-hidden",4,"ngIf"],[3,"ngSubmit"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-wrap","gap-2","w-full"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","robe"],["id","robe","type","text","pInputText","","name","robe","required","",1,"w-full",3,"ngModelChange","placeholder","ngModel"],["for","parentId"],["id","parentId","filterBy","label","name","parentId","placeholder","",1,"w-full",3,"ngModelChange","filter","showClear","ngModel","options","virtualScroll","virtualScrollItemSize"],["for","sousCategories"],["id","sousCategories","filterBy","label","name","sousCategories",1,"w-full",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","estPublique"],["id","estPublique","name","estPublique",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],[1,"flex","items-center","justify-center","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"]],template:function(t,i){t&1&&(d(0,"p-fluid"),P(1,"p-toast"),R(2,yj,45,61,"div",1)(3,bj,23,12,"div",2),u()),t&2&&(c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin))},dependencies:[pe,ge,St,Ve,Ke,tt,nt,Pe,qe,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,ft,mt,kt,gt,rt,ht,wt,bt,Ct,Xt,ai,on,sn],encapsulation:2})};function wj(n,e){if(n&1&&(v(0),h(1,"translate")),n&2){let t=e.$implicit;O(" ",f(1,1,t.label)," ")}}function Sj(n,e){if(n&1){let t=W();d(0,"p-dropdown",33),h(1,"translate"),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newCheval.lieuId,r)||(a.newCheval.lieuId=r),b(r)}),u()}if(n&2){let t=w(2);g("filter",!0)("showClear",!0),T("ngModel",t.newCheval.lieuId),g("options",t.lieuOptions)("placeholder",f(1,7,"HorseComponent.AddHorseDialog.placeholders.select_location"))("virtualScroll",!0)("virtualScrollItemSize",15)}}function Cj(n,e){n&1&&(d(0,"div",24)(1,"a",34),v(2),h(3,"translate"),u()()),n&2&&(c(2),O(" ",f(3,1,"HorseComponent.AddHorseDialog.messages.add_first_location")," "))}function xj(n,e){if(n&1){let t=W();d(0,"p-dropdown",35),h(1,"translate"),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newCheval.raceCodeRace,r)||(a.newCheval.raceCodeRace=r),b(r)}),u()}if(n&2){let t=w(2);g("filter",!0)("showClear",!0),T("ngModel",t.newCheval.raceCodeRace),g("options",t.raceOptions)("placeholder",f(1,7,"HorseComponent.AddHorseDialog.placeholders.select_race"))("virtualScroll",!0)("virtualScrollItemSize",15)}}function Ej(n,e){n&1&&(d(0,"div",24)(1,"a",36),v(2),h(3,"translate"),u()()),n&2&&(c(2),O(" ",f(3,1,"HorseComponent.AddHorseDialog.messages.add_first_race")," "))}function Ij(n,e){if(n&1){let t=W();d(0,"p-dropdown",37),h(1,"translate"),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newCheval.categoriesId,r)||(a.newCheval.categoriesId=r),b(r)}),u()}if(n&2){let t=w(2);g("filter",!0)("showClear",!0),T("ngModel",t.newCheval.categoriesId),g("options",t.categorieOptions)("placeholder",f(1,7,"HorseComponent.AddHorseDialog.placeholders.select_category"))("virtualScroll",!0)("virtualScrollItemSize",15)}}function Tj(n,e){n&1&&(d(0,"div",24)(1,"a",38),v(2),h(3,"translate"),u()()),n&2&&(c(2),O(" ",f(3,1,"HorseComponent.AddHorseDialog.messages.add_first_category")," "))}function Dj(n,e){if(n&1){let t=W();d(0,"p-multiSelect",39),h(1,"translate"),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newCheval.contactIds,r)||(a.newCheval.contactIds=r),b(r)}),u()}if(n&2){let t=w(2);T("ngModel",t.newCheval.contactIds),g("options",t.contactOptions)("placeholder",f(1,6,"HorseComponent.AddHorseDialog.placeholders.select_contacts"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3)}}function Aj(n,e){n&1&&(d(0,"div",24)(1,"a",40),v(2),h(3,"translate"),u()()),n&2&&(c(2),O(" ",f(3,1,"HorseComponent.AddHorseDialog.messages.add_first_contact")," "))}function Mj(n,e){if(n&1){let t=W();d(0,"div")(1,"form",3,0),L("ngSubmit",function(){y(t);let r=Q(2),a=w();return b(a.addCheval(r))}),d(3,"div",4)(4,"div",5)(5,"div",6),v(6),h(7,"translate"),u(),d(8,"div",7)(9,"div",8)(10,"label",9),v(11),h(12,"translate"),u(),d(13,"input",10),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCheval.nom,r)||(a.newCheval.nom=r),b(r)}),u()(),d(14,"div",8)(15,"label",11),v(16),h(17,"translate"),u(),d(18,"p-dropdown",12),h(19,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCheval.robe,r)||(a.newCheval.robe=r),b(r)}),R(20,wj,2,3,"ng-template",13),u()()(),d(21,"div",7)(22,"div",8)(23,"label",14),v(24),h(25,"translate"),u(),d(26,"p-calendar",15),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCheval.dateDeNaissance,r)||(a.newCheval.dateDeNaissance=r),b(r)}),u()(),d(27,"div",8)(28,"label",16),v(29),h(30,"translate"),u(),d(31,"p-dropdown",17),h(32,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCheval.sexe,r)||(a.newCheval.sexe=r),b(r)}),u()()(),d(33,"div",7)(34,"div",8)(35,"label",18),v(36),h(37,"translate"),u(),d(38,"p-dropdown",19),h(39,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCheval.pereId,r)||(a.newCheval.pereId=r),b(r)}),u()(),d(40,"div",8)(41,"label",20),v(42),h(43,"translate"),u(),d(44,"p-dropdown",21),h(45,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newCheval.mereId,r)||(a.newCheval.mereId=r),b(r)}),u()()(),d(46,"div",7)(47,"div",8)(48,"label",22),v(49),h(50,"translate"),u(),R(51,Sj,2,9,"p-dropdown",23)(52,Cj,4,3,"div",24),u(),d(53,"div",8)(54,"label",25),v(55),h(56,"translate"),u(),R(57,xj,2,9,"p-dropdown",26)(58,Ej,4,3,"div",24),u()(),d(59,"div",7)(60,"div",8)(61,"label",27),v(62),h(63,"translate"),u(),R(64,Ij,2,9,"p-dropdown",28)(65,Tj,4,3,"div",24),u(),d(66,"div",8)(67,"label",29),v(68),h(69,"translate"),u(),R(70,Dj,2,8,"p-multiSelect",30)(71,Aj,4,3,"div",24),u()()()(),d(72,"div",31),P(73,"button",32),h(74,"translate"),u()()()}if(n&2){let t=Q(2),i=w();c(6),x(f(7,44,"HorseComponent.AddHorseDialog.header")),c(5),x(f(12,46,"HorseComponent.AddHorseDialog.fields.name")),c(2),T("ngModel",i.newCheval.nom),c(3),x(f(17,48,"HorseComponent.AddHorseDialog.fields.coat")),c(2),T("ngModel",i.newCheval.robe),g("options",i.robeoptions)("placeholder",f(19,50,"HorseComponent.AddHorseDialog.selectCoat")),c(6),x(f(25,52,"HorseComponent.AddHorseDialog.fields.birth_date")),c(2),T("ngModel",i.newCheval.dateDeNaissance),g("showIcon",!0),c(3),x(f(30,54,"HorseComponent.AddHorseDialog.fields.gender")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.sexe),g("options",i.translatedSexeOptions)("placeholder",f(32,56,"HorseComponent.AddHorseDialog.placeholders.select_gender"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(37,58,"HorseComponent.AddHorseDialog.fields.father")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.pereId),g("options",i.pereOptions)("placeholder",f(39,60,"HorseComponent.AddHorseDialog.placeholders.select_father"))("virtualScroll",!0)("virtualScrollItemSize",15),c(4),x(f(43,62,"HorseComponent.AddHorseDialog.fields.mother")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.mereId),g("options",i.mereOptions)("placeholder",f(45,64,"HorseComponent.AddHorseDialog.placeholders.select_mother"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(50,66,"HorseComponent.AddHorseDialog.fields.location")),c(2),hi(i.lieuOptions.length>0?51:52),c(4),x(f(56,68,"HorseComponent.AddHorseDialog.fields.race_code")),c(2),hi(i.raceOptions.length>0?57:58),c(5),x(f(63,70,"HorseComponent.AddHorseDialog.fields.category")),c(2),hi(i.categorieOptions.length>0?64:65),c(4),x(f(69,72,"HorseComponent.AddHorseDialog.fields.contacts")),c(2),hi(i.contactOptions.length>0?70:71),c(3),g("label",f(74,74,"HorseComponent.AddHorseDialog.buttons.add"))("disabled",!t.valid)}}function kj(n,e){n&1&&(d(0,"div",41)(1,"div",42)(2,"div",43)(3,"div",43)(4,"div",44)(5,"span",45),v(6,"403"),u(),d(7,"h1",46),v(8),h(9,"translate"),u(),d(10,"div",47),v(11),h(12,"translate"),u(),d(13,"a",48)(14,"span",49),P(15,"i",50),u(),d(16,"span",51)(17,"span",52),v(18),h(19,"translate"),u(),d(20,"span",53),v(21),h(22,"translate"),u()()()()()()()()),n&2&&(c(8),O(" ",f(9,4,"error.forbidden.title")," "),c(3),O(" ",f(12,6,"error.forbidden.message")," "),c(7),O(" ",f(19,8,"error.forbidden.permission_manager")," "),c(3),O(" ",f(22,10,"error.forbidden.unauthorized")," "))}var i0=class n{constructor(e,t,i,r,a,o,s,l,p,m,_,S,C,E,I,M,F){this.translate=e;this.chevalService=t;this.messageService=i;this.confirmationService=r;this.lieuService=a;this.entiteService=o;this.raceService=s;this.categorieService=l;this.contactService=p;this.chevalContactService=m;this.anciennomService=_;this.chevalordonnanceService=S;this.acteService=C;this.planningService=E;this.datePipe=I;this.authService=M;this.AnalysesanitaireService=F;this.entiteIdlogin=this.authService.getEntiteId(),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions()}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dropdownItems=[{name:"Option 1",code:"Option 1"},{name:"Option 2",code:"Option 2"},{name:"Option 3",code:"Option 3"}];chevaux=[];chevauxnotarchived=[];lieux=[];entite=[];race=[];categorie=[];contact=[];filteredChevaux=[];filteredChevauxnotarchived=[];newCheval=new Qt;sexeOptions=[{label:"M\xE2le",value:"M\xE2le"},{label:"Femelle",value:"Femelle"}];categorieOptions=[];raceOptions=[];pereOptions=[];mereOptions=[];lieuOptions=[];entiteOptions=[];contactOptions=[];chevauxOptions=[];robeoptions=[];typeActeOptions=[{label:"Analyses Sanitaires",value:1},{label:"Planning",value:2}];translatedSexeOptions=[];isAdmin=!1;currentLanguage="en";updateTranslatedOptions(){this.translatedSexeOptions=[{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.male"),value:"M\xE2le"},{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.female"),value:"Femelle"}],this.robeoptions=[{value:"ALEZAN",label:this.translate.instant("HorseComponent.coats.ALEZAN")},{value:"BAI",label:this.translate.instant("HorseComponent.coats.BAI")},{value:"BAI_BRUN",label:this.translate.instant("HorseComponent.coats.BAI_BRUN")},{value:"BLANC",label:this.translate.instant("HorseComponent.coats.BLANC")},{value:"GRIS",label:this.translate.instant("HorseComponent.coats.GRIS")},{value:"NOIR",label:this.translate.instant("HorseComponent.coats.NOIR")},{value:"PIE",label:this.translate.instant("HorseComponent.coats.PIE")},{value:"ROUAN",label:this.translate.instant("HorseComponent.coats.ROUAN")},{value:"SOURIS",label:this.translate.instant("HorseComponent.coats.SOURIS")},{value:"AUBERE",label:this.translate.instant("HorseComponent.coats.AUBERE")},{value:"CREME",label:this.translate.instant("HorseComponent.coats.CREME")},{value:"ISABELLE",label:this.translate.instant("HorseComponent.coats.ISABELLE")},{value:"PALOMINO",label:this.translate.instant("HorseComponent.coats.PALOMINO")}]}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadChevaux(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadEntite(),this.loadRace(),this.loadCategorie(),this.loadContact(),this.entiteIdlogin=this.authService.getEntiteId(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}totalChevaux=null;totalChevauxnotarchived=null;loading=!0;loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.chevaux=e.details,this.filteredChevaux=e.details,this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.filteredChevauxnotarchived=e.details,this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadLieux(){this.loading=!0,this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.lieuOptions=this.lieux.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des lieux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des lieux."})}})}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}loadRace(){this.loading=!0,this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.race=e.details,console.log(e.details),this.raceOptions=this.race.map(t=>({label:t.description,value:t.codeRace})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des races",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des races."})}})}loadCategorie(){this.loading=!0,this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.categorie=e.details,this.categorieOptions=this.categorie.map(t=>({label:t.nomFr,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}loadContact(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.contact=e.details,this.contactOptions=this.contact.map(t=>({label:t.nom+" "+t.prenom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}updatePereAndMereOptions(){this.pereOptions=[{label:"---",value:""}],this.mereOptions=[{label:"---",value:""}],this.chevaux.forEach(e=>{this.pereOptions.push({label:e.nom,value:e.numeroSIRE}),this.mereOptions.push({label:e.nom,value:e.numeroSIRE})}),this.chevauxnotarchived.forEach(e=>{this.chevauxOptions.push({label:e.nom,value:e.numeroSIRE})})}entiteIdlogin=null;entiteLogin=null;generateNumeroSIRE(e,t){let i=t.getFullYear().toString().slice(-2),r=(e+1).toString(),a=7-r.length,o="0".repeat(a)+r;return i+o}generateRandomSixDigits(){return Math.floor(Math.random()*1e6).toString().padStart(6,"0")}addCheval(e){e.valid&&(console.log(this.newCheval),this.chevalService.getMaxId().subscribe({next:t=>{this.newCheval.numeroSIRE=this.generateNumeroSIRE(t.details,this.newCheval.dateDeNaissance),this.newCheval.entiteId=this.entiteIdlogin;let i=this.generateRandomSixDigits();this.newCheval.cleSIRE=this.newCheval.numeroSIRE+i,this.newCheval.pereId===""&&(this.newCheval.pereId=""),this.newCheval.mereId===""&&(this.newCheval.mereId=""),this.chevalService.addCheval(this.newCheval).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("HorseComponent.messages.add.success")}),this.loadChevaux(),this.newCheval=new Qt},error:r=>{let a=this.translate.instant("HorseComponent.messages.add.error");r.error&&r.error.message?a=r.error.message:r.message&&(a=r.message),this.messageService.add({severity:"error",summary:"Erreur",detail:a})}})},error:t=>{let i="Erreur lors de la r\xE9cup\xE9ration de l'ID maximum.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}dropdownItem=null;static \u0275fac=function(t){return new(t||n)(B(Fe),B(me),B(ne),B(ce),B(Ce),B(oe),B(ke),B(be),B(Ie),B($e),B(Et),B(at),B(it),B(vt),B(he),B(ze),B(_t))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t])],decls:4,vars:2,consts:[["addChevalForm","ngForm"],[4,"ngIf"],["class","flex items-center justify-center  overflow-hidden",4,"ngIf"],[3,"ngSubmit"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-wrap","gap-2","w-full"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",1,"w-full",3,"ngModelChange","ngModel"],["for","robe"],["id","robe","name","robe","optionLabel","label","optionValue","value","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],["pTemplate","item"],["for","dateDeNaissance"],["id","dateDeNaissance","name","dateDeNaissance","dateFormat","dd/mm/yy","required","","styleClass","w-full",1,"w-full",3,"ngModelChange","ngModel","showIcon"],["for","sexe"],["id","sexe","filterBy","label","name","sexe","required","","styleClass","w-full",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","pereId"],["id","pereId","filterBy","label","name","pereId","styleClass","w-full",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","mereId"],["id","mereId","filterBy","label","name","mereId","styleClass","w-full",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","lieuId"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full",1,"multiselect-custom-virtual-scroll",3,"filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],[1,"text-sm","text-blue-600"],["for","raceCodeRace"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full",1,"multiselect-custom-virtual-scroll",3,"filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","categoriesId"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full",1,"multiselect-custom-virtual-scroll",3,"filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","contactIds"],["id","contactIds","required","","name","contactIds","styleClass","w-full",1,"multiselect-custom-virtual-scroll",3,"ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["routerLink","/lieux/addlieu"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["routerLink","/race/addrace"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["routerLink","/categorie/addcategorie"],["id","contactIds","required","","name","contactIds","styleClass","w-full",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["routerLink","/contact/addcontact"],[1,"flex","items-center","justify-center","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"]],template:function(t,i){t&1&&(d(0,"p-fluid"),P(1,"p-toast"),R(2,Mj,75,76,"div",1)(3,kj,23,12,"div",2),u()),t&2&&(c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin))},dependencies:[Yr,pe,ge,Ve,Ke,St,$t,tt,nt,Pe,qe,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,ft,ci,mt,kt,gt,Kt,rt,ht,wt,bt,Ct,Xt,ai,on,sn],encapsulation:2})};function Pj(n,e){if(n&1){let t=W();d(0,"div")(1,"form",3,0),L("ngSubmit",function(){y(t);let r=Q(2),a=w();return b(a.addContact(r))}),d(3,"div",4)(4,"div",5)(5,"div",6),v(6),h(7,"translate"),u(),d(8,"div",7)(9,"div",8)(10,"label",9),v(11),h(12,"translate"),u(),d(13,"input",10),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newContact.nom,r)||(a.newContact.nom=r),b(r)}),u()(),d(15,"div",8)(16,"label",11),v(17),h(18,"translate"),u(),d(19,"input",12),h(20,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newContact.prenom,r)||(a.newContact.prenom=r),b(r)}),u()()(),d(21,"div",7)(22,"div",8)(23,"label",13),v(24),h(25,"translate"),u(),d(26,"input",14),h(27,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newContact.coordonnees,r)||(a.newContact.coordonnees=r),b(r)}),u()(),d(28,"div",8)(29,"label",15),v(30),h(31,"translate"),u(),d(32,"p-dropdown",16),h(33,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newContact.contactTypeId,r)||(a.newContact.contactTypeId=r),b(r)}),u()()()()(),d(34,"div",17),P(35,"button",18),h(36,"translate"),u()()()}if(n&2){let t=Q(2),i=w();c(6),x(f(7,16,"Contact.add_title")),c(5),x(f(12,18,"Contact.fields.last_name")),c(2),T("ngModel",i.newContact.nom),g("placeholder",f(14,20,"Contact.placeholders.enter_last_name")),c(4),x(f(18,22,"Contact.fields.first_name")),c(2),T("ngModel",i.newContact.prenom),g("placeholder",f(20,24,"Contact.placeholders.enter_first_name")),c(5),x(f(25,26,"Contact.fields.contact_info")),c(2),T("ngModel",i.newContact.coordonnees),g("placeholder",f(27,28,"Contact.placeholders.enter_contact_info")),c(4),x(f(31,30,"Contact.fields.contact_type")),c(2),T("ngModel",i.newContact.contactTypeId),g("options",i.typecontactOptions)("placeholder",f(33,32,"Contact.placeholders.select_contact_type")),c(3),g("label",f(36,34,"Contact.buttons.add"))("disabled",!t.valid)}}function Lj(n,e){n&1&&(d(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",21)(4,"div",22)(5,"span",23),v(6,"403"),u(),d(7,"h1",24),v(8),h(9,"translate"),u(),d(10,"div",25),v(11),h(12,"translate"),u(),d(13,"a",26)(14,"span",27),P(15,"i",28),u(),d(16,"span",29)(17,"span",30),v(18),h(19,"translate"),u(),d(20,"span",31),v(21),h(22,"translate"),u()()()()()()()()),n&2&&(c(8),O(" ",f(9,4,"error.forbidden.title")," "),c(3),O(" ",f(12,6,"error.forbidden.message")," "),c(7),O(" ",f(19,8,"error.forbidden.permission_manager")," "),c(3),O(" ",f(22,10,"error.forbidden.unauthorized")," "))}var n0=class n{constructor(e,t,i,r,a,o,s,l){this.translate=e;this.messageService=t;this.confirmationService=i;this.entiteService=r;this.categorieService=a;this.authService=o;this.contactService=s;this.typecontactService=l;this.entiteIdlogin=this.authService.getEntiteId(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}contacts=[];newContact=new Mo;contactTypes=[];totalContactTypes=null;typecontactOptions=[{label:"---",value:""}];categories=[];newCategorie=new en;totalcategories=null;entiteIdlogin=null;entiteLogin=null;loading=!0;souscategoriesOptions=[];parentOptions=[];entite=[];entiteOptions=[];isAdmin=!1;currentLanguage="en";updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadContactTypes(),this.loadEntite(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}loadContactTypes(){this.loading=!0,this.typecontactService.getAllContacttype(this.entiteIdlogin).subscribe({next:e=>{this.contactTypes=e.details,this.totalContactTypes=e.details.length,this.updatetypecontactOptions(),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des types de contact",e),this.loading=!1,this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("Contact.add_error")})}})}updatetypecontactOptions(){this.typecontactOptions=[{label:"---",value:""}],this.contactTypes.forEach(e=>{this.typecontactOptions.push({label:e.type,value:e.id})})}addContact(e){e.valid&&(this.newContact.entiteId=this.entiteIdlogin??0,console.log("Contact info",this.newContact),this.contactService.createContact(this.newContact).subscribe({next:t=>{this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:this.translate.instant("Contact.add_success")}),this.newContact=new Mo},error:t=>{console.error("Erreur lors de l'ajout du contact",t),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("Contact.add_error")})}}))}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ne),B(ce),B(oe),B(be),B(ze),B(Ie),B(ln))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t,Ie,ln])],decls:4,vars:2,consts:[["addContactForm","ngForm"],[4,"ngIf"],["class","flex items-center justify-center overflow-hidden",4,"ngIf"],[3,"ngSubmit"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-wrap","gap-2","w-full"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","prenom"],["id","prenom","type","text","pInputText","","name","prenom","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","coordonnees"],["id","coordonnees","type","text","pInputText","","name","coordonnees","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","contactTypeId"],["id","contactTypeId","name","contactTypeId","optionLabel","label","optionValue","value","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],[1,"flex","items-center","justify-center","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"]],template:function(t,i){t&1&&(d(0,"p-fluid"),P(1,"p-toast"),R(2,Pj,37,36,"div",1)(3,Lj,23,12,"div",2),u()),t&2&&(c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin))},dependencies:[pe,ge,St,Ve,Ke,tt,nt,Pe,qe,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,ft,mt,kt,gt,rt,ht,wt,bt,Ct,Xt,ai,on,sn],encapsulation:2})};function Rj(n,e){n&1&&(d(0,"div",33),P(1,"i",34),v(2," Estimation des dimensions en cours... "),u())}function Bj(n,e){if(n&1&&(d(0,"div",35),P(1,"i",36),v(2),u()),n&2){let t=w(2);c(2),O(" Dimensions estim\xE9es: ",t.estimatedDimensions," ")}}function Fj(n,e){if(n&1){let t=W();d(0,"div")(1,"form",3,0),L("ngSubmit",function(){y(t);let r=Q(2),a=w();return b(a.addLieu(r))}),d(3,"div",4)(4,"div",5)(5,"div",6),v(6),h(7,"translate"),u(),d(8,"div",7)(9,"div",8)(10,"label",9),v(11),h(12,"translate"),u(),d(13,"input",10),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newLieu.nom,r)||(a.newLieu.nom=r),b(r)}),u()()(),d(15,"div",7)(16,"div",8)(17,"label",11),v(18),h(19,"translate"),u(),d(20,"input",12),h(21,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newLieu.adresse,r)||(a.newLieu.adresse=r),b(r)}),u()()(),d(22,"div",7)(23,"div",8)(24,"label",13),v(25),h(26,"translate"),u(),d(27,"input",14),h(28,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newLieu.ville,r)||(a.newLieu.ville=r),b(r)}),u()(),d(29,"div",8)(30,"label",15),v(31),h(32,"translate"),u(),d(33,"input",16),h(34,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newLieu.codePostal,r)||(a.newLieu.codePostal=r),b(r)}),u()()(),d(35,"div",7)(36,"div",8)(37,"label",17),v(38),h(39,"translate"),u(),d(40,"p-dropdown",18),h(41,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newLieu.type,r)||(a.newLieu.type=r),b(r)}),L("onChange",function(){y(t);let r=w();return b(r.onTypeChange())}),u()(),d(42,"div",8)(43,"label",19),v(44),h(45,"translate"),u(),d(46,"input",20),h(47,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newLieu.capaciteMax,r)||(a.newLieu.capaciteMax=r),b(r)}),L("change",function(){y(t);let r=w();return b(r.onCapacityChange())}),u()(),R(48,Rj,3,0,"div",21)(49,Bj,3,1,"div",22),u(),d(50,"div",7)(51,"div",8)(52,"label"),v(53),h(54,"translate"),u(),d(55,"div",23)(56,"div",24)(57,"input",25),h(58,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.longueur,r)||(a.longueur=r),b(r)}),L("change",function(){y(t);let r=w();return b(r.combineDimensions())}),u()()()(),d(59,"div",8)(60,"label"),v(61),h(62,"translate"),u(),d(63,"div",23)(64,"div",24)(65,"input",26),h(66,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.largeur,r)||(a.largeur=r),b(r)}),L("change",function(){y(t);let r=w();return b(r.combineDimensions())}),u()()()(),d(67,"div",8)(68,"label",27),v(69),h(70,"translate"),u(),d(71,"input",28),h(72,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newLieu.installations,r)||(a.newLieu.installations=r),b(r)}),u()()(),d(73,"div",7)(74,"div",8)(75,"label",29),v(76),h(77,"translate"),u(),d(78,"p-dropdown",30),h(79,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newLieu.parentLieuId,r)||(a.newLieu.parentLieuId=r),b(r)}),u()()()()(),d(80,"div",31),P(81,"button",32),h(82,"translate"),u()()()}if(n&2){let t=Q(2),i=w();c(6),x(f(7,39,"Lieu.add_title")),c(5),x(f(12,41,"Lieu.fields.nom")),c(2),T("ngModel",i.newLieu.nom),g("placeholder",f(14,43,"Lieu.placeholders.nom")),c(5),x(f(19,45,"Lieu.fields.adresse")),c(2),T("ngModel",i.newLieu.adresse),g("placeholder",f(21,47,"Lieu.placeholders.adresse")),c(5),x(f(26,49,"Lieu.fields.ville")),c(2),T("ngModel",i.newLieu.ville),g("placeholder",f(28,51,"Lieu.placeholders.ville")),c(4),x(f(32,53,"Lieu.fields.codePostal")),c(2),T("ngModel",i.newLieu.codePostal),g("placeholder",f(34,55,"Lieu.placeholders.codePostal")),c(5),x(f(39,57,"Lieu.fields.type")),c(2),T("ngModel",i.newLieu.type),g("options",i.lieuTypes)("placeholder",f(41,59,"Lieu.placeholders.type")),c(4),x(f(45,61,"Lieu.fields.capaciteMax")),c(2),T("ngModel",i.newLieu.capaciteMax),g("placeholder",f(47,63,"Lieu.placeholders.capaciteMax")),c(2),g("ngIf",i.loadingEstimation),c(),g("ngIf",i.estimatedDimensions&&!i.loadingEstimation),c(4),x(f(54,65,"Lieu.fields.longueur")),c(4),T("ngModel",i.longueur),g("placeholder",f(58,67,"Lieu.placeholders.longueur")),c(4),x(f(62,69,"Lieu.fields.largeur")),c(4),T("ngModel",i.largeur),g("placeholder",f(66,71,"Lieu.placeholders.largeur")),c(4),x(f(70,73,"Lieu.fields.installations")),c(2),T("ngModel",i.newLieu.installations),g("placeholder",f(72,75,"Lieu.placeholders.installations")),c(5),x(f(77,77,"Lieu.fields.parentLieuId")),c(2),g("options",i.parentLieuxOptions),T("ngModel",i.newLieu.parentLieuId),g("filter",!0)("showClear",!0)("placeholder",f(79,79,"Lieu.placeholders.parentLieuId")),c(3),g("label",f(82,81,"Lieu.buttons.add"))("disabled",!t.valid)}}function Oj(n,e){n&1&&(d(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",39)(4,"div",40)(5,"span",41),v(6,"403"),u(),d(7,"h1",42),v(8),h(9,"translate"),u(),d(10,"div",43),v(11),h(12,"translate"),u(),d(13,"a",44)(14,"span",45),P(15,"i",46),u(),d(16,"span",47)(17,"span",48),v(18),h(19,"translate"),u(),d(20,"span",49),v(21),h(22,"translate"),u()()()()()()()()),n&2&&(c(8),O(" ",f(9,4,"error.forbidden.title")," "),c(3),O(" ",f(12,6,"error.forbidden.message")," "),c(7),O(" ",f(19,8,"error.forbidden.permission_manager")," "),c(3),O(" ",f(22,10,"error.forbidden.unauthorized")," "))}var r0=class n{constructor(e,t,i,r,a,o,s){this.translate=e;this.messageService=t;this.confirmationService=i;this.entiteService=r;this.categorieService=a;this.authService=o;this.lieuService=s;this.entiteIdlogin=this.authService.getEntiteId(),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions()}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}lieux=[];lieuOptions=[];newLieu=new ro;parentLieuxOptions=[];lieuTypes=[];entiteIdlogin=null;entiteLogin=null;parentOptions=[];entite=[];entiteOptions=[];isAdmin=!1;currentLanguage="en";updateTranslatedOptions(){this.lieuTypes=[{label:this.translate.instant("Lieu.types.Ecurie"),value:"Ecurie"},{label:this.translate.instant("Lieu.types.Paddock"),value:"Paddock"},{label:this.translate.instant("Lieu.types.Manege"),value:"Manege"},{label:this.translate.instant("Lieu.types.Carriere"),value:"Carriere"},{label:this.translate.instant("Lieu.types.Hangar"),value:"Hangar"}]}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadEntite(),this.loadLieux(),this.loadParentLieux(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}loadEntite(){this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id}))},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}loadLieux(){this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details},error:e=>{console.error("Erreur lors du chargement des lieux:",e)}})}loadParentLieux(){this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.parentLieuxOptions=e.details.map(t=>({label:`${t.nom} (${t.ville})`,value:t.id}))},error:e=>{console.error("Erreur lors du chargement des lieux parents:",e)}})}largeur=null;longueur=null;combineDimensions(){this.largeur!==null&&this.longueur!==null?this.newLieu.dimensions=`${this.largeur}m*${this.longueur}m`:this.largeur!==null?this.newLieu.dimensions=`${this.largeur}m*0m`:this.longueur!==null?this.newLieu.dimensions=`0m*${this.longueur}m`:this.newLieu.dimensions=""}addLieu(e){e.valid&&(this.newLieu.EntiteId=this.entiteIdlogin??0,this.lieuService.addLieu(this.newLieu).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:t.message}),this.loadLieux(),this.loadParentLieux(),this.newLieu=new ro,this.largeur=null,this.longueur=null,e.resetForm()},error:t=>{let i="Erreur lors de l'ajout du lieu.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}estimatedDimensions=null;loadingEstimation=!1;onTypeChange(){this.newLieu.type&&this.newLieu.capaciteMax?this.estimateDimensions():this.newLieu.type&&this.estimateDimensions(0)}onCapacityChange(){this.newLieu.type&&this.newLieu.capaciteMax&&this.estimateDimensions()}estimateDimensions(e){let t=e!==void 0?e:this.newLieu.capaciteMax;!this.newLieu.type||t===void 0||(this.loadingEstimation=!0,this.lieuService.estimateDimensions(this.newLieu.type,t,this.entiteIdlogin).subscribe({next:i=>{if(console.log("R\xE9ponse compl\xE8te:",i),i){this.estimatedDimensions=i.recommendedDimensions;let r=i.recommendedDimensions.split("m*");r.length===2&&(this.largeur=parseFloat(r[0]),this.longueur=parseFloat(r[1]),this.combineDimensions())}else console.warn("R\xE9ponse du serveur invalide:",i),this.messageService.add({severity:"warn",summary:"Avertissement",detail:"Les dimensions recommand\xE9es ne sont pas disponibles dans la r\xE9ponse."});this.loadingEstimation=!1},error:i=>{console.error("Erreur lors de l'estimation des dimensions:",i),this.loadingEstimation=!1,this.messageService.add({severity:"warn",summary:"Avertissement",detail:"Impossible d'estimer les dimensions automatiquement. Veuillez les saisir manuellement."})}}))}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ne),B(ce),B(oe),B(be),B(ze),B(Ce))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t])],decls:4,vars:2,consts:[["addLieuForm","ngForm"],[4,"ngIf"],["class","flex items-center justify-center overflow-hidden",4,"ngIf"],[3,"ngSubmit"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-wrap","gap-2","w-full"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","adresse"],["id","adresse","type","text","pInputText","","name","adresse","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","ville"],["id","ville","type","text","pInputText","","name","ville","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","codePostal"],["id","codePostal","type","text","pInputText","","name","codePostal","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","type"],["id","type","name","type","required","",1,"w-full",3,"ngModelChange","onChange","ngModel","options","placeholder"],["for","capaciteMax"],["id","capaciteMax","type","number","pInputText","","name","capaciteMax",1,"w-full",3,"ngModelChange","change","ngModel","placeholder"],["class","text-sm text-primary",4,"ngIf"],["class","text-sm text-green-600",4,"ngIf"],[1,"flex","gap-2","w-full"],[1,"p-inputgroup","flex-1"],["type","number","pInputText","","name","longueur",1,"w-full",3,"ngModelChange","change","ngModel","placeholder"],["type","number","pInputText","","name","largeur",1,"w-full",3,"ngModelChange","change","ngModel","placeholder"],["for","installations"],["id","installations","type","text","pInputText","","name","installations",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","parentLieuId"],["id","parentLieuId","name","parentLieuId","filterBy","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],[1,"text-sm","text-primary"],[1,"pi","pi-spinner","pi-spin"],[1,"text-sm","text-green-600"],[1,"pi","pi-check-circle"],[1,"flex","items-center","justify-center","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"]],template:function(t,i){t&1&&(d(0,"p-fluid"),P(1,"p-toast"),R(2,Fj,83,83,"div",1)(3,Oj,23,12,"div",2),u()),t&2&&(c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin))},dependencies:[pe,ge,St,Ve,Ke,tt,nt,Pe,qe,We,He,Ye,dt,st,jm,Xe,lt,ut,Ze,ct,pt,ft,mt,kt,gt,rt,ht,wt,bt,Ct,Xt,ai,on,sn],encapsulation:2})};var Nj=n=>({label:n,value:!0}),Vj=n=>({label:n,value:!1}),Hj=(n,e)=>[n,e];function Wj(n,e){if(n&1){let t=W();d(0,"div")(1,"div",7)(2,"div",8)(3,"label",17),v(4),h(5,"translate"),u(),d(6,"p-multiSelect",18),h(7,"translate"),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newOrdonnance.symptomes,r)||(a.newOrdonnance.symptomes=r),b(r)}),u()(),d(8,"div",8)(9,"label",19),v(10),h(11,"translate"),u(),d(12,"p-dropdown",20),h(13,"translate"),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newOrdonnance.nomMaladie,r)||(a.newOrdonnance.nomMaladie=r),b(r)}),u()()(),d(14,"div",7)(15,"div",8)(16,"label",21),v(17),h(18,"translate"),u(),d(19,"textarea",22),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newOrdonnance.medicaments,r)||(a.newOrdonnance.medicaments=r),b(r)}),v(20,"                                "),u()()()()}if(n&2){let t=w(2);c(4),x(f(5,17,"ordonnance.dialog.fields.symptoms.label")),c(2),T("ngModel",t.newOrdonnance.symptomes),g("options",t.translatedsymptomesOptions)("placeholder",f(7,19,"ordonnance.dialog.fields.symptoms.placeholder"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(4),x(f(11,21,"ordonnance.dialog.fields.disease.label")),c(2),T("ngModel",t.newOrdonnance.nomMaladie),g("options",t.translatedmaladieOptions)("placeholder",f(13,23,"ordonnance.dialog.fields.disease.placeholder"))("filter",!0)("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",20),c(5),x(f(18,25,"ordonnance.dialog.fields.medications.label")),c(2),T("ngModel",t.newOrdonnance.medicaments)}}function Uj(n,e){if(n&1){let t=W();d(0,"div")(1,"form",3,0),L("ngSubmit",function(){y(t);let r=Q(2),a=w();return b(a.addordonnancechevaux(r))}),d(3,"div",4)(4,"div",5)(5,"div",6),v(6),h(7,"translate"),u(),d(8,"div",7)(9,"div",8)(10,"label",9),v(11),h(12,"translate"),u(),d(13,"p-multiSelect",10),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.numeroSIREs,r)||(a.newOrdonnance.numeroSIREs=r),b(r)}),u()()(),d(15,"div",7)(16,"div",8)(17,"label",11),v(18),h(19,"translate"),u(),d(20,"p-calendar",12),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.date,r)||(a.newOrdonnance.date=r),b(r)}),u()(),d(21,"div",8)(22,"label",13),v(23),h(24,"translate"),u(),d(25,"p-dropdown",14),h(26,"translate"),h(27,"translate"),h(28,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newOrdonnance.estMalade,r)||(a.newOrdonnance.estMalade=r),b(r)}),u()()(),R(29,Wj,21,27,"div",1),u()(),d(30,"div",15),P(31,"button",16),h(32,"translate"),u()()()}if(n&2){let t=Q(2),i=w();c(6),x(f(7,18,"ordonnance.dialog.addTitle")),c(5),x(f(12,20,"ordonnance.dialog.fields.horses.label")),c(2),T("ngModel",i.newOrdonnance.numeroSIREs),g("options",i.chevauxOptions)("placeholder",f(14,22,"ordonnance.dialog.fields.horses.placeholder"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(5),x(f(19,24,"ordonnance.dialog.fields.date.label")),c(2),T("ngModel",i.newOrdonnance.date),g("showIcon",!0),c(3),x(f(24,26,"ordonnance.dialog.fields.isSick.label")),c(2),T("ngModel",i.newOrdonnance.estMalade),g("options",li(40,Hj,Ae(36,Nj,f(26,28,"ordonnance.dialog.fields.isSick.options.yes")),Ae(38,Vj,f(27,30,"ordonnance.dialog.fields.isSick.options.no"))))("placeholder",f(28,32,"ordonnance.dialog.fields.isSick.placeholder")),c(4),g("ngIf",i.newOrdonnance.estMalade===!0),c(2),g("label",f(32,34,"ordonnance.dialog.buttons.submit"))("disabled",!t.valid)}}function jj(n,e){n&1&&(d(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",25)(4,"div",26)(5,"span",27),v(6,"403"),u(),d(7,"h1",28),v(8),h(9,"translate"),u(),d(10,"div",29),v(11),h(12,"translate"),u(),d(13,"a",30)(14,"span",31),P(15,"i",32),u(),d(16,"span",33)(17,"span",34),v(18),h(19,"translate"),u(),d(20,"span",35),v(21),h(22,"translate"),u()()()()()()()()),n&2&&(c(8),O(" ",f(9,4,"error.forbidden.title")," "),c(3),O(" ",f(12,6,"error.forbidden.message")," "),c(7),O(" ",f(19,8,"error.forbidden.permission_manager")," "),c(3),O(" ",f(22,10,"error.forbidden.unauthorized")," "))}var a0=class n{constructor(e,t,i,r,a,o,s){this.translate=e;this.chevalService=t;this.messageService=i;this.confirmationService=r;this.entiteService=a;this.authService=o;this.chevalordonnanceService=s;this.entiteIdlogin=this.authService.getEntiteId(),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin(),this.isAdmin=this.authService.isAdmin()}chevaux=[];chevauxnotarchived=[];filteredChevaux=[];filteredChevauxnotarchived=[];newCheval=new Qt;maladieOptions=[{label:"Grippe \xE9quine",value:"Grippe \xE9quine"},{label:"Rhinopneumonie",value:"Rhinopneumonie"},{label:"T\xE9tanos",value:"T\xE9tanos"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Art\xE9rite virale \xE9quine",value:"Art\xE9rite virale \xE9quine"},{label:"Piroplasmose",value:"Piroplasmose"},{label:"Lymphangite \xE9pizootique",value:"Lymphangite \xE9pizootique"},{label:"Dermatophilose",value:"Dermatophilose"},{label:"Gourme",value:"Gourme"},{label:"Fourbure",value:"Fourbure"},{label:"Coliques",value:"Coliques"},{label:"Laminite",value:"Laminite"},{label:"Myopathie atypique",value:"Myopathie atypique"},{label:"Maladie de Lyme",value:"Maladie de Lyme"},{label:"Leucose \xE9quine",value:"Leucose \xE9quine"},{label:"Enc\xE9phalomy\xE9lite \xE9quine",value:"Enc\xE9phalomy\xE9lite \xE9quine"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Syndrome naviculaire",value:"Syndrome naviculaire"},{label:"Dermatite estivale r\xE9cidivante",value:"Dermatite estivale r\xE9cidivante"},{label:"Paralysie \xE0 tiques",value:"Paralysie \xE0 tiques"}];symptomesOptions=[{label:"Fi\xE8vre",value:"Fi\xE8vre"},{label:"Toux",value:"Toux"},{label:"\xC9coulement nasal",value:"\xC9coulement nasal"},{label:"Difficult\xE9 respiratoire",value:"Difficult\xE9 respiratoire"},{label:"Perte d'app\xE9tit",value:"Perte d'app\xE9tit"},{label:"Apathie",value:"Apathie"},{label:"Raideur musculaire",value:"Raideur musculaire"},{label:"Spasmes musculaires",value:"Spasmes musculaires"},{label:"Difficult\xE9 \xE0 avaler",value:"Difficult\xE9 \xE0 avaler"},{label:"Jaunisse",value:"Jaunisse"},{label:"Urine fonc\xE9e",value:"Urine fonc\xE9e"},{label:"Gonflement des membres",value:"Gonflement des membres"},{label:"Boiterie",value:"Boiterie"},{label:"Douleur articulaire",value:"Douleur articulaire"},{label:"L\xE9sions cutan\xE9es",value:"L\xE9sions cutan\xE9es"},{label:"D\xE9mangeaisons intenses",value:"D\xE9mangeaisons intenses"},{label:"\xC9coulement oculaire",value:"\xC9coulement oculaire"},{label:"Diarrh\xE9e",value:"Diarrh\xE9e"},{label:"Coliques",value:"Coliques"},{label:"Transpiration excessive",value:"Transpiration excessive"},{label:"Tremblements",value:"Tremblements"},{label:"Paralysie",value:"Paralysie"},{label:"Perte de poids",value:"Perte de poids"},{label:"\u0152d\xE8me",value:"\u0152d\xE8me"},{label:"Saignements",value:"Saignements"},{label:"Douleur abdominale",value:"Douleur abdominale"},{label:"D\xE9shydratation",value:"D\xE9shydratation"},{label:"Faiblesse g\xE9n\xE9rale",value:"Faiblesse g\xE9n\xE9rale"},{label:"Incoordination",value:"Incoordination"},{label:"Convulsions",value:"Convulsions"}];pereOptions=[];mereOptions=[];entiteOptions=[];chevauxOptions=[];typeActeOptions=[{label:"Analyses Sanitaires",value:1},{label:"Planning",value:2}];translatedmaladieOptions=[];translatedsymptomesOptions=[];translatedSexeOptions=[];currentLanguage="en";isAdmin=!1;updateTranslatedOptions(){this.translatedSexeOptions=[{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.male"),value:"M\xE2le"},{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.female"),value:"Femelle"}],this.translatedmaladieOptions=this.maladieOptions.map(e=>({label:this.translate.instant("ordonnance.diseases."+e.value),value:e.value})),this.translatedsymptomesOptions=this.symptomesOptions.map(e=>({label:this.translate.instant("ordonnance.symptoms."+e.value),value:e.value}))}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadChevauxNotArchived(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}totalChevauxnotarchived=null;loading=!0;loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.filteredChevauxnotarchived=e.details,this.totalChevauxnotarchived=e.details.length,this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}updatePereAndMereOptions(){this.pereOptions=[{label:"---",value:""}],this.mereOptions=[{label:"---",value:""}],this.chevaux.forEach(e=>{this.pereOptions.push({label:e.nom,value:e.numeroSIRE}),this.mereOptions.push({label:e.nom,value:e.numeroSIRE})}),this.chevauxnotarchived.forEach(e=>{this.chevauxOptions.push({label:e.nom,value:e.numeroSIRE})})}entiteIdlogin=null;entiteLogin=null;newOrdonnance=new Sr;addordonnancechevaux(e){if(e.valid){let t=Mt(z({},this.newOrdonnance),{date:new Date(this.newOrdonnance.date)});console.log(t),this.chevalordonnanceService.createOrdonnance(t,this.entiteIdlogin).subscribe({next:i=>{this.messageService.add({severity:"success",summary:this.translate.instant("common.success"),detail:this.translate.instant("ordonnance.messages.success.add")}),this.newOrdonnance=new Sr},error:i=>{let r=this.translate.instant("ordonnance.messages.error.add");i.error&&i.error.message?r=i.error.message:i.message&&(r=i.message),console.error("Erreur d\xE9taill\xE9e :",i),this.messageService.add({severity:"error",summary:"Erreur",detail:r})}})}}static \u0275fac=function(t){return new(t||n)(B(Fe),B(me),B(ne),B(ce),B(oe),B(ze),B(at))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([me,ne,ce,at,he])],decls:4,vars:2,consts:[["addOrdonnanceForm","ngForm"],[4,"ngIf"],["class","flex items-center justify-center  overflow-hidden",4,"ngIf"],[3,"ngSubmit"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-wrap","gap-2","w-full"],["for","contactIds"],["id","contactIds","name","numeroSIRE","required","","styleClass","w-full md:w-100","required","",1,"multiselect-custom-virtual-scroll","w-full",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","date"],["id","date","name","date","dateFormat","dd/mm/yy",1,"w-full",3,"ngModelChange","ngModel","showIcon"],["for","estMalade"],["id","estMalade","name","estMalade",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],["for","Symptomes"],["id","Symptomes","name","symptomes","required","","styleClass","w-full md:w-100","required","",1,"multiselect-custom-virtual-scroll","w-full",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","nomMaladie"],["id","nomMaladie","name","nomMaladie","filterBy","label","required","","styleClass","w-full md:w-100",1,"multiselect-custom-virtual-scroll","w-full",3,"ngModelChange","ngModel","options","placeholder","filter","showClear","virtualScroll","virtualScrollItemSize"],["for","medicaments"],["id","medicaments","pInputTextarea","","name","medicaments",1,"w-full",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-center","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"]],template:function(t,i){t&1&&(d(0,"p-fluid"),P(1,"p-toast"),R(2,Uj,33,43,"div",1)(3,jj,23,12,"div",2),u()),t&2&&(c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin))},dependencies:[pe,ge,St,Ve,Ke,an,tt,Pe,qe,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,ft,ci,mt,kt,gt,Kt,rt,ht,wt,bt,Ct,Xt,ai,on,sn,ls],encapsulation:2})};function zj(n,e){if(n&1){let t=W();d(0,"div")(1,"form",3,0),L("ngSubmit",function(){y(t);let r=Q(2),a=w();return b(a.addQualification(r))}),d(3,"div",4)(4,"div",5),v(5),h(6,"translate"),u(),d(7,"div",6)(8,"label",7),v(9),h(10,"translate"),u(),d(11,"input",8),h(12,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.nom,r)||(a.newQualification.nom=r),b(r)}),u()(),d(13,"div",9)(14,"div",6)(15,"label",10),v(16),h(17,"translate"),u(),d(18,"p-calendar",11),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.dateQualificationDepart,r)||(a.newQualification.dateQualificationDepart=r),b(r)}),u()(),d(19,"div",6)(20,"label",12),v(21),h(22,"translate"),u(),d(23,"p-calendar",13),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.dateQualificationFin,r)||(a.newQualification.dateQualificationFin=r),b(r)}),u()()(),d(24,"div",9)(25,"div",6)(26,"label",14),v(27),h(28,"translate"),u(),d(29,"p-multiSelect",15),h(30,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.numerosSIRE,r)||(a.newQualification.numerosSIRE=r),b(r)}),u()(),d(31,"div",6)(32,"label",16),v(33),h(34,"translate"),u(),d(35,"p-inputNumber",17),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.distance,r)||(a.newQualification.distance=r),b(r)}),u()()(),d(36,"div",9)(37,"div",6)(38,"label",18),v(39),h(40,"translate"),u(),d(41,"p-dropdown",19),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.lieuDepartId,r)||(a.newQualification.lieuDepartId=r),b(r)}),u()(),d(42,"div",6)(43,"label",20),v(44),h(45,"translate"),u(),d(46,"p-dropdown",21),A("ngModelChange",function(r){y(t);let a=w();return D(a.newQualification.lieuArriveeId,r)||(a.newQualification.lieuArriveeId=r),b(r)}),u()()(),d(47,"div",22),P(48,"button",23),h(49,"translate"),u()()()()}if(n&2){let t=Q(2),i=w();c(5),x(f(6,29,"Qualification.add_title")),c(4),x(f(10,31,"Qualification.fields.name")),c(2),T("ngModel",i.newQualification.nom),g("placeholder",f(12,33,"Qualification.placeholders.name")),c(5),x(f(17,35,"Qualification.fields.start_date")),c(2),T("ngModel",i.newQualification.dateQualificationDepart),g("showTime",!0),c(3),x(f(22,37,"Qualification.fields.end_date")),c(2),T("ngModel",i.newQualification.dateQualificationFin),g("showTime",!0),c(4),x(f(28,39,"Qualification.fields.horses")),c(2),T("ngModel",i.newQualification.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(30,41,"Qualification.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(4),x(f(34,43,"Qualification.fields.distance")),c(2),T("ngModel",i.newQualification.distance),g("min",0)("step",100),c(4),x(f(40,45,"Qualification.fields.departure_location")),c(2),T("ngModel",i.newQualification.lieuDepartId),g("options",i.lieuOptions),c(3),x(f(45,47,"Qualification.fields.arrival_location")),c(2),T("ngModel",i.newQualification.lieuArriveeId),g("options",i.lieuOptions),c(2),g("label",f(49,49,"Qualification.buttons.add"))("disabled",!t.valid)}}function qj(n,e){n&1&&(d(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"span",28),v(5,"403"),u(),d(6,"h1",29),v(7),h(8,"translate"),u(),d(9,"div",30),v(10),h(11,"translate"),u(),d(12,"a",31)(13,"span",32),P(14,"i",33),u(),d(15,"span",34)(16,"span",35),v(17),h(18,"translate"),u(),d(19,"span",36),v(20),h(21,"translate"),u()()()()()()()),n&2&&(c(7),O(" ",f(8,4,"error.forbidden.title")," "),c(3),O(" ",f(11,6,"error.forbidden.message")," "),c(7),O(" ",f(18,8,"error.forbidden.permission_manager")," "),c(3),O(" ",f(21,10,"error.forbidden.unauthorized")," "))}var o0=class n{constructor(e,t,i,r,a,o,s,l,p){this.translate=e;this.messageService=t;this.confirmationService=i;this.entiteService=r;this.categorieService=a;this.authService=o;this.chevalService=s;this.lieuService=l;this.qualificationService=p;this.entiteIdlogin=this.authService.getEntiteId(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}newQualification={id:0,nom:"",lieuDepartId:0,lieuArriveeId:0,distance:0,dateQualificationDepart:new Date,dateQualificationFin:new Date,numerosSIRE:[],chevalQualifications:[],entiteid:0,date_ajout:new Date};chevauxOptions=[];lieuOptions=[];displayMouvementDialog=!1;categories=[];newCategorie=new en;totalcategories=null;entiteIdlogin=null;entiteLogin=null;loading=!0;souscategoriesOptions=[];parentOptions=[];entite=[];entiteOptions=[];isAdmin=!1;currentLanguage="en";updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadEntite(),this.loadChevauxOptions(),this.loadLieuOptions(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}loadChevauxOptions(){this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxOptions=e.details.map(t=>({label:`${t.nom} (${t.numeroSIRE})`,value:t.numeroSIRE}))},error:e=>{console.error("Failed to load horses:",e),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load horses list"})}})}loadLieuOptions(){this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieuOptions=e.details.map(t=>({label:t.nom,value:t.id}))},error:e=>{console.error("Failed to load places:",e),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load places list"})}})}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}createEmptyQualification(){return{id:0,nom:"",lieuDepartId:0,lieuArriveeId:0,distance:0,dateQualificationDepart:new Date,dateQualificationFin:new Date,numerosSIRE:[],chevalQualifications:[],entiteid:0,date_ajout:new Date}}openAddDialog(){this.newQualification=this.createEmptyQualification()}addQualification(e){e.valid&&(this.newQualification.dateQualificationDepart=new Date(this.newQualification.dateQualificationDepart),this.newQualification.dateQualificationFin=new Date(this.newQualification.dateQualificationFin),this.newQualification.entiteid=this.entiteIdlogin,this.qualificationService.ajouterQualification(this.newQualification).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Qualification.add_success")}),this.newQualification=this.createEmptyQualification()},error:t=>{let i=this.translate.instant("Qualification.add_error");t.error?.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ne),B(ce),B(oe),B(be),B(ze),B(me),B(Ce),B(rr))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t])],decls:4,vars:2,consts:[["addQualificationForm","ngForm"],[4,"ngIf"],["class","flex items-center justify-center min-h-screen overflow-hidden",4,"ngIf"],[3,"ngSubmit"],[1,"card","flex","flex-col","gap-6"],[1,"font-semibold","text-xl"],[1,"flex","flex-wrap","gap-2","w-full"],["for","newNom"],["id","newNom","pInputText","","name","nom","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],[1,"flex","flex-col","md:flex-row","gap-6"],["for","newDateDepart"],["id","newDateDepart","name","dateDepart","required","","hourFormat","24","dateFormat","dd/mm/yy","styleClass","w-full",1,"w-full",3,"ngModelChange","ngModel","showTime"],["for","newDateFin"],["id","newDateFin","name","dateFin","hourFormat","24","dateFormat","dd/mm/yy","styleClass","w-full",1,"w-full",3,"ngModelChange","ngModel","showTime"],["for","newNumerosSIRE"],["id","newNumerosSIRE","optionLabel","label","optionValue","value","name","numerosSIRE","required","","styleClass","w-full",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","newDistance"],["id","newDistance","name","distance","required","","mode","decimal",1,"w-full",3,"ngModelChange","ngModel","min","step"],["for","newLieuDepartId"],["id","newLieuDepartId","optionLabel","label","optionValue","value","name","lieuDepartId","styleClass","w-full",3,"ngModelChange","ngModel","options"],["for","newLieuArriveeId"],["id","newLieuArriveeId","optionLabel","label","optionValue","value","name","lieuArriveeId","required","","styleClass","w-full",3,"ngModelChange","ngModel","options"],[1,"flex","justify-content-end","gap-3","mt-5"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-success",3,"label","disabled"],[1,"flex","items-center","justify-center","min-h-screen","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"]],template:function(t,i){t&1&&(d(0,"p-fluid"),P(1,"p-toast"),R(2,zj,50,51,"div",1)(3,qj,22,12,"div",2),u()),t&2&&(c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin))},dependencies:[pe,ge,vr,Xr,St,Ve,Ke,tt,nt,Pe,qe,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,ft,ci,mt,kt,gt,Kt,rt,ht,wt,bt,Ct,Xt,ai,on,sn],encapsulation:2})};function $j(n,e){if(n&1){let t=W();d(0,"div")(1,"form",3,0),L("ngSubmit",function(){y(t);let r=Q(2),a=w();return b(a.addrace(r))}),d(3,"div",4)(4,"div",5)(5,"div",6),v(6),h(7,"translate"),u(),d(8,"div",7)(9,"div",8)(10,"label",9),v(11),h(12,"translate"),u(),d(13,"input",10),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newRace.description,r)||(a.newRace.description=r),b(r)}),u()()()()(),d(15,"div",11),P(16,"button",12),h(17,"translate"),u()()()}if(n&2){let t=Q(2),i=w();c(6),x(f(7,6,"Race.add_race.title")),c(5),x(f(12,8,"Race.edit_race.fields.race")),c(2),T("ngModel",i.newRace.description),g("placeholder",f(14,10,"Race.edit_race.placeholders.race")),c(3),g("label",f(17,12,"Race.add_race.buttons.add"))("disabled",!t.valid)}}function Qj(n,e){n&1&&(d(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",15)(4,"div",16)(5,"span",17),v(6,"403"),u(),d(7,"h1",18),v(8),h(9,"translate"),u(),d(10,"div",19),v(11),h(12,"translate"),u(),d(13,"a",20)(14,"span",21),P(15,"i",22),u(),d(16,"span",23)(17,"span",24),v(18),h(19,"translate"),u(),d(20,"span",25),v(21),h(22,"translate"),u()()()()()()()()),n&2&&(c(8),O(" ",f(9,4,"error.forbidden.title")," "),c(3),O(" ",f(12,6,"error.forbidden.message")," "),c(7),O(" ",f(19,8,"error.forbidden.permission_manager")," "),c(3),O(" ",f(22,10,"error.forbidden.unauthorized")," "))}var s0=class n{constructor(e,t,i,r,a,o){this.translate=e;this.messageService=t;this.confirmationService=i;this.entiteService=r;this.raceService=a;this.authService=o;this.entiteIdlogin=this.authService.getEntiteId(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}races=[];totalrace=null;loading=!0;newRace=new ko;entiteIdlogin=null;entiteLogin=null;isAdmin=!1;currentLanguage="en";updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadEntite(),this.loadRace(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}loadRace(){this.loading=!0,this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.races=e.details,console.log(e.details),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des races",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des races."})}})}addrace(e){e.valid&&(this.newRace.entiteId=this.entiteIdlogin??0,this.raceService.addRace(this.newRace).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Race.add_race.added.success")}),this.loadRace(),this.newRace=new ko},error:t=>{console.error("Erreur lors de l'ajout du type de contact",t),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Race.add_race.added.error")})}}))}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ne),B(ce),B(oe),B(ke),B(ze))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t])],decls:4,vars:2,consts:[["addraceForm","ngForm"],[4,"ngIf"],["class","flex items-center justify-center  overflow-hidden",4,"ngIf"],[3,"ngSubmit"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-wrap","gap-2","w-full"],["for","nom"],["id","nom","type","text","pInputText","","name","description","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],[1,"flex","items-center","justify-center","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"]],template:function(t,i){t&1&&(d(0,"p-fluid"),P(1,"p-toast"),R(2,$j,18,14,"div",1)(3,Qj,23,12,"div",2),u()),t&2&&(c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin))},dependencies:[pe,ge,St,Ve,Ke,tt,nt,Pe,qe,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,ft,mt,gt,rt,ht,wt,bt,Ct,Xt,ai,on,sn],encapsulation:2})};function Gj(n,e){if(n&1){let t=W();d(0,"div")(1,"form",3,0),L("ngSubmit",function(){y(t);let r=Q(2),a=w();return b(a.addContactType(r))}),d(3,"div",4)(4,"div",5)(5,"div",6),v(6),h(7,"translate"),u(),d(8,"div",7)(9,"div",8)(10,"label",9),v(11),h(12,"translate"),u(),d(13,"input",10),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newContactType.type,r)||(a.newContactType.type=r),b(r)}),u()()()()(),d(15,"div",11),P(16,"button",12),h(17,"translate"),u()()()}if(n&2){let t=Q(2),i=w();c(6),x(f(7,6,"Typecontact.add_title")),c(5),x(f(12,8,"Typecontact.fields.type")),c(2),T("ngModel",i.newContactType.type),g("placeholder",f(14,10,"Typecontact.placeholders.type")),c(3),g("label",f(17,12,"Typecontact.buttons.add"))("disabled",!t.valid)}}function Yj(n,e){n&1&&(d(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",15)(4,"div",16)(5,"span",17),v(6,"403"),u(),d(7,"h1",18),v(8),h(9,"translate"),u(),d(10,"div",19),v(11),h(12,"translate"),u(),d(13,"a",20)(14,"span",21),P(15,"i",22),u(),d(16,"span",23)(17,"span",24),v(18),h(19,"translate"),u(),d(20,"span",25),v(21),h(22,"translate"),u()()()()()()()()),n&2&&(c(8),O(" ",f(9,4,"error.forbidden.title")," "),c(3),O(" ",f(12,6,"error.forbidden.message")," "),c(7),O(" ",f(19,8,"error.forbidden.permission_manager")," "),c(3),O(" ",f(22,10,"error.forbidden.unauthorized")," "))}var l0=class n{constructor(e,t,i,r,a){this.translate=e;this.messageService=t;this.entiteService=i;this.authService=r;this.typecontactService=a;this.entiteIdlogin=this.authService.getEntiteId(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}contactTypes=[];newContactType=new On;totalContactTypes=null;typecontactOptions=[{label:"---",value:""}];entiteIdlogin=null;entiteLogin=null;loading=!0;entite=[];entiteOptions=[];isAdmin=!1;currentLanguage="en";updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadEntite(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}addContactType(e){e.valid&&this.typecontactService.createContacttype(this.newContactType,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("Typecontact.add_success")}),this.newContactType=new On},error:t=>{console.error("Erreur lors de l'ajout du type de contact",t),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Typecontact.add_error")})}})}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ne),B(oe),B(ze),B(ln))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t,Ie,ln])],decls:4,vars:2,consts:[["addContactTypeForm","ngForm"],[4,"ngIf"],["class","flex items-center justify-center overflow-hidden",4,"ngIf"],[3,"ngSubmit"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-wrap","gap-2","w-full"],["for","prenom"],["id","type","pInputText","","name","type","required","",3,"ngModelChange","ngModel","placeholder"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],[1,"flex","items-center","justify-center","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"]],template:function(t,i){t&1&&(d(0,"p-fluid"),P(1,"p-toast"),R(2,Gj,18,14,"div",1)(3,Yj,23,12,"div",2),u()),t&2&&(c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin))},dependencies:[pe,ge,St,Ve,Ke,tt,nt,Pe,qe,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,ft,mt,gt,rt,ht,wt,bt,Ct,Xt,ai,on,sn],encapsulation:2})};function Kj(n,e){if(n&1){let t=W();d(0,"div")(1,"form",3,0),L("ngSubmit",function(){y(t);let r=Q(2),a=w();return b(a.addMouvement(r))}),d(3,"div",4)(4,"div",5)(5,"div",6),v(6),h(7,"translate"),u(),d(8,"div",7)(9,"div",8)(10,"label",9),v(11),h(12,"translate"),u(),d(13,"p-multiSelect",10),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newMouvement.numerosSIRE,r)||(a.newMouvement.numerosSIRE=r),b(r)}),u()()(),d(15,"div",7)(16,"div",8)(17,"label",11),v(18),h(19,"translate"),u(),d(20,"input",12),h(21,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newMouvement.transporteur,r)||(a.newMouvement.transporteur=r),b(r)}),u()(),d(22,"div",8)(23,"label",13),v(24),h(25,"translate"),u(),d(26,"input",14),h(27,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newMouvement.raison,r)||(a.newMouvement.raison=r),b(r)}),u()()(),d(28,"div",7)(29,"div",8)(30,"label",15),v(31),h(32,"translate"),u(),d(33,"p-calendar",16),A("ngModelChange",function(r){y(t);let a=w();return D(a.newMouvement.dateHeureDepart,r)||(a.newMouvement.dateHeureDepart=r),b(r)}),u()(),d(34,"div",8)(35,"label",17),v(36),h(37,"translate"),u(),d(38,"p-calendar",18),A("ngModelChange",function(r){y(t);let a=w();return D(a.newMouvement.dateHeureArrivee,r)||(a.newMouvement.dateHeureArrivee=r),b(r)}),u()()(),d(39,"div",7)(40,"div",8)(41,"label",19),v(42),h(43,"translate"),u(),d(44,"p-dropdown",20),A("ngModelChange",function(r){y(t);let a=w();return D(a.newMouvement.lieuDepartId,r)||(a.newMouvement.lieuDepartId=r),b(r)}),u()(),d(45,"div",8)(46,"label",21),v(47),h(48,"translate"),u(),d(49,"p-dropdown",22),A("ngModelChange",function(r){y(t);let a=w();return D(a.newMouvement.lieuArriveeId,r)||(a.newMouvement.lieuArriveeId=r),b(r)}),u()()(),d(50,"div",23)(51,"div",8)(52,"label",24),v(53),h(54,"translate"),u(),d(55,"textarea",25),h(56,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newMouvement.conditions,r)||(a.newMouvement.conditions=r),b(r)}),v(57,"                            "),u()()(),d(58,"div",26),P(59,"button",27),h(60,"translate"),u()()()()()}if(n&2){let t=Q(2),i=w();c(6),x(f(7,28,"Mouvement.add_title")),c(5),x(f(12,30,"Mouvement.fields.horses")),c(2),T("ngModel",i.newMouvement.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(14,32,"Mouvement.placeholders.select_horses")),c(5),x(f(19,34,"Mouvement.fields.carrier")),c(2),T("ngModel",i.newMouvement.transporteur),g("placeholder",f(21,36,"Mouvement.placeholders.enter_carrier")),c(4),x(f(25,38,"Mouvement.fields.reason")),c(2),T("ngModel",i.newMouvement.raison),g("placeholder",f(27,40,"Mouvement.placeholders.enter_reason")),c(5),x(f(32,42,"Mouvement.fields.departure")),c(2),T("ngModel",i.newMouvement.dateHeureDepart),g("showTime",!0),c(3),x(f(37,44,"Mouvement.fields.arrival")),c(2),T("ngModel",i.newMouvement.dateHeureArrivee),g("showTime",!0),c(4),x(f(43,46,"Mouvement.fields.departure_location")),c(2),T("ngModel",i.newMouvement.lieuDepartId),g("options",i.lieuOptions),c(3),x(f(48,48,"Mouvement.fields.arrival_location")),c(2),T("ngModel",i.newMouvement.lieuArriveeId),g("options",i.lieuOptions),c(4),x(f(54,50,"Mouvement.fields.conditions")),c(2),T("ngModel",i.newMouvement.conditions),g("placeholder",f(56,52,"Mouvement.placeholders.enter_conditions")),c(4),g("label",f(60,54,"Mouvement.buttons.add"))("disabled",!t.valid)}}function Xj(n,e){n&1&&(d(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"span",32),v(5,"403"),u(),d(6,"h1",33),v(7),h(8,"translate"),u(),d(9,"div",34),v(10),h(11,"translate"),u(),d(12,"a",35)(13,"span",36),P(14,"i",37),u(),d(15,"span",38)(16,"span",39),v(17),h(18,"translate"),u(),d(19,"span",40),v(20),h(21,"translate"),u()()()()()()()),n&2&&(c(7),O(" ",f(8,4,"error.forbidden.title")," "),c(3),O(" ",f(11,6,"error.forbidden.message")," "),c(7),O(" ",f(18,8,"error.forbidden.permission_manager")," "),c(3),O(" ",f(21,10,"error.forbidden.unauthorized")," "))}var c0=class n{constructor(e,t,i,r,a,o,s,l,p){this.translate=e;this.messageService=t;this.confirmationService=i;this.entiteService=r;this.categorieService=a;this.authService=o;this.mouvementService=s;this.chevalService=l;this.lieuService=p;this.entiteIdlogin=this.authService.getEntiteId(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}newMouvement={id:0,transporteur:"",dateHeureDepart:new Date,dateHeureArrivee:new Date,conditions:"",lieuDepartId:0,lieuArriveeId:0,numerosSIRE:[],NomsChevaux:[],date_ajout:new Date,raison:"",entiteid:0};chevauxOptions=[];lieuOptions=[];displayMouvementDialog=!1;categories=[];newCategorie=new en;totalcategories=null;entiteIdlogin=null;entiteLogin=null;loading=!0;souscategoriesOptions=[];parentOptions=[];entite=[];entiteOptions=[];isAdmin=!1;currentLanguage="en";updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadEntite(),this.loadChevauxOptions(),this.loadLieuOptions(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}loadChevauxOptions(){this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxOptions=e.details.map(t=>({label:`${t.nom} (${t.numeroSIRE})`,value:t.numeroSIRE}))},error:e=>{console.error("Failed to load horses:",e),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load horses list"})}})}loadLieuOptions(){this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieuOptions=e.details.map(t=>({label:t.nom,value:t.id}))},error:e=>{console.error("Failed to load places:",e),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load places list"})}})}addMouvement(e){e.valid&&(this.newMouvement.dateHeureDepart=new Date(this.newMouvement.dateHeureDepart),this.newMouvement.dateHeureArrivee=new Date(this.newMouvement.dateHeureArrivee),this.newMouvement.date_ajout=new Date,this.newMouvement.entiteid=this.entiteIdlogin,this.mouvementService.createMouvement(this.newMouvement).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Success",detail:this.translate.instant("Mouvement.messages.successadd")}),this.resetMouvementForm()},error:t=>{let i=this.translate.instant("Mouvement.messages.erroradd");t.error?.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Error",detail:i})}}))}resetMouvementForm(){this.newMouvement={id:0,transporteur:"",dateHeureDepart:new Date,dateHeureArrivee:new Date,conditions:"",lieuDepartId:0,lieuArriveeId:0,numerosSIRE:[],NomsChevaux:[],date_ajout:new Date,raison:"",entiteid:0}}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ne),B(ce),B(oe),B(be),B(ze),B(Ni),B(me),B(Ce))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t])],decls:4,vars:2,consts:[["mouvementForm","ngForm"],[4,"ngIf"],["class","flex items-center justify-center min-h-screen overflow-hidden",4,"ngIf"],[3,"ngSubmit"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-wrap","gap-2","w-full"],["for","numerosSIRE"],["id","numerosSIRE","optionLabel","label","optionValue","value","name","numerosSIRE","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],["for","transporteur"],["id","transporteur","type","text","pInputText","","name","transporteur","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","raison"],["id","raison","type","text","pInputText","","name","raison",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","dateHeureDepart"],["id","dateHeureDepart","name","dateHeureDepart","dateFormat","dd/mm/yy","required","","styleClass","w-full",1,"w-full",3,"ngModelChange","ngModel","showTime"],["for","dateHeureArrivee"],["id","dateHeureArrivee","name","dateHeureArrivee","dateFormat","dd/mm/yy","required","","styleClass","w-full",1,"w-full",3,"ngModelChange","ngModel","showTime"],["for","lieuDepartId"],["id","lieuDepartId","optionLabel","label","optionValue","value","name","lieuDepartId","required","","styleClass","w-full",3,"ngModelChange","ngModel","options"],["for","lieuArriveeId"],["id","lieuArriveeId","optionLabel","label","optionValue","value","name","lieuArriveeId","required","","styleClass","w-full",3,"ngModelChange","ngModel","options"],[1,"flex","flex-col","gap-6"],["for","conditions"],["id","conditions","pInputTextarea","","name","conditions","rows","3",1,"w-full",3,"ngModelChange","ngModel","placeholder"],[1,"flex","justify-content-end","gap-3","mt-5"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-success",3,"label","disabled"],[1,"flex","items-center","justify-center","min-h-screen","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"]],template:function(t,i){t&1&&(d(0,"p-fluid"),P(1,"p-toast"),R(2,Kj,61,56,"div",1)(3,Xj,22,12,"div",2),u()),t&2&&(c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin))},dependencies:[pe,ge,St,Ve,Ke,tt,nt,Pe,qe,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,ft,ci,mt,kt,gt,Kt,rt,ht,wt,bt,Ct,Xt,ai,on,sn,ls],encapsulation:2})};function Zj(n,e){if(n&1){let t=W();d(0,"div",21)(1,"div",22),v(2),u(),d(3,"div",23)(4,"p-inputNumber",24),A("ngModelChange",function(r){let a=y(t).$implicit;return D(a.prix,r)||(a.prix=r),b(r)}),u()()()}if(n&2){let t=e.$implicit,i=w(4);c(2),O(" ",i.getChevalLabel(t.numeroSIRE)," "),c(2),T("ngModel",t.prix),g("name","prix_"+t.numeroSIRE)}}function Jj(n,e){if(n&1&&(d(0,"div",19)(1,"label"),v(2),h(3,"translate"),u(),R(4,Zj,5,3,"div",20),u()),n&2){let t=w(3);c(2),x(f(3,2,"Facture.fields.prices")),c(2),g("ngForOf",t.newFacture.chevaux)}}function ez(n,e){n&1&&(d(0,"div",25),P(1,"i",26),d(2,"h3"),v(3),h(4,"translate"),u()()),n&2&&(c(3),x(f(4,1,"Facture.no_horses_available")))}function tz(n,e){if(n&1){let t=W();Ue(0),d(1,"form",4,0),L("ngSubmit",function(){y(t);let r=w(2);return b(r.createFacture())}),d(3,"div",5)(4,"div",6),v(5),h(6,"translate"),u(),d(7,"div",7)(8,"label",8),v(9),h(10,"translate"),u(),d(11,"p-multiSelect",9),h(12,"translate"),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.selectedChevaux,r)||(a.selectedChevaux=r),b(r)}),L("onChange",function(r){y(t);let a=w(2);return b(a.onChevalSelect(r))}),u()(),R(13,Jj,5,4,"div",10),d(14,"div",7)(15,"label",11),v(16),h(17,"translate"),u(),d(18,"input",12),h(19,"translate"),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newFacture.acheteur,r)||(a.newFacture.acheteur=r),b(r)}),u()(),d(20,"div",7)(21,"label",13),v(22),h(23,"translate"),u(),d(24,"p-dropdown",14),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newFacture.modePaiement,r)||(a.newFacture.modePaiement=r),b(r)}),u()(),d(25,"div",7)(26,"label",15),v(27),h(28,"translate"),u(),d(29,"textarea",16),h(30,"translate"),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newFacture.notes,r)||(a.newFacture.notes=r),b(r)}),v(31,"                        "),u()(),d(32,"div",17),P(33,"button",18),h(34,"translate"),u()()(),R(35,ez,5,3,"ng-template",null,1,ae),je()}if(n&2){let t=Q(2),i=w(2);c(5),x(f(6,20,"Facture.add_title")),c(4),x(f(10,22,"Facture.fields.horses")),c(2),T("ngModel",i.selectedChevaux),g("options",i.chevauxOptions)("placeholder",f(12,24,"Facture.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(2),g("ngIf",i.newFacture.chevaux.length>0),c(3),x(f(17,26,"Facture.fields.buyer")),c(2),T("ngModel",i.newFacture.acheteur),g("placeholder",f(19,28,"Facture.placeholders.enter_buyer")),c(4),x(f(23,30,"Facture.fields.payment_method")),c(2),T("ngModel",i.newFacture.modePaiement),g("options",i.modePaiementOptions),c(3),x(f(28,32,"Facture.fields.notes")),c(2),T("ngModel",i.newFacture.notes),g("placeholder",f(30,34,"Facture.placeholders.enter_notes")),c(4),g("label",f(34,36,"Facture.buttons.create"))("disabled",!t.valid||i.hasInvalidPrix())}}function iz(n,e){n&1&&(Ue(0),d(1,"div",27),P(2,"i",28),d(3,"h3"),v(4,"Aucun cheval disponible pour la vente"),u(),d(5,"p"),v(6,"Tous les chevaux sont archiv\xE9s ou d\xE9j\xE0 vendus."),u()(),je())}function nz(n,e){if(n&1&&(d(0,"div"),R(1,tz,37,38,"ng-container",2)(2,iz,7,0,"ng-container",2),u()),n&2){let t,i,r=w();c(),g("ngIf",((t=r.totalChevauxnotarchived)!==null&&t!==void 0?t:0)>0),c(),g("ngIf",((i=r.totalChevauxnotarchived)!==null&&i!==void 0?i:0)==0)}}function rz(n,e){n&1&&(d(0,"div",29)(1,"div",30)(2,"div",31)(3,"div",32)(4,"span",33),v(5,"403"),u(),d(6,"h1",34),v(7),h(8,"translate"),u(),d(9,"div",35),v(10),h(11,"translate"),u(),d(12,"a",36)(13,"span",37),P(14,"i",38),u(),d(15,"span",39)(16,"span",40),v(17),h(18,"translate"),u(),d(19,"span",41),v(20),h(21,"translate"),u()()()()()()()),n&2&&(c(7),O(" ",f(8,4,"error.forbidden.title")," "),c(3),O(" ",f(11,6,"error.forbidden.message")," "),c(7),O(" ",f(18,8,"error.forbidden.permission_manager")," "),c(3),O(" ",f(21,10,"error.forbidden.unauthorized")," "))}var d0=class n{constructor(e,t,i,r,a,o,s,l,p){this.translate=e;this.messageService=t;this.confirmationService=i;this.entiteService=r;this.categorieService=a;this.authService=o;this.factureService=s;this.chevalService=l;this.lieuService=p;this.entiteIdlogin=this.authService.getEntiteId(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}newFacture={acheteur:"",modePaiement:"",notes:"",chevaux:[],entiteid:0};chevaux=[];totalChevauxnotarchived=null;selectedChevaux=[];modePaiementOptions=[{label:"Virement bancaire",value:"Virement"},{label:"Ch\xE8que",value:"Cheque"},{label:"Esp\xE8ces",value:"Especes"},{label:"Carte bancaire",value:"Carte"}];chevauxOptions=[];lieuOptions=[];displayMouvementDialog=!1;categories=[];newCategorie=new en;totalcategories=null;entiteIdlogin=null;entiteLogin=null;loading=!0;souscategoriesOptions=[];parentOptions=[];entite=[];entiteOptions=[];isAdmin=!1;currentLanguage="en";entitenom="";updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadEntite(),this.loadChevauxOptions(),this.loadLieuOptions(),this.loadChevauxNotArchived(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,this.entitenom=this.entiteLogin.nom,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}loadChevauxOptions(){this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxOptions=e.details.map(t=>({label:`${t.nom} (${t.numeroSIRE})`,value:t.numeroSIRE}))},error:e=>{console.error("Failed to load horses:",e),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load horses list"})}})}loadLieuOptions(){this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieuOptions=e.details.map(t=>({label:t.nom,value:t.id}))},error:e=>{console.error("Failed to load places:",e),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load places list"})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.totalChevauxnotarchived=e.details.length},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}onChevalSelect(e){this.newFacture.chevaux=this.selectedChevaux.map(t=>({numeroSIRE:t,prix:0}))}hasInvalidPrix(){return this.newFacture.chevaux.some(e=>e.prix<=0)}createFacture(){if(this.newFacture.entiteid=this.entiteIdlogin,this.newFacture.chevaux.some(e=>e.prix<=0)){this.messageService.add({severity:"warn",summary:"Attention",detail:this.translate.instant("Facture.add_facture.detailprice")});return}this.factureService.createFacture(this.newFacture).subscribe({next:e=>{console.log("facture",e),this.messageService.add({severity:"success",summary:this.translate.instant("Facture.add_facture.succes"),detail:this.translate.instant("Facture.add_facture.detail")}),this.resetFactureForm(),this.downloadFacturePdf(e,this.entitenom),this.loadChevauxNotArchived()},error:e=>{console.error("Erreur lors de la cr\xE9ation de la facture",e),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("Facture.add_facture.error")})}})}downloadFacturePdf(e,t){return Ft(this,null,function*(){this.generateFacturePdf(e,t)})}generateFacturePdf(e,t){return Ft(this,null,function*(){let{jsPDF:i}=yield import("./chunk-QQRKQCVJ.js"),{default:r}=yield import("./chunk-7KJGJMGE.js"),a=new i("p","pt","a4"),o=a.internal.pageSize.getWidth(),s=a.internal.pageSize.getHeight(),l=40;a.setProperties({title:`Facture ${e.numeroFacture}`,subject:"Facture",author:"Votre Application",keywords:"facture, vente",creator:"Votre Application"}),a.setFontSize(18),a.setFont("helvetica","bold"),a.text("FACTURE",o/2,l+30,{align:"center"}),a.setFontSize(12),a.setFont("helvetica","normal"),a.text(`N\xB0: ${e.numeroFacture}`,o-l,l+30,{align:"right"}),a.text(`Date: ${new Date(e.dateFacture).toLocaleDateString("fr-FR")}`,o-l,l+50,{align:"right"}),a.setFontSize(14),a.text("CLIENT",l,l+80),a.setFontSize(12),a.text(e.acheteur,l,l+100),a.setDrawColor(200,200,200),a.setLineWidth(.5),a.line(l,l+120,o-l,l+120);let p=l+140;r(a,{startY:p,head:[["SIRE","Nom cheval ","Prix unitaire","Total"]],body:e.chevaux.map(_=>[_.numeroSIRE,` ${this.getChevalName(_.numeroSIRE)}`,`${_.prix.toFixed(2)} TND`,`${_.prix.toFixed(2)} TND`]),styles:{fontSize:10,cellPadding:6},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold",halign:"center"},columnStyles:{2:{halign:"right"},3:{halign:"right"}},margin:{left:l,right:l}});let m=a.lastAutoTable.finalY+20;a.setFontSize(12),a.text("Total HT:",o-l-170,m),a.text(`${e.montantHT.toFixed(2)} TND`,o-l,m,{align:"right"}),a.text("TVA (20%):",o-l-170,m+25),a.text(`${e.tva.toFixed(2)} TND`,o-l,m+25,{align:"right"}),a.setFontSize(14),a.setFont("helvetica","bold"),a.text("Total TTC:",o-l-170,m+50),a.text(`${e.montantTTC.toFixed(2)} TND`,o-l,m+50,{align:"right"}),a.setFontSize(12),a.setFont("helvetica","normal"),a.text(`Mode de paiement: ${e.modePaiement}`,l,m+80),e.notes&&a.text(`Notes: ${e.notes}`,l,m+100),a.setFontSize(10),a.setTextColor(150,150,150),a.text(`Merci pour votre confiance chez ${t} `,o/2,s-l,{align:"center"}),a.save(`facture_${e.numeroFacture}.pdf`)})}resetFactureForm(){this.newFacture={acheteur:"",modePaiement:"",notes:"",chevaux:[],entiteid:0},this.selectedChevaux=[]}getChevalName(e){let t=this.chevauxOptions.find(r=>r.value===e);if(t)return t.label;let i=this.chevaux.find(r=>r.numeroSIRE===e);return i?i.nom:e}getChevalLabel(e){let t=this.chevauxOptions.find(r=>r.value===e);if(t)return t.label;let i=this.chevaux.find(r=>r.numeroSIRE===e);return i?i.nom:e}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ne),B(ce),B(oe),B(be),B(ze),B(ir),B(me),B(Ce))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t])],decls:4,vars:2,consts:[["venteForm","ngForm"],["noHorsesAvailable",""],[4,"ngIf"],["class","flex items-center justify-center min-h-screen overflow-hidden",4,"ngIf"],[3,"ngSubmit"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"font-semibold","text-xl"],[1,"flex","flex-wrap","gap-2","w-full"],["for","chevaux"],["id","chevaux","optionLabel","label","optionValue","value","name","chevaux","required","","styleClass","w-full",3,"ngModelChange","onChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["class","flex flex-col gap-4",4,"ngIf"],["for","acheteur"],["id","acheteur","type","text","pInputText","","name","acheteur","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","modePaiement"],["id","modePaiement","optionLabel","label","optionValue","value","name","modePaiement","required","","styleClass","w-full",3,"ngModelChange","ngModel","options"],["for","notes"],["id","notes","pInputTextarea","","name","notes","rows","3",1,"w-full",3,"ngModelChange","ngModel","placeholder"],[1,"flex","justify-content-end","gap-3","mt-5"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-success",3,"label","disabled"],[1,"flex","flex-col","gap-4"],["class","p-grid p-fluid",4,"ngFor","ngForOf"],[1,"p-grid","p-fluid"],[1,"p-col-6","p-md-4"],[1,"p-col-6","p-md-8"],["mode","currency","currency","TND","locale","fr-FR","required","","styleClass","w-full",3,"ngModelChange","ngModel","name"],[1,"text-center","p-5"],[1,"pi","pi-info-circle","text-4xl","mb-3"],[1,"p-fluid","p-text-center",2,"padding","2rem"],[1,"pi","pi-info-circle",2,"font-size","2rem","color","var(--primary-color)"],[1,"flex","items-center","justify-center","min-h-screen","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"w-full","flex","items-center","mb-8","py-8","border-surface-300","dark:border-surface-500","border-b"],[1,"flex","justify-center","items-center","border-2","border-primary","text-primary","rounded-border",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","!text-2xl"],[1,"ml-6","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","lg:text-xl","font-medium","mb-0"],[1,"text-surface-600","dark:text-surface-200","lg:text-xl"]],template:function(t,i){t&1&&(d(0,"p-fluid"),P(1,"p-toast"),R(2,nz,3,2,"div",2)(3,rz,22,12,"div",3),u()),t&2&&(c(2),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin))},dependencies:[pe,Gi,ge,vr,Xr,St,Ve,Ke,tt,nt,Pe,qe,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,ft,mt,kt,gt,Kt,rt,ht,wt,bt,Ct,Xt,ai,on,sn,ls],encapsulation:2})};var u0=class n{constructor(e){this.http=e}apiUrl="https://gestionchevaux.runasp.net/api/api";downloadFile(e){return this.http.get(`${this.apiUrl}/files/download/${e}`,{responseType:"blob"})}static \u0275fac=function(t){return new(t||n)(Wt(Ut))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var oz=["dt1"],sz=["dt2"],lz=["dt3"],cz=["fileUpload"],dz=()=>["id","date_ajout","notes","typeActeId"],uz=()=>[5,10,20],qu=()=>({width:"50vw"}),pz=()=>({width:"75vw"}),O3=n=>({id:n}),mz=()=>[];function hz(n,e){if(n&1){let t=W();d(0,"div",26)(1,"button",106),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalActeDialog())}),u(),d(3,"button",106),h(4,"translate"),L("click",function(){y(t);let r=w();return b(r.showAddChevalDialog())}),u()()}n&2&&(c(),g("label",f(2,2,"ActeComponent.buttons.add_acte")),c(2),g("label",f(4,4,"HorseComponent.buttons.add_horse")))}function fz(n,e){if(n&1){let t=W();d(0,"div",107)(1,"div")(2,"button",108),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(43);return b(r.clear(a))}),u()(),d(4,"div",109)(5,"p-button",110),h(6,"translate"),L("click",function(){y(t);let r=w();return b(r.exportExcelActes())}),u(),d(7,"p-button",111),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.exportPdfActes())}),u(),d(9,"p-button",112),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.exportCSVActes())}),u()(),d(11,"p-iconField",113)(12,"p-inputIcon"),P(13,"i",114),u(),d(14,"input",115),h(15,"translate"),L("input",function(r){y(t);let a=w(),o=Q(43);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,5,"ActeComponent.table.buttons.clear")),c(3),g("label",f(6,7,"ActeComponent.table.buttons.excel")),c(2),g("label",f(8,9,"ActeComponent.table.buttons.pdf")),c(2),g("label",f(10,11,"ActeComponent.table.buttons.csv")),c(5),g("placeholder",f(15,13,"ActeComponent.table.filters.search")))}function gz(n,e){n&1&&(d(0,"tr")(1,"th",116)(2,"div",117),v(3),h(4,"translate"),P(5,"p-columnFilter",118),h(6,"translate"),u()(),d(7,"th",119)(8,"div",117),v(9),h(10,"translate"),P(11,"p-columnFilter",120),h(12,"translate"),u()(),d(13,"th",121)(14,"div",117),v(15),h(16,"translate"),P(17,"p-columnFilter",122),h(18,"translate"),u()(),d(19,"th",119)(20,"div",117),v(21),h(22,"translate"),P(23,"p-columnFilter",123),h(24,"translate"),u()(),d(25,"th",124)(26,"div",117),v(27),h(28,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,9,"ActeComponent.table.columns.id")," "),c(2),g("placeholder",f(6,11,"ActeComponent.table.filters.byId")),c(4),O(" ",f(10,13,"ActeComponent.table.columns.addDate")," "),c(2),g("placeholder",f(12,15,"ActeComponent.table.filters.byDate")),c(4),O(" ",f(16,17,"ActeComponent.table.columns.notes")," "),c(2),g("placeholder",f(18,19,"ActeComponent.table.filters.byNotes")),c(4),O(" ",f(22,21,"ActeComponent.table.columns.documentType")," "),c(2),g("placeholder",f(24,23,"ActeComponent.table.filters.byType")),c(4),O(" ",f(28,25,"ActeComponent.table.columns.actions")," "))}function vz(n,e){n&1&&(d(0,"span"),v(1),h(2,"translate"),u()),n&2&&(c(),x(f(2,1,"ActeComponent.table.documentTypes.healthAnalysis")))}function _z(n,e){n&1&&(d(0,"span"),v(1),h(2,"translate"),u()),n&2&&(c(),x(f(2,1,"ActeComponent.table.documentTypes.planning")))}function yz(n,e){if(n&1){let t=W();d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),h(5,"date"),u(),d(6,"td"),v(7),h(8,"slice"),u(),d(9,"td"),R(10,vz,3,3,"span",66)(11,_z,3,3,"span",66),u(),d(12,"td")(13,"div",109)(14,"button",125),L("click",function(){let r=y(t).$implicit,a=w();return b(a.viewActeDetails(r))}),u(),d(15,"button",126),L("click",function(){let r=y(t).$implicit,a=w();return b(a.deleteActe(r.id))}),u(),d(16,"button",127),L("click",function(){let r=y(t).$implicit,a=w();return b(a.editActe(r))}),u(),d(17,"button",128),L("click",function(){let r=y(t).$implicit,a=w();return b(a.showEmailDialog(r))}),u()()()()}if(n&2){let t=e.$implicit;c(2),x(t.id),c(2),x(ni(5,6,t.date_ajout,"dd/MM/yyyy")),c(3),Se("",AS(8,9,t.notes,0,50),"",t.notes.length>50?"...":"",""),c(3),g("ngIf",t.typeActeId===1),c(),g("ngIf",t.typeActeId===2)}}function bz(n,e){n&1&&(d(0,"tr")(1,"td",129),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"ActeComponent.table.messages.empty")))}function wz(n,e){n&1&&(d(0,"tr")(1,"td",129),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"ActeComponent.table.messages.loading")))}function Sz(n,e){if(n&1&&(v(0),h(1,"translate")),n&2){let t=e.$implicit;O(" ",f(1,1,t.label)," ")}}function Cz(n,e){n&1&&(d(0,"span"),v(1),h(2,"translate"),u()),n&2&&(c(),x(f(2,1,"ActeComponent.table.documentTypes.healthAnalysis")))}function xz(n,e){n&1&&(d(0,"span"),v(1),h(2,"translate"),u()),n&2&&(c(),x(f(2,1,"ActeComponent.table.documentTypes.planning")))}function Ez(n,e){if(n&1){let t=W();d(0,"p-chip",131),L("click",function(){let r=y(t).$implicit,a=w(2);return b(a.downloadpiecesjointes(r))}),v(1),h(2,"translate"),u()}if(n&2){let t=e.$implicit,i=w(2);g("label",i.getFileName(t)),c(),Se("",f(2,3,"ActeComponent.DetailsDialog.sections.attachments"),":",i.selectedActe==null?null:i.selectedActe.id," ")}}function Iz(n,e){if(n&1&&(Ue(0),R(1,Ez,3,5,"p-chip",130),je()),n&2){let t=w();c(),g("ngForOf",t.getAttachmentFiles())}}function Tz(n,e){n&1&&(d(0,"span",132),v(1),h(2,"translate"),u()),n&2&&(c(),O(" ",f(2,1,"ActeComponent.DetailsDialog.messages.noAttachments")," "))}function Dz(n,e){n&1&&(d(0,"tr")(1,"th"),v(2),h(3,"translate"),u(),d(4,"th"),v(5),h(6,"translate"),u(),d(7,"th"),v(8),h(9,"translate"),u(),d(10,"th"),v(11),h(12,"translate"),u()()),n&2&&(c(2),x(f(3,4,"ActeComponent.DetailsDialog.fields.horse.sire")),c(3),x(f(6,6,"ActeComponent.DetailsDialog.fields.horse.name")),c(3),x(f(9,8,"ActeComponent.DetailsDialog.fields.horse.coat")),c(3),x(f(12,10,"ActeComponent.DetailsDialog.fields.horse.birthDate")))}function Az(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u(),d(5,"td"),v(6),u(),d(7,"td"),v(8),h(9,"date"),u()()),n&2){let t=e.$implicit;c(2),x(t==null||t.cheval==null?null:t.cheval.numeroSIRE),c(2),x(t==null||t.cheval==null?null:t.cheval.nom),c(2),x(t==null||t.cheval==null?null:t.cheval.robe),c(2),x(ni(9,4,t==null||t.cheval==null?null:t.cheval.dateDeNaissance,"dd/MM/yyyy"))}}function Mz(n,e){if(n&1&&(d(0,"div",61)(1,"h3",62),v(2),h(3,"translate"),u(),d(4,"p-table",133),R(5,Dz,13,12,"ng-template",134)(6,Az,10,7,"ng-template",135),u()()),n&2){let t=w();c(2),x(f(3,4,"ActeComponent.DetailsDialog.sections.horses")),c(2),g("value",(t.selectedActe==null?null:t.selectedActe.chevauxActes)||se(6,mz))("rows",5)("paginator",!0)}}function kz(n,e){if(n&1&&(d(0,"div")(1,"div",138)(2,"div",139)(3,"label",65),v(4),h(5,"translate"),u(),d(6,"p"),v(7),u()(),d(8,"div",139)(9,"label",65),v(10),h(11,"translate"),u(),d(12,"p"),v(13),u()(),d(14,"div")(15,"label",65),v(16),h(17,"translate"),u(),d(18,"p"),v(19),h(20,"date"),u()()()()),n&2){let t=e.$implicit;c(4),x(f(5,6,"ActeComponent.DetailsDialog.fields.analysis.type")),c(3),x(t.typeAnalyse),c(3),x(f(11,8,"ActeComponent.DetailsDialog.fields.analysis.result")),c(3),x(t.resultat),c(3),x(f(17,10,"ActeComponent.DetailsDialog.fields.analysis.date")),c(3),x(ni(20,12,t.date_analyse,"dd/MM/yyyy"))}}function Pz(n,e){if(n&1&&(d(0,"div",61)(1,"h3",62),v(2),h(3,"translate"),u(),d(4,"div",136),R(5,kz,21,15,"div",137),u()()),n&2){let t=w();c(2),x(f(3,2,"ActeComponent.DetailsDialog.sections.healthAnalysis")),c(3),g("ngForOf",t.selectedActe==null?null:t.selectedActe.analysesSanitaires)}}function Lz(n,e){if(n&1&&(d(0,"div")(1,"div",138)(2,"div",139)(3,"label",65),v(4),h(5,"translate"),u(),d(6,"p"),v(7),u()(),d(8,"div",139)(9,"label",65),v(10),h(11,"translate"),u(),d(12,"p"),v(13),u()(),d(14,"div",139)(15,"label",65),v(16),h(17,"translate"),u(),d(18,"p"),v(19),h(20,"date"),u()(),d(21,"div")(22,"label",65),v(23),h(24,"translate"),u(),d(25,"p"),v(26),h(27,"date"),u()()()()),n&2){let t=e.$implicit;c(4),x(f(5,8,"ActeComponent.DetailsDialog.fields.planning.viewType")),c(3),x(t.typeVue),c(3),x(f(11,10,"ActeComponent.DetailsDialog.fields.planning.filters")),c(3),x(t.filtres),c(3),x(f(17,12,"ActeComponent.DetailsDialog.fields.planning.startDate")),c(3),x(ni(20,14,t.date_debut,"dd/MM/yyyy")),c(4),x(f(24,17,"ActeComponent.DetailsDialog.fields.planning.endDate")),c(3),x(ni(27,19,t.date_fin,"dd/MM/yyyy"))}}function Rz(n,e){if(n&1&&(d(0,"div",61)(1,"h3",62),v(2),h(3,"translate"),u(),d(4,"div",64),R(5,Lz,28,22,"div",137),u()()),n&2){let t=w();c(2),x(f(3,2,"ActeComponent.DetailsDialog.sections.planning")),c(3),g("ngForOf",t.selectedActe==null?null:t.selectedActe.planning)}}function Bz(n,e){if(n&1&&(d(0,"div")(1,"div",138)(2,"div",139)(3,"label",65),v(4),h(5,"translate"),u(),d(6,"p"),v(7),u()(),d(8,"div",139)(9,"label",65),v(10),h(11,"translate"),u(),d(12,"p"),v(13),u()()()()),n&2){let t=e.$implicit;c(4),x(f(5,5,"ActeComponent.DetailsDialog.fields.contact.name")),c(3),Se("",t.nom," ",t.prenom,""),c(3),x(f(11,7,"ActeComponent.DetailsDialog.fields.contact.coordinates")),c(3),x(t.coordonnees)}}function Fz(n,e){if(n&1&&(d(0,"div",61)(1,"h3",62),v(2),h(3,"translate"),u(),d(4,"div",136),R(5,Bz,14,9,"div",137),u()()),n&2){let t=w();c(2),x(f(3,2,"ActeComponent.DetailsDialog.sections.contacts")),c(3),g("ngForOf",t.selectedActe==null?null:t.selectedActe.contacts)}}function Oz(n,e){n&1&&(d(0,"label"),v(1),h(2,"translate"),u()),n&2&&(c(),x(f(2,1,"HorseComponent.DynamicFormDialog.documentTypes.healthAnalysis")))}function Nz(n,e){n&1&&(d(0,"label"),v(1),h(2,"translate"),u()),n&2&&(c(),x(f(2,1,"HorseComponent.DynamicFormDialog.documentTypes.planning")))}function Vz(n,e){if(n&1){let t=W();d(0,"div")(1,"div",35)(2,"label",140),v(3),h(4,"translate"),u(),d(5,"input",141),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.resultat,r)||(a.newAnalyseSanitaire.resultat=r),b(r)}),u()(),d(6,"div",35)(7,"label",142),v(8),h(9,"translate"),u(),d(10,"input",143),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.typeAnalyse,r)||(a.newAnalyseSanitaire.typeAnalyse=r),b(r)}),u()(),d(11,"div",35)(12,"label",144),v(13),h(14,"translate"),u(),d(15,"p-calendar",145),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.date_analyse,r)||(a.newAnalyseSanitaire.date_analyse=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,6,"HorseComponent.DynamicFormDialog.fields.result")),c(2),T("ngModel",t.newAnalyseSanitaire.resultat),c(3),x(f(9,8,"HorseComponent.DynamicFormDialog.fields.analysisType")),c(2),T("ngModel",t.newAnalyseSanitaire.typeAnalyse),c(3),x(f(14,10,"HorseComponent.DynamicFormDialog.fields.analysisDate")),c(2),T("ngModel",t.newAnalyseSanitaire.date_analyse)}}function Hz(n,e){if(n&1){let t=W();d(0,"div")(1,"div",35)(2,"label",146),v(3),h(4,"translate"),u(),d(5,"input",147),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.typeVue,r)||(a.newPlanning.typeVue=r),b(r)}),u()(),d(6,"div",35)(7,"label",148),v(8),h(9,"translate"),u(),d(10,"input",149),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.filtres,r)||(a.newPlanning.filtres=r),b(r)}),u()(),d(11,"div",35)(12,"label",150),v(13),h(14,"translate"),u(),d(15,"p-calendar",151),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.date_debut,r)||(a.newPlanning.date_debut=r),b(r)}),u()(),d(16,"div",35)(17,"label",152),v(18),h(19,"translate"),u(),d(20,"p-calendar",153),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.date_fin,r)||(a.newPlanning.date_fin=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,8,"HorseComponent.DynamicFormDialog.fields.viewType")),c(2),T("ngModel",t.newPlanning.typeVue),c(3),x(f(9,10,"HorseComponent.DynamicFormDialog.fields.filters")),c(2),T("ngModel",t.newPlanning.filtres),c(3),x(f(14,12,"HorseComponent.DynamicFormDialog.fields.startDate")),c(2),T("ngModel",t.newPlanning.date_debut),c(3),x(f(19,14,"HorseComponent.DynamicFormDialog.fields.endDate")),c(2),T("ngModel",t.newPlanning.date_fin)}}function Wz(n,e){if(n&1){let t=W();d(0,"div")(1,"div",35)(2,"label",140),v(3),h(4,"translate"),u(),d(5,"input",141),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.resultat,r)||(a.newAnalyseSanitaire.resultat=r),b(r)}),u()(),d(6,"div",35)(7,"label",142),v(8),h(9,"translate"),u(),d(10,"input",143),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.typeAnalyse,r)||(a.newAnalyseSanitaire.typeAnalyse=r),b(r)}),u()(),d(11,"div",35)(12,"label",144),v(13),h(14,"translate"),u(),d(15,"p-calendar",145),A("ngModelChange",function(r){y(t);let a=w();return D(a.newAnalyseSanitaire.date_analyse,r)||(a.newAnalyseSanitaire.date_analyse=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,6,"HorseComponent.DynamicFormDialog.fields.result")),c(2),T("ngModel",t.newAnalyseSanitaire.resultat),c(3),x(f(9,8,"HorseComponent.DynamicFormDialog.fields.analysisType")),c(2),T("ngModel",t.newAnalyseSanitaire.typeAnalyse),c(3),x(f(14,10,"HorseComponent.DynamicFormDialog.fields.analysisDate")),c(2),T("ngModel",t.newAnalyseSanitaire.date_analyse)}}function Uz(n,e){if(n&1){let t=W();d(0,"div")(1,"div",35)(2,"label",146),v(3),h(4,"translate"),u(),d(5,"input",147),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.typeVue,r)||(a.newPlanning.typeVue=r),b(r)}),u()(),d(6,"div",35)(7,"label",148),v(8),h(9,"translate"),u(),d(10,"input",149),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.filtres,r)||(a.newPlanning.filtres=r),b(r)}),u()(),d(11,"div",35)(12,"label",150),v(13),h(14,"translate"),u(),d(15,"p-calendar",151),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.date_debut,r)||(a.newPlanning.date_debut=r),b(r)}),u()(),d(16,"div",35)(17,"label",152),v(18),h(19,"translate"),u(),d(20,"p-calendar",153),A("ngModelChange",function(r){y(t);let a=w();return D(a.newPlanning.date_fin,r)||(a.newPlanning.date_fin=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,8,"HorseComponent.DynamicFormDialog.fields.viewType")),c(2),T("ngModel",t.newPlanning.typeVue),c(3),x(f(9,10,"HorseComponent.DynamicFormDialog.fields.filters")),c(2),T("ngModel",t.newPlanning.filtres),c(3),x(f(14,12,"HorseComponent.DynamicFormDialog.fields.startDate")),c(2),T("ngModel",t.newPlanning.date_debut),c(3),x(f(19,14,"HorseComponent.DynamicFormDialog.fields.endDate")),c(2),T("ngModel",t.newPlanning.date_fin)}}function jz(n,e){if(n&1){let t=W();d(0,"button",58),h(1,"translate"),L("click",function(){y(t);let r=w();return b(r.displayEmailDialog=!1)}),u(),d(2,"button",154),h(3,"translate"),L("click",function(){y(t);let r=w();return b(r.sendActeEmail())}),u()}if(n&2){let t=w();g("label",f(1,3,"ActeComponent.EmailDialog.buttons.cancel")),c(2),g("label",f(3,5,"ActeComponent.EmailDialog.buttons.send"))("disabled",!t.emailRecipients)}}function zz(n,e){if(n&1){let t=W();d(0,"p-chip",155),L("click",function(){let r=y(t).$implicit,a=w();return b(a.downloadpiecesjointes(r))}),u()}if(n&2){let t=e.$implicit,i=w();g("label",i.getFileName(t))}}function qz(n,e){if(n&1){let t=W();d(0,"div")(1,"div",35)(2,"label",156),v(3),h(4,"translate"),u(),d(5,"input",157),A("ngModelChange",function(r){y(t);let a=w();return D(a.analyseToEdit.resultat,r)||(a.analyseToEdit.resultat=r),b(r)}),u()(),d(6,"div",35)(7,"label",158),v(8),h(9,"translate"),u(),d(10,"input",159),A("ngModelChange",function(r){y(t);let a=w();return D(a.analyseToEdit.typeAnalyse,r)||(a.analyseToEdit.typeAnalyse=r),b(r)}),u()(),d(11,"div",35)(12,"label",160),v(13),h(14,"translate"),u(),d(15,"p-calendar",161),A("ngModelChange",function(r){y(t);let a=w();return D(a.analyseToEdit.date_analyse,r)||(a.analyseToEdit.date_analyse=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,7,"HorseComponent.DynamicFormDialog.fields.result")),c(2),T("ngModel",t.analyseToEdit.resultat),c(3),x(f(9,9,"HorseComponent.DynamicFormDialog.fields.analysisType")),c(2),T("ngModel",t.analyseToEdit.typeAnalyse),c(3),x(f(14,11,"HorseComponent.DynamicFormDialog.fields.analysisDate")),c(2),T("ngModel",t.analyseToEdit.date_analyse),g("showTime",!0)}}function $z(n,e){if(n&1){let t=W();d(0,"div")(1,"div",35)(2,"label",162),v(3),h(4,"translate"),u(),d(5,"input",163),A("ngModelChange",function(r){y(t);let a=w();return D(a.planningToEdit.typeVue,r)||(a.planningToEdit.typeVue=r),b(r)}),u()(),d(6,"div",35)(7,"label",164),v(8),h(9,"translate"),u(),d(10,"input",165),A("ngModelChange",function(r){y(t);let a=w();return D(a.planningToEdit.filtres,r)||(a.planningToEdit.filtres=r),b(r)}),u()(),d(11,"div",35)(12,"label",166),v(13),h(14,"translate"),u(),d(15,"p-calendar",167),A("ngModelChange",function(r){y(t);let a=w();return D(a.planningToEdit.date_debut,r)||(a.planningToEdit.date_debut=r),b(r)}),u()(),d(16,"div",35)(17,"label",168),v(18),h(19,"translate"),u(),d(20,"p-calendar",169),A("ngModelChange",function(r){y(t);let a=w();return D(a.planningToEdit.date_fin,r)||(a.planningToEdit.date_fin=r),b(r)}),u()()()}if(n&2){let t=w();c(3),x(f(4,8,"HorseComponent.DynamicFormDialog.fields.viewType")),c(2),T("ngModel",t.planningToEdit.typeVue),c(3),x(f(9,10,"HorseComponent.DynamicFormDialog.fields.filters")),c(2),T("ngModel",t.planningToEdit.filtres),c(3),x(f(14,12,"HorseComponent.DynamicFormDialog.fields.startDate")),c(2),T("ngModel",t.planningToEdit.date_debut),c(3),x(f(19,14,"HorseComponent.DynamicFormDialog.fields.endDate")),c(2),T("ngModel",t.planningToEdit.date_fin)}}var p0=class n{constructor(e,t,i,r,a,o,s,l,p,m,_,S,C,E,I,M,F){this.fileService=e;this.translate=t;this.acteService=i;this.chevalService=r;this.messageService=a;this.confirmationService=o;this.lieuService=s;this.entiteService=l;this.raceService=p;this.categorieService=m;this.contactService=_;this.chevalContactService=S;this.datePipe=C;this.authService=E;this.planningService=I;this.AnalysesanitaireService=M;this.emailService=F;this.entiteIdlogin=this.authService.getEntiteId(),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions()}),this.updateTranslatedOptions(),this.translate.onLangChange.subscribe(()=>{this.updateTranslatedOptions(),this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;dt2;dt3;actes=[];loadingActes=!0;displayAddChevalActeDialog=!1;displayEditActeDialog=!1;displayActeDetailsDialog=!1;selectedActe=null;typeActeOptions=[{label:"Health Analysis",value:1},{label:"Planning",value:2}];get exportCategoriesColumns(){return[{title:"ID",dataKey:"id"},{title:"Nom (FR)",dataKey:"nomFr"},{title:"Nom (EN)",dataKey:"nomEn"},{title:"Est Publique",dataKey:"estPublique"},{title:"Date d'ajout",dataKey:"date_ajout"}]}exportExcelCategories(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.categories.map(o=>{let s={};return this.exportCategoriesColumns.forEach(l=>{let p=l.dataKey;o[p]!==void 0?p==="date_ajout"&&o[p]?s[l.title]=new Date(o[p]).toLocaleDateString("fr-FR"):p==="estPublique"?s[l.title]=o[p]?"Oui":"Non":s[l.title]=o[p]:s[l.title]=""}),s}),r={Sheets:{"Liste Cat\xE9gories":e.utils.json_to_sheet(t)},SheetNames:["Liste Cat\xE9gories"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"categories")})}exportCSVCategories(){if(!this.categories||this.categories.length===0){console.warn("No data available to export");return}try{let e=this.convertCategoriesToCSV(this.categories);this.downloadFile(e,"categories.csv","text/csv;charset=utf-8;")}catch(e){console.error("Error while exporting to CSV:",e)}}convertCategoriesToCSV(e){if(!e||e.length===0)return"";let t=this.exportCategoriesColumns.map(a=>a.title),i=this.exportCategoriesColumns.map(a=>a.dataKey),r=t.join(";")+`\r
`;return e.forEach(a=>{i.forEach((o,s)=>{s>0&&(r+=";");let l=a[o];o==="date_ajout"&&l?l=new Date(l).toLocaleDateString("fr-FR"):o==="estPublique"&&(l=l?"Oui":"Non"),r+=l!=null?JSON.stringify(l).replace(/"/g,""):""}),r+=`\r
`}),r}exportPdfCategories(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des cat\xE9gories",subject:"Export PDF",author:"Votre Application",keywords:"cat\xE9gories, liste, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES CAT\xC9GORIES",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+40;t(i,{startY:p,head:[this.exportCategoriesColumns.map(m=>m.title)],body:this.categories.map(m=>[m.id,m.nomFr,m.nomEn,m.estPublique?"Oui":"Non",m.date_ajout?new Date(m.date_ajout).toLocaleDateString("fr-FR"):""]),styles:{fontSize:9,cellPadding:4,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des cat\xE9gories",o,o-10)}}),i.save(`categories_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Error generating PDF:",e)}})}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",o=new Blob([e],{type:r});i.saveAs(o,t+"_export_"+new Date().getTime()+a)})}chevaux=[];chevauxnotarchived=[];lieux=[];entite=[];race=[];contact=[];filteredChevaux=[];filteredChevauxnotarchived=[];displayAddChevalDialog=!1;displayAddcategorie=!1;newCheval=new Qt;searchText="";loading=!0;chevalToEdit=null;displayEditChevalDialog=!1;sexeOptions=[{label:"M\xE2le",value:"M\xE2le"},{label:"Femelle",value:"Femelle"}];translatedSexeOptions=[];categorieOptions=[];raceOptions=[];pereOptions=[];souscategoriesOptions=[];parentOptions=[];mereOptions=[];lieuOptions=[];entiteOptions=[];contactOptions=[];chevauxOptions=[];maladieOptions=[{label:"Grippe \xE9quine",value:"Grippe \xE9quine"},{label:"Rhinopneumonie",value:"Rhinopneumonie"},{label:"T\xE9tanos",value:"T\xE9tanos"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Art\xE9rite virale \xE9quine",value:"Art\xE9rite virale \xE9quine"},{label:"Piroplasmose",value:"Piroplasmose"},{label:"Lymphangite \xE9pizootique",value:"Lymphangite \xE9pizootique"},{label:"Dermatophilose",value:"Dermatophilose"},{label:"Gourme",value:"Gourme"},{label:"Fourbure",value:"Fourbure"},{label:"Coliques",value:"Coliques"},{label:"Laminite",value:"Laminite"},{label:"Myopathie atypique",value:"Myopathie atypique"},{label:"Maladie de Lyme",value:"Maladie de Lyme"},{label:"Leucose \xE9quine",value:"Leucose \xE9quine"},{label:"Enc\xE9phalomy\xE9lite \xE9quine",value:"Enc\xE9phalomy\xE9lite \xE9quine"},{label:"An\xE9mie infectieuse \xE9quine",value:"An\xE9mie infectieuse \xE9quine"},{label:"Syndrome naviculaire",value:"Syndrome naviculaire"},{label:"Dermatite estivale r\xE9cidivante",value:"Dermatite estivale r\xE9cidivante"},{label:"Paralysie \xE0 tiques",value:"Paralysie \xE0 tiques"}];symptomesOptions=[{label:"Fi\xE8vre",value:"Fi\xE8vre"},{label:"Toux",value:"Toux"},{label:"\xC9coulement nasal",value:"\xC9coulement nasal"},{label:"Difficult\xE9 respiratoire",value:"Difficult\xE9 respiratoire"},{label:"Perte d'app\xE9tit",value:"Perte d'app\xE9tit"},{label:"Apathie",value:"Apathie"},{label:"Raideur musculaire",value:"Raideur musculaire"},{label:"Spasmes musculaires",value:"Spasmes musculaires"},{label:"Difficult\xE9 \xE0 avaler",value:"Difficult\xE9 \xE0 avaler"},{label:"Jaunisse",value:"Jaunisse"},{label:"Urine fonc\xE9e",value:"Urine fonc\xE9e"},{label:"Gonflement des membres",value:"Gonflement des membres"},{label:"Boiterie",value:"Boiterie"},{label:"Douleur articulaire",value:"Douleur articulaire"},{label:"L\xE9sions cutan\xE9es",value:"L\xE9sions cutan\xE9es"},{label:"D\xE9mangeaisons intenses",value:"D\xE9mangeaisons intenses"},{label:"\xC9coulement oculaire",value:"\xC9coulement oculaire"},{label:"Diarrh\xE9e",value:"Diarrh\xE9e"},{label:"Coliques",value:"Coliques"},{label:"Transpiration excessive",value:"Transpiration excessive"},{label:"Tremblements",value:"Tremblements"},{label:"Paralysie",value:"Paralysie"},{label:"Perte de poids",value:"Perte de poids"},{label:"\u0152d\xE8me",value:"\u0152d\xE8me"},{label:"Saignements",value:"Saignements"},{label:"Douleur abdominale",value:"Douleur abdominale"},{label:"D\xE9shydratation",value:"D\xE9shydratation"},{label:"Faiblesse g\xE9n\xE9rale",value:"Faiblesse g\xE9n\xE9rale"},{label:"Incoordination",value:"Incoordination"},{label:"Convulsions",value:"Convulsions"}];currentLanguage="en";isAdmin=!1;robeoptions=[];updateTranslatedOptions(){this.translatedSexeOptions=[{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.male"),value:"M\xE2le"},{label:this.translate.instant("HorseComponent.AddHorseDialog.genderOptions.female"),value:"Femelle"}],this.robeoptions=[{value:"ALEZAN",label:this.translate.instant("HorseComponent.coats.ALEZAN")},{value:"BAI",label:this.translate.instant("HorseComponent.coats.BAI")},{value:"BAI_BRUN",label:this.translate.instant("HorseComponent.coats.BAI_BRUN")},{value:"BLANC",label:this.translate.instant("HorseComponent.coats.BLANC")},{value:"GRIS",label:this.translate.instant("HorseComponent.coats.GRIS")},{value:"NOIR",label:this.translate.instant("HorseComponent.coats.NOIR")},{value:"PIE",label:this.translate.instant("HorseComponent.coats.PIE")},{value:"ROUAN",label:this.translate.instant("HorseComponent.coats.ROUAN")},{value:"SOURIS",label:this.translate.instant("HorseComponent.coats.SOURIS")},{value:"AUBERE",label:this.translate.instant("HorseComponent.coats.AUBERE")},{value:"CREME",label:this.translate.instant("HorseComponent.coats.CREME")},{value:"ISABELLE",label:this.translate.instant("HorseComponent.coats.ISABELLE")},{value:"PALOMINO",label:this.translate.instant("HorseComponent.coats.PALOMINO")}]}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}entiteIdlogin=null;entiteLogin=null;ngOnInit(){this.loadChevaux(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadRace(),this.loadCategories(),this.loadContact(),this.loadActes(),this.entiteIdlogin=this.authService.getEntiteId(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}loadActes(){this.loadingActes=!0,this.acteService.getAllActes(this.entiteIdlogin).subscribe({next:e=>{console.log(e),this.actes=e.details||[],this.totalacte=e.details.length,this.loadingActes=!1},error:e=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load acts"}),this.loadingActes=!1}})}viewActeDetails(e){this.selectedActe=e,this.displayActeDetailsDialog=!0}exportdetailsActeToPDF(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=40;i.setProperties({title:`Acte Details - ${this.selectedActe?.id}`,subject:"Acte Details Export",author:"Your Application",keywords:"acte, details, export",creator:"Your Application"});let s=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text(`D\xC9TAILS DE L'ACTE #${this.selectedActe?.id}`,r/2,a+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${s}`,r-a,a+20,{align:"right"});let l=a+40;i.setFontSize(14),i.setFont("helvetica","bold"),i.text("INFORMATIONS DE BASE",a,l),l+=20,i.setFontSize(10),i.setFont("helvetica","normal");let p=[["Date d'ajout",this.selectedActe?.date_ajout?new Date(this.selectedActe.date_ajout).toLocaleDateString("fr-FR"):""],["Type de document",this.getDocumentTypeText(this.selectedActe?.typeActeId)],["Notes",this.selectedActe?.notes||""]];if(t(i,{startY:l,head:[["Champ","Valeur"]],body:p,margin:{left:a,right:a},styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:255},columnStyles:{0:{fontStyle:"bold"}}}),l=i.lastAutoTable.finalY+15,this.getAttachmentFiles().length>0){i.setFontSize(14),i.setFont("helvetica","bold"),i.text("PI\xC8CES JOINTES",a,l),l+=20;let _=this.getAttachmentFiles().map(S=>[this.getFileName(S)]);t(i,{startY:l,head:[["Nom du fichier"]],body:_,margin:{left:a,right:a},styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:255}}),l=i.lastAutoTable.finalY+15}if(this.selectedActe?.chevauxActes?.length){i.setFontSize(14),i.setFont("helvetica","bold"),i.text("CHEVAUX ASSOCI\xC9S",a,l),l+=20;let _=this.selectedActe.chevauxActes.map(S=>[S?.cheval?.numeroSIRE||"",S?.cheval?.nom||"",S?.cheval?.robe||"",S?.cheval?.dateDeNaissance?new Date(S.cheval.dateDeNaissance).toLocaleDateString("fr-FR"):""]);t(i,{startY:l,head:[["SIRE","Nom","Robe","Date de naissance"]],body:_,margin:{left:a,right:a},styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:255}}),l=i.lastAutoTable.finalY+15}if(this.selectedActe?.analysesSanitaires?.length&&this.selectedActe?.typeActeId===1){i.setFontSize(14),i.setFont("helvetica","bold"),i.text("ANALYSES SANITAIRES",a,l),l+=20;let _=this.selectedActe.analysesSanitaires.map(S=>[S.typeAnalyse||"",S.resultat||"",S.date_analyse?new Date(S.date_analyse).toLocaleDateString("fr-FR"):""]);t(i,{startY:l,head:[["Type d'analyse","R\xE9sultat","Date"]],body:_,margin:{left:a,right:a},styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:255}}),l=i.lastAutoTable.finalY+15}if(this.selectedActe?.planning?.length&&this.selectedActe?.typeActeId===2){i.setFontSize(14),i.setFont("helvetica","bold"),i.text("PLANNING",a,l),l+=20;let _=this.selectedActe.planning.map(S=>[S.typeVue||"",S.filtres||"",S.date_debut?new Date(S.date_debut).toLocaleDateString("fr-FR"):"",S.date_fin?new Date(S.date_fin).toLocaleDateString("fr-FR"):""]);t(i,{startY:l,head:[["Type de vue","Filtres","Date d\xE9but","Date fin"]],body:_,margin:{left:a,right:a},styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:255}}),l=i.lastAutoTable.finalY+15}if(this.selectedActe?.contacts?.length){i.setFontSize(14),i.setFont("helvetica","bold"),i.text("CONTACTS",a,l),l+=20;let _=this.selectedActe.contacts.map(S=>[`${S.nom||""} ${S.prenom||""}`,S.coordonnees||""]);t(i,{startY:l,head:[["Nom","Coordonn\xE9es"]],body:_,margin:{left:a,right:a},styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:255}})}(()=>{let _=i.getNumberOfPages();for(let S=1;S<=_;S++)i.setPage(S),i.setFontSize(8),i.text(`Page ${S} / ${_}`,r-a,i.internal.pageSize.getHeight()-10,{align:"right"})})(),i.save(`acte_details_${this.selectedActe?.id}_${s.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Error generating PDF:",e)}})}getDocumentTypeText(e){return e===1?"Analyse sanitaire":e===2?"Planning":""}getAttachmentFiles(){return this.selectedActe?.piecesJointes?.split(",")?.map(e=>e.trim())||[]}getFileName(e){return e.split("/").pop()||e}downloadpiecesjointes(e){let t=this.getFileName(e);this.fileService.downloadFile(t).subscribe({next:i=>{let r=window.URL.createObjectURL(i),a=document.createElement("a");a.href=r,a.download=t,a.click(),window.URL.revokeObjectURL(r)},error:i=>{console.error("Erreur de t\xE9l\xE9chargement:",i),this.messageService.add({severity:"error",summary:"Erreur",detail:"Impossible de t\xE9l\xE9charger le fichier"})}})}exportExcelActes(){}exportPdfActes(){}exportCSVActes(){}categories=[];newCategorie=new en;totalacte=null;loadCategories(){this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{this.categories=e.details,this.categorieOptions=this.categories.map(t=>({label:t.nomFr,value:t.id})),this.updatesouscategoriesOptions(),this.updateparentOptions()},error:e=>{console.error("Failed to load categories:",e)}})}totalChevaux=null;totalChevauxnotarchived=null;loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.chevaux=e.details,this.filteredChevaux=e.details,this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.filteredChevauxnotarchived=e.details,this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux not archived :",this.totalChevaux),this.loading=!1,this.updatePereAndMereOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadLieux(){this.loading=!0,this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.lieuOptions=this.lieux.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des lieux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des lieux."})}})}loadRace(){this.loading=!0,this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.race=e.details,console.log(e.details),this.raceOptions=this.race.map(t=>({label:t.description,value:t.codeRace})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des races",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des races."})}})}loadContact(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.contact=e.details,this.contactOptions=this.contact.map(t=>({label:t.nom+" "+t.prenom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}updatePereAndMereOptions(){this.pereOptions=[{label:"---",value:""}],this.mereOptions=[{label:"---",value:""}],this.chevaux.forEach(e=>{this.pereOptions.push({label:e.nom,value:e.numeroSIRE}),this.mereOptions.push({label:e.nom,value:e.numeroSIRE})}),this.chevauxnotarchived.forEach(e=>{this.chevauxOptions.push({label:e.nom,value:e.numeroSIRE})})}updatesouscategoriesOptions(){this.souscategoriesOptions=[{label:"---",value:0}],this.categories.forEach(e=>{this.souscategoriesOptions.push({label:e.nomFr,value:e.id})})}updateparentOptions(){this.parentOptions=[{label:"---",value:0}],this.categories.forEach(e=>{this.parentOptions.push({label:e.nomFr,value:e.id})})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}showAddChevalDialog(){this.displayAddChevalDialog=!0}generateNumeroSIRE(e,t){let i=t.getFullYear().toString().slice(-2),r=(e+1).toString(),a=7-r.length,o="0".repeat(a)+r;return i+o}generateRandomSixDigits(){return Math.floor(Math.random()*1e6).toString().padStart(6,"0")}addCheval(e){e.valid&&(console.log(this.newCheval),this.chevalService.getMaxId().subscribe({next:t=>{this.newCheval.numeroSIRE=this.generateNumeroSIRE(t.details,this.newCheval.dateDeNaissance),this.newCheval.entiteId=this.entiteIdlogin;let i=this.generateRandomSixDigits();this.newCheval.cleSIRE=this.newCheval.numeroSIRE+i,this.newCheval.pereId===""&&(this.newCheval.pereId=""),this.newCheval.mereId===""&&(this.newCheval.mereId=""),this.chevalService.addCheval(this.newCheval).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:r.message}),this.displayAddChevalDialog=!1,this.loadChevaux(),this.newCheval=new Qt},error:r=>{let a="Erreur lors de l'ajout du cheval.";r.error&&r.error.message?a=r.error.message:r.message&&(a=r.message),this.messageService.add({severity:"error",summary:"Erreur",detail:a})}})},error:t=>{let i="Erreur lors de la r\xE9cup\xE9ration de l'ID maximum.";t.error&&t.error.message?i=t.error.message:t.message&&(i=t.message),this.messageService.add({severity:"error",summary:"Erreur",detail:i})}}))}onDocumentTypeChange(){this.newAnalyseSanitaire={resultat:"",typeAnalyse:"",date_analyse:new Date},this.newPlanning={typeVue:"",filtres:"",date_debut:new Date,date_fin:new Date,entiteid:""}}displayAddActeDialog=!1;selectedChevalForActe=null;ajouterActe(e){this.newActe=new ol,this.newActe.numerosSIRE=[e],this.newActe.entiteId=this.entiteIdlogin,this.displayAddActeDialog=!0}newActe={id:0,date_ajout:new Date,notes:"",piecesJointes:"",piecesJointesacte:[],typeActeId:0,entiteId:0,contactIds:[],numerosSIRE:[]};selectedFiles=null;onFileSelected(e){this.selectedFiles=e.target.files}recuperedActe=null;recuperedtypeActeId=null;newAnalyseSanitaire={resultat:"",typeAnalyse:"",date_analyse:new Date};newPlanning={typeVue:"",filtres:"",date_ajout:new Date,date_debut:new Date,date_fin:new Date,entiteid:""};displayDynamicFormDialog=!1;resetForm(){this.newActe={id:0,date_ajout:new Date,notes:"",piecesJointes:"",piecesJointesacte:[],typeActeId:0,entiteId:0,contactIds:[],numerosSIRE:[]},this.selectedFiles=null}submitDynamicForm(){console.log(this.recuperedtypeActeId,"recupactetypeid"),this.recuperedtypeActeId===1?(this.newAnalyseSanitaire.acteId=this.recuperedActe,this.newAnalyseSanitaire.entiteid=this.entiteIdlogin,console.log("Analyses Sanitaires:",this.newAnalyseSanitaire),this.AnalysesanitaireService.createAnalyse(this.newAnalyseSanitaire).subscribe({next:e=>{this.loadActes(),console.log("Analyse cr\xE9\xE9 avec succ\xE8s:",e),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Analyse ajout\xE9 avec succ\xE8s."})},error:e=>{console.error("Erreur lors de la cr\xE9ation du Analyse:",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la cr\xE9ation du Analyse."})}})):this.recuperedtypeActeId===2&&(console.log("Planning:",this.newPlanning),this.newPlanning.acteId=this.recuperedActe,this.newPlanning.entiteid=this.entiteIdlogin,console.log(this.newPlanning),this.planningService.createPlanning(this.newPlanning).subscribe({next:e=>{this.loadActes(),console.log("Planning cr\xE9\xE9 avec succ\xE8s:",e),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Planning ajout\xE9 avec succ\xE8s."})},error:e=>{console.error("Erreur lors de la cr\xE9ation du planning:",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la cr\xE9ation du planning."})}})),this.displayDynamicFormDialog=!1,this.newAnalyseSanitaire={resultat:"",typeAnalyse:"",date_analyse:new Date},this.newPlanning={typeVue:"",filtres:"",date_debut:new Date,date_fin:new Date,entiteid:""}}fileUpload;selectedChevaux=[];showAddChevalActeDialog(){this.displayAddChevalActeDialog=!0,this.selectedChevaux=[]}addChevalActe(e){if(e.valid&&this.selectedFiles){let t=new FormData;for(let i=0;i<this.selectedFiles.length;i++)t.append("PiecesJointesacte",this.selectedFiles[i]);t.append("Id",(this.newActe.id||0).toString()),t.append("Date_ajout",(this.newActe.date_ajout||new Date).toISOString()),t.append("Notes",this.newActe.notes||""),t.append("PiecesJointes",this.newActe.piecesJointes||""),t.append("TypeActeId",(this.newActe.typeActeId||0).toString()),t.append("EntiteId",(this.entiteIdlogin||0).toString()),this.newActe.contactIds&&t.append("ContactIds",this.newActe.contactIds.join(",")),this.newActe.numerosSIRE&&t.append("NumerosSIRE",this.newActe.numerosSIRE.join(",")),this.newActe.typeActeId===1?(t.append("Resultat",this.newAnalyseSanitaire.resultat),t.append("TypeAnalyse",this.newAnalyseSanitaire.typeAnalyse),t.append("DateAnalyse",this.newAnalyseSanitaire.date_analyse.toISOString())):this.newActe.typeActeId===2&&(t.append("TypeVue",this.newPlanning.typeVue),t.append("Filtres",this.newPlanning.filtres),t.append("DateDebut",this.newPlanning.date_debut.toISOString()),t.append("DateFin",this.newPlanning.date_fin.toISOString())),this.acteService.createActe(t).subscribe({next:i=>{let r=i.details.id;this.recuperedActe=i.details.id;let a=i.details.typeActeId;this.recuperedtypeActeId=i.details.typeActeId,console.log("acte",i.details),console.log(r,a),console.log("this.recuperedtypeActeId",this.recuperedtypeActeId),console.log(r,a),a===1?(this.newAnalyseSanitaire.acteId=r,this.newAnalyseSanitaire.entiteid=this.entiteIdlogin,console.log("Analyses Sanitaires:",this.newAnalyseSanitaire),this.AnalysesanitaireService.createAnalyse(this.newAnalyseSanitaire).subscribe({next:o=>{console.log("Analyse cr\xE9\xE9 avec succ\xE8s:",o),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("ActeComponent.AddDialog.succes")})},error:o=>{console.error("Erreur lors de la cr\xE9ation du Analyse:",o),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("ActeComponent.AddDialog.error")})}})):a===2&&(console.log("Planning:",this.newPlanning),this.newPlanning.acteId=r,this.newPlanning.entiteid=this.entiteIdlogin,this.planningService.createPlanning(this.newPlanning).subscribe({next:o=>{console.log("Planning cr\xE9\xE9 avec succ\xE8s:",o),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:this.translate.instant("ActeComponent.AddDialog.succes")})},error:o=>{console.error("Erreur lors de la cr\xE9ation du planning:",o),this.messageService.add({severity:"error",summary:"Erreur",detail:this.translate.instant("ActeComponent.AddDialog.error")})}})),this.loadActes(),this.displayAddChevalActeDialog=!1,this.resetForm()},error:i=>{}})}}displayEmailDialog=!1;emailRecipients="";emailSubject="";emailMessage="";emailRecipientsError="";entiteid=0;showEmailDialog(e){this.selectedActe=e,this.emailSubject=`Details of Acte #${e.id}`,this.displayEmailDialog=!0}sendActeEmail(){if(this.emailRecipientsError="",!this.emailRecipients||this.emailRecipients.trim()===""){this.emailRecipientsError=this.translate.instant("ActeComponent.EmailDialog.errors.recipientsRequired");return}if(!this.selectedActe||!this.emailRecipients){this.messageService.add({severity:"warn",summary:"Warning",detail:"Please enter at least one email recipient"});return}let e={acteId:this.selectedActe.id,emails:this.emailRecipients.split(",").map(t=>t.trim()),subject:this.emailSubject,message:this.emailMessage,entiteId:this.entiteIdlogin};this.emailService.sendActeEmail(e).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Success",detail:this.translate.instant("ActeComponent.EmailDialog.successsend")}),this.resetEmailForm(),this.displayEmailDialog=!1},error:t=>{this.messageService.add({severity:"error",summary:"Error",detail:this.translate.instant("ActeComponent.EmailDialog.errorsend"+t.message)})}})}resetEmailForm(){this.emailRecipients="",this.emailSubject=this.selectedActe?this.translate.instant("ActeComponent.EmailDialog.defaultSubject",{id:this.selectedActe.id}):"",this.emailMessage="",this.emailRecipientsError=""}deleteActe(e){this.confirmationService.confirm({message:"\xCAtes-vous s\xFBr de vouloir supprimer cet acte ?",header:"Confirmation de suppression",icon:"pi pi-exclamation-triangle",acceptLabel:"Oui",rejectLabel:"Non",accept:()=>{this.performDeleteActe(e)},reject:()=>{this.messageService.add({severity:"info",summary:"Annul\xE9",detail:"Suppression annul\xE9e",life:3e3})}})}performDeleteActe(e){let t=this.entiteIdlogin;this.acteService.deleteActe(e,t).subscribe({next:i=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:i.message||"Acte supprim\xE9 avec succ\xE8s",life:3e3}),this.loadActes()},error:i=>{console.error("Erreur lors de la suppression:",i),this.messageService.add({severity:"error",summary:"Erreur",detail:i.message||"Une erreur est survenue lors de la suppression",life:5e3})}})}editActe(e){this.loading=!0,this.acteService.getActeById(e.id,this.entiteIdlogin).subscribe({next:t=>{this.acteToEdit=z({},t.details),this.acteToEdit.numerosSIRE=this.acteToEdit.chevauxActes?.filter(i=>i.numeroSIRE).map(i=>i.numeroSIRE)??[],this.contactOptions=this.contact.map(i=>({label:`${i.prenom} ${i.nom}`,value:i.id.toString()})),this.acteToEdit.contactIds=this.acteToEdit.contacts?.filter(i=>i&&i.id).map(i=>i.id.toString())??[],console.log("this.acteToEdit.contactIds",this.acteToEdit.contactIds),console.log("Available contact options:",this.contactOptions),console.log("Current contactIds value:",this.acteToEdit.contactIds),console.log("Matching options:",this.contactOptions.filter(i=>this.acteToEdit.contactIds.includes(i.value))),typeof this.acteToEdit.date_ajout=="string"&&(this.acteToEdit.date_ajout=new Date(this.acteToEdit.date_ajout)),this.acteToEdit.typeActeId===1?this.loadAnalyseForActe(this.acteToEdit.id):this.acteToEdit.typeActeId===2&&this.loadPlanningForActe(this.acteToEdit.id),console.log("Acte to edit after processing:",this.acteToEdit),this.displayEditActeDialog=!0,this.loading=!1},error:t=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load act details"}),this.loading=!1}})}acteToEdit=new ol;planningToEdit=null;analyseToEdit=null;editSelectedFiles=null;loadAnalyseForActe(e){this.AnalysesanitaireService.getAnalyseByActeId(e,this.entiteIdlogin).subscribe({next:t=>{this.analyseToEdit=t.details,this.analyseToEdit&&typeof this.analyseToEdit.date_analyse=="string"&&(this.analyseToEdit.date_analyse=new Date(this.analyseToEdit.date_analyse))},error:t=>{console.error("Failed to load health analysis",t),this.analyseToEdit={id:0,date_analyse:new Date,resultat:"",typeAnalyse:"",entiteid:this.entiteIdlogin}}})}loadPlanningForActe(e){this.planningService.getPlanningByActeId(e,this.entiteIdlogin).subscribe({next:t=>{this.planningToEdit=t.details,this.planningToEdit&&typeof this.planningToEdit.date_debut=="string"&&(this.planningToEdit.date_debut=new Date(this.planningToEdit.date_debut)),this.planningToEdit&&typeof this.planningToEdit.date_fin=="string"&&(this.planningToEdit.date_fin=new Date(this.planningToEdit.date_fin))},error:t=>{console.error("Failed to load planning",t)}})}onEditFileSelected(e){this.editSelectedFiles=e.target.files}getAttachmentFilesedit(e){return e?.piecesJointes?.split(",")?.map(t=>t.trim())||[]}setTimeToOneMinute=e=>{if(!e)return;let t=new Date(e),i=t.getTimezoneOffset()*6e4,r=new Date(t.getTime()+i);return r.setHours(2,1,0,0),r};updateChevalActe(e){if(e.valid&&this.acteToEdit){let t=new FormData;if(this.editSelectedFiles)for(let a=0;a<this.editSelectedFiles.length;a++)t.append("PiecesJointesacte",this.editSelectedFiles[a]);let i=Array.isArray(this.acteToEdit.numerosSIRE)?this.acteToEdit.numerosSIRE.filter(a=>a):[],r=Array.isArray(this.acteToEdit.contactIds)?this.acteToEdit.contactIds.filter(a=>a):[];if(t.append("Id",this.acteToEdit.id.toString()),t.append("Date_ajout",new Date(this.acteToEdit.date_ajout).toISOString()),t.append("Notes",this.acteToEdit.notes||""),t.append("PiecesJointes",this.acteToEdit.piecesJointes||""),t.append("TypeActeId",this.acteToEdit.typeActeId.toString()),t.append("EntiteId",this.entiteIdlogin.toString()),t.append("ContactIds",r.join(",")),t.append("NumerosSIRE",i.join(",")),this.acteToEdit.typeActeId===1&&this.analyseToEdit){let a=this.setTimeToOneMinute(this.analyseToEdit.date_analyse instanceof Date?this.analyseToEdit.date_analyse:new Date(this.analyseToEdit.date_analyse));t.append("Resultat",this.analyseToEdit.resultat),t.append("TypeAnalyse",this.analyseToEdit.typeAnalyse),a&&t.append("DateAnalyse",a.toISOString()),t.append("AnalyseId",this.analyseToEdit.id.toString())}else if(this.acteToEdit.typeActeId===2&&this.planningToEdit){let a=this.setTimeToOneMinute(this.planningToEdit.date_debut instanceof Date?this.planningToEdit.date_debut:new Date(this.planningToEdit.date_debut)),o=this.setTimeToOneMinute(this.planningToEdit.date_fin instanceof Date?this.planningToEdit.date_fin:new Date(this.planningToEdit.date_fin));a&&t.append("DateDebut",a.toISOString()),o&&t.append("DateFin",o.toISOString()),t.append("TypeVue",this.planningToEdit.typeVue),t.append("Filtres",this.planningToEdit.filtres),t.append("PlanningId",this.planningToEdit.id.toString())}this.acteService.updateActe(this.acteToEdit.id,t,this.entiteIdlogin).subscribe({next:a=>{this.acteToEdit.typeActeId===1&&this.analyseToEdit?this.updateAnalyseSanitaire():this.acteToEdit.typeActeId===2&&this.planningToEdit&&this.updatePlanning(),this.messageService.add({severity:"success",summary:"Success",detail:this.translate.instant("ActeComponent.EditDialog.succes")}),this.loadActes(),this.displayEditActeDialog=!1},error:a=>{this.messageService.add({severity:"error",summary:"Error",detail:this.translate.instant("ActeComponent.EditDialog.error")})}})}}updateAnalyseSanitaire(){this.analyseToEdit&&(this.analyseToEdit.entiteid=this.entiteIdlogin,this.AnalysesanitaireService.updateAnalyse(this.analyseToEdit.id,this.analyseToEdit,this.entiteIdlogin).subscribe({next:e=>{console.log("Analyse updated successfully")},error:e=>{console.error("Error updating analyse",e)}}))}updatePlanning(){this.planningToEdit&&(this.planningToEdit.entiteid=this.entiteIdlogin,this.planningService.updatePlanning(this.planningToEdit.id,this.planningToEdit,this.entiteIdlogin).subscribe({next:e=>{console.log("Planning updated successfully")},error:e=>{console.error("Error updating planning",e)}}))}static \u0275fac=function(t){return new(t||n)(B(u0),B(Fe),B(it),B(me),B(ne),B(ce),B(Ce),B(oe),B(ke),B(be),B(Ie),B($e),B(he),B(ze),B(vt),B(_t),B(fc))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&(Te(oz,5),Te(sz,5),Te(lz,5),Te(cz,5)),t&2){let r;Z(r=J())&&(i.dt1=r.first),Z(r=J())&&(i.dt2=r.first),Z(r=J())&&(i.dt3=r.first),Z(r=J())&&(i.fileUpload=r.first)}},features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,he,it])],decls:301,vars:356,consts:[["dt3",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["addChevalForm","ngForm"],["noAttachments",""],["chevalActeForm","ngForm"],["editActeForm","ngForm"],["rel","stylesheet","href",Yn`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css`],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-6"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-folder","text-amber-500","!text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-fluid"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-6"],[1,"p-field"],["for","nom"],["id","nom","type","text","pInputText","","name","nom","required","",3,"ngModelChange","ngModel"],["for","robe"],["id","robe","name","robe","optionLabel","label","optionValue","value","required","",1,"w-full",3,"ngModelChange","ngModel","options","placeholder"],["pTemplate","item"],["for","dateDeNaissance"],["id","dateDeNaissance","name","dateDeNaissance","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showIcon"],["for","sexe"],["id","sexe","filterBy","label","name","sexe","required","","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","pereId"],["id","pereId","filterBy","label","name","pereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","mereId"],["id","mereId","filterBy","label","name","mereId","styleClass","w-full md:w-80",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","lieuId"],["id","lieuId","filterBy","label","required","","name","lieuId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","raceCodeRace"],["id","raceCodeRace","filterBy","label","required","","name","raceCodeRace","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","categoriesId"],["id","categoriesId","filterBy","label","required","","name","categoriesId","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","filter","showClear","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize"],["for","contactIds"],["id","contactIds","required","","name","contactIds","styleClass","w-full md:w-80","required","",1,"multiselect-custom-virtual-scroll",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],[3,"visibleChange","visible","header","modal","draggable","resizable"],[1,"mb-6"],[1,"text-xl","font-semibold","mb-4"],["pButton","","pRipple","","type","button","icon","pi pi-file-pdf",1,"p-button-rounded","p-button-text",3,"click","title","label"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"font-medium"],[4,"ngIf"],[1,"md:col-span-2"],[1,"whitespace-pre-line"],[1,"flex","flex-wrap","gap-2"],[4,"ngIf","ngIfElse"],["class","mb-6",4,"ngIf"],[1,"flex","justify-end","mt-4"],["pButton","","pRipple","","type","button",3,"click","label"],[3,"visibleChange","visible","closable","header"],["for","acteId"],["name","acteId","type","text","readonly","",3,"ngModelChange","ngModel","value"],["name","recuperedtypeActeId","type","text","readonly","",3,"ngModelChange","ngModel","value"],["pButton","","type","button",3,"click","label"],[3,"visibleChange","visible","header"],["for","numeroSIREs"],["optionLabel","label","optionValue","value","name","numeroSIREs","required","","styleClass","w-full md:w-80",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","notes"],["name","notes","rows","5",3,"ngModelChange","ngModel","placeholder"],["for","piecesJointes"],["type","file","name","piecesJointes","multiple","",3,"change"],["optionLabel","label","optionValue","value","name","contactIds","required","",3,"ngModelChange","ngModel","options","placeholder"],["for","typeActeId"],["optionLabel","label","optionValue","value","name","typeActeId","required","",3,"ngModelChange","onChange","ngModel","options","placeholder"],["for","emails"],["id","emails","type","text","pInputText","","styleClass","w-full md:w-80",3,"ngModelChange","ngModel","placeholder"],[1,"p-error"],["for","subject"],["id","subject","type","text","pInputText","","styleClass","w-full md:w-80",3,"ngModelChange","ngModel","placeholder"],["pTemplate","footer"],["for","editNumeroSIREs"],["id","editNumeroSIREs","name","numerosSIRE","optionLabel","label","optionValue","value","styleClass","w-full md:w-80",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","editTypeActeId"],["id","editTypeActeId","name","typeActeId","optionLabel","label","optionValue","value",3,"ngModelChange","ngModel","options","disabled","placeholder"],["for","editNotes"],["id","editNotes","name","notes","rows","5",3,"ngModelChange","ngModel","placeholder"],["for","editPiecesJointes"],[1,"flex","flex-wrap","gap-2","mb-3"],["icon","pi pi-file","styleClass","cursor-pointer hover:bg-primary-100",3,"label","click",4,"ngFor","ngForOf"],["for","editContactIds"],["id","editContactIds","name","contactIds","optionLabel","label","optionValue","value",3,"ngModelChange","ngModel","options","placeholder"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["icon","pi pi-file-pdf","styleClass","p-button-danger",3,"click","label"],["icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","8rem"],[1,"flex","justify-between","items-center"],["type","text","field","id","display","menu",3,"placeholder"],[2,"min-width","12rem"],["type","date","field","date_ajout","display","menu",3,"placeholder"],[2,"min-width","15rem"],["type","text","field","notes","display","menu",3,"placeholder"],["type","text","field","typeActeId","display","menu",3,"placeholder"],[2,"min-width","10rem"],["pButton","","pRipple","","type","button","icon","pi pi-eye",1,"p-button-info","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-warning","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-envelope",1,"p-button-success","p-button-text","p-button-icon-only",3,"click"],["colspan","5"],["icon","pi pi-download","styleClass","cursor-pointer hover:bg-primary-100",3,"label","click",4,"ngFor","ngForOf"],["icon","pi pi-download","styleClass","cursor-pointer hover:bg-primary-100",3,"click","label"],[1,"text-gray-500"],[3,"value","rows","paginator"],["pTemplate","header"],["pTemplate","body"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[4,"ngFor","ngForOf"],[1,"border","rounded","p-4"],[1,"mb-2"],["for","resultat"],["name","resultat","type","text","required","",3,"ngModelChange","ngModel"],["for","typeAnalyse"],["name","typeAnalyse","type","text","required","",3,"ngModelChange","ngModel"],["for","date_analyse"],["name","date_analyse","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel"],["for","typeVue"],["name","typeVue","type","text","required","",3,"ngModelChange","ngModel"],["for","filtres"],["name","filtres","type","text","required","",3,"ngModelChange","ngModel"],["for","date_debut"],["name","date_debut","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel"],["for","date_fin"],["name","date_fin","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel"],["pButton","","pRipple","","type","button","icon","pi pi-send",1,"p-button-success",3,"click","label","disabled"],["icon","pi pi-file","styleClass","cursor-pointer hover:bg-primary-100",3,"click","label"],["for","editResultat"],["id","editResultat","name","resultat","type","text","required","",3,"ngModelChange","ngModel"],["for","editTypeAnalyse"],["id","editTypeAnalyse","name","typeAnalyse","type","text","required","",3,"ngModelChange","ngModel"],["for","editDateAnalyse"],["id","editDateAnalyse","name","date_analyse","hourFormat","24","dataType","date","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel","showTime"],["for","editTypeVue"],["id","editTypeVue","name","typeVue","type","text","required","",3,"ngModelChange","ngModel"],["for","editFiltres"],["id","editFiltres","name","filtres","type","text","required","",3,"ngModelChange","ngModel"],["for","editDateDebut"],["id","editDateDebut","name","date_debut","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel"],["for","editDateFin"],["id","editDateFin","name","date_fin","dateFormat","dd/mm/yy","required","",3,"ngModelChange","ngModel"]],template:function(t,i){if(t&1){let r=W();P(0,"link",10),d(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"div")(6,"span",15),v(7),h(8,"translate"),u()(),d(9,"div",16),P(10,"i",17),u()(),d(11,"span",18),v(12),h(13,"translate"),u(),v(14," | "),d(15,"span",18),v(16),h(17,"translate"),u()()(),d(18,"div",12)(19,"div",13)(20,"div",14)(21,"div")(22,"span",15),v(23),h(24,"translate"),u(),d(25,"div",19),v(26),u()(),d(27,"div",20),P(28,"i",21),u()()()(),P(29,"div",22),d(30,"div",23),P(31,"p-toast")(32,"p-confirmDialog",24),d(33,"div",25)(34,"div",26)(35,"div",27),v(36),h(37,"translate"),u()(),R(38,hz,5,6,"div",28),d(39,"div",23)(40,"div",25),P(41,"div",26),d(42,"p-table",29,0),R(44,fz,16,15,"ng-template",null,1,ae)(46,gz,29,27,"ng-template",null,2,ae)(48,yz,18,13,"ng-template",null,3,ae)(50,bz,4,3,"ng-template",null,4,ae)(52,wz,4,3,"ng-template",null,5,ae),u()()()(),d(54,"p-dialog",30),h(55,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalDialog,o)||(i.displayAddChevalDialog=o),b(o)}),d(56,"form",31,6),L("ngSubmit",function(){y(r);let o=Q(57);return b(i.addCheval(o))}),d(58,"div",32)(59,"div",33)(60,"div",34)(61,"div",35)(62,"label",36),v(63),h(64,"translate"),u(),d(65,"input",37),A("ngModelChange",function(o){return y(r),D(i.newCheval.nom,o)||(i.newCheval.nom=o),b(o)}),u()()(),d(66,"div",34)(67,"div",35)(68,"label",38),v(69),h(70,"translate"),u(),d(71,"p-dropdown",39),h(72,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.robe,o)||(i.newCheval.robe=o),b(o)}),R(73,Sz,2,3,"ng-template",40),u()()(),d(74,"div",34)(75,"div",35)(76,"label",41),v(77),h(78,"translate"),u(),d(79,"p-calendar",42),A("ngModelChange",function(o){return y(r),D(i.newCheval.dateDeNaissance,o)||(i.newCheval.dateDeNaissance=o),b(o)}),u()()(),d(80,"div",34)(81,"div",35)(82,"label",43),v(83),h(84,"translate"),u(),d(85,"p-dropdown",44),h(86,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.sexe,o)||(i.newCheval.sexe=o),b(o)}),u()()(),d(87,"div",34)(88,"div",35)(89,"label",45),v(90),h(91,"translate"),u(),d(92,"p-dropdown",46),h(93,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.pereId,o)||(i.newCheval.pereId=o),b(o)}),u()()(),d(94,"div",34)(95,"div",35)(96,"label",47),v(97,"{{ 'HorseComponent.AddHorseDialog.fields.mother| translate }}"),u(),d(98,"p-dropdown",48),h(99,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.mereId,o)||(i.newCheval.mereId=o),b(o)}),u()()(),d(100,"div",34)(101,"div",35)(102,"label",49),v(103),h(104,"translate"),u(),d(105,"p-dropdown",50),h(106,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.lieuId,o)||(i.newCheval.lieuId=o),b(o)}),u()()(),d(107,"div",34)(108,"div",35)(109,"label",51),v(110),h(111,"translate"),u(),d(112,"p-dropdown",52),h(113,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.raceCodeRace,o)||(i.newCheval.raceCodeRace=o),b(o)}),u()()(),d(114,"div",34)(115,"div",35)(116,"label",53),v(117),h(118,"translate"),u(),d(119,"p-dropdown",54),h(120,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.categoriesId,o)||(i.newCheval.categoriesId=o),b(o)}),u()()(),d(121,"div",34)(122,"div",35)(123,"label",55),v(124),h(125,"translate"),u(),d(126,"p-multiSelect",56),h(127,"translate"),A("ngModelChange",function(o){return y(r),D(i.newCheval.contactIds,o)||(i.newCheval.contactIds=o),b(o)}),u()()()()(),d(128,"div",57)(129,"button",58),h(130,"translate"),L("click",function(){return y(r),b(i.displayAddChevalDialog=!1)}),u(),P(131,"button",59),h(132,"translate"),u()()(),d(133,"p-dialog",60),h(134,"translate"),A("visibleChange",function(o){return y(r),D(i.displayActeDetailsDialog,o)||(i.displayActeDetailsDialog=o),b(o)}),d(135,"div",61)(136,"h3",62),v(137),h(138,"translate"),u(),d(139,"button",63),h(140,"translate"),h(141,"translate"),L("click",function(){return y(r),b(i.exportdetailsActeToPDF())}),u(),d(142,"div",64)(143,"div")(144,"label",65),v(145),h(146,"translate"),u(),d(147,"p"),v(148),h(149,"date"),u()(),d(150,"div")(151,"label",65),v(152),h(153,"translate"),u(),d(154,"p"),R(155,Cz,3,3,"span",66)(156,xz,3,3,"span",66),u()(),d(157,"div",67)(158,"label",65),v(159),h(160,"translate"),u(),d(161,"p",68),v(162),u()()()(),d(163,"div",61)(164,"h3",62),v(165),h(166,"translate"),u(),d(167,"div",69),R(168,Iz,2,1,"ng-container",70)(169,Tz,3,3,"ng-template",null,7,ae),u()(),R(171,Mz,7,7,"div",71)(172,Pz,6,4,"div",71)(173,Rz,6,4,"div",71)(174,Fz,6,4,"div",71),d(175,"div",72)(176,"button",73),h(177,"translate"),L("click",function(){return y(r),b(i.displayActeDetailsDialog=!1)}),u()()(),d(178,"p-dialog",74),h(179,"translate"),A("visibleChange",function(o){return y(r),D(i.displayDynamicFormDialog,o)||(i.displayDynamicFormDialog=o),b(o)}),d(180,"div",35)(181,"label",75),v(182),h(183,"translate"),u(),d(184,"input",76),A("ngModelChange",function(o){return y(r),D(i.recuperedActe,o)||(i.recuperedActe=o),b(o)}),u()(),d(185,"div",35)(186,"label",75),v(187),h(188,"translate"),R(189,Oz,3,3,"label",66)(190,Nz,3,3,"label",66),u(),d(191,"input",77),A("ngModelChange",function(o){return y(r),D(i.recuperedtypeActeId,o)||(i.recuperedtypeActeId=o),b(o)}),u()(),R(192,Vz,16,12,"div",66)(193,Hz,21,16,"div",66),d(194,"button",78),h(195,"translate"),L("click",function(){return y(r),b(i.submitDynamicForm())}),u()(),d(196,"p-dialog",79),h(197,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAddChevalActeDialog,o)||(i.displayAddChevalActeDialog=o),b(o)}),d(198,"form",31,8),L("ngSubmit",function(){y(r);let o=Q(199);return b(i.addChevalActe(o))}),d(200,"div",32)(201,"div",35)(202,"label",80),v(203),h(204,"translate"),u(),d(205,"p-multiSelect",81),h(206,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.numerosSIRE,o)||(i.newActe.numerosSIRE=o),b(o)}),u()(),d(207,"div",35)(208,"label",82),v(209),h(210,"translate"),u(),d(211,"textarea",83),h(212,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.notes,o)||(i.newActe.notes=o),b(o)}),u()(),d(213,"div",35)(214,"label",84),v(215),h(216,"translate"),u(),d(217,"input",85),L("change",function(o){return y(r),b(i.onFileSelected(o))}),u()(),d(218,"div",35)(219,"label",55),v(220),h(221,"translate"),u(),d(222,"p-multiSelect",86),h(223,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.contactIds,o)||(i.newActe.contactIds=o),b(o)}),u()(),d(224,"div",35)(225,"label",87),v(226),h(227,"translate"),u(),d(228,"p-dropdown",88),h(229,"translate"),A("ngModelChange",function(o){return y(r),D(i.newActe.typeActeId,o)||(i.newActe.typeActeId=o),b(o)}),L("onChange",function(){return y(r),b(i.onDocumentTypeChange())}),u()(),R(230,Wz,16,12,"div",66)(231,Uz,21,16,"div",66),d(232,"div",35),P(233,"button",59),h(234,"translate"),u()()()(),d(235,"p-dialog",60),h(236,"translate"),A("visibleChange",function(o){return y(r),D(i.displayEmailDialog,o)||(i.displayEmailDialog=o),b(o)}),d(237,"div",32)(238,"div",35)(239,"label",89),v(240),h(241,"translate"),u(),d(242,"input",90),h(243,"translate"),A("ngModelChange",function(o){return y(r),D(i.emailRecipients,o)||(i.emailRecipients=o),b(o)}),u(),d(244,"small",91),v(245),u()(),d(246,"div",35)(247,"label",92),v(248),h(249,"translate"),u(),d(250,"input",93),h(251,"translate"),A("ngModelChange",function(o){return y(r),D(i.emailSubject,o)||(i.emailSubject=o),b(o)}),u()()(),R(252,jz,4,7,"ng-template",94),u(),d(253,"p-dialog",60),h(254,"translate"),A("visibleChange",function(o){return y(r),D(i.displayEditActeDialog,o)||(i.displayEditActeDialog=o),b(o)}),d(255,"form",31,9),L("ngSubmit",function(){y(r);let o=Q(256);return b(i.updateChevalActe(o))}),d(257,"div",32)(258,"div",35)(259,"label",95),v(260),h(261,"translate"),u(),d(262,"p-multiSelect",96),h(263,"translate"),A("ngModelChange",function(o){return y(r),D(i.acteToEdit.numerosSIRE,o)||(i.acteToEdit.numerosSIRE=o),b(o)}),u()(),d(264,"div",35)(265,"label",97),v(266),h(267,"translate"),u(),d(268,"p-dropdown",98),h(269,"translate"),A("ngModelChange",function(o){return y(r),D(i.acteToEdit.typeActeId,o)||(i.acteToEdit.typeActeId=o),b(o)}),u()(),d(270,"div",35)(271,"label",99),v(272),h(273,"translate"),u(),d(274,"textarea",100),h(275,"translate"),A("ngModelChange",function(o){return y(r),D(i.acteToEdit.notes,o)||(i.acteToEdit.notes=o),b(o)}),v(276,"                    "),u()(),d(277,"div",35)(278,"label",101),v(279),h(280,"translate"),u(),d(281,"div",102),R(282,zz,1,1,"p-chip",103),u(),d(283,"input",85),L("change",function(o){return y(r),b(i.onEditFileSelected(o))}),u()(),d(284,"div",35)(285,"label",104),v(286),h(287,"translate"),u(),d(288,"p-multiSelect",105),h(289,"translate"),A("ngModelChange",function(o){return y(r),D(i.acteToEdit.contactIds,o)||(i.acteToEdit.contactIds=o),b(o)}),u()(),d(290,"div",35)(291,"label"),v(292),h(293,"translate"),u(),d(294,"p"),v(295),u()(),R(296,qz,16,13,"div",66)(297,$z,21,16,"div",66),d(298,"div",35),P(299,"button",59),h(300,"translate"),u()()()()()()}if(t&2){let r=Q(57),a=Q(170),o=Q(199),s=Q(256);c(7),Se(" ",f(8,207,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(13,209,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(17,211,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(24,213,"Acte.number_acte")),c(3),x(i.totalacte),c(10),O("",f(37,215,"ActeComponent.table.title")," "),c(2),g("ngIf",i.isAdmin),c(4),g("value",i.actes)("rows",5)("loading",i.loadingActes)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(344,dz))("rowsPerPageOptions",se(345,uz)),c(12),_e(se(346,qu)),g("header",f(55,217,"HorseComponent.AddHorseDialog.header")),T("visible",i.displayAddChevalDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(9),x(f(64,219,"HorseComponent.AddHorseDialog.fields.name")),c(2),T("ngModel",i.newCheval.nom),c(4),x(f(70,221,"HorseComponent.AddHorseDialog.fields.coat")),c(2),T("ngModel",i.newCheval.robe),g("options",i.robeoptions)("placeholder",f(72,223,"HorseComponent.AddHorseDialog.selectCoat")),c(6),x(f(78,225,"HorseComponent.AddHorseDialog.fields.birth_date")),c(2),T("ngModel",i.newCheval.dateDeNaissance),g("showIcon",!0),c(4),x(f(84,227,"HorseComponent.AddHorseDialog.fields.gender")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.sexe),g("options",i.translatedSexeOptions)("placeholder",f(86,229,"HorseComponent.AddHorseDialog.placeholders.select_gender"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(91,231,"HorseComponent.AddHorseDialog.fields.father")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.pereId),g("options",i.pereOptions)("placeholder",f(93,233,"HorseComponent.AddHorseDialog.placeholders.select_father"))("virtualScroll",!0)("virtualScrollItemSize",15),c(6),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.mereId),g("options",i.mereOptions)("placeholder",f(99,235,"HorseComponent.AddHorseDialog.placeholders.select_mother"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),O("",f(104,237,"HorseComponent.AddHorseDialog.fields.location")," "),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.lieuId),g("options",i.lieuOptions)("placeholder",f(106,239,"HorseComponent.AddHorseDialog.placeholders.select_location"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(111,241,"HorseComponent.AddHorseDialog.fields.race_code")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.raceCodeRace),g("options",i.raceOptions)("placeholder",f(113,243,"HorseComponent.AddHorseDialog.placeholders.select_race"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(118,245,"HorseComponent.AddHorseDialog.fields.category")),c(2),g("filter",!0)("showClear",!0),T("ngModel",i.newCheval.categoriesId),g("options",i.categorieOptions)("placeholder",f(120,247,"HorseComponent.AddHorseDialog.placeholders.select_category"))("virtualScroll",!0)("virtualScrollItemSize",15),c(5),x(f(125,249,"HorseComponent.AddHorseDialog.fields.contacts")),c(2),T("ngModel",i.newCheval.contactIds),g("options",i.contactOptions)("placeholder",f(127,251,"HorseComponent.AddHorseDialog.placeholders.select_contacts"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(3),g("label",f(130,253,"HorseComponent.AddHorseDialog.buttons.cancel")),c(2),g("label",f(132,255,"HorseComponent.AddHorseDialog.buttons.add"))("disabled",!r.valid),c(2),_e(se(347,pz)),T("visible",i.displayActeDetailsDialog),g("header",ni(134,257,"ActeComponent.DetailsDialog.header",Ae(348,O3,i.selectedActe==null?null:i.selectedActe.id)))("modal",!0)("draggable",!1)("resizable",!1),c(4),x(f(138,260,"ActeComponent.DetailsDialog.sections.basicInfo")),c(2),g("title",f(140,262,"ActeComponent.DetailsDialog.buttons.exportPDF"))("label",f(141,264,"ActeComponent.DetailsDialog.buttons.exportPDF")),c(6),x(f(146,266,"ActeComponent.DetailsDialog.fields.addDate")),c(3),x(ni(149,268,i.selectedActe==null?null:i.selectedActe.date_ajout,"dd/MM/yyyy HH:mm")),c(4),x(f(153,271,"ActeComponent.DetailsDialog.fields.documentType")),c(3),g("ngIf",(i.selectedActe==null?null:i.selectedActe.typeActeId)===1),c(),g("ngIf",(i.selectedActe==null?null:i.selectedActe.typeActeId)===2),c(3),x(f(160,273,"ActeComponent.DetailsDialog.fields.notes")),c(3),x(i.selectedActe==null?null:i.selectedActe.notes),c(3),O(" ",f(166,275,"ActeComponent.DetailsDialog.sections.attachments")," "),c(3),g("ngIf",i.getAttachmentFiles().length>0)("ngIfElse",a),c(3),g("ngIf",i.selectedActe==null||i.selectedActe.chevauxActes==null?null:i.selectedActe.chevauxActes.length),c(),g("ngIf",(i.selectedActe==null||i.selectedActe.analysesSanitaires==null?null:i.selectedActe.analysesSanitaires.length)&&(i.selectedActe==null?null:i.selectedActe.typeActeId)===1),c(),g("ngIf",(i.selectedActe==null||i.selectedActe.planning==null?null:i.selectedActe.planning.length)&&(i.selectedActe==null?null:i.selectedActe.typeActeId)===2),c(),g("ngIf",i.selectedActe==null||i.selectedActe.contacts==null?null:i.selectedActe.contacts.length),c(2),g("label",f(177,277,"ActeComponent.DetailsDialog.buttons.close")),c(2),_e(se(350,qu)),T("visible",i.displayDynamicFormDialog),g("closable",!1)("header",f(179,279,"HorseComponent.DynamicFormDialog.header")),c(4),x(f(183,281,"HorseComponent.DynamicFormDialog.fields.acteId")),c(2),T("ngModel",i.recuperedActe),g("value",i.recuperedActe),c(3),O("",f(188,283,"HorseComponent.DynamicFormDialog.fields.documentType"),": "),c(2),g("ngIf",i.recuperedtypeActeId===1),c(),g("ngIf",i.recuperedtypeActeId===2),c(),T("ngModel",i.recuperedtypeActeId),g("value",i.recuperedtypeActeId),c(),g("ngIf",i.recuperedtypeActeId===1),c(),g("ngIf",i.recuperedtypeActeId===2),c(),g("label",f(195,285,"HorseComponent.DynamicFormDialog.buttons.submit")),c(2),_e(se(351,qu)),T("visible",i.displayAddChevalActeDialog),g("header",f(197,287,"HorseComponent.AddDocumentDialog.header")),c(7),x(f(204,289,"HorseComponent.AddDocumentDialog.fields.horses")),c(2),T("ngModel",i.newActe.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(206,291,"HorseComponent.AddDocumentDialog.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(4),x(f(210,293,"HorseComponent.AddDocumentDialog.fields.notes")),c(2),T("ngModel",i.newActe.notes),g("placeholder",f(212,295,"HorseComponent.AddDocumentDialog.placeholders.enter_notes")),c(4),x(f(216,297,"HorseComponent.AddDocumentDialog.fields.attachments")),c(5),x(f(221,299,"HorseComponent.AddDocumentDialog.fields.contacts")),c(2),T("ngModel",i.newActe.contactIds),g("options",i.contactOptions)("placeholder",f(223,301,"HorseComponent.AddDocumentDialog.placeholders.select_contacts")),c(4),x(f(227,303,"HorseComponent.AddDocumentDialog.fields.document_type")),c(2),T("ngModel",i.newActe.typeActeId),g("options",i.typeActeOptions)("placeholder",f(229,305,"HorseComponent.AddDocumentDialog.placeholders.select_document_type")),c(2),g("ngIf",i.newActe.typeActeId===1),c(),g("ngIf",i.newActe.typeActeId===2),c(2),g("label",f(234,307,"HorseComponent.AddDocumentDialog.buttons.add"))("disabled",o.invalid),c(2),_e(se(352,qu)),T("visible",i.displayEmailDialog),g("header",f(236,309,"ActeComponent.EmailDialog.header"))("modal",!0)("draggable",!1)("resizable",!1),c(5),x(f(241,311,"ActeComponent.EmailDialog.fields.recipients")),c(2),T("ngModel",i.emailRecipients),g("placeholder",f(243,313,"ActeComponent.EmailDialog.placeholders.recipients")),c(3),x(i.emailRecipientsError),c(3),x(f(249,315,"ActeComponent.EmailDialog.fields.subject")),c(2),T("ngModel",i.emailSubject),g("placeholder",f(251,317,"ActeComponent.EmailDialog.placeholders.subject")),c(3),_e(se(353,qu)),T("visible",i.displayEditActeDialog),g("header",ni(254,319,"ActeComponent.EditDialog.header",Ae(354,O3,i.acteToEdit.id)))("modal",!0)("draggable",!1)("resizable",!1),c(7),x(f(261,322,"HorseComponent.AddDocumentDialog.fields.horses")),c(2),T("ngModel",i.acteToEdit.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(263,324,"HorseComponent.AddDocumentDialog.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(4),x(f(267,326,"HorseComponent.AddDocumentDialog.fields.document_type")),c(2),T("ngModel",i.acteToEdit.typeActeId),g("options",i.typeActeOptions)("disabled",!0)("placeholder",f(269,328,"HorseComponent.AddDocumentDialog.placeholders.select_document_type")),c(4),x(f(273,330,"HorseComponent.AddDocumentDialog.fields.notes")),c(2),T("ngModel",i.acteToEdit.notes),g("placeholder",f(275,332,"HorseComponent.AddDocumentDialog.placeholders.enter_notes")),c(5),x(f(280,334,"HorseComponent.AddDocumentDialog.fields.attachments")),c(3),g("ngForOf",i.getAttachmentFilesedit(i.acteToEdit)),c(4),x(f(287,336,"HorseComponent.AddDocumentDialog.fields.contacts")),c(2),T("ngModel",i.acteToEdit.contactIds),g("options",i.contactOptions)("placeholder",f(289,338,"HorseComponent.AddDocumentDialog.placeholders.select_contacts")),c(4),x(f(293,340,"HorseComponent.AddDocumentDialog.fields.document_type")),c(3),x(i.getDocumentTypeText(i.acteToEdit.typeActeId)),c(),g("ngIf",i.acteToEdit.typeActeId===1&&i.analyseToEdit),c(),g("ngIf",i.acteToEdit.typeActeId===2&&i.planningToEdit),c(2),g("label",f(300,342,"ActeComponent.EditDialog.buttons.edit"))("disabled",s.invalid)}},dependencies:[pe,Gi,ge,LS,he,ds,Sa,$t,Ve,Ke,an,St,Yi,Ki,tt,nt,Pe,qe,Si,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,Ri,ft,ci,mt,kt,gt,Kt,rt,ht,wt,Li,bt,Pi,Ct,Xi],styles:['[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};function Qz(n,e){if(n&1){let t=W();d(0,"div",25)(1,"div",26),v(2),h(3,"translate"),u(),d(4,"div",10)(5,"div",11)(6,"label",27),v(7),h(8,"translate"),u(),d(9,"input",28),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newAnalyseSanitaire.typeAnalyse,r)||(a.newAnalyseSanitaire.typeAnalyse=r),b(r)}),u()(),d(10,"div",11)(11,"label",29),v(12),h(13,"translate"),u(),d(14,"input",30),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newAnalyseSanitaire.resultat,r)||(a.newAnalyseSanitaire.resultat=r),b(r)}),u()()(),d(15,"div",31)(16,"label",32),v(17),h(18,"translate"),u(),d(19,"p-calendar",33),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newAnalyseSanitaire.date_analyse,r)||(a.newAnalyseSanitaire.date_analyse=r),b(r)}),u()()()}if(n&2){let t=w(2);c(2),O(" ",f(3,8,"HorseComponent.DynamicFormDialog.documentTypes.healthAnalysis")," "),c(5),x(f(8,10,"HorseComponent.DynamicFormDialog.fields.analysisType")),c(2),T("ngModel",t.newAnalyseSanitaire.typeAnalyse),c(3),x(f(13,12,"HorseComponent.DynamicFormDialog.fields.result")),c(2),T("ngModel",t.newAnalyseSanitaire.resultat),c(3),x(f(18,14,"HorseComponent.DynamicFormDialog.fields.analysisDate")),c(2),T("ngModel",t.newAnalyseSanitaire.date_analyse),g("showIcon",!0)}}function Gz(n,e){if(n&1){let t=W();d(0,"div",25)(1,"div",26),v(2),h(3,"translate"),u(),d(4,"div",10)(5,"div",11)(6,"label",34),v(7),h(8,"translate"),u(),d(9,"input",35),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newPlanning.typeVue,r)||(a.newPlanning.typeVue=r),b(r)}),u()(),d(10,"div",11)(11,"label",36),v(12),h(13,"translate"),u(),d(14,"input",37),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newPlanning.filtres,r)||(a.newPlanning.filtres=r),b(r)}),u()()(),d(15,"div",38)(16,"div",11)(17,"label",39),v(18),h(19,"translate"),u(),d(20,"p-calendar",40),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newPlanning.date_debut,r)||(a.newPlanning.date_debut=r),b(r)}),u()(),d(21,"div",11)(22,"label",41),v(23),h(24,"translate"),u(),d(25,"p-calendar",42),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.newPlanning.date_fin,r)||(a.newPlanning.date_fin=r),b(r)}),u()()()()}if(n&2){let t=w(2);c(2),O(" ",f(3,11,"HorseComponent.DynamicFormDialog.documentTypes.planning")," "),c(5),x(f(8,13,"HorseComponent.DynamicFormDialog.fields.viewType")),c(2),T("ngModel",t.newPlanning.typeVue),c(3),x(f(13,15,"HorseComponent.DynamicFormDialog.fields.filters")),c(2),T("ngModel",t.newPlanning.filtres),c(4),x(f(19,17,"HorseComponent.DynamicFormDialog.fields.startDate")),c(2),T("ngModel",t.newPlanning.date_debut),g("showIcon",!0),c(3),x(f(24,19,"HorseComponent.DynamicFormDialog.fields.endDate")),c(2),T("ngModel",t.newPlanning.date_fin),g("showIcon",!0)}}function Yz(n,e){if(n&1){let t=W();d(0,"div",5)(1,"form",6,0),L("ngSubmit",function(){y(t);let r=Q(2),a=w();return b(a.addChevalActe(r))}),d(3,"div",7)(4,"div",8)(5,"div",9),v(6),h(7,"translate"),u(),d(8,"div",10)(9,"div",11)(10,"label",12),v(11),h(12,"translate"),u(),d(13,"p-dropdown",13),h(14,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newActe.typeActeId,r)||(a.newActe.typeActeId=r),b(r)}),u()()(),d(15,"div",11)(16,"label",14),v(17),h(18,"translate"),u(),d(19,"p-multiSelect",15),h(20,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newActe.numerosSIRE,r)||(a.newActe.numerosSIRE=r),b(r)}),u()(),d(21,"div",11)(22,"label",16),v(23),h(24,"translate"),u(),d(25,"p-multiSelect",17),h(26,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newActe.contactIds,r)||(a.newActe.contactIds=r),b(r)}),u()(),d(27,"div",11)(28,"label",18),v(29),h(30,"translate"),u(),d(31,"textarea",19),h(32,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.newActe.notes,r)||(a.newActe.notes=r),b(r)}),u()(),d(33,"div",11)(34,"label",20),v(35),h(36,"translate"),u(),d(37,"input",21,1),L("change",function(r){y(t);let a=w();return b(a.onFileSelected(r))}),u()(),R(39,Qz,20,16,"div",22)(40,Gz,26,21,"div",22),d(41,"div",23),P(42,"button",24),h(43,"translate"),u()()()()()}if(n&2){let t=Q(2),i=w();c(6),x(f(7,24,"HorseComponent.AddDocumentDialog.header")),c(5),x(f(12,26,"HorseComponent.AddDocumentDialog.fields.document_type")),c(2),T("ngModel",i.newActe.typeActeId),g("options",i.typeActeOptions)("placeholder",f(14,28,"HorseComponent.AddDocumentDialog.placeholders.select_document_type")),c(4),x(f(18,30,"HorseComponent.AddDocumentDialog.fields.horses")),c(2),T("ngModel",i.newActe.numerosSIRE),g("options",i.chevauxOptions)("placeholder",f(20,32,"HorseComponent.AddDocumentDialog.placeholders.select_horses"))("virtualScroll",!0)("virtualScrollItemSize",15)("maxSelectedLabels",3),c(4),x(f(24,34,"HorseComponent.AddDocumentDialog.fields.contacts")),c(2),T("ngModel",i.newActe.contactIds),g("options",i.contactOptions)("placeholder",f(26,36,"HorseComponent.AddDocumentDialog.placeholders.select_contacts")),c(4),x(f(30,38,"HorseComponent.AddDocumentDialog.fields.notes")),c(2),T("ngModel",i.newActe.notes),g("placeholder",f(32,40,"HorseComponent.AddDocumentDialog.placeholders.enter_notes")),c(4),x(f(36,42,"HorseComponent.AddDocumentDialog.fields.attachments")),c(4),g("ngIf",i.newActe.typeActeId===1),c(),g("ngIf",i.newActe.typeActeId===2),c(2),g("label",f(43,44,"HorseComponent.AddDocumentDialog.buttons.add"))("disabled",t.invalid)}}function Kz(n,e){n&1&&(d(0,"div",43)(1,"div",44)(2,"div",44)(3,"div",45)(4,"span",46),v(5,"403"),u(),d(6,"h1",47),v(7),h(8,"translate"),u(),d(9,"div",48),v(10),h(11,"translate"),u(),d(12,"a",49),P(13,"i",50),v(14),h(15,"translate"),u()()()()()),n&2&&(c(7),O(" ",f(8,3,"error.forbidden.title")," "),c(3),O(" ",f(11,5,"error.forbidden.message")," "),c(4),O(" ",f(15,7,"error.forbidden.return_home")," "))}var m0=class n{constructor(e,t,i,r,a,o,s,l,p,m,_){this.translate=e;this.messageService=t;this.confirmationService=i;this.entiteService=r;this.categorieService=a;this.authService=o;this.acteService=s;this.planningService=l;this.AnalysesanitaireService=p;this.contactService=m;this.chevalService=_;this.entiteIdlogin=this.authService.getEntiteId(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}categories=[];newCategorie=new en;totalcategories=null;entiteIdlogin=null;entiteLogin=null;loading=!0;souscategoriesOptions=[];parentOptions=[];entite=[];entiteOptions=[];contactOptions=[];contact=[];chevauxOptions=[];chevaux=[];chevauxnotarchived=[];typeActeOptions=[{label:"Health Analysis",value:1},{label:"Planning",value:2}];isAdmin=!1;currentLanguage="en";updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.loadEntite(),this.loadCategories(),this.loadContact(),this.loadChevauxNotArchived(),this.entiteIdlogin=this.authService.getEntiteId(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin)}onFileSelected(e){this.selectedFiles=e.target.files}loadChevauxNotArchived(){this.loading=!0,this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.loading=!1,this.updatechevauxOptions()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}updatechevauxOptions(){this.chevauxnotarchived.forEach(e=>{this.chevauxOptions.push({label:e.nom,value:e.numeroSIRE})})}loadEntite(){this.loading=!0,this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details,this.entiteOptions=this.entite.map(t=>({label:t.nom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}loadCategories(){this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{this.categories=e.details,this.totalcategories=e.details.length},error:e=>{console.error("Failed to load categories:",e)}})}loadContact(){this.loading=!0,this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{console.log(e.details),this.contact=e.details,this.contactOptions=this.contact.map(t=>({label:t.nom+" "+t.prenom,value:t.id})),this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des cat\xE9gories",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des cat\xE9gories."})}})}selectedChevalForActe=null;newActe={id:0,date_ajout:new Date,notes:"",piecesJointes:"",piecesJointesacte:[],typeActeId:0,entiteId:0,contactIds:[],numerosSIRE:[]};selectedFiles=null;recuperedActe=null;recuperedtypeActeId=null;newAnalyseSanitaire={resultat:"",typeAnalyse:"",date_analyse:new Date};newPlanning={typeVue:"",filtres:"",date_ajout:new Date,date_debut:new Date,date_fin:new Date,entiteid:""};displayDynamicFormDialog=!1;addChevalActe(e){if(e.valid&&this.selectedFiles){let t=new FormData;for(let i=0;i<this.selectedFiles.length;i++)t.append("PiecesJointesacte",this.selectedFiles[i]);t.append("Id",(this.newActe.id||0).toString()),t.append("Date_ajout",(this.newActe.date_ajout||new Date).toISOString()),t.append("Notes",this.newActe.notes||""),t.append("PiecesJointes",this.newActe.piecesJointes||""),t.append("TypeActeId",(this.newActe.typeActeId||0).toString()),t.append("EntiteId",(this.entiteIdlogin||0).toString()),this.newActe.contactIds&&t.append("ContactIds",this.newActe.contactIds.join(",")),this.newActe.numerosSIRE&&t.append("NumerosSIRE",this.newActe.numerosSIRE.join(","));for(let[i,r]of t.entries())console.log(i,r);this.acteService.createActe(t).subscribe({next:i=>{let r=i.details.id;this.recuperedActe=i.details.id;let a=i.details.typeActeId;this.recuperedtypeActeId=i.details.typeActeId,console.log("acte",i.details),console.log(r,a),console.log("this.recuperedtypeActeId",this.recuperedtypeActeId),console.log(r,a),a===1?(this.newAnalyseSanitaire.acteId=r,this.newAnalyseSanitaire.entiteid=this.entiteIdlogin,console.log("Analyses Sanitaires:",this.newAnalyseSanitaire),this.AnalysesanitaireService.createAnalyse(this.newAnalyseSanitaire).subscribe({next:o=>{console.log("Analyse cr\xE9\xE9 avec succ\xE8s:",o),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Acte avec Analyse sanitaire ajout\xE9 avec succ\xE8s."})},error:o=>{console.error("Erreur lors de la cr\xE9ation du Analyse:",o),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la cr\xE9ation du Analyse."})}})):a===2&&(console.log("Planning:",this.newPlanning),this.newPlanning.acteId=r,this.newPlanning.entiteid=this.entiteIdlogin,this.planningService.createPlanning(this.newPlanning).subscribe({next:o=>{console.log("Planning cr\xE9\xE9 avec succ\xE8s:",o),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Acte  avec Planning ajout\xE9 avec succ\xE8s."})},error:o=>{console.error("Erreur lors de la cr\xE9ation du planning:",o),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la cr\xE9ation du planning."})}})),this.resetForm(),this.selectedFiles=null,e.resetForm(),this.displayDynamicFormDialog=!0},error:i=>{let r="Erreur lors de l'ajout de l'acte.";i.error&&i.error.message?r=i.error.message:i.message&&(r=i.message),console.error("Erreur d\xE9taill\xE9e :",i),this.messageService.add({severity:"error",summary:"Erreur",detail:r})}})}}addActe(e){if(e.valid&&this.selectedFiles){let t=new FormData;for(let i=0;i<this.selectedFiles.length;i++)t.append("PiecesJointesacte",this.selectedFiles[i]);t.append("Id",(this.newActe.id||0).toString()),t.append("Date_ajout",(this.newActe.date_ajout||new Date).toISOString()),t.append("Notes",this.newActe.notes||""),t.append("PiecesJointes",this.newActe.piecesJointes||""),t.append("TypeActeId",(this.newActe.typeActeId||0).toString()),t.append("EntiteId",(this.entiteIdlogin||0).toString()),this.newActe.contactIds&&t.append("ContactIds",this.newActe.contactIds.join(",")),this.newActe.numerosSIRE&&t.append("NumerosSIRE",this.newActe.numerosSIRE.join(","));for(let[i,r]of t.entries())console.log(i,r);this.acteService.createActe(t).subscribe({next:i=>{let r=i.details.id,a=r;this.recuperedActe=i.details.id;let o=i.details.typeActeId;this.recuperedtypeActeId=i.details.typeActeId,console.log("this.recuperedtypeActeId",this.recuperedtypeActeId),console.log(r,o),o===1?(this.newAnalyseSanitaire.acteId=r,console.log("Analyses Sanitaires:",this.newAnalyseSanitaire),this.AnalysesanitaireService.createAnalyse(this.newAnalyseSanitaire).subscribe({next:s=>{console.log("Analyse cr\xE9\xE9 avec succ\xE8s:",s),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Analyse ajout\xE9 avec succ\xE8s."})},error:s=>{console.error("Erreur lors de la cr\xE9ation du Analyse:",s),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la cr\xE9ation du Analyse."})}})):o===2&&(console.log("Planning:",this.newPlanning),this.newPlanning.acteId=r,this.newPlanning.entiteid=this.entiteIdlogin,this.planningService.createPlanning(this.newPlanning).subscribe({next:s=>{console.log("Planning cr\xE9\xE9 avec succ\xE8s:",s),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Planning ajout\xE9 avec succ\xE8s."})},error:s=>{console.error("Erreur lors de la cr\xE9ation du planning:",s),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la cr\xE9ation du planning."})}})),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Acte ajout\xE9 avec succ\xE8s."}),this.resetForm(),this.displayDynamicFormDialog=!0},error:i=>{let r="Erreur lors de l'ajout de l'acte.";i.error&&i.error.message?r=i.error.message:i.message&&(r=i.message),console.error("Erreur d\xE9taill\xE9e :",i),this.messageService.add({severity:"error",summary:"Erreur",detail:r})}})}}resetForm(){this.newActe={id:0,date_ajout:new Date,notes:"",piecesJointes:"",piecesJointesacte:[],typeActeId:0,entiteId:0,contactIds:[],numerosSIRE:[]},this.selectedFiles=null}submitDynamicForm(){console.log(this.recuperedtypeActeId,"recupactetypeid"),this.recuperedtypeActeId===1?(this.newAnalyseSanitaire.acteId=this.recuperedActe,console.log("Analyses Sanitaires:",this.newAnalyseSanitaire),this.AnalysesanitaireService.createAnalyse(this.newAnalyseSanitaire).subscribe({next:e=>{console.log("Analyse cr\xE9\xE9 avec succ\xE8s:",e),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Analyse ajout\xE9 avec succ\xE8s."})},error:e=>{console.error("Erreur lors de la cr\xE9ation du Analyse:",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la cr\xE9ation du Analyse."})}})):this.recuperedtypeActeId===2&&(console.log("Planning:",this.newPlanning),this.newPlanning.acteId=this.recuperedActe,this.newPlanning.entiteid=this.entiteIdlogin,this.planningService.createPlanning(this.newPlanning).subscribe({next:e=>{console.log("Planning cr\xE9\xE9 avec succ\xE8s:",e),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Planning ajout\xE9 avec succ\xE8s."})},error:e=>{console.error("Erreur lors de la cr\xE9ation du planning:",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la cr\xE9ation du planning."})}})),this.displayDynamicFormDialog=!1,this.newAnalyseSanitaire={resultat:"",typeAnalyse:"",date_analyse:new Date},this.newPlanning={typeVue:"",filtres:"",date_debut:new Date,date_fin:new Date,entiteid:""}}static \u0275fac=function(t){return new(t||n)(B(Fe),B(ne),B(ce),B(oe),B(be),B(ze),B(it),B(vt),B(_t),B(Ie),B(me))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t])],decls:3,vars:2,consts:[["acteForm","ngForm"],["fileInput",""],["position","top-right"],["class","p-fluid",4,"ngIf"],["class","flex items-center justify-center min-h-screen overflow-hidden",4,"ngIf"],[1,"p-fluid"],[3,"ngSubmit"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-col","gap-2","w-full"],["for","typeActeId"],["optionLabel","label","optionValue","value","name","typeActeId","required","","styleClass","w-full",3,"ngModelChange","ngModel","options","placeholder"],["for","numeroSIREs"],["optionLabel","label","optionValue","value","name","numeroSIREs","required","","styleClass","w-full",3,"ngModelChange","ngModel","options","placeholder","virtualScroll","virtualScrollItemSize","maxSelectedLabels"],["for","contactIds"],["optionLabel","label","optionValue","value","name","contactIds","required","","styleClass","w-full",3,"ngModelChange","ngModel","options","placeholder"],["for","notes"],["name","notes","rows","5","pInputTextarea","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","piecesJointes"],["type","file","name","piecesJointes","multiple","",3,"change"],["class","mt-4",4,"ngIf"],[1,"flex","justify-content-end","mt-4"],["pButton","","type","submit","icon","pi pi-check",1,"p-button-success",3,"label","disabled"],[1,"mt-4"],[1,"font-semibold","text-lg","mb-4"],["for","typeAnalyse"],["name","typeAnalyse","type","text","required","","pInputText","",1,"w-full",3,"ngModelChange","ngModel"],["for","resultat"],["name","resultat","type","text","required","","pInputText","",1,"w-full",3,"ngModelChange","ngModel"],[1,"flex","flex-col","gap-2","w-full","mt-4"],["for","date_analyse"],["name","date_analyse","dateFormat","dd/mm/yy","required","","styleClass","w-full",3,"ngModelChange","ngModel","showIcon"],["for","typeVue"],["name","typeVue","type","text","required","","pInputText","",1,"w-full",3,"ngModelChange","ngModel"],["for","filtres"],["name","filtres","type","text","required","","pInputText","",1,"w-full",3,"ngModelChange","ngModel"],[1,"flex","flex-col","md:flex-row","gap-6","mt-4"],["for","date_debut"],["name","date_debut","dateFormat","dd/mm/yy","required","","styleClass","w-full",3,"ngModelChange","ngModel","showIcon"],["for","date_fin"],["name","date_fin","dateFormat","dd/mm/yy","required","","styleClass","w-full",3,"ngModelChange","ngModel","showIcon"],[1,"flex","items-center","justify-center","min-h-screen","overflow-hidden"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, color-mix(in srgb, var(--primary-color), transparent 60%) 10%, var(--surface-ground) 30%)"],[1,"w-full","bg-surface-0","dark:bg-surface-900","py-20","px-8","sm:px-20","flex","flex-col","items-center",2,"border-radius","53px"],[1,"text-primary","font-bold","text-3xl"],[1,"text-surface-900","dark:text-surface-0","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-surface-600","dark:text-surface-200","mb-8"],["routerLink","/",1,"p-button","p-component"],[1,"pi","pi-arrow-left","mr-2"]],template:function(t,i){t&1&&(P(0,"p-toast",2),R(1,Yz,44,46,"div",3)(2,Kz,16,9,"div",4)),t&2&&(c(),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin))},dependencies:[pe,ge,St,Ve,Ke,tt,nt,Pe,qe,We,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,ft,ci,mt,kt,gt,Kt,rt,ht,wt,bt,Ct,Xt,on,sn,ls],encapsulation:2})};function Gu(n){return n+.5|0}var Cs=(n,e,t)=>Math.max(Math.min(n,t),e);function $u(n){return Cs(Gu(n*2.55),0,255)}function xs(n){return Cs(Gu(n*255),0,255)}function Vo(n){return Cs(Gu(n/2.55)/100,0,1)}function N3(n){return Cs(Gu(n*100),0,100)}var ia={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fy=[..."0123456789ABCDEF"],Xz=n=>Fy[n&15],Zz=n=>Fy[(n&240)>>4]+Fy[n&15],h0=n=>(n&240)>>4===(n&15),Jz=n=>h0(n.r)&&h0(n.g)&&h0(n.b)&&h0(n.a);function eq(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ia[n[1]]*17,g:255&ia[n[2]]*17,b:255&ia[n[3]]*17,a:e===5?ia[n[4]]*17:255}:(e===7||e===9)&&(t={r:ia[n[1]]<<4|ia[n[2]],g:ia[n[3]]<<4|ia[n[4]],b:ia[n[5]]<<4|ia[n[6]],a:e===9?ia[n[7]]<<4|ia[n[8]]:255})),t}var tq=(n,e)=>n<255?e(n):"";function iq(n){var e=Jz(n)?Xz:Zz;return n?"#"+e(n.r)+e(n.g)+e(n.b)+tq(n.a,e):void 0}var nq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function U3(n,e,t){let i=e*Math.min(t,1-t),r=(a,o=(a+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function rq(n,e,t){let i=(r,a=(r+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function aq(n,e,t){let i=U3(n,1,.5),r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function oq(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function Oy(n){let t=n.r/255,i=n.g/255,r=n.b/255,a=Math.max(t,i,r),o=Math.min(t,i,r),s=(a+o)/2,l,p,m;return a!==o&&(m=a-o,p=s>.5?m/(2-a-o):m/(a+o),l=oq(t,i,r,m,a),l=l*60+.5),[l|0,p||0,s]}function Ny(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(xs)}function Vy(n,e,t){return Ny(U3,n,e,t)}function sq(n,e,t){return Ny(aq,n,e,t)}function lq(n,e,t){return Ny(rq,n,e,t)}function j3(n){return(n%360+360)%360}function cq(n){let e=nq.exec(n),t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?$u(+e[5]):xs(+e[5]));let r=j3(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=sq(r,a,o):e[1]==="hsv"?i=lq(r,a,o):i=Vy(r,a,o),{r:i[0],g:i[1],b:i[2],a:t}}function dq(n,e){var t=Oy(n);t[0]=j3(t[0]+e),t=Vy(t),n.r=t[0],n.g=t[1],n.b=t[2]}function uq(n){if(!n)return;let e=Oy(n),t=e[0],i=N3(e[1]),r=N3(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Vo(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}var V3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},H3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pq(){let n={},e=Object.keys(H3),t=Object.keys(V3),i,r,a,o,s;for(i=0;i<e.length;i++){for(o=s=e[i],r=0;r<t.length;r++)a=t[r],s=s.replace(a,V3[a]);a=parseInt(H3[o],16),n[s]=[a>>16&255,a>>8&255,a&255]}return n}var f0;function mq(n){f0||(f0=pq(),f0.transparent=[0,0,0,0]);let e=f0[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var hq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fq(n){let e=hq.exec(n),t=255,i,r,a;if(e){if(e[7]!==i){let o=+e[7];t=e[8]?$u(o):Cs(o*255,0,255)}return i=+e[1],r=+e[3],a=+e[5],i=255&(e[2]?$u(i):Cs(i,0,255)),r=255&(e[4]?$u(r):Cs(r,0,255)),a=255&(e[6]?$u(a):Cs(a,0,255)),{r:i,g:r,b:a,a:t}}}function gq(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Vo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var By=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Rc=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function vq(n,e,t){let i=Rc(Vo(n.r)),r=Rc(Vo(n.g)),a=Rc(Vo(n.b));return{r:xs(By(i+t*(Rc(Vo(e.r))-i))),g:xs(By(r+t*(Rc(Vo(e.g))-r))),b:xs(By(a+t*(Rc(Vo(e.b))-a))),a:n.a+t*(e.a-n.a)}}function g0(n,e,t){if(n){let i=Oy(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Vy(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function z3(n,e){return n&&Object.assign(e||{},n)}function W3(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=xs(n[3]))):(e=z3(n,{r:0,g:0,b:0,a:1}),e.a=xs(e.a)),e}function _q(n){return n.charAt(0)==="r"?fq(n):cq(n)}var Qu=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,i;t==="object"?i=W3(e):t==="string"&&(i=eq(e)||mq(e)||_q(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=z3(this._rgb);return e&&(e.a=Vo(e.a)),e}set rgb(e){this._rgb=W3(e)}rgbString(){return this._valid?gq(this._rgb):void 0}hexString(){return this._valid?iq(this._rgb):void 0}hslString(){return this._valid?uq(this._rgb):void 0}mix(e,t){if(e){let i=this.rgb,r=e.rgb,a,o=t===a?.5:t,s=2*o-1,l=i.a-r.a,p=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;a=1-p,i.r=255&p*i.r+a*r.r+.5,i.g=255&p*i.g+a*r.g+.5,i.b=255&p*i.b+a*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=vq(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=xs(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=Gu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return g0(this._rgb,2,e),this}darken(e){return g0(this._rgb,2,-e),this}saturate(e){return g0(this._rgb,1,e),this}desaturate(e){return g0(this._rgb,1,-e),this}rotate(e){return dq(this._rgb,e),this}};function so(){}var tT=(()=>{let n=0;return()=>n++})();function ei(n){return n===null||typeof n>"u"}function Vi(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function zt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function tn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Er(n,e){return tn(n)?n:e}function Lt(n,e){return typeof n>"u"?e:n}var iT=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,jy=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ai(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function gi(n,e,t,i){let r,a,o;if(Vi(n))if(a=n.length,i)for(r=a-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<a;r++)e.call(t,n[r],r);else if(zt(n))for(o=Object.keys(n),a=o.length,r=0;r<a;r++)e.call(t,n[o[r]],o[r])}function Xu(n,e){let t,i,r,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],a=e[t],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function b0(n){if(Vi(n))return n.map(b0);if(zt(n)){let e=Object.create(null),t=Object.keys(n),i=t.length,r=0;for(;r<i;++r)e[t[r]]=b0(n[t[r]]);return e}return n}function nT(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function yq(n,e,t,i){if(!nT(n))return;let r=e[n],a=t[n];zt(r)&&zt(a)?Fc(r,a,i):e[n]=b0(a)}function Fc(n,e,t){let i=Vi(e)?e:[e],r=i.length;if(!zt(n))return n;t=t||{};let a=t.merger||yq,o;for(let s=0;s<r;++s){if(o=i[s],!zt(o))continue;let l=Object.keys(o);for(let p=0,m=l.length;p<m;++p)a(l[p],n,o,t)}return n}function Nc(n,e){return Fc(n,e,{merger:bq})}function bq(n,e,t){if(!nT(n))return;let i=e[n],r=t[n];zt(i)&&zt(r)?Nc(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=b0(r))}var q3={"":n=>n,x:n=>n.x,y:n=>n.y};function wq(n){let e=n.split("."),t=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Sq(n){let e=wq(n);return t=>{for(let i of e){if(i==="")break;t=t&&t[i]}return t}}function Uo(n,e){return(q3[e]||(q3[e]=Sq(e)))(n)}function x0(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Vc=n=>typeof n<"u",Ho=n=>typeof n=="function",zy=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function rT(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Hi=Math.PI,Wi=2*Hi,Cq=Wi+Hi,w0=Number.POSITIVE_INFINITY,xq=Hi/180,cn=Hi/2,wl=Hi/4,$3=Hi*2/3,Wo=Math.log10,Ma=Math.sign;function Hc(n,e,t){return Math.abs(n-e)<t}function qy(n){let e=Math.round(n);n=Hc(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(Wo(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function aT(n){let e=[],t=Math.sqrt(n),i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,a)=>r-a).pop(),e}function xl(n){return!isNaN(parseFloat(n))&&isFinite(n)}function oT(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function $y(n,e,t){let i,r,a;for(i=0,r=n.length;i<r;i++)a=n[i][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function na(n){return n*(Hi/180)}function E0(n){return n*(180/Hi)}function Qy(n){if(!tn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Gy(n,e){let t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i),a=Math.atan2(i,t);return a<-.5*Hi&&(a+=Wi),{angle:a,distance:r}}function S0(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Eq(n,e){return(n-e+Cq)%Wi-Hi}function xr(n){return(n%Wi+Wi)%Wi}function Wc(n,e,t,i){let r=xr(n),a=xr(e),o=xr(t),s=xr(a-r),l=xr(o-r),p=xr(r-a),m=xr(r-o);return r===a||r===o||i&&a===o||s>l&&p<m}function En(n,e,t){return Math.max(e,Math.min(t,n))}function sT(n){return En(n,-32768,32767)}function lo(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function I0(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,t(a)?r=a:i=a;return{lo:r,hi:i}}var ao=(n,e,t,i)=>I0(n,t,i?r=>{let a=n[r][e];return a<t||a===t&&n[r+1][e]===t}:r=>n[r][e]<t),lT=(n,e,t)=>I0(n,t,i=>n[i][e]>=t);function cT(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}var dT=["push","pop","shift","splice","unshift"];function uT(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),dT.forEach(t=>{let i="_onData"+x0(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){let o=r.apply(this,a);return n._chartjs.listeners.forEach(s=>{typeof s[i]=="function"&&s[i](...a)}),o}})})}function Yy(n,e){let t=n._chartjs;if(!t)return;let i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(dT.forEach(a=>{delete n[a]}),delete n._chartjs)}function Ky(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var Xy=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Zy(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,Xy.call(window,()=>{i=!1,n.apply(e,t)}))}}function pT(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}var T0=n=>n==="start"?"left":n==="end"?"right":"center",Vn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,mT=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function Jy(n,e,t){let i=e.length,r=0,a=i;if(n._sorted){let{iScale:o,_parsed:s}=n,l=o.axis,{min:p,max:m,minDefined:_,maxDefined:S}=o.getUserBounds();_&&(r=En(Math.min(ao(s,l,p).lo,t?i:ao(e,l,o.getPixelForValue(p)).lo),0,i-1)),S?a=En(Math.max(ao(s,o.axis,m,!0).hi+1,t?0:ao(e,l,o.getPixelForValue(m),!0).hi+1),r,i)-r:a=i-r}return{start:r,count:a}}function eb(n){let{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;let a=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),a}var v0=n=>n===0||n===1,Q3=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Wi/t)),G3=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Wi/t)+1,Bc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*cn)+1,easeOutSine:n=>Math.sin(n*cn),easeInOutSine:n=>-.5*(Math.cos(Hi*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>v0(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>v0(n)?n:Q3(n,.075,.3),easeOutElastic:n=>v0(n)?n:G3(n,.075,.3),easeInOutElastic(n){return v0(n)?n:n<.5?.5*Q3(n*2,.1125,.45):.5+.5*G3(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Bc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Bc.easeInBounce(n*2)*.5:Bc.easeOutBounce(n*2-1)*.5+.5};function tb(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ib(n){return tb(n)?n:new Qu(n)}function Hy(n){return tb(n)?n:new Qu(n).saturate(.5).darken(.1).hexString()}var Iq=["x","y","borderWidth","radius","tension"],Tq=["color","borderColor","backgroundColor"];function Dq(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Tq},numbers:{type:"number",properties:Iq}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Aq(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Y3=new Map;function Mq(n,e){e=e||{};let t=n+JSON.stringify(e),i=Y3.get(t);return i||(i=new Intl.NumberFormat(n,e),Y3.set(t,i)),i}function Uc(n,e,t){return Mq(e,t).format(n)}var hT={values(n){return Vi(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let i=this.chart.options.locale,r,a=n;if(t.length>1){let p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),a=kq(n,t)}let o=Wo(Math.abs(a)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),Uc(n,i,l)},logarithmic(n,e,t){if(n===0)return"0";let i=t[e].significand||n/Math.pow(10,Math.floor(Wo(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?hT.numeric.call(this,n,e,t):""}};function kq(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Zu={formatters:hT};function Pq(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Is=Object.create(null),D0=Object.create(null);function Yu(n,e){if(!e)return n;let t=e.split(".");for(let i=0,r=t.length;i<r;++i){let a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function Wy(n,e,t){return typeof e=="string"?Fc(Yu(n,e),t):Fc(Yu(n,""),e)}var Uy=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Hy(r.backgroundColor),this.hoverBorderColor=(i,r)=>Hy(r.borderColor),this.hoverColor=(i,r)=>Hy(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Wy(this,e,t)}get(e){return Yu(this,e)}describe(e,t){return Wy(D0,e,t)}override(e,t){return Wy(Is,e,t)}route(e,t,i,r){let a=Yu(this,e),o=Yu(this,i),s="_"+t;Object.defineProperties(a,{[s]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[s],p=o[r];return zt(l)?Object.assign({},p,l):Lt(l,p)},set(l){this[s]=l}}})}apply(e){e.forEach(t=>t(this))}},nn=new Uy({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Dq,Aq,Pq]);function Lq(n){return!n||ei(n.size)||ei(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Ku(n,e,t,i,r){let a=e[r];return a||(a=e[r]=n.measureText(r).width,t.push(r)),a>i&&(i=a),i}function fT(n,e,t,i){i=i||{};let r=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},a=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0,s=t.length,l,p,m,_,S;for(l=0;l<s;l++)if(_=t[l],_!=null&&!Vi(_))o=Ku(n,r,a,o,_);else if(Vi(_))for(p=0,m=_.length;p<m;p++)S=_[p],S!=null&&!Vi(S)&&(o=Ku(n,r,a,o,S));n.restore();let C=a.length/2;if(C>t.length){for(l=0;l<C;l++)delete r[a[l]];a.splice(0,C)}return o}function Ts(n,e,t){let i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function nb(n,e){e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function A0(n,e,t,i){rb(n,e,t,i,null)}function rb(n,e,t,i,r){let a,o,s,l,p,m,_,S,C=e.pointStyle,E=e.rotation,I=e.radius,M=(E||0)*xq;if(C&&typeof C=="object"&&(a=C.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(M),n.drawImage(C,-C.width/2,-C.height/2,C.width,C.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),C){default:r?n.ellipse(t,i,r/2,I,0,0,Wi):n.arc(t,i,I,0,Wi),n.closePath();break;case"triangle":m=r?r/2:I,n.moveTo(t+Math.sin(M)*m,i-Math.cos(M)*I),M+=$3,n.lineTo(t+Math.sin(M)*m,i-Math.cos(M)*I),M+=$3,n.lineTo(t+Math.sin(M)*m,i-Math.cos(M)*I),n.closePath();break;case"rectRounded":p=I*.516,l=I-p,o=Math.cos(M+wl)*l,_=Math.cos(M+wl)*(r?r/2-p:l),s=Math.sin(M+wl)*l,S=Math.sin(M+wl)*(r?r/2-p:l),n.arc(t-_,i-s,p,M-Hi,M-cn),n.arc(t+S,i-o,p,M-cn,M),n.arc(t+_,i+s,p,M,M+cn),n.arc(t-S,i+o,p,M+cn,M+Hi),n.closePath();break;case"rect":if(!E){l=Math.SQRT1_2*I,m=r?r/2:l,n.rect(t-m,i-l,2*m,2*l);break}M+=wl;case"rectRot":_=Math.cos(M)*(r?r/2:I),o=Math.cos(M)*I,s=Math.sin(M)*I,S=Math.sin(M)*(r?r/2:I),n.moveTo(t-_,i-s),n.lineTo(t+S,i-o),n.lineTo(t+_,i+s),n.lineTo(t-S,i+o),n.closePath();break;case"crossRot":M+=wl;case"cross":_=Math.cos(M)*(r?r/2:I),o=Math.cos(M)*I,s=Math.sin(M)*I,S=Math.sin(M)*(r?r/2:I),n.moveTo(t-_,i-s),n.lineTo(t+_,i+s),n.moveTo(t+S,i-o),n.lineTo(t-S,i+o);break;case"star":_=Math.cos(M)*(r?r/2:I),o=Math.cos(M)*I,s=Math.sin(M)*I,S=Math.sin(M)*(r?r/2:I),n.moveTo(t-_,i-s),n.lineTo(t+_,i+s),n.moveTo(t+S,i-o),n.lineTo(t-S,i+o),M+=wl,_=Math.cos(M)*(r?r/2:I),o=Math.cos(M)*I,s=Math.sin(M)*I,S=Math.sin(M)*(r?r/2:I),n.moveTo(t-_,i-s),n.lineTo(t+_,i+s),n.moveTo(t+S,i-o),n.lineTo(t-S,i+o);break;case"line":o=r?r/2:Math.cos(M)*I,s=Math.sin(M)*I,n.moveTo(t-o,i-s),n.lineTo(t+o,i+s);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(M)*(r?r/2:I),i+Math.sin(M)*I);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function oo(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Ju(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function ep(n){n.restore()}function gT(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){let a=(e.x+t.x)/2;n.lineTo(a,e.y),n.lineTo(a,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function vT(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function Rq(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ei(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Bq(n,e,t,i,r){if(r.strikethrough||r.underline){let a=n.measureText(i),o=e-a.actualBoundingBoxLeft,s=e+a.actualBoundingBoxRight,l=t-a.actualBoundingBoxAscent,p=t+a.actualBoundingBoxDescent,m=r.strikethrough?(l+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,m),n.lineTo(s,m),n.stroke()}}function Fq(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ds(n,e,t,i,r,a={}){let o=Vi(e)?e:[e],s=a.strokeWidth>0&&a.strokeColor!=="",l,p;for(n.save(),n.font=r.string,Rq(n,a),l=0;l<o.length;++l)p=o[l],a.backdrop&&Fq(n,a.backdrop),s&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),ei(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(p,t,i,a.maxWidth)),n.fillText(p,t,i,a.maxWidth),Bq(n,t,i,p,a),i+=Number(r.lineHeight);n.restore()}function jc(n,e){let{x:t,y:i,w:r,h:a,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Hi,Hi,!0),n.lineTo(t,i+a-o.bottomLeft),n.arc(t+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,Hi,cn,!0),n.lineTo(t+r-o.bottomRight,i+a),n.arc(t+r-o.bottomRight,i+a-o.bottomRight,o.bottomRight,cn,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-cn,!0),n.lineTo(t+o.topLeft,i)}var Oq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Nq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Vq(n,e){let t=(""+n).match(Oq);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var Hq=n=>+n||0;function M0(n,e){let t={},i=zt(e),r=i?Object.keys(e):e,a=zt(n)?i?o=>Lt(n[o],n[e[o]]):o=>n[o]:()=>n;for(let o of r)t[o]=Hq(a(o));return t}function ab(n){return M0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function As(n){return M0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Hn(n){let e=ab(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function _n(n,e){n=n||{},e=e||nn.font;let t=Lt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Lt(n.style,e.style);i&&!(""+i).match(Nq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:Lt(n.family,e.family),lineHeight:Vq(Lt(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Lt(n.weight,e.weight),string:""};return r.string=Lq(r),r}function zc(n,e,t,i){let r=!0,a,o,s;for(a=0,o=n.length;a<o;++a)if(s=n[a],s!==void 0&&(e!==void 0&&typeof s=="function"&&(s=s(e),r=!1),t!==void 0&&Vi(s)&&(s=s[t%s.length],r=!1),s!==void 0))return i&&!r&&(i.cacheable=!1),s}function _T(n,e,t){let{min:i,max:r}=n,a=jy(e,(r-i)/2),o=(s,l)=>t&&s===0?0:s+l;return{min:o(i,-Math.abs(a)),max:o(r,a)}}function jo(n,e){return Object.assign(Object.create(n),e)}function k0(n,e=[""],t,i,r=()=>n[0]){let a=t||n;typeof i>"u"&&(i=wT("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:r,override:s=>k0([s,...n],e,a,i)};return new Proxy(o,{deleteProperty(s,l){return delete s[l],delete s._keys,delete n[0][l],!0},get(s,l){return yT(s,l,()=>Gq(l,e,n,s))},getOwnPropertyDescriptor(s,l){return Reflect.getOwnPropertyDescriptor(s._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(s,l){return X3(s).includes(l)},ownKeys(s){return X3(s)},set(s,l,p){let m=s._storage||(s._storage=r());return s[l]=m[l]=p,delete s._keys,!0}})}function Cl(n,e,t,i){let r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:ob(n,i),setContext:a=>Cl(n,a,t,i),override:a=>Cl(n.override(a),e,t,i)};return new Proxy(r,{deleteProperty(a,o){return delete a[o],delete n[o],!0},get(a,o,s){return yT(a,o,()=>Uq(a,o,s))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(a,o,s){return n[o]=s,delete a[o],!0}})}function ob(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Ho(t)?t:()=>t,isIndexable:Ho(i)?i:()=>i}}var Wq=(n,e)=>n?n+x0(e):e,sb=(n,e)=>zt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function yT(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];let i=t();return n[e]=i,i}function Uq(n,e,t){let{_proxy:i,_context:r,_subProxy:a,_descriptors:o}=n,s=i[e];return Ho(s)&&o.isScriptable(e)&&(s=jq(e,s,n,t)),Vi(s)&&s.length&&(s=zq(e,s,n,o.isIndexable)),sb(e,s)&&(s=Cl(s,r,a&&a[e],o)),s}function jq(n,e,t,i){let{_proxy:r,_context:a,_subProxy:o,_stack:s}=t;if(s.has(n))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+n);s.add(n);let l=e(a,o||i);return s.delete(n),sb(n,l)&&(l=lb(r._scopes,r,n,l)),l}function zq(n,e,t,i){let{_proxy:r,_context:a,_subProxy:o,_descriptors:s}=t;if(typeof a.index<"u"&&i(n))return e[a.index%e.length];if(zt(e[0])){let l=e,p=r._scopes.filter(m=>m!==l);e=[];for(let m of l){let _=lb(p,r,n,m);e.push(Cl(_,a,o&&o[n],s))}}return e}function bT(n,e,t){return Ho(n)?n(e,t):n}var qq=(n,e)=>n===!0?e:typeof n=="string"?Uo(e,n):void 0;function $q(n,e,t,i,r){for(let a of e){let o=qq(t,a);if(o){n.add(o);let s=bT(o._fallback,t,r);if(typeof s<"u"&&s!==t&&s!==i)return s}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function lb(n,e,t,i){let r=e._rootScopes,a=bT(e._fallback,t,i),o=[...n,...r],s=new Set;s.add(i);let l=K3(s,o,t,a||t,i);return l===null||typeof a<"u"&&a!==t&&(l=K3(s,o,a,l,i),l===null)?!1:k0(Array.from(s),[""],r,a,()=>Qq(e,t,i))}function K3(n,e,t,i,r){for(;t;)t=$q(n,e,t,i,r);return t}function Qq(n,e,t){let i=n._getTarget();e in i||(i[e]={});let r=i[e];return Vi(r)&&zt(t)?t:r||{}}function Gq(n,e,t,i){let r;for(let a of e)if(r=wT(Wq(a,n),t),typeof r<"u")return sb(n,r)?lb(t,i,n,r):r}function wT(n,e){for(let t of e){if(!t)continue;let i=t[n];if(typeof i<"u")return i}}function X3(n){let e=n._keys;return e||(e=n._keys=Yq(n._scopes)),e}function Yq(n){let e=new Set;for(let t of n)for(let i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function cb(n,e,t,i){let{iScale:r}=n,{key:a="r"}=this._parsing,o=new Array(i),s,l,p,m;for(s=0,l=i;s<l;++s)p=s+t,m=e[p],o[s]={r:r.parse(Uo(m,a),p)};return o}var Kq=Number.EPSILON||1e-14,Oc=(n,e)=>e<n.length&&!n[e].skip&&n[e],ST=n=>n==="x"?"y":"x";function Xq(n,e,t,i){let r=n.skip?e:n,a=e,o=t.skip?e:t,s=S0(a,r),l=S0(o,a),p=s/(s+l),m=l/(s+l);p=isNaN(p)?0:p,m=isNaN(m)?0:m;let _=i*p,S=i*m;return{previous:{x:a.x-_*(o.x-r.x),y:a.y-_*(o.y-r.y)},next:{x:a.x+S*(o.x-r.x),y:a.y+S*(o.y-r.y)}}}function Zq(n,e,t){let i=n.length,r,a,o,s,l,p=Oc(n,0);for(let m=0;m<i-1;++m)if(l=p,p=Oc(n,m+1),!(!l||!p)){if(Hc(e[m],0,Kq)){t[m]=t[m+1]=0;continue}r=t[m]/e[m],a=t[m+1]/e[m],s=Math.pow(r,2)+Math.pow(a,2),!(s<=9)&&(o=3/Math.sqrt(s),t[m]=r*o*e[m],t[m+1]=a*o*e[m])}}function Jq(n,e,t="x"){let i=ST(t),r=n.length,a,o,s,l=Oc(n,0);for(let p=0;p<r;++p){if(o=s,s=l,l=Oc(n,p+1),!s)continue;let m=s[t],_=s[i];o&&(a=(m-o[t])/3,s[`cp1${t}`]=m-a,s[`cp1${i}`]=_-a*e[p]),l&&(a=(l[t]-m)/3,s[`cp2${t}`]=m+a,s[`cp2${i}`]=_+a*e[p])}}function e$(n,e="x"){let t=ST(e),i=n.length,r=Array(i).fill(0),a=Array(i),o,s,l,p=Oc(n,0);for(o=0;o<i;++o)if(s=l,l=p,p=Oc(n,o+1),!!l){if(p){let m=p[e]-l[e];r[o]=m!==0?(p[t]-l[t])/m:0}a[o]=s?p?Ma(r[o-1])!==Ma(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}Zq(n,r,a),Jq(n,a,e)}function _0(n,e,t){return Math.max(Math.min(n,t),e)}function t$(n,e){let t,i,r,a,o,s=oo(n[0],e);for(t=0,i=n.length;t<i;++t)o=a,a=s,s=t<i-1&&oo(n[t+1],e),a&&(r=n[t],o&&(r.cp1x=_0(r.cp1x,e.left,e.right),r.cp1y=_0(r.cp1y,e.top,e.bottom)),s&&(r.cp2x=_0(r.cp2x,e.left,e.right),r.cp2y=_0(r.cp2y,e.top,e.bottom)))}function CT(n,e,t,i,r){let a,o,s,l;if(e.spanGaps&&(n=n.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")e$(n,r);else{let p=i?n[n.length-1]:n[0];for(a=0,o=n.length;a<o;++a)s=n[a],l=Xq(p,s,n[Math.min(a+1,o-(i?0:1))%o],e.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,p=s}e.capBezierPoints&&t$(n,t)}function P0(){return typeof window<"u"&&typeof document<"u"}function L0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function C0(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}var R0=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function i$(n,e){return R0(n).getPropertyValue(e)}var n$=["top","right","bottom","left"];function Sl(n,e,t){let i={};t=t?"-"+t:"";for(let r=0;r<4;r++){let a=n$[r];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var r$=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function a$(n,e){let t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:a}=i,o=!1,s,l;if(r$(r,a,n.target))s=r,l=a;else{let p=e.getBoundingClientRect();s=i.clientX-p.left,l=i.clientY-p.top,o=!0}return{x:s,y:l,box:o}}function Ms(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:i}=e,r=R0(t),a=r.boxSizing==="border-box",o=Sl(r,"padding"),s=Sl(r,"border","width"),{x:l,y:p,box:m}=a$(n,t),_=o.left+(m&&s.left),S=o.top+(m&&s.top),{width:C,height:E}=e;return a&&(C-=o.width+s.width,E-=o.height+s.height),{x:Math.round((l-_)/C*t.width/i),y:Math.round((p-S)/E*t.height/i)}}function o$(n,e,t){let i,r;if(e===void 0||t===void 0){let a=L0(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{let o=a.getBoundingClientRect(),s=R0(a),l=Sl(s,"border","width"),p=Sl(s,"padding");e=o.width-p.width-l.width,t=o.height-p.height-l.height,i=C0(s.maxWidth,a,"clientWidth"),r=C0(s.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||w0,maxHeight:r||w0}}var y0=n=>Math.round(n*10)/10;function xT(n,e,t,i){let r=R0(n),a=Sl(r,"margin"),o=C0(r.maxWidth,n,"clientWidth")||w0,s=C0(r.maxHeight,n,"clientHeight")||w0,l=o$(n,e,t),{width:p,height:m}=l;if(r.boxSizing==="content-box"){let S=Sl(r,"border","width"),C=Sl(r,"padding");p-=C.width+S.width,m-=C.height+S.height}return p=Math.max(0,p-a.width),m=Math.max(0,i?p/i:m-a.height),p=y0(Math.min(p,o,l.maxWidth)),m=y0(Math.min(m,s,l.maxHeight)),p&&!m&&(m=y0(p/2)),(e!==void 0||t!==void 0)&&i&&l.height&&m>l.height&&(m=l.height,p=y0(Math.floor(m*i))),{width:p,height:m}}function db(n,e,t){let i=e||1,r=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==a?(n.currentDevicePixelRatio=i,o.height=r,o.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var ET=function(){let n=!1;try{let e={get passive(){return n=!0,!1}};P0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function ub(n,e){let t=i$(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Es(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function IT(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function TT(n,e,t,i){let r={x:n.cp2x,y:n.cp2y},a={x:e.cp1x,y:e.cp1y},o=Es(n,r,t),s=Es(r,a,t),l=Es(a,e,t),p=Es(o,s,t),m=Es(s,l,t);return Es(p,m,t)}var s$=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},l$=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function El(n,e,t){return n?s$(e,t):l$()}function pb(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function mb(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function DT(n){return n==="angle"?{between:Wc,compare:Eq,normalize:xr}:{between:lo,compare:(e,t)=>e-t,normalize:e=>e}}function Z3({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function c$(n,e,t){let{property:i,start:r,end:a}=t,{between:o,normalize:s}=DT(i),l=e.length,{start:p,end:m,loop:_}=n,S,C;if(_){for(p+=l,m+=l,S=0,C=l;S<C&&o(s(e[p%l][i]),r,a);++S)p--,m--;p%=l,m%=l}return m<p&&(m+=l),{start:p,end:m,loop:_,style:n.style}}function hb(n,e,t){if(!t)return[n];let{property:i,start:r,end:a}=t,o=e.length,{compare:s,between:l,normalize:p}=DT(i),{start:m,end:_,loop:S,style:C}=c$(n,e,t),E=[],I=!1,M=null,F,N,U,j=()=>l(r,U,F)&&s(r,U)!==0,$=()=>s(a,F)===0||l(a,U,F),X=()=>I||j(),te=()=>!I||$();for(let G=m,de=m;G<=_;++G)N=e[G%o],!N.skip&&(F=p(N[i]),F!==U&&(I=l(F,r,a),M===null&&X()&&(M=s(F,r)===0?G:de),M!==null&&te()&&(E.push(Z3({start:M,end:G,loop:S,count:o,style:C})),M=null),de=G,U=F));return M!==null&&E.push(Z3({start:M,end:_,loop:S,count:o,style:C})),E}function fb(n,e){let t=[],i=n.segments;for(let r=0;r<i.length;r++){let a=hb(i[r],n.points,e);a.length&&t.push(...a)}return t}function d$(n,e,t,i){let r=0,a=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(a+=r);a>r&&n[a%e].skip;)a--;return a%=e,{start:r,end:a}}function u$(n,e,t,i){let r=n.length,a=[],o=e,s=n[e],l;for(l=e+1;l<=t;++l){let p=n[l%r];p.skip||p.stop?s.skip||(i=!1,a.push({start:e%r,end:(l-1)%r,loop:i}),e=o=p.stop?l:null):(o=l,s.skip&&(e=l)),s=p}return o!==null&&a.push({start:e%r,end:o%r,loop:i}),a}function AT(n,e){let t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];let a=!!n._loop,{start:o,end:s}=d$(t,r,a,i);if(i===!0)return J3(n,[{start:o,end:s,loop:a}],t,e);let l=s<o?s+r:s,p=!!n._fullLoop&&o===0&&s===r-1;return J3(n,u$(t,o,l,p),t,e)}function J3(n,e,t,i){return!i||!i.setContext||!t?e:p$(n,e,t,i)}function p$(n,e,t,i){let r=n._chart.getContext(),a=eT(n.options),{_datasetIndex:o,options:{spanGaps:s}}=n,l=t.length,p=[],m=a,_=e[0].start,S=_;function C(E,I,M,F){let N=s?-1:1;if(E!==I){for(E+=l;t[E%l].skip;)E-=N;for(;t[I%l].skip;)I+=N;E%l!==I%l&&(p.push({start:E%l,end:I%l,loop:M,style:F}),m=F,_=I%l)}}for(let E of e){_=s?_:E.start;let I=t[_%l],M;for(S=_+1;S<=E.end;S++){let F=t[S%l];M=eT(i.setContext(jo(r,{type:"segment",p0:I,p1:F,p0DataIndex:(S-1)%l,p1DataIndex:S%l,datasetIndex:o}))),m$(M,m)&&C(_,S-1,E.loop,m),I=F,m=M}_<S-1&&C(_,S-1,E.loop,m)}return p}function eT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function m$(n,e){if(!e)return!1;let t=[],i=function(r,a){return tb(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(e,i)}var Eb=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){let a=t.listeners[r],o=t.duration;a.forEach(s=>s({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Xy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let a=i.items,o=a.length-1,s=!1,l;for(;o>=0;--o)l=a[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),s=!0):(a[o]=a[a.length-1],a.pop());s&&(r.draw(),this._notify(r,i,e,"progress")),a.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let i=t.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},zo=new Eb,MT="transparent",h$={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let i=ib(n||MT),r=i.valid&&ib(e||MT);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}},Ib=class{constructor(e,t,i,r){let a=t[i];r=zc([e.to,r,a,e.from]);let o=zc([e.from,a,r]);this._active=!0,this._fn=e.fn||h$[e.type||typeof o],this._easing=Bc[e.easing]||Bc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);let r=this._target[this._prop],a=i-this._start,o=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=zc([e.to,t,r,e.from]),this._from=zc([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,i=this._duration,r=this._prop,a=this._from,o=this._loop,s=this._to,l;if(this._active=a!==s&&(o||t<i),!this._active){this._target[r]=s,this._notify(!0);return}if(t<0){this._target[r]=a;return}l=t/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(a,s,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){let t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}},z0=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!zt(e))return;let t=Object.keys(nn.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let a=e[r];if(!zt(a))return;let o={};for(let s of t)o[s]=a[s];(Vi(a.properties)&&a.properties||[r]).forEach(s=>{(s===r||!i.has(s))&&i.set(s,o)})})}_animateOptions(e,t){let i=t.options,r=g$(e,i);if(!r)return[];let a=this._createAnimations(r,i);return i.$shared&&f$(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){let i=this._properties,r=[],a=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now(),l;for(l=o.length-1;l>=0;--l){let p=o[l];if(p.charAt(0)==="$")continue;if(p==="options"){r.push(...this._animateOptions(e,t));continue}let m=t[p],_=a[p],S=i.get(p);if(_)if(S&&_.active()){_.update(S,m,s);continue}else _.cancel();if(!S||!S.duration){e[p]=m;continue}a[p]=_=new Ib(S,e,p,m),r.push(_)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let i=this._createAnimations(e,t);if(i.length)return zo.add(this._chart,i),!0}};function f$(n,e){let t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let a=n[i[r]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function g$(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function kT(n,e){let t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:r,end:i?r:a}}function v$(n,e,t){if(t===!1)return!1;let i=kT(n,t),r=kT(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function _$(n){let e,t,i,r;return zt(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function kD(n,e){let t=[],i=n._getSortedDatasetMetas(e),r,a;for(r=0,a=i.length;r<a;++r)t.push(i[r].index);return t}function PT(n,e,t,i={}){let r=n.keys,a=i.mode==="single",o,s,l,p;if(e!==null){for(o=0,s=r.length;o<s;++o){if(l=+r[o],l===t){if(i.all)continue;break}p=n.values[l],tn(p)&&(a||e===0||Ma(e)===Ma(p))&&(e+=p)}return e}}function y$(n){let e=Object.keys(n),t=new Array(e.length),i,r,a;for(i=0,r=e.length;i<r;++i)a=e[i],t[i]={x:a,y:n[a]};return t}function LT(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function b$(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function w$(n){let{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function S$(n,e,t){let i=n[e]||(n[e]={});return i[t]||(i[t]={})}function RT(n,e,t,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let a=n[r.index];if(t&&a>0||!t&&a<0)return r.index}return null}function BT(n,e){let{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:a,vScale:o,index:s}=i,l=a.axis,p=o.axis,m=b$(a,o,i),_=e.length,S;for(let C=0;C<_;++C){let E=e[C],{[l]:I,[p]:M}=E,F=E._stacks||(E._stacks={});S=F[p]=S$(r,m,I),S[s]=M,S._top=RT(S,o,!0,i.type),S._bottom=RT(S,o,!1,i.type);let N=S._visualValues||(S._visualValues={});N[s]=M}}function gb(n,e){let t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function C$(n,e){return jo(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function x$(n,e,t){return jo(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function tp(n,e){let t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(let r of e){let a=r._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}var vb=n=>n==="reset"||n==="none",FT=(n,e)=>e?n:Object.assign({},n),E$=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:kD(t,!0),values:null},Ps=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=LT(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&tp(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,i=this._cachedMeta,r=this.getDataset(),a=(S,C,E,I)=>S==="x"?C:S==="r"?I:E,o=i.xAxisID=Lt(r.xAxisID,gb(t,"x")),s=i.yAxisID=Lt(r.yAxisID,gb(t,"y")),l=i.rAxisID=Lt(r.rAxisID,gb(t,"r")),p=i.indexAxis,m=i.iAxisID=a(p,o,s,l),_=i.vAxisID=a(p,s,o,l);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(s),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(m),i.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Yy(this._data,this),t._stacked&&tp(t)}_dataCheck(){let t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(zt(i))this._data=y$(i);else if(r!==i){if(r){Yy(r,this);let a=this._cachedMeta;tp(a),a._parsed=[]}i&&Object.isExtensible(i)&&uT(i,this),this._syncList=[],this._data=i}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let i=this._cachedMeta,r=this.getDataset(),a=!1;this._dataCheck();let o=i._stacked;i._stacked=LT(i.vScale,i),i.stack!==r.stack&&(a=!0,tp(i),i.stack=r.stack),this._resyncElements(t),(a||o!==i._stacked)&&BT(this,i._parsed)}configure(){let t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){let{_cachedMeta:r,_data:a}=this,{iScale:o,_stacked:s}=r,l=o.axis,p=t===0&&i===a.length?!0:r._sorted,m=t>0&&r._parsed[t-1],_,S,C;if(this._parsing===!1)r._parsed=a,r._sorted=!0,C=a;else{Vi(a[t])?C=this.parseArrayData(r,a,t,i):zt(a[t])?C=this.parseObjectData(r,a,t,i):C=this.parsePrimitiveData(r,a,t,i);let E=()=>S[l]===null||m&&S[l]<m[l];for(_=0;_<i;++_)r._parsed[_+t]=S=C[_],p&&(E()&&(p=!1),m=S);r._sorted=p}s&&BT(this,C)}parsePrimitiveData(t,i,r,a){let{iScale:o,vScale:s}=t,l=o.axis,p=s.axis,m=o.getLabels(),_=o===s,S=new Array(a),C,E,I;for(C=0,E=a;C<E;++C)I=C+r,S[C]={[l]:_||o.parse(m[I],I),[p]:s.parse(i[I],I)};return S}parseArrayData(t,i,r,a){let{xScale:o,yScale:s}=t,l=new Array(a),p,m,_,S;for(p=0,m=a;p<m;++p)_=p+r,S=i[_],l[p]={x:o.parse(S[0],_),y:s.parse(S[1],_)};return l}parseObjectData(t,i,r,a){let{xScale:o,yScale:s}=t,{xAxisKey:l="x",yAxisKey:p="y"}=this._parsing,m=new Array(a),_,S,C,E;for(_=0,S=a;_<S;++_)C=_+r,E=i[C],m[_]={x:o.parse(Uo(E,l),C),y:s.parse(Uo(E,p),C)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){let a=this.chart,o=this._cachedMeta,s=i[t.axis],l={keys:kD(a,!0),values:i._stacks[t.axis]._visualValues};return PT(l,s,o.index,{mode:r})}updateRangeFromParsed(t,i,r,a){let o=r[i.axis],s=o===null?NaN:o,l=a&&r._stacks[i.axis];a&&l&&(a.values=l,s=PT(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,i){let r=this._cachedMeta,a=r._parsed,o=r._sorted&&t===r.iScale,s=a.length,l=this._getOtherScale(t),p=E$(i,r,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:S}=w$(l),C,E;function I(){E=a[C];let M=E[l.axis];return!tn(E[t.axis])||_>M||S<M}for(C=0;C<s&&!(!I()&&(this.updateRangeFromParsed(m,t,E,p),o));++C);if(o){for(C=s-1;C>=0;--C)if(!I()){this.updateRangeFromParsed(m,t,E,p);break}}return m}getAllParsedValues(t){let i=this._cachedMeta._parsed,r=[],a,o,s;for(a=0,o=i.length;a<o;++a)s=i[a][t.axis],tn(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(t){let i=this._cachedMeta,r=i.iScale,a=i.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){let i=this._cachedMeta;this.update(t||"default"),i._clip=_$(Lt(this.options.clip,v$(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,i=this.chart,r=this._cachedMeta,a=r.data||[],o=i.chartArea,s=[],l=this._drawStart||0,p=this._drawCount||a.length-l,m=this.options.drawActiveElementsOnTop,_;for(r.dataset&&r.dataset.draw(t,o,l,p),_=l;_<l+p;++_){let S=a[_];S.hidden||(S.active&&m?s.push(S):S.draw(t,o))}for(_=0;_<s.length;++_)s[_].draw(t,o)}getStyle(t,i){let r=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){let a=this.getDataset(),o;if(t>=0&&t<this._cachedMeta.data.length){let s=this._cachedMeta.data[t];o=s.$context||(s.$context=x$(this.getContext(),t,s)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=C$(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){let a=i==="active",o=this._cachedDataOpts,s=t+"-"+i,l=o[s],p=this.enableOptionSharing&&Vc(r);if(l)return FT(l,p);let m=this.chart.config,_=m.datasetElementScopeKeys(this._type,t),S=a?[`${t}Hover`,"hover",t,""]:[t,""],C=m.getOptionScopes(this.getDataset(),_),E=Object.keys(nn.elements[t]),I=()=>this.getContext(r,a,i),M=m.resolveNamedOptions(C,E,I,S);return M.$shared&&(M.$shared=p,o[s]=Object.freeze(FT(M,p))),M}_resolveAnimations(t,i,r){let a=this.chart,o=this._cachedDataOpts,s=`animation-${i}`,l=o[s];if(l)return l;let p;if(a.options.animation!==!1){let _=this.chart.config,S=_.datasetAnimationScopeKeys(this._type,i),C=_.getOptionScopes(this.getDataset(),S);p=_.createResolver(C,this.getContext(t,r,i))}let m=new z0(a,p&&p.animations);return p&&p._cacheable&&(o[s]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||vb(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){let r=this.resolveDataElementOptions(t,i),a=this._sharedOptions,o=this.getSharedOptions(r),s=this.includeOptions(i,o)||o!==a;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:s}}updateElement(t,i,r,a){vb(a)?Object.assign(t,r):this._resolveAnimations(i,a).update(t,r)}updateSharedOptions(t,i,r){t&&!vb(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,a){t.active=a;let o=this.getStyle(i,a);this._resolveAnimations(i,r,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let i=this._data,r=this._cachedMeta.data;for(let[l,p,m]of this._syncList)this[l](p,m);this._syncList=[];let a=r.length,o=i.length,s=Math.min(o,a);s&&this.parse(0,s),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,i,r=!0){let a=this._cachedMeta,o=a.data,s=t+i,l,p=m=>{for(m.length+=i,l=m.length-1;l>=s;l--)m[l]=m[l-i]};for(p(o),l=t;l<s;++l)o[l]=new this.dataElementType;this._parsing&&p(a._parsed),this.parse(t,i),r&&this.updateElements(o,t,i,"reset")}updateElements(t,i,r,a){}_removeElements(t,i){let r=this._cachedMeta;if(this._parsing){let a=r._parsed.splice(t,i);r._stacked&&tp(r,a)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[i,r,a]=t;this[i](r,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function I$(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),i=[];for(let r=0,a=t.length;r<a;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=Ky(i.sort((r,a)=>r-a))}return n._cache.$bar}function T$(n){let e=n.iScale,t=I$(e,n.type),i=e._length,r,a,o,s,l=()=>{o===32767||o===-32768||(Vc(s)&&(i=Math.min(i,Math.abs(o-s)||i)),s=o)};for(r=0,a=t.length;r<a;++r)o=e.getPixelForValue(t[r]),l();for(s=void 0,r=0,a=e.ticks.length;r<a;++r)o=e.getPixelForTick(r),l();return i}function D$(n,e,t,i){let r=t.barThickness,a,o;return ei(r)?(a=e.min*t.categoryPercentage,o=t.barPercentage):(a=r*i,o=1),{chunk:a/i,ratio:o,start:e.pixels[n]-a/2}}function A$(n,e,t,i){let r=e.pixels,a=r[n],o=n>0?r[n-1]:null,s=n<r.length-1?r[n+1]:null,l=t.categoryPercentage;o===null&&(o=a-(s===null?e.end-e.start:s-a)),s===null&&(s=a+a-o);let p=a-(a-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/i,ratio:t.barPercentage,start:p}}function M$(n,e,t,i){let r=t.parse(n[0],i),a=t.parse(n[1],i),o=Math.min(r,a),s=Math.max(r,a),l=o,p=s;Math.abs(o)>Math.abs(s)&&(l=s,p=o),e[t.axis]=p,e._custom={barStart:l,barEnd:p,start:r,end:a,min:o,max:s}}function PD(n,e,t,i){return Vi(n)?M$(n,e,t,i):e[t.axis]=t.parse(n,i),e}function OT(n,e,t,i){let r=n.iScale,a=n.vScale,o=r.getLabels(),s=r===a,l=[],p,m,_,S;for(p=t,m=t+i;p<m;++p)S=e[p],_={},_[r.axis]=s||r.parse(o[p],p),l.push(PD(S,_,a,p));return l}function _b(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function k$(n,e,t){return n!==0?Ma(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function P$(n){let e,t,i,r,a;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",a="start"):(r="start",a="end"),{start:t,end:i,reverse:e,top:r,bottom:a}}function L$(n,e,t,i){let r=e.borderSkipped,a={};if(!r){n.borderSkipped=a;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:s,reverse:l,top:p,bottom:m}=P$(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=p:(t._bottom||0)===i?r=m:(a[NT(m,o,s,l)]=!0,r=p)),a[NT(r,o,s,l)]=!0,n.borderSkipped=a}function NT(n,e,t,i){return i?(n=R$(n,e,t),n=VT(n,t,e)):n=VT(n,e,t),n}function R$(n,e,t){return n===e?t:n===t?e:n}function VT(n,e,t){return n==="start"?e:n==="end"?t:n}function B$(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var F$=(()=>{class n extends Ps{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,i,r,a){return OT(t,i,r,a)}parseArrayData(t,i,r,a){return OT(t,i,r,a)}parseObjectData(t,i,r,a){let{iScale:o,vScale:s}=t,{xAxisKey:l="x",yAxisKey:p="y"}=this._parsing,m=o.axis==="x"?l:p,_=s.axis==="x"?l:p,S=[],C,E,I,M;for(C=r,E=r+a;C<E;++C)M=i[C],I={},I[o.axis]=o.parse(Uo(M,m),C),S.push(PD(Uo(M,_),I,s,C));return S}updateRangeFromParsed(t,i,r,a){super.updateRangeFromParsed(t,i,r,a);let o=r._custom;o&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let i=this._cachedMeta,{iScale:r,vScale:a}=i,o=this.getParsed(t),s=o._custom,l=_b(s)?"["+s.start+", "+s.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,a){let o=a==="reset",{index:s,_cachedMeta:{vScale:l}}=this,p=l.getBasePixel(),m=l.isHorizontal(),_=this._getRuler(),{sharedOptions:S,includeOptions:C}=this._getSharedOptions(i,a);for(let E=i;E<i+r;E++){let I=this.getParsed(E),M=o||ei(I[l.axis])?{base:p,head:p}:this._calculateBarValuePixels(E),F=this._calculateBarIndexPixels(E,_),N=(I._stacks||{})[l.axis],U={horizontal:m,base:M.base,enableBorderRadius:!N||_b(I._custom)||s===N._top||s===N._bottom,x:m?M.head:F.center,y:m?F.center:M.head,height:m?F.size:Math.abs(M.size),width:m?Math.abs(M.size):F.size};C&&(U.options=S||this.resolveDataElementOptions(E,t[E].active?"active":a));let j=U.options||t[E].options;L$(U,j,N,s),B$(U,j,_.ratio),this.updateElement(t[E],E,U,a)}}_getStacks(t,i){let{iScale:r}=this._cachedMeta,a=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=r.options.stacked,s=[],l=p=>{let m=p.controller.getParsed(i),_=m&&m[p.vScale.axis];if(ei(_)||isNaN(_))return!0};for(let p of a)if(!(i!==void 0&&l(p))&&((o===!1||s.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&s.push(p.stack),p.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,r){let a=this._getStacks(t,r),o=i!==void 0?a.indexOf(i):-1;return o===-1?a.length-1:o}_getRuler(){let t=this.options,i=this._cachedMeta,r=i.iScale,a=[],o,s;for(o=0,s=i.data.length;o<s;++o)a.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let l=t.barThickness;return{min:l||T$(i),pixels:a,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:i,_stacked:r,index:a},options:{base:o,minBarLength:s}}=this,l=o||0,p=this.getParsed(t),m=p._custom,_=_b(m),S=p[i.axis],C=0,E=r?this.applyStack(i,p,r):S,I,M;E!==S&&(C=E-S,E=S),_&&(S=m.barStart,E=m.barEnd-m.barStart,S!==0&&Ma(S)!==Ma(m.barEnd)&&(C=0),C+=S);let F=!ei(o)&&!_?o:C,N=i.getPixelForValue(F);if(this.chart.getDataVisibility(t)?I=i.getPixelForValue(C+E):I=N,M=I-N,Math.abs(M)<s){M=k$(M,i,l)*s,S===l&&(N-=M/2);let U=i.getPixelForDecimal(0),j=i.getPixelForDecimal(1),$=Math.min(U,j),X=Math.max(U,j);N=Math.max(Math.min(N,X),$),I=N+M,r&&!_&&(p._stacks[i.axis]._visualValues[a]=i.getValueForPixel(I)-i.getValueForPixel(N))}if(N===i.getPixelForValue(l)){let U=Ma(M)*i.getLineWidthForValue(l)/2;N+=U,M-=U}return{size:M,base:N,head:I,center:I+M/2}}_calculateBarIndexPixels(t,i){let r=i.scale,a=this.options,o=a.skipNull,s=Lt(a.maxBarThickness,1/0),l,p;if(i.grouped){let m=o?this._getStackCount(t):i.stackCount,_=a.barThickness==="flex"?A$(t,i,a,m):D$(t,i,a,m),S=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);l=_.start+_.chunk*S+_.chunk/2,p=Math.min(s,_.chunk*_.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),p=Math.min(s,i.min*i.ratio);return{base:l-p/2,head:l+p/2,center:l,size:p}}draw(){let t=this._cachedMeta,i=t.vScale,r=t.data,a=r.length,o=0;for(;o<a;++o)this.getParsed(o)[i.axis]!==null&&r[o].draw(this._ctx)}}return n})(),O$=(()=>{class n extends Ps{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,a){let o=super.parsePrimitiveData(t,i,r,a);for(let s=0;s<o.length;s++)o[s]._custom=this.resolveDataElementOptions(s+r).radius;return o}parseArrayData(t,i,r,a){let o=super.parseArrayData(t,i,r,a);for(let s=0;s<o.length;s++){let l=i[r+s];o[s]._custom=Lt(l[2],this.resolveDataElementOptions(s+r).radius)}return o}parseObjectData(t,i,r,a){let o=super.parseObjectData(t,i,r,a);for(let s=0;s<o.length;s++){let l=i[r+s];o[s]._custom=Lt(l&&l.r&&+l.r,this.resolveDataElementOptions(s+r).radius)}return o}getMaxOverflow(){let t=this._cachedMeta.data,i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:a,yScale:o}=i,s=this.getParsed(t),l=a.getLabelForValue(s.x),p=o.getLabelForValue(s.y),m=s._custom;return{label:r[t]||"",value:"("+l+", "+p+(m?", "+m:"")+")"}}update(t){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,a){let o=a==="reset",{iScale:s,vScale:l}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(i,a),_=s.axis,S=l.axis;for(let C=i;C<i+r;C++){let E=t[C],I=!o&&this.getParsed(C),M={},F=M[_]=o?s.getPixelForDecimal(.5):s.getPixelForValue(I[_]),N=M[S]=o?l.getBasePixel():l.getPixelForValue(I[S]);M.skip=isNaN(F)||isNaN(N),m&&(M.options=p||this.resolveDataElementOptions(C,E.active?"active":a),o&&(M.options.radius=0)),this.updateElement(E,C,M,a)}}resolveDataElementOptions(t,i){let r=this.getParsed(t),a=super.resolveDataElementOptions(t,i);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let o=a.radius;return i!=="active"&&(a.radius=0),a.radius+=Lt(r&&r._custom,o),a}}return n})();function N$(n,e,t){let i=1,r=1,a=0,o=0;if(e<Wi){let s=n,l=s+e,p=Math.cos(s),m=Math.sin(s),_=Math.cos(l),S=Math.sin(l),C=(U,j,$)=>Wc(U,s,l,!0)?1:Math.max(j,j*t,$,$*t),E=(U,j,$)=>Wc(U,s,l,!0)?-1:Math.min(j,j*t,$,$*t),I=C(0,p,_),M=C(cn,m,S),F=E(Hi,p,_),N=E(Hi+cn,m,S);i=(I-F)/2,r=(M-N)/2,a=-(I+F)/2,o=-(M+N)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:o}}var $b=(()=>{class n extends Ps{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:a}}=t.legend.options;return i.labels.map((o,s)=>{let p=t.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:p.backgroundColor,strokeStyle:p.borderColor,fontColor:a,lineWidth:p.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){let r=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=r;else{let o=p=>+r[p];if(zt(r[t])){let{key:p="value"}=this._parsing;o=m=>+Uo(r[m],p)}let s,l;for(s=t,l=t+i;s<l;++s)a._parsed[s]=o(s)}}_getRotation(){return na(this.options.rotation-90)}_getCircumference(){return na(this.options.circumference)}_getRotationExtents(){let t=Wi,i=-Wi;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let a=this.chart.getDatasetMeta(r).controller,o=a._getRotation(),s=a._getCircumference();t=Math.min(t,o),i=Math.max(i,o+s)}return{rotation:t,circumference:i-t}}update(t){let i=this.chart,{chartArea:r}=i,a=this._cachedMeta,o=a.data,s=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-s)/2,0),p=Math.min(iT(this.options.cutout,l),1),m=this._getRingWeight(this.index),{circumference:_,rotation:S}=this._getRotationExtents(),{ratioX:C,ratioY:E,offsetX:I,offsetY:M}=N$(S,_,p),F=(r.width-s)/C,N=(r.height-s)/E,U=Math.max(Math.min(F,N)/2,0),j=jy(this.options.radius,U),$=Math.max(j*p,0),X=(j-$)/this._getVisibleDatasetWeightTotal();this.offsetX=I*j,this.offsetY=M*j,a.total=this.calculateTotal(),this.outerRadius=j-X*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-X*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,i){let r=this.options,a=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/Wi)}updateElements(t,i,r,a){let o=a==="reset",s=this.chart,l=s.chartArea,m=s.options.animation,_=(l.left+l.right)/2,S=(l.top+l.bottom)/2,C=o&&m.animateScale,E=C?0:this.innerRadius,I=C?0:this.outerRadius,{sharedOptions:M,includeOptions:F}=this._getSharedOptions(i,a),N=this._getRotation(),U;for(U=0;U<i;++U)N+=this._circumference(U,o);for(U=i;U<i+r;++U){let j=this._circumference(U,o),$=t[U],X={x:_+this.offsetX,y:S+this.offsetY,startAngle:N,endAngle:N+j,circumference:j,outerRadius:I,innerRadius:E};F&&(X.options=M||this.resolveDataElementOptions(U,$.active?"active":a)),N+=j,this.updateElement($,U,X,a)}}calculateTotal(){let t=this._cachedMeta,i=t.data,r=0,a;for(a=0;a<i.length;a++){let o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!i[a].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(t){let i=this._cachedMeta.total;return i>0&&!isNaN(t)?Wi*(Math.abs(t)/i):0}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart,a=r.data.labels||[],o=Uc(i._parsed[t],r.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let i=0,r=this.chart,a,o,s,l,p;if(!t){for(a=0,o=r.data.datasets.length;a<o;++a)if(r.isDatasetVisible(a)){s=r.getDatasetMeta(a),t=s.data,l=s.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)p=l.resolveDataElementOptions(a),p.borderAlign!=="inner"&&(i=Math.max(i,p.borderWidth||0,p.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,a=t.length;r<a;++r){let o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(Lt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),V$=(()=>{class n extends Ps{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let i=this._cachedMeta,{dataset:r,data:a=[],_dataset:o}=i,s=this.chart._animationsDisabled,{start:l,count:p}=Jy(i,a,s);this._drawStart=l,this._drawCount=p,eb(i)&&(l=0,p=a.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=a;let m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:m},t),this.updateElements(a,l,p,t)}updateElements(t,i,r,a){let o=a==="reset",{iScale:s,vScale:l,_stacked:p,_dataset:m}=this._cachedMeta,{sharedOptions:_,includeOptions:S}=this._getSharedOptions(i,a),C=s.axis,E=l.axis,{spanGaps:I,segment:M}=this.options,F=xl(I)?I:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||o||a==="none",U=i+r,j=t.length,$=i>0&&this.getParsed(i-1);for(let X=0;X<j;++X){let te=t[X],G=N?te:{};if(X<i||X>=U){G.skip=!0;continue}let de=this.getParsed(X),Qe=ei(de[E]),Dt=G[C]=s.getPixelForValue(de[C],X),At=G[E]=o||Qe?l.getBasePixel():l.getPixelForValue(p?this.applyStack(l,de,p):de[E],X);G.skip=isNaN(Dt)||isNaN(At)||Qe,G.stop=X>0&&Math.abs(de[C]-$[C])>F,M&&(G.parsed=de,G.raw=m.data[X]),S&&(G.options=_||this.resolveDataElementOptions(X,te.active?"active":a)),N||this.updateElement(te,X,G,a),$=de}}getMaxOverflow(){let t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,a=t.data||[];if(!a.length)return r;let o=a[0].size(this.resolveDataElementOptions(0)),s=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(r,o,s)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n})(),LD=(()=>{class n extends Ps{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:a}}=t.legend.options;return i.labels.map((o,s)=>{let p=t.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:p.backgroundColor,strokeStyle:p.borderColor,fontColor:a,lineWidth:p.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart,a=r.data.labels||[],o=Uc(i._parsed[t].r,r.options.locale);return{label:a[t]||"",value:o}}parseObjectData(t,i,r,a){return cb.bind(this)(t,i,r,a)}update(t){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){let t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,a)=>{let o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let t=this.chart,i=t.chartArea,r=t.options,a=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(a/2,0),s=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),l=(o-s)/t.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,i,r,a){let o=a==="reset",s=this.chart,p=s.options.animation,m=this._cachedMeta.rScale,_=m.xCenter,S=m.yCenter,C=m.getIndexAngle(0)-.5*Hi,E=C,I,M=360/this.countVisibleElements();for(I=0;I<i;++I)E+=this._computeAngle(I,a,M);for(I=i;I<i+r;I++){let F=t[I],N=E,U=E+this._computeAngle(I,a,M),j=s.getDataVisibility(I)?m.getDistanceFromCenterForValue(this.getParsed(I).r):0;E=U,o&&(p.animateScale&&(j=0),p.animateRotate&&(N=U=C));let $={x:_,y:S,innerRadius:0,outerRadius:j,startAngle:N,endAngle:U,options:this.resolveDataElementOptions(I,F.active?"active":a)};this.updateElement(F,I,$,a)}}countVisibleElements(){let t=this._cachedMeta,i=0;return t.data.forEach((r,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&i++}),i}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?na(this.resolveDataElementOptions(t,i).angle||r):0}}return n})(),H$=(()=>{class n extends $b{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),W$=(()=>{class n extends Ps{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(t,i,r,a){return cb.bind(this)(t,i,r,a)}update(t){let i=this._cachedMeta,r=i.dataset,a=i.data||[],o=i.iScale.getLabels();if(r.points=a,t!=="resize"){let s=this.resolveDatasetElementOptions(t);this.options.showLine||(s.borderWidth=0);let l={_loop:!0,_fullLoop:o.length===a.length,options:s};this.updateElement(r,void 0,l,t)}this.updateElements(a,0,a.length,t)}updateElements(t,i,r,a){let o=this._cachedMeta.rScale,s=a==="reset";for(let l=i;l<i+r;l++){let p=t[l],m=this.resolveDataElementOptions(l,p.active?"active":a),_=o.getPointPositionForValue(l,this.getParsed(l).r),S=s?o.xCenter:_.x,C=s?o.yCenter:_.y,E={x:S,y:C,angle:_.angle,skip:isNaN(S)||isNaN(C),options:m};this.updateElement(p,l,E,a)}}}return n})(),U$=(()=>{class n extends Ps{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:a,yScale:o}=i,s=this.getParsed(t),l=a.getLabelForValue(s.x),p=o.getLabelForValue(s.y);return{label:r[t]||"",value:"("+l+", "+p+")"}}update(t){let i=this._cachedMeta,{data:r=[]}=i,a=this.chart._animationsDisabled,{start:o,count:s}=Jy(i,r,a);if(this._drawStart=o,this._drawCount=s,eb(i)&&(o=0,s=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:p}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!p._decimated,l.points=r;let m=this.resolveDatasetElementOptions(t);m.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:m},t)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,o,s,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,r,a){let o=a==="reset",{iScale:s,vScale:l,_stacked:p,_dataset:m}=this._cachedMeta,_=this.resolveDataElementOptions(i,a),S=this.getSharedOptions(_),C=this.includeOptions(a,S),E=s.axis,I=l.axis,{spanGaps:M,segment:F}=this.options,N=xl(M)?M:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||o||a==="none",j=i>0&&this.getParsed(i-1);for(let $=i;$<i+r;++$){let X=t[$],te=this.getParsed($),G=U?X:{},de=ei(te[I]),Qe=G[E]=s.getPixelForValue(te[E],$),Dt=G[I]=o||de?l.getBasePixel():l.getPixelForValue(p?this.applyStack(l,te,p):te[I],$);G.skip=isNaN(Qe)||isNaN(Dt)||de,G.stop=$>0&&Math.abs(te[E]-j[E])>N,F&&(G.parsed=te,G.raw=m.data[$]),C&&(G.options=S||this.resolveDataElementOptions($,X.active?"active":a)),U||this.updateElement(X,$,G,a),j=te}this.updateSharedOptions(S,a,_)}getMaxOverflow(){let t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let l=0;for(let p=i.length-1;p>=0;--p)l=Math.max(l,i[p].size(this.resolveDataElementOptions(p))/2);return l>0&&l}let r=t.dataset,a=r.options&&r.options.borderWidth||0;if(!i.length)return a;let o=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(a,o,s)/2}}return n})(),j$=Object.freeze({__proto__:null,BarController:F$,BubbleController:O$,DoughnutController:$b,LineController:V$,PieController:H$,PolarAreaController:LD,RadarController:W$,ScatterController:U$});function Il(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Tb=class n{static override(e){Object.assign(n.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Il()}parse(){return Il()}format(){return Il()}add(){return Il()}diff(){return Il()}startOf(){return Il()}endOf(){return Il()}},z$={_date:Tb};function q$(n,e,t,i){let{controller:r,data:a,_sorted:o}=n,s=r._cachedMeta.iScale;if(s&&e===s.axis&&e!=="r"&&o&&a.length){let l=s._reversePixels?lT:ao;if(i){if(r._sharedOptions){let p=a[0],m=typeof p.getRange=="function"&&p.getRange(e);if(m){let _=l(a,e,t-m),S=l(a,e,t+m);return{lo:_.lo,hi:S.hi}}}}else return l(a,e,t)}return{lo:0,hi:a.length-1}}function up(n,e,t,i,r){let a=n.getSortedVisibleDatasetMetas(),o=t[e];for(let s=0,l=a.length;s<l;++s){let{index:p,data:m}=a[s],{lo:_,hi:S}=q$(a[s],e,o,r);for(let C=_;C<=S;++C){let E=m[C];E.skip||i(E,p,C)}}}function $$(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){let a=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function yb(n,e,t,i,r){let a=[];return!r&&!n.isPointInArea(e)||up(n,t,e,function(s,l,p){!r&&!oo(s,n.chartArea,0)||s.inRange(e.x,e.y,i)&&a.push({element:s,datasetIndex:l,index:p})},!0),a}function Q$(n,e,t,i){let r=[];function a(o,s,l){let{startAngle:p,endAngle:m}=o.getProps(["startAngle","endAngle"],i),{angle:_}=Gy(o,{x:e.x,y:e.y});Wc(_,p,m)&&r.push({element:o,datasetIndex:s,index:l})}return up(n,t,e,a),r}function G$(n,e,t,i,r,a){let o=[],s=$$(t),l=Number.POSITIVE_INFINITY;function p(m,_,S){let C=m.inRange(e.x,e.y,r);if(i&&!C)return;let E=m.getCenterPoint(r);if(!(!!a||n.isPointInArea(E))&&!C)return;let M=s(e,E);M<l?(o=[{element:m,datasetIndex:_,index:S}],l=M):M===l&&o.push({element:m,datasetIndex:_,index:S})}return up(n,t,e,p),o}function bb(n,e,t,i,r,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?Q$(n,e,t,r):G$(n,e,t,i,r,a)}function HT(n,e,t,i,r){let a=[],o=t==="x"?"inXRange":"inYRange",s=!1;return up(n,t,e,(l,p,m)=>{l[o](e[t],r)&&(a.push({element:l,datasetIndex:p,index:m}),s=s||l.inRange(e.x,e.y,r))}),i&&!s?[]:a}var Y$={evaluateInteractionItems:up,modes:{index(n,e,t,i){let r=Ms(e,n),a=t.axis||"x",o=t.includeInvisible||!1,s=t.intersect?yb(n,r,a,i,o):bb(n,r,a,!1,i,o),l=[];return s.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{let m=s[0].index,_=p.data[m];_&&!_.skip&&l.push({element:_,datasetIndex:p.index,index:m})}),l):[]},dataset(n,e,t,i){let r=Ms(e,n),a=t.axis||"xy",o=t.includeInvisible||!1,s=t.intersect?yb(n,r,a,i,o):bb(n,r,a,!1,i,o);if(s.length>0){let l=s[0].datasetIndex,p=n.getDatasetMeta(l).data;s=[];for(let m=0;m<p.length;++m)s.push({element:p[m],datasetIndex:l,index:m})}return s},point(n,e,t,i){let r=Ms(e,n),a=t.axis||"xy",o=t.includeInvisible||!1;return yb(n,r,a,i,o)},nearest(n,e,t,i){let r=Ms(e,n),a=t.axis||"xy",o=t.includeInvisible||!1;return bb(n,r,a,t.intersect,i,o)},x(n,e,t,i){let r=Ms(e,n);return HT(n,r,"x",t.intersect,i)},y(n,e,t,i){let r=Ms(e,n);return HT(n,r,"y",t.intersect,i)}}},RD=["left","top","right","bottom"];function ip(n,e){return n.filter(t=>t.pos===e)}function WT(n,e){return n.filter(t=>RD.indexOf(t.pos)===-1&&t.box.axis===e)}function np(n,e){return n.sort((t,i)=>{let r=e?i:t,a=e?t:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function K$(n){let e=[],t,i,r,a,o,s;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:a,options:{stack:o,stackWeight:s=1}}=r,e.push({index:t,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&a+o,stackWeight:s});return e}function X$(n){let e={};for(let t of n){let{stack:i,pos:r,stackWeight:a}=t;if(!i||!RD.includes(r))continue;let o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function Z$(n,e){let t=X$(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,a,o,s;for(a=0,o=n.length;a<o;++a){s=n[a];let{fullSize:l}=s.box,p=t[s.stack],m=p&&s.stackWeight/p.weight;s.horizontal?(s.width=m?m*i:l&&e.availableWidth,s.height=r):(s.width=i,s.height=m?m*r:l&&e.availableHeight)}return t}function J$(n){let e=K$(n),t=np(e.filter(p=>p.box.fullSize),!0),i=np(ip(e,"left"),!0),r=np(ip(e,"right")),a=np(ip(e,"top"),!0),o=np(ip(e,"bottom")),s=WT(e,"x"),l=WT(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:r.concat(l).concat(o).concat(s),chartArea:ip(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:a.concat(o).concat(s)}}function UT(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function BD(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function eQ(n,e,t,i){let{pos:r,box:a}=t,o=n.maxPadding;if(!zt(r)){t.size&&(n[r]-=t.size);let _=i[t.stack]||{size:0,count:1};_.size=Math.max(_.size,t.horizontal?a.height:a.width),t.size=_.size/_.count,n[r]+=t.size}a.getPadding&&BD(o,a.getPadding());let s=Math.max(0,e.outerWidth-UT(o,n,"left","right")),l=Math.max(0,e.outerHeight-UT(o,n,"top","bottom")),p=s!==n.w,m=l!==n.h;return n.w=s,n.h=l,t.horizontal?{same:p,other:m}:{same:m,other:p}}function tQ(n){let e=n.maxPadding;function t(i){let r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function iQ(n,e){let t=e.maxPadding;function i(r){let a={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{a[o]=Math.max(e[o],t[o])}),a}return i(n?["left","right"]:["top","bottom"])}function op(n,e,t,i){let r=[],a,o,s,l,p,m;for(a=0,o=n.length,p=0;a<o;++a){s=n[a],l=s.box,l.update(s.width||e.w,s.height||e.h,iQ(s.horizontal,e));let{same:_,other:S}=eQ(e,t,s,i);p|=_&&r.length,m=m||S,l.fullSize||r.push(s)}return p&&op(r,e,t,i)||m}function B0(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function jT(n,e,t,i){let r=t.padding,{x:a,y:o}=e;for(let s of n){let l=s.box,p=i[s.stack]||{count:1,placed:0,weight:1},m=s.stackWeight/p.weight||1;if(s.horizontal){let _=e.w*m,S=p.size||l.height;Vc(p.start)&&(o=p.start),l.fullSize?B0(l,r.left,o,t.outerWidth-r.right-r.left,S):B0(l,e.left+p.placed,o,_,S),p.start=o,p.placed+=_,o=l.bottom}else{let _=e.h*m,S=p.size||l.width;Vc(p.start)&&(a=p.start),l.fullSize?B0(l,a,r.top,S,t.outerHeight-r.bottom-r.top):B0(l,a,e.top+p.placed,S,_),p.start=a,p.placed+=_,a=l.right}}e.x=a,e.y=o}var ar={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;let r=Hn(n.options.layout.padding),a=Math.max(e-r.width,0),o=Math.max(t-r.height,0),s=J$(n.boxes),l=s.vertical,p=s.horizontal;gi(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});let m=l.reduce((I,M)=>M.box.options&&M.box.options.display===!1?I:I+1,0)||1,_=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/m,hBoxMaxHeight:o/2}),S=Object.assign({},r);BD(S,Hn(i));let C=Object.assign({maxPadding:S,w:a,h:o,x:r.left,y:r.top},r),E=Z$(l.concat(p),_);op(s.fullSize,C,_,E),op(l,C,_,E),op(p,C,_,E)&&op(l,C,_,E),tQ(C),jT(s.leftAndTop,C,_,E),C.x+=C.w,C.y+=C.h,jT(s.rightAndBottom,C,_,E),n.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},gi(s.chartArea,I=>{let M=I.box;Object.assign(M,n.chartArea),M.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})})}},q0=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}},Db=class extends q0{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},U0="$chartjs",nQ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zT=n=>n===null||n==="";function rQ(n,e){let t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[U0]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",zT(r)){let a=ub(n,"width");a!==void 0&&(n.width=a)}if(zT(i))if(n.style.height==="")n.height=n.width/(e||2);else{let a=ub(n,"height");a!==void 0&&(n.height=a)}return n}var FD=ET?{passive:!0}:!1;function aQ(n,e,t){n&&n.addEventListener(e,t,FD)}function oQ(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,FD)}function sQ(n,e){let t=nQ[n.type]||n.type,{x:i,y:r}=Ms(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function $0(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function lQ(n,e,t){let i=n.canvas,r=new MutationObserver(a=>{let o=!1;for(let s of a)o=o||$0(s.addedNodes,i),o=o&&!$0(s.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function cQ(n,e,t){let i=n.canvas,r=new MutationObserver(a=>{let o=!1;for(let s of a)o=o||$0(s.removedNodes,i),o=o&&!$0(s.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}var lp=new Map,qT=0;function OD(){let n=window.devicePixelRatio;n!==qT&&(qT=n,lp.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function dQ(n,e){lp.size||window.addEventListener("resize",OD),lp.set(n,e)}function uQ(n){lp.delete(n),lp.size||window.removeEventListener("resize",OD)}function pQ(n,e,t){let i=n.canvas,r=i&&L0(i);if(!r)return;let a=Zy((s,l)=>{let p=r.clientWidth;t(s,l),p<r.clientWidth&&t()},window),o=new ResizeObserver(s=>{let l=s[0],p=l.contentRect.width,m=l.contentRect.height;p===0&&m===0||a(p,m)});return o.observe(r),dQ(n,a),o}function wb(n,e,t){t&&t.disconnect(),e==="resize"&&uQ(n)}function mQ(n,e,t){let i=n.canvas,r=Zy(a=>{n.ctx!==null&&t(sQ(a,n))},n);return aQ(i,e,r),r}var Ab=class extends q0{acquireContext(e,t){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(rQ(e,t),i):null}releaseContext(e){let t=e.canvas;if(!t[U0])return!1;let i=t[U0].initial;["height","width"].forEach(a=>{let o=i[a];ei(o)?t.removeAttribute(a):t.setAttribute(a,o)});let r=i.style||{};return Object.keys(r).forEach(a=>{t.style[a]=r[a]}),t.width=t.width,delete t[U0],!0}addEventListener(e,t,i){this.removeEventListener(e,t);let r=e.$proxies||(e.$proxies={}),o={attach:lQ,detach:cQ,resize:pQ}[t]||mQ;r[t]=o(e,t,i)}removeEventListener(e,t){let i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:wb,detach:wb,resize:wb}[t]||oQ)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return xT(e,t,i,r)}isAttached(e){let t=L0(e);return!!(t&&t.isConnected)}};function hQ(n){return!P0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Db:Ab}var ka=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return xl(this.x)&&xl(this.y)}getProps(e,t){let i=this.$animations;if(!t||!i)return this;let r={};return e.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}};function fQ(n,e){let t=n.options.ticks,i=gQ(n),r=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?_Q(e):[],o=a.length,s=a[0],l=a[o-1],p=[];if(o>r)return yQ(e,p,a,o/r),p;let m=vQ(a,e,r);if(o>0){let _,S,C=o>1?Math.round((l-s)/(o-1)):null;for(F0(e,p,m,ei(C)?0:s-C,s),_=0,S=o-1;_<S;_++)F0(e,p,m,a[_],a[_+1]);return F0(e,p,m,l,ei(C)?e.length:l+C),p}return F0(e,p,m),p}function gQ(n){let e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function vQ(n,e,t){let i=bQ(n),r=e.length/t;if(!i)return Math.max(r,1);let a=aT(i);for(let o=0,s=a.length-1;o<s;o++){let l=a[o];if(l>r)return l}return Math.max(r,1)}function _Q(n){let e=[],t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function yQ(n,e,t,i){let r=0,a=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===a&&(e.push(n[o]),r++,a=t[r*i])}function F0(n,e,t,i,r){let a=Lt(i,0),o=Math.min(Lt(r,n.length),n.length),s=0,l,p,m;for(t=Math.ceil(t),r&&(l=r-i,t=l/Math.floor(l/t)),m=a;m<0;)s++,m=Math.round(a+s*t);for(p=Math.max(a,0);p<o;p++)p===m&&(e.push(n[p]),s++,m=Math.round(a+s*t))}function bQ(n){let e=n.length,t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}var wQ=n=>n==="left"?"right":n==="right"?"left":n,$T=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,QT=(n,e)=>Math.min(e||n,n);function GT(n,e){let t=[],i=n.length/e,r=n.length,a=0;for(;a<r;a+=i)t.push(n[Math.floor(a)]);return t}function SQ(n,e,t){let i=n.ticks.length,r=Math.min(e,i-1),a=n._startPixel,o=n._endPixel,s=1e-6,l=n.getPixelForTick(r),p;if(!(t&&(i===1?p=Math.max(l-a,o-l):e===0?p=(n.getPixelForTick(1)-l)/2:p=(l-n.getPixelForTick(r-1))/2,l+=r<e?p:-p,l<a-s||l>o+s)))return l}function CQ(n,e){gi(n,t=>{let i=t.gc,r=i.length/2,a;if(r>e){for(a=0;a<r;++a)delete t.data[i[a]];i.splice(0,r)}})}function rp(n){return n.drawTicks?n.tickLength:0}function YT(n,e){if(!n.display)return 0;let t=_n(n.font,e),i=Hn(n.padding);return(Vi(n.text)?n.text.length:1)*t.lineHeight+i.height}function xQ(n,e){return jo(n,{scale:e,type:"scale"})}function EQ(n,e,t){return jo(n,{tick:t,index:e,type:"tick"})}function IQ(n,e,t){let i=T0(n);return(t&&e!=="right"||!t&&e==="right")&&(i=wQ(i)),i}function TQ(n,e,t,i){let{top:r,left:a,bottom:o,right:s,chart:l}=n,{chartArea:p,scales:m}=l,_=0,S,C,E,I=o-r,M=s-a;if(n.isHorizontal()){if(C=Vn(i,a,s),zt(t)){let F=Object.keys(t)[0],N=t[F];E=m[F].getPixelForValue(N)+I-e}else t==="center"?E=(p.bottom+p.top)/2+I-e:E=$T(n,t,e);S=s-a}else{if(zt(t)){let F=Object.keys(t)[0],N=t[F];C=m[F].getPixelForValue(N)-M+e}else t==="center"?C=(p.left+p.right)/2-M+e:C=$T(n,t,e);E=Vn(i,o,r),_=t==="left"?-cn:cn}return{titleX:C,titleY:E,maxWidth:S,rotation:_}}var Dl=class n extends ka{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Er(e,Number.POSITIVE_INFINITY),t=Er(t,Number.NEGATIVE_INFINITY),i=Er(i,Number.POSITIVE_INFINITY),r=Er(r,Number.NEGATIVE_INFINITY),{min:Er(e,i),max:Er(t,r),minDefined:tn(e),maxDefined:tn(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),o;if(r&&a)return{min:t,max:i};let s=this.getMatchingVisibleMetas();for(let l=0,p=s.length;l<p;++l)o=s[l].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),a||(i=Math.max(i,o.max));return t=a&&t>i?i:t,i=r&&t>i?t:i,{min:Er(t,Er(i,t)),max:Er(i,Er(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ai(this.options.beforeUpdate,[this])}update(e,t,i){let{beginAtZero:r,grace:a,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_T(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=s<this.ticks.length;this._convertTicksToLabels(l?GT(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=fQ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ai(this.options.afterUpdate,[this])}beforeSetDimensions(){Ai(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ai(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ai(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ai(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i],a.label=Ai(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){Ai(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ai(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,i=QT(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,a=t.maxRotation,o=r,s,l,p;if(!this._isVisible()||!t.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let m=this._getLabelSizes(),_=m.widest.width,S=m.highest.height,C=En(this.chart.width-_,0,this.maxWidth);s=e.offset?this.maxWidth/i:C/(i-1),_+6>s&&(s=C/(i-(e.offset?.5:1)),l=this.maxHeight-rp(e.grid)-t.padding-YT(e.title,this.chart.options.font),p=Math.sqrt(_*_+S*S),o=E0(Math.min(Math.asin(En((m.highest.height+6)/s,-1,1)),Math.asin(En(l/p,-1,1))-Math.asin(En(S/p,-1,1)))),o=Math.max(r,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ai(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ai(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:a}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){let l=YT(r,t.options.font);if(s?(e.width=this.maxWidth,e.height=rp(a)+l):(e.height=this.maxHeight,e.width=rp(a)+l),i.display&&this.ticks.length){let{first:p,last:m,widest:_,highest:S}=this._getLabelSizes(),C=i.padding*2,E=na(this.labelRotation),I=Math.cos(E),M=Math.sin(E);if(s){let F=i.mirror?0:M*_.width+I*S.height;e.height=Math.min(this.maxHeight,e.height+F+C)}else{let F=i.mirror?0:I*_.width+M*S.height;e.width=Math.min(this.maxWidth,e.width+F+C)}this._calculatePadding(p,m,M,I)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){let{ticks:{align:a,padding:o},position:s}=this.options,l=this.labelRotation!==0,p=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1),S=0,C=0;l?p?(S=r*e.width,C=i*t.height):(S=i*e.height,C=r*t.width):a==="start"?C=t.width:a==="end"?S=e.width:a!=="inner"&&(S=e.width/2,C=t.width/2),this.paddingLeft=Math.max((S-m+o)*this.width/(this.width-m),0),this.paddingRight=Math.max((C-_+o)*this.width/(this.width-_),0)}else{let m=t.height/2,_=e.height/2;a==="start"?(m=0,_=e.height):a==="end"&&(m=t.height,_=0),this.paddingTop=m+o,this.paddingBottom=_+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ai(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)ei(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,i=this.ticks;t<i.length&&(i=GT(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){let{ctx:r,_longestTextCache:a}=this,o=[],s=[],l=Math.floor(t/QT(t,i)),p=0,m=0,_,S,C,E,I,M,F,N,U,j,$;for(_=0;_<t;_+=l){if(E=e[_].label,I=this._resolveTickFontOptions(_),r.font=M=I.string,F=a[M]=a[M]||{data:{},gc:[]},N=I.lineHeight,U=j=0,!ei(E)&&!Vi(E))U=Ku(r,F.data,F.gc,U,E),j=N;else if(Vi(E))for(S=0,C=E.length;S<C;++S)$=E[S],!ei($)&&!Vi($)&&(U=Ku(r,F.data,F.gc,U,$),j+=N);o.push(U),s.push(j),p=Math.max(U,p),m=Math.max(j,m)}CQ(a,t);let X=o.indexOf(p),te=s.indexOf(m),G=de=>({width:o[de]||0,height:s[de]||0});return{first:G(0),last:G(t-1),widest:G(X),highest:G(te),widths:o,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return sT(this._alignToPixels?Ts(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let i=t[e];return i.$context||(i.$context=EQ(this.getContext(),e,i))}return this.$context||(this.$context=xQ(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=na(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,s=a?a.widest.width+o:0,l=a?a.highest.height+o:0;return this.isHorizontal()?l*i>s*r?s/i:l/r:l*r<s*i?l/i:s/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,i=this.chart,r=this.options,{grid:a,position:o,border:s}=r,l=a.offset,p=this.isHorizontal(),_=this.ticks.length+(l?1:0),S=rp(a),C=[],E=s.setContext(this.getContext()),I=E.display?E.width:0,M=I/2,F=function(ue){return Ts(i,ue,I)},N,U,j,$,X,te,G,de,Qe,Dt,At,dn;if(o==="top")N=F(this.bottom),te=this.bottom-S,de=N-M,Dt=F(e.top)+M,dn=e.bottom;else if(o==="bottom")N=F(this.top),Dt=e.top,dn=F(e.bottom)-M,te=N+M,de=this.top+S;else if(o==="left")N=F(this.right),X=this.right-S,G=N-M,Qe=F(e.left)+M,At=e.right;else if(o==="right")N=F(this.left),Qe=e.left,At=F(e.right)-M,X=N+M,G=this.left+S;else if(t==="x"){if(o==="center")N=F((e.top+e.bottom)/2+.5);else if(zt(o)){let ue=Object.keys(o)[0],we=o[ue];N=F(this.chart.scales[ue].getPixelForValue(we))}Dt=e.top,dn=e.bottom,te=N+M,de=te+S}else if(t==="y"){if(o==="center")N=F((e.left+e.right)/2);else if(zt(o)){let ue=Object.keys(o)[0],we=o[ue];N=F(this.chart.scales[ue].getPixelForValue(we))}X=N-M,G=X-S,Qe=e.left,At=e.right}let Qn=Lt(r.ticks.maxTicksLimit,_),ui=Math.max(1,Math.ceil(_/Qn));for(U=0;U<_;U+=ui){let ue=this.getContext(U),we=a.setContext(ue),Oe=s.setContext(ue),ot=we.lineWidth,Ui=we.color,dr=Oe.dash||[],gn=Oe.dashOffset,fr=we.tickWidth,pi=we.tickColor,as=we.tickBorderDash||[],Co=we.tickBorderDashOffset;j=SQ(this,U,l),j!==void 0&&($=Ts(i,j,ot),p?X=G=Qe=At=$:te=de=Dt=dn=$,C.push({tx1:X,ty1:te,tx2:G,ty2:de,x1:Qe,y1:Dt,x2:At,y2:dn,width:ot,color:Ui,borderDash:dr,borderDashOffset:gn,tickWidth:fr,tickColor:pi,tickBorderDash:as,tickBorderDashOffset:Co}))}return this._ticksLength=_,this._borderValue=N,C}_computeLabelItems(e){let t=this.axis,i=this.options,{position:r,ticks:a}=i,o=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:p,padding:m,mirror:_}=a,S=rp(i.grid),C=S+m,E=_?-m:C,I=-na(this.labelRotation),M=[],F,N,U,j,$,X,te,G,de,Qe,Dt,At,dn="middle";if(r==="top")X=this.bottom-E,te=this._getXAxisLabelAlignment();else if(r==="bottom")X=this.top+E,te=this._getXAxisLabelAlignment();else if(r==="left"){let ui=this._getYAxisLabelAlignment(S);te=ui.textAlign,$=ui.x}else if(r==="right"){let ui=this._getYAxisLabelAlignment(S);te=ui.textAlign,$=ui.x}else if(t==="x"){if(r==="center")X=(e.top+e.bottom)/2+C;else if(zt(r)){let ui=Object.keys(r)[0],ue=r[ui];X=this.chart.scales[ui].getPixelForValue(ue)+C}te=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")$=(e.left+e.right)/2-C;else if(zt(r)){let ui=Object.keys(r)[0],ue=r[ui];$=this.chart.scales[ui].getPixelForValue(ue)}te=this._getYAxisLabelAlignment(S).textAlign}t==="y"&&(l==="start"?dn="top":l==="end"&&(dn="bottom"));let Qn=this._getLabelSizes();for(F=0,N=s.length;F<N;++F){U=s[F],j=U.label;let ui=a.setContext(this.getContext(F));G=this.getPixelForTick(F)+a.labelOffset,de=this._resolveTickFontOptions(F),Qe=de.lineHeight,Dt=Vi(j)?j.length:1;let ue=Dt/2,we=ui.color,Oe=ui.textStrokeColor,ot=ui.textStrokeWidth,Ui=te;o?($=G,te==="inner"&&(F===N-1?Ui=this.options.reverse?"left":"right":F===0?Ui=this.options.reverse?"right":"left":Ui="center"),r==="top"?p==="near"||I!==0?At=-Dt*Qe+Qe/2:p==="center"?At=-Qn.highest.height/2-ue*Qe+Qe:At=-Qn.highest.height+Qe/2:p==="near"||I!==0?At=Qe/2:p==="center"?At=Qn.highest.height/2-ue*Qe:At=Qn.highest.height-Dt*Qe,_&&(At*=-1),I!==0&&!ui.showLabelBackdrop&&($+=Qe/2*Math.sin(I))):(X=G,At=(1-Dt)*Qe/2);let dr;if(ui.showLabelBackdrop){let gn=Hn(ui.backdropPadding),fr=Qn.heights[F],pi=Qn.widths[F],as=At-gn.top,Co=0-gn.left;switch(dn){case"middle":as-=fr/2;break;case"bottom":as-=fr;break}switch(te){case"center":Co-=pi/2;break;case"right":Co-=pi;break;case"inner":F===N-1?Co-=pi:F>0&&(Co-=pi/2);break}dr={left:Co,top:as,width:pi+gn.width,height:fr+gn.height,color:ui.backdropColor}}M.push({label:j,font:de,textOffset:At,options:{rotation:I,color:we,strokeColor:Oe,strokeWidth:ot,textAlign:Ui,textBaseline:dn,translation:[$,X],backdrop:dr}})}return M}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-na(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,o=this._getLabelSizes(),s=e+a,l=o.widest.width,p,m;return t==="left"?r?(m=this.right+a,i==="near"?p="left":i==="center"?(p="center",m+=l/2):(p="right",m+=l)):(m=this.right-s,i==="near"?p="right":i==="center"?(p="center",m-=l/2):(p="left",m=this.left)):t==="right"?r?(m=this.left+a,i==="near"?p="right":i==="center"?(p="center",m-=l/2):(p="left",m-=l)):(m=this.left+s,i==="near"?p="left":i==="center"?(p="center",m+=l/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:i,top:r,width:a,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,a,o),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let r=this.ticks.findIndex(a=>a.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),a,o,s=(l,p,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(t.display)for(a=0,o=r.length;a<o;++a){let l=r[a];t.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),o=i.display?a.width:0;if(!o)return;let s=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,p,m,_,S;this.isHorizontal()?(p=Ts(e,this.left,o)-o/2,m=Ts(e,this.right,s)+s/2,_=S=l):(_=Ts(e,this.top,o)-o/2,S=Ts(e,this.bottom,s)+s/2,p=m=l),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(p,_),t.lineTo(m,S),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&Ju(i,r);let a=this.getLabelItems(e);for(let o of a){let s=o.options,l=o.font,p=o.label,m=o.textOffset;Ds(i,p,0,m,l,s)}r&&ep(i)}drawTitle(){let{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;let a=_n(i.font),o=Hn(i.padding),s=i.align,l=a.lineHeight/2;t==="bottom"||t==="center"||zt(t)?(l+=o.bottom,Vi(i.text)&&(l+=a.lineHeight*(i.text.length-1))):l+=o.top;let{titleX:p,titleY:m,maxWidth:_,rotation:S}=TQ(this,l,t,s);Ds(e,i.text,0,0,a,{color:i.color,maxWidth:_,rotation:S,textAlign:IQ(s,t,r),textBaseline:"middle",translation:[p,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,i=Lt(e.grid&&e.grid.z,-1),r=Lt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],a,o;for(a=0,o=t.length;a<o;++a){let s=t[a];s[i]===this.id&&(!e||s.type===e)&&r.push(s)}return r}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return _n(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},$c=class{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),i;MQ(t)&&(i=this.register(t));let r=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,DQ(e,o,i),this.override&&nn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in nn[r]&&(delete nn[r][i],this.override&&delete Is[i])}};function DQ(n,e,t){let i=Fc(Object.create(null),[t?nn.get(t):{},nn.get(e),n.defaults]);nn.set(e,i),n.defaultRoutes&&AQ(e,n.defaultRoutes),n.descriptors&&nn.describe(e,n.descriptors)}function AQ(n,e){Object.keys(e).forEach(t=>{let i=t.split("."),r=i.pop(),a=[n].concat(i).join("."),o=e[t].split("."),s=o.pop(),l=o.join(".");nn.route(a,r,l,s)})}function MQ(n){return"id"in n&&"defaults"in n}var Mb=class{constructor(){this.controllers=new $c(Ps,"datasets",!0),this.elements=new $c(ka,"elements"),this.plugins=new $c(Object,"plugins"),this.scales=new $c(Dl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{let a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(e,a,r):gi(r,o=>{let s=i||this._getRegistryForType(o);this._exec(e,s,o)})})}_exec(e,t,i){let r=x0(e);Ai(i["before"+r],[],i),t[e](i),Ai(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){let r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},uo=new Mb,kb=class{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let a=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(let a of e){let o=a.plugin,s=o[i],l=[t,r,a.options];if(Ai(s,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ei(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let i=e&&e.config,r=Lt(i.options&&i.options.plugins,{}),a=kQ(i);return r===!1&&!t?[]:LQ(e,a,r,t)}_notifyStateChanges(e){let t=this._oldCache||[],i=this._cache,r=(a,o)=>a.filter(s=>!o.some(l=>s.plugin.id===l.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}};function kQ(n){let e={},t=[],i=Object.keys(uo.plugins.items);for(let a=0;a<i.length;a++)t.push(uo.getPlugin(i[a]));let r=n.plugins||[];for(let a=0;a<r.length;a++){let o=r[a];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function PQ(n,e){return!e&&n===!1?null:n===!0?{}:n}function LQ(n,{plugins:e,localIds:t},i,r){let a=[],o=n.getContext();for(let s of e){let l=s.id,p=PQ(i[l],r);p!==null&&a.push({plugin:s,options:RQ(n.config,{plugin:s,local:t[l]},p,o)})}return a}function RQ(n,{plugin:e,local:t},i,r){let a=n.pluginScopeKeys(e),o=n.getOptionScopes(i,a);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pb(n,e){let t=nn.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function BQ(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function FQ(n,e){return n===e?"_index_":"_value_"}function KT(n){if(n==="x"||n==="y"||n==="r")return n}function OQ(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Lb(n,...e){if(KT(n))return n;for(let t of e){let i=t.axis||OQ(t.position)||n.length>1&&KT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function XT(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function NQ(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return XT(n,"x",t[0])||XT(n,"y",t[0])}return{}}function VQ(n,e){let t=Is[n.type]||{scales:{}},i=e.scales||{},r=Pb(n.type,e),a=Object.create(null);return Object.keys(i).forEach(o=>{let s=i[o];if(!zt(s))return console.error(`Invalid scale configuration for scale: ${o}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let l=Lb(o,s,NQ(o,n),nn.scales[s.type]),p=FQ(l,r),m=t.scales||{};a[o]=Nc(Object.create(null),[{axis:l},s,m[l],m[p]])}),n.data.datasets.forEach(o=>{let s=o.type||n.type,l=o.indexAxis||Pb(s,e),m=(Is[s]||{}).scales||{};Object.keys(m).forEach(_=>{let S=BQ(_,l),C=o[S+"AxisID"]||S;a[C]=a[C]||Object.create(null),Nc(a[C],[{axis:S},i[C],m[_]])})}),Object.keys(a).forEach(o=>{let s=a[o];Nc(s,[nn.scales[s.type],nn.scale])}),a}function ND(n){let e=n.options||(n.options={});e.plugins=Lt(e.plugins,{}),e.scales=VQ(n,e)}function VD(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function HQ(n){return n=n||{},n.data=VD(n.data),ND(n),n}var ZT=new Map,HD=new Set;function O0(n,e){let t=ZT.get(n);return t||(t=e(),ZT.set(n,t),HD.add(t)),t}var ap=(n,e,t)=>{let i=Uo(e,t);i!==void 0&&n.add(i)},Rb=class{constructor(e){this._config=HQ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=VD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),ND(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return O0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return O0(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return O0(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,i=this.type;return O0(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let i=this._scopeCache,r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){let{options:r,type:a}=this,o=this._cachedScopes(e,i),s=o.get(t);if(s)return s;let l=new Set;t.forEach(m=>{e&&(l.add(e),m.forEach(_=>ap(l,e,_))),m.forEach(_=>ap(l,r,_)),m.forEach(_=>ap(l,Is[a]||{},_)),m.forEach(_=>ap(l,nn,_)),m.forEach(_=>ap(l,D0,_))});let p=Array.from(l);return p.length===0&&p.push(Object.create(null)),HD.has(t)&&o.set(t,p),p}chartOptionScopes(){let{options:e,type:t}=this;return[e,Is[t]||{},nn.datasets[t]||{},{type:t},nn,D0]}resolveNamedOptions(e,t,i,r=[""]){let a={$shared:!0},{resolver:o,subPrefixes:s}=JT(this._resolverCache,e,r),l=o;if(UQ(o,t)){a.$shared=!1,i=Ho(i)?i():i;let p=this.createResolver(e,i,s);l=Cl(o,i,p)}for(let p of t)a[p]=l[p];return a}createResolver(e,t,i=[""],r){let{resolver:a}=JT(this._resolverCache,e,i);return zt(t)?Cl(a,t,void 0,r):a}};function JT(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));let r=t.join(),a=i.get(r);return a||(a={resolver:k0(e,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},i.set(r,a)),a}var WQ=n=>zt(n)&&Object.getOwnPropertyNames(n).some(e=>Ho(n[e]));function UQ(n,e){let{isScriptable:t,isIndexable:i}=ob(n);for(let r of e){let a=t(r),o=i(r),s=(o||a)&&n[r];if(a&&(Ho(s)||WQ(s))||o&&Vi(s))return!0}return!1}var jQ="4.4.2",zQ=["top","bottom","left","right","chartArea"];function eD(n,e){return n==="top"||n==="bottom"||zQ.indexOf(n)===-1&&e==="x"}function tD(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function iD(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ai(t&&t.onComplete,[n],e)}function qQ(n){let e=n.chart,t=e.options.animation;Ai(t&&t.onProgress,[n],e)}function WD(n){return P0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var j0={},nD=n=>{let e=WD(n);return Object.values(j0).filter(t=>t.canvas===e).pop()};function $Q(n,e,t){let i=Object.keys(n);for(let r of i){let a=+r;if(a>=e){let o=n[r];delete n[r],(t>0||a>e)&&(n[a+t]=o)}}}function QQ(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function N0(n,e,t){return n.options.clip?n[t]:e[t]}function GQ(n,e){let{xScale:t,yScale:i}=n;return t&&i?{left:N0(t,e,"left"),right:N0(t,e,"right"),top:N0(i,e,"top"),bottom:N0(i,e,"bottom")}:e}var K0=(()=>{class n{static defaults=nn;static instances=j0;static overrides=Is;static registry=uo;static version=jQ;static getChart=nD;static register(...t){uo.add(...t),rD()}static unregister(...t){uo.remove(...t),rD()}constructor(t,i){let r=this.config=new Rb(i),a=WD(t),o=nD(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||hQ(a)),this.platform.updateConfig(r);let l=this.platform.acquireContext(a,s.aspectRatio),p=l&&l.canvas,m=p&&p.height,_=p&&p.width;if(this.id=tT(),this.ctx=l,this.canvas=p,this.width=_,this.height=m,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kb,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pT(S=>this.update(S),s.resizeDelay||0),this._dataChanges=[],j0[this.id]=this,!l||!p){console.error("Failed to create chart: can't acquire context from the given item");return}zo.listen(this,"complete",iD),zo.listen(this,"progress",qQ),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:i},width:r,height:a,_aspectRatio:o}=this;return ei(t)?i&&o?o:a?r/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return uo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():db(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return nb(this.canvas,this.ctx),this}stop(){return zo.stop(this),this}resize(t,i){zo.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){let r=this.options,a=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(a,t,i,o),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),p=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,db(this,l,!0)&&(this.notifyPlugins("resize",{size:s}),Ai(r.onResize,[this,s],this),this.attached&&this._doResize(p)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};gi(i,(r,a)=>{r.id=a})}buildOrUpdateScales(){let t=this.options,i=t.scales,r=this.scales,a=Object.keys(r).reduce((s,l)=>(s[l]=!1,s),{}),o=[];i&&(o=o.concat(Object.keys(i).map(s=>{let l=i[s],p=Lb(s,l),m=p==="r",_=p==="x";return{options:l,dposition:m?"chartArea":_?"bottom":"left",dtype:m?"radialLinear":_?"category":"linear"}}))),gi(o,s=>{let l=s.options,p=l.id,m=Lb(p,l),_=Lt(l.type,s.dtype);(l.position===void 0||eD(l.position,m)!==eD(s.dposition))&&(l.position=s.dposition),a[p]=!0;let S=null;if(p in r&&r[p].type===_)S=r[p];else{let C=uo.getScale(_);S=new C({id:p,type:_,ctx:this.ctx,chart:this}),r[S.id]=S}S.init(l,t)}),gi(a,(s,l)=>{s||delete r[l]}),gi(r,s=>{ar.configure(this,s,s.options),ar.addBox(this,s)})}_updateMetasets(){let t=this._metasets,i=this.data.datasets.length,r=t.length;if(t.sort((a,o)=>a.index-o.index),r>i){for(let a=i;a<r;++a)this._destroyDatasetMeta(a);t.splice(i,r-i)}this._sortedMetasets=t.slice(0).sort(tD("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((r,a)=>{i.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){let t=[],i=this.data.datasets,r,a;for(this._removeUnreferencedMetasets(),r=0,a=i.length;r<a;r++){let o=i[r],s=this.getDatasetMeta(r),l=o.type||this.config.type;if(s.type&&s.type!==l&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=l,s.indexAxis=o.indexAxis||Pb(l,this.options),s.order=o.order||0,s.index=r,s.label=""+o.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{let p=uo.getController(l),{datasetElementType:m,dataElementType:_}=nn.datasets[l];Object.assign(p,{dataElementType:uo.getElement(_),datasetElementType:m&&uo.getElement(m)}),s.controller=new p(this,r),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){gi(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let m=0,_=this.data.datasets.length;m<_;m++){let{controller:S}=this.getDatasetMeta(m),C=!a&&o.indexOf(S)===-1;S.buildOrUpdateElements(C),s=Math.max(+S.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),a||gi(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(tD("z","_idx"));let{_active:l,_lastEvent:p}=this;p?this._eventHandler(p,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){gi(this.scales,t=>{ar.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!zy(i,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:a,count:o}of i){let s=r==="_removeElements"?-o:o;$Q(t,a,s)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=o=>new Set(t.filter(s=>s[0]===o).map((s,l)=>l+","+s.splice(1).join(","))),a=r(0);for(let o=1;o<i;o++)if(!zy(a,r(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ar.update(this,this.width,this.height,t);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],gi(this.boxes,a=>{r&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Ho(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){let r=this.getDatasetMeta(t),a={meta:r,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(r.controller._update(i),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zo.has(this)?this.attached&&!zo.running(this)&&zo.start(this):(this.draw(),iD({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:r,height:a}=this._resizeBeforeDraw;this._resize(r,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let i=this._sortedMetasets,r=[],a,o;for(a=0,o=i.length;a<o;++a){let s=i[a];(!t||s.visible)&&r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let i=this.ctx,r=t._clip,a=!r.disabled,o=GQ(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Ju(i,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),t.controller.draw(),a&&ep(i),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return oo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,r,a){let o=Y$.modes[i];return typeof o=="function"?o(this,t,r,a):[]}getDatasetMeta(t){let i=this.data.datasets[t],r=this._metasets,a=r.filter(o=>o&&o._dataset===i).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},r.push(a)),a}getContext(){return this.$context||(this.$context=jo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let i=this.data.datasets[t];if(!i)return!1;let r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(t,i){let r=this.getDatasetMeta(t);r.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,r){let a=r?"show":"hide",o=this.getDatasetMeta(t),s=o.controller._resolveAnimations(void 0,a);Vc(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),s.update(o,{visible:r}),this.update(l=>l.datasetIndex===t?a:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){let i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),zo.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),nb(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete j0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,i=this.platform,r=(o,s)=>{i.addEventListener(this,o,s),t[o]=s},a=(o,s,l)=>{o.offsetX=s,o.offsetY=l,this._eventHandler(o)};gi(this.options.events,o=>r(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,i=this.platform,r=(p,m)=>{i.addEventListener(this,p,m),t[p]=m},a=(p,m)=>{t[p]&&(i.removeEventListener(this,p,m),delete t[p])},o=(p,m)=>{this.canvas&&this.resize(p,m)},s,l=()=>{a("attach",l),this.attached=!0,this.resize(),r("resize",o),r("detach",s)};s=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),r("attach",l)},i.isAttached(this.canvas)?l():s()}unbindEvents(){gi(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},gi(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,r){let a=r?"set":"remove",o,s,l,p;for(i==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),l=0,p=t.length;l<p;++l){s=t[l];let m=s&&this.getDatasetMeta(s.datasetIndex).controller;m&&m[a+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let i=this._active||[],r=t.map(({datasetIndex:o,index:s})=>{let l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[s],index:s}});!Xu(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(t,i,r){return this._plugins.notify(this,t,i,r)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,r){let a=this.options.hover,o=(p,m)=>p.filter(_=>!m.some(S=>_.datasetIndex===S.datasetIndex&&_.index===S.index)),s=o(i,t),l=r?t:o(t,i);s.length&&this.updateHoverStyle(s,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(t,i){let r={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},a=s=>(s.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,a)===!1)return;let o=this._handleEvent(t,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,a),(o||r.changed)&&this.render(),this}_handleEvent(t,i,r){let{_active:a=[],options:o}=this,s=i,l=this._getActiveElements(t,a,r,s),p=rT(t),m=QQ(t,this._lastEvent,r,p);r&&(this._lastEvent=null,Ai(o.onHover,[t,l,this],this),p&&Ai(o.onClick,[t,l,this],this));let _=!Xu(l,a);return(_||i)&&(this._active=l,this._updateHoverStyles(l,a,i)),this._lastEvent=m,_}_getActiveElements(t,i,r,a){if(t.type==="mouseout")return[];if(!r)return i;let o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}}return n})();function rD(){return gi(K0.instances,n=>n._plugins.invalidate())}function YQ(n,e,t){let{startAngle:i,pixelMargin:r,x:a,y:o,outerRadius:s,innerRadius:l}=e,p=r/s;n.beginPath(),n.arc(a,o,s,i-p,t+p),l>r?(p=r/l,n.arc(a,o,l,t+p,i-p,!0)):n.arc(a,o,r,t+cn,i-cn),n.closePath(),n.clip()}function KQ(n){return M0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function XQ(n,e,t,i){let r=KQ(n.options.borderRadius),a=(t-e)/2,o=Math.min(a,i*e/2),s=l=>{let p=(t-Math.min(a,l))*i/2;return En(l,0,Math.min(a,p))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:En(r.innerStart,0,o),innerEnd:En(r.innerEnd,0,o)}}function qc(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Q0(n,e,t,i,r,a){let{x:o,y:s,startAngle:l,pixelMargin:p,innerRadius:m}=e,_=Math.max(e.outerRadius+i+t-p,0),S=m>0?m+i+t+p:0,C=0,E=r-l;if(i){let ui=m>0?m-i:0,ue=_>0?_-i:0,we=(ui+ue)/2,Oe=we!==0?E*we/(we+i):E;C=(E-Oe)/2}let I=Math.max(.001,E*_-t/Hi)/_,M=(E-I)/2,F=l+M+C,N=r-M-C,{outerStart:U,outerEnd:j,innerStart:$,innerEnd:X}=XQ(e,S,_,N-F),te=_-U,G=_-j,de=F+U/te,Qe=N-j/G,Dt=S+$,At=S+X,dn=F+$/Dt,Qn=N-X/At;if(n.beginPath(),a){let ui=(de+Qe)/2;if(n.arc(o,s,_,de,ui),n.arc(o,s,_,ui,Qe),j>0){let ot=qc(G,Qe,o,s);n.arc(ot.x,ot.y,j,Qe,N+cn)}let ue=qc(At,N,o,s);if(n.lineTo(ue.x,ue.y),X>0){let ot=qc(At,Qn,o,s);n.arc(ot.x,ot.y,X,N+cn,Qn+Math.PI)}let we=(N-X/S+(F+$/S))/2;if(n.arc(o,s,S,N-X/S,we,!0),n.arc(o,s,S,we,F+$/S,!0),$>0){let ot=qc(Dt,dn,o,s);n.arc(ot.x,ot.y,$,dn+Math.PI,F-cn)}let Oe=qc(te,F,o,s);if(n.lineTo(Oe.x,Oe.y),U>0){let ot=qc(te,de,o,s);n.arc(ot.x,ot.y,U,F-cn,de)}}else{n.moveTo(o,s);let ui=Math.cos(de)*_+o,ue=Math.sin(de)*_+s;n.lineTo(ui,ue);let we=Math.cos(Qe)*_+o,Oe=Math.sin(Qe)*_+s;n.lineTo(we,Oe)}n.closePath()}function ZQ(n,e,t,i,r){let{fullCircles:a,startAngle:o,circumference:s}=e,l=e.endAngle;if(a){Q0(n,e,t,i,l,r);for(let p=0;p<a;++p)n.fill();isNaN(s)||(l=o+(s%Wi||Wi))}return Q0(n,e,t,i,l,r),n.fill(),l}function JQ(n,e,t,i,r){let{fullCircles:a,startAngle:o,circumference:s,options:l}=e,{borderWidth:p,borderJoinStyle:m,borderDash:_,borderDashOffset:S}=l,C=l.borderAlign==="inner";if(!p)return;n.setLineDash(_||[]),n.lineDashOffset=S,C?(n.lineWidth=p*2,n.lineJoin=m||"round"):(n.lineWidth=p,n.lineJoin=m||"bevel");let E=e.endAngle;if(a){Q0(n,e,t,i,E,r);for(let I=0;I<a;++I)n.stroke();isNaN(s)||(E=o+(s%Wi||Wi))}C&&YQ(n,e,E),a||(Q0(n,e,t,i,E,r),n.stroke())}var Bb=class extends ka{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){let r=this.getProps(["x","y"],i),{angle:a,distance:o}=Gy(r,{x:e,y:t}),{startAngle:s,endAngle:l,innerRadius:p,outerRadius:m,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),S=(this.options.spacing+this.options.borderWidth)/2,E=Lt(_,l-s)>=Wi||Wc(a,s,l),I=lo(o,p+S,m+S);return E&&I}getCenterPoint(e){let{x:t,y:i,startAngle:r,endAngle:a,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:p}=this.options,m=(r+a)/2,_=(o+s+p+l)/2;return{x:t+Math.cos(m)*_,y:i+Math.sin(m)*_}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:i}=this,r=(t.offset||0)/4,a=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>Wi?Math.floor(i/Wi):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*r,Math.sin(s)*r);let l=1-Math.sin(Math.min(Hi,i||0)),p=r*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,ZQ(e,this,p,a,o),JQ(e,this,p,a,o),e.restore()}};function UD(n,e,t=e){n.lineCap=Lt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Lt(t.borderDash,e.borderDash)),n.lineDashOffset=Lt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Lt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Lt(t.borderWidth,e.borderWidth),n.strokeStyle=Lt(t.borderColor,e.borderColor)}function eG(n,e,t){n.lineTo(t.x,t.y)}function tG(n){return n.stepped?gT:n.tension||n.cubicInterpolationMode==="monotone"?vT:eG}function jD(n,e,t={}){let i=n.length,{start:r=0,end:a=i-1}=t,{start:o,end:s}=e,l=Math.max(r,o),p=Math.min(a,s),m=r<o&&a<o||r>s&&a>s;return{count:i,start:l,loop:e.loop,ilen:p<l&&!m?i+p-l:p-l}}function iG(n,e,t,i){let{points:r,options:a}=e,{count:o,start:s,loop:l,ilen:p}=jD(r,t,i),m=tG(a),{move:_=!0,reverse:S}=i||{},C,E,I;for(C=0;C<=p;++C)E=r[(s+(S?p-C:C))%o],!E.skip&&(_?(n.moveTo(E.x,E.y),_=!1):m(n,I,E,S,a.stepped),I=E);return l&&(E=r[(s+(S?p:0))%o],m(n,I,E,S,a.stepped)),!!l}function nG(n,e,t,i){let r=e.points,{count:a,start:o,ilen:s}=jD(r,t,i),{move:l=!0,reverse:p}=i||{},m=0,_=0,S,C,E,I,M,F,N=j=>(o+(p?s-j:j))%a,U=()=>{I!==M&&(n.lineTo(m,M),n.lineTo(m,I),n.lineTo(m,F))};for(l&&(C=r[N(0)],n.moveTo(C.x,C.y)),S=0;S<=s;++S){if(C=r[N(S)],C.skip)continue;let j=C.x,$=C.y,X=j|0;X===E?($<I?I=$:$>M&&(M=$),m=(_*m+j)/++_):(U(),n.lineTo(j,$),E=X,_=0,I=M=$),F=$}U()}function Fb(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?nG:iG}function rG(n){return n.stepped?IT:n.tension||n.cubicInterpolationMode==="monotone"?TT:Es}function aG(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),UD(n,e.options),n.stroke(r)}function oG(n,e,t,i){let{segments:r,options:a}=e,o=Fb(e);for(let s of r)UD(n,a,s.style),n.beginPath(),o(n,e,s,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}var sG=typeof Path2D=="function";function lG(n,e,t,i){sG&&!e.options.segment?aG(n,e,t,i):oG(n,e,t,i)}var X0=(()=>{class n extends ka{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let a=r.spanGaps?this._loop:this._fullLoop;CT(this._points,r,t,a,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=AT(this,this.options.segment))}first(){let t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){let t=this.segments,i=this.points,r=t.length;return r&&i[t[r-1].end]}interpolate(t,i){let r=this.options,a=t[i],o=this.points,s=fb(this,{property:i,start:a,end:a});if(!s.length)return;let l=[],p=rG(r),m,_;for(m=0,_=s.length;m<_;++m){let{start:S,end:C}=s[m],E=o[S],I=o[C];if(E===I){l.push(E);continue}let M=Math.abs((a-E[i])/(I[i]-E[i])),F=p(E,I,M,r.stepped);F[i]=t[i],l.push(F)}return l.length===1?l[0]:l}pathSegment(t,i,r){return Fb(this)(t,this,i,r)}path(t,i,r){let a=this.segments,o=Fb(this),s=this._loop;i=i||0,r=r||this.points.length-i;for(let l of a)s&=o(t,this,l,{start:i,end:i+r-1});return!!s}draw(t,i,r,a){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),lG(t,this,r,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function aD(n,e,t,i){let r=n.options,{[t]:a}=n.getProps([t],i);return Math.abs(e-a)<r.radius+r.hitRadius}var cG=(()=>{class n extends ka{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){let a=this.options,{x:o,y:s}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(i-s,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,i){return aD(this,t,"x",i)}inYRange(t,i){return aD(this,t,"y",i)}getCenterPoint(t){let{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);let r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){let r=this.options;this.skip||r.radius<.1||!oo(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,A0(t,r,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n})();function zD(n,e){let{x:t,y:i,base:r,width:a,height:o}=n.getProps(["x","y","base","width","height"],e),s,l,p,m,_;return n.horizontal?(_=o/2,s=Math.min(t,r),l=Math.max(t,r),p=i-_,m=i+_):(_=a/2,s=t-_,l=t+_,p=Math.min(i,r),m=Math.max(i,r)),{left:s,top:p,right:l,bottom:m}}function ks(n,e,t,i){return n?0:En(e,t,i)}function dG(n,e,t){let i=n.options.borderWidth,r=n.borderSkipped,a=ab(i);return{t:ks(r.top,a.top,0,t),r:ks(r.right,a.right,0,e),b:ks(r.bottom,a.bottom,0,t),l:ks(r.left,a.left,0,e)}}function uG(n,e,t){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,a=As(r),o=Math.min(e,t),s=n.borderSkipped,l=i||zt(r);return{topLeft:ks(!l||s.top||s.left,a.topLeft,0,o),topRight:ks(!l||s.top||s.right,a.topRight,0,o),bottomLeft:ks(!l||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:ks(!l||s.bottom||s.right,a.bottomRight,0,o)}}function pG(n){let e=zD(n),t=e.right-e.left,i=e.bottom-e.top,r=dG(n,t/2,i/2),a=uG(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:a},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function Sb(n,e,t,i){let r=e===null,a=t===null,s=n&&!(r&&a)&&zD(n,i);return s&&(r||lo(e,s.left,s.right))&&(a||lo(t,s.top,s.bottom))}function mG(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function hG(n,e){n.rect(e.x,e.y,e.w,e.h)}function Cb(n,e,t={}){let i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+a,h:n.h+o,radius:n.radius}}var Ob=class extends ka{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:a,outer:o}=pG(this),s=mG(o.radius)?jc:hG;e.save(),(o.w!==a.w||o.h!==a.h)&&(e.beginPath(),s(e,Cb(o,t,a)),e.clip(),s(e,Cb(a,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),s(e,Cb(a,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return Sb(this,e,t,i)}inXRange(e,t){return Sb(this,e,null,t)}inYRange(e,t){return Sb(this,null,e,t)}getCenterPoint(e){let{x:t,y:i,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+r)/2:t,y:a?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},fG=Object.freeze({__proto__:null,ArcElement:Bb,BarElement:Ob,LineElement:X0,PointElement:cG}),Nb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],oD=Nb.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function qD(n){return Nb[n%Nb.length]}function $D(n){return oD[n%oD.length]}function gG(n,e){return n.borderColor=qD(e),n.backgroundColor=$D(e),++e}function vG(n,e){return n.backgroundColor=n.data.map(()=>qD(e++)),e}function _G(n,e){return n.backgroundColor=n.data.map(()=>$D(e++)),e}function yG(n){let e=0;return(t,i)=>{let r=n.getDatasetMeta(i).controller;r instanceof $b?e=vG(t,e):r instanceof LD?e=_G(t,e):r&&(e=gG(t,e))}}function sD(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function bG(n){return n&&(n.borderColor||n.backgroundColor)}var wG={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:i},options:r}=n.config,{elements:a}=r;if(!t.forceOverride&&(sD(i)||bG(r)||a&&sD(a)))return;let o=yG(n);i.forEach(o)}};function SG(n,e,t,i,r){let a=r.samples||i;if(a>=t)return n.slice(e,e+t);let o=[],s=(t-2)/(a-2),l=0,p=e+t-1,m=e,_,S,C,E,I;for(o[l++]=n[m],_=0;_<a-2;_++){let M=0,F=0,N,U=Math.floor((_+1)*s)+1+e,j=Math.min(Math.floor((_+2)*s)+1,t)+e,$=j-U;for(N=U;N<j;N++)M+=n[N].x,F+=n[N].y;M/=$,F/=$;let X=Math.floor(_*s)+1+e,te=Math.min(Math.floor((_+1)*s)+1,t)+e,{x:G,y:de}=n[m];for(C=E=-1,N=X;N<te;N++)E=.5*Math.abs((G-M)*(n[N].y-de)-(G-n[N].x)*(F-de)),E>C&&(C=E,S=n[N],I=N);o[l++]=S,m=I}return o[l++]=n[p],o}function CG(n,e,t,i){let r=0,a=0,o,s,l,p,m,_,S,C,E,I,M=[],F=e+t-1,N=n[e].x,j=n[F].x-N;for(o=e;o<e+t;++o){s=n[o],l=(s.x-N)/j*i,p=s.y;let $=l|0;if($===m)p<E?(E=p,_=o):p>I&&(I=p,S=o),r=(a*r+s.x)/++a;else{let X=o-1;if(!ei(_)&&!ei(S)){let te=Math.min(_,S),G=Math.max(_,S);te!==C&&te!==X&&M.push(Mt(z({},n[te]),{x:r})),G!==C&&G!==X&&M.push(Mt(z({},n[G]),{x:r}))}o>0&&X!==C&&M.push(n[X]),M.push(s),m=$,a=0,E=I=p,_=S=C=o}}return M}function QD(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function lD(n){n.data.datasets.forEach(e=>{QD(e)})}function xG(n,e){let t=e.length,i=0,r,{iScale:a}=n,{min:o,max:s,minDefined:l,maxDefined:p}=a.getUserBounds();return l&&(i=En(ao(e,a.axis,o).lo,0,t-1)),p?r=En(ao(e,a.axis,s).hi+1,i,t)-i:r=t-i,{start:i,count:r}}var EG={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){lD(n);return}let i=n.width;n.data.datasets.forEach((r,a)=>{let{_data:o,indexAxis:s}=r,l=n.getDatasetMeta(a),p=o||r.data;if(zc([s,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let m=n.scales[l.xAxisID];if(m.type!=="linear"&&m.type!=="time"||n.options.parsing)return;let{start:_,count:S}=xG(l,p),C=t.threshold||4*i;if(S<=C){QD(r);return}ei(o)&&(r._data=p,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(I){this._data=I}}));let E;switch(t.algorithm){case"lttb":E=SG(p,_,S,i,t);break;case"min-max":E=CG(p,_,S,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=E})},destroy(n){lD(n)}};function IG(n,e,t){let i=n.segments,r=n.points,a=e.points,o=[];for(let s of i){let{start:l,end:p}=s;p=Qb(l,p,r);let m=Vb(t,r[l],r[p],s.loop);if(!e.segments){o.push({source:s,target:m,start:r[l],end:r[p]});continue}let _=fb(e,m);for(let S of _){let C=Vb(t,a[S.start],a[S.end],S.loop),E=hb(s,r,C);for(let I of E)o.push({source:I,target:S,start:{[t]:cD(m,C,"start",Math.max)},end:{[t]:cD(m,C,"end",Math.min)}})}}return o}function Vb(n,e,t,i){if(i)return;let r=e[n],a=t[n];return n==="angle"&&(r=xr(r),a=xr(a)),{property:n,start:r,end:a}}function TG(n,e){let{x:t=null,y:i=null}=n||{},r=e.points,a=[];return e.segments.forEach(({start:o,end:s})=>{s=Qb(o,s,r);let l=r[o],p=r[s];i!==null?(a.push({x:l.x,y:i}),a.push({x:p.x,y:i})):t!==null&&(a.push({x:t,y:l.y}),a.push({x:t,y:p.y}))}),a}function Qb(n,e,t){for(;e>n;e--){let i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function cD(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function GD(n,e){let t=[],i=!1;return Vi(n)?(i=!0,t=n):t=TG(n,e),t.length?new X0({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function dD(n){return n&&n.fill!==!1}function DG(n,e,t){let r=n[e].fill,a=[e],o;if(!t)return r;for(;r!==!1&&a.indexOf(r)===-1;){if(!tn(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;a.push(r),r=o.fill}return!1}function AG(n,e,t){let i=LG(n);if(zt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return tn(r)&&Math.floor(r)===r?MG(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function MG(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function kG(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:zt(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function PG(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:zt(n)?i=n.value:i=e.getBaseValue(),i}function LG(n){let e=n.options,t=e.fill,i=Lt(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function RG(n){let{scale:e,index:t,line:i}=n,r=[],a=i.segments,o=i.points,s=BG(e,t);s.push(GD({x:null,y:e.bottom},i));for(let l=0;l<a.length;l++){let p=a[l];for(let m=p.start;m<=p.end;m++)FG(r,o[m],s)}return new X0({points:r,options:{}})}function BG(n,e){let t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let a=i[r];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function FG(n,e,t){let i=[];for(let r=0;r<t.length;r++){let a=t[r],{first:o,last:s,point:l}=OG(a,e,"x");if(!(!l||o&&s)){if(o)i.unshift(l);else if(n.push(l),!s)break}}n.push(...i)}function OG(n,e,t){let i=n.interpolate(e,t);if(!i)return{};let r=i[t],a=n.segments,o=n.points,s=!1,l=!1;for(let p=0;p<a.length;p++){let m=a[p],_=o[m.start][t],S=o[m.end][t];if(lo(r,_,S)){s=r===_,l=r===S;break}}return{first:s,last:l,point:i}}var G0=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){let{x:r,y:a,radius:o}=this;return t=t||{start:0,end:Wi},e.arc(r,a,o,t.end,t.start,!0),!i.bounds}interpolate(e){let{x:t,y:i,radius:r}=this,a=e.angle;return{x:t+Math.cos(a)*r,y:i+Math.sin(a)*r,angle:a}}};function NG(n){let{chart:e,fill:t,line:i}=n;if(tn(t))return VG(e,t);if(t==="stack")return RG(n);if(t==="shape")return!0;let r=HG(n);return r instanceof G0?r:GD(r,i)}function VG(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function HG(n){return(n.scale||{}).getPointPositionForValue?UG(n):WG(n)}function WG(n){let{scale:e={},fill:t}=n,i=kG(t,e);if(tn(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function UG(n){let{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,a=i.reverse?e.max:e.min,o=PG(t,e,a),s=[];if(i.grid.circular){let l=e.getPointPositionForValue(0,a);return new G0({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)s.push(e.getPointPositionForValue(l,o));return s}function xb(n,e,t){let i=NG(e),{line:r,scale:a,axis:o}=e,s=r.options,l=s.fill,p=s.backgroundColor,{above:m=p,below:_=p}=l||{};i&&r.points.length&&(Ju(n,t),jG(n,{line:r,target:i,above:m,below:_,area:t,scale:a,axis:o}),ep(n))}function jG(n,e){let{line:t,target:i,above:r,below:a,area:o,scale:s}=e,l=t._loop?"angle":e.axis;n.save(),l==="x"&&a!==r&&(uD(n,i,o.top),pD(n,{line:t,target:i,color:r,scale:s,property:l}),n.restore(),n.save(),uD(n,i,o.bottom)),pD(n,{line:t,target:i,color:a,scale:s,property:l}),n.restore()}function uD(n,e,t){let{segments:i,points:r}=e,a=!0,o=!1;n.beginPath();for(let s of i){let{start:l,end:p}=s,m=r[l],_=r[Qb(l,p,r)];a?(n.moveTo(m.x,m.y),a=!1):(n.lineTo(m.x,t),n.lineTo(m.x,m.y)),o=!!e.pathSegment(n,s,{move:o}),o?n.closePath():n.lineTo(_.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function pD(n,e){let{line:t,target:i,property:r,color:a,scale:o}=e,s=IG(t,i,r);for(let{source:l,target:p,start:m,end:_}of s){let{style:{backgroundColor:S=a}={}}=l,C=i!==!0;n.save(),n.fillStyle=S,zG(n,o,C&&Vb(r,m,_)),n.beginPath();let E=!!t.pathSegment(n,l),I;if(C){E?n.closePath():mD(n,i,_,r);let M=!!i.pathSegment(n,p,{move:E,reverse:!0});I=E&&M,I||mD(n,i,m,r)}n.closePath(),n.fill(I?"evenodd":"nonzero"),n.restore()}}function zG(n,e,t){let{top:i,bottom:r}=e.chart.chartArea,{property:a,start:o,end:s}=t||{};a==="x"&&(n.beginPath(),n.rect(o,i,s-o,r-i),n.clip())}function mD(n,e,t,i){let r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var qG={id:"filler",afterDatasetsUpdate(n,e,t){let i=(n.data.datasets||[]).length,r=[],a,o,s,l;for(o=0;o<i;++o)a=n.getDatasetMeta(o),s=a.dataset,l=null,s&&s.options&&s instanceof X0&&(l={visible:n.isDatasetVisible(o),index:o,fill:AG(s,o,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:s}),a.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=DG(r,o,t.propagate))},beforeDraw(n,e,t){let i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let o=r.length-1;o>=0;--o){let s=r[o].$filler;s&&(s.line.updateControlPoints(a,s.axis),i&&s.fill&&xb(n.ctx,s,a))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let a=i[r].$filler;dD(a)&&xb(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,e,t){let i=e.meta.$filler;!dD(i)||t.drawTime!=="beforeDatasetDraw"||xb(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},hD=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},$G=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,Y0=class extends ka{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Ai(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,r=_n(i.font),a=r.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=hD(i,a),p,m;t.font=r.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(o,a,s,l)+10):(m=this.maxHeight,p=this._fitCols(o,r,s,l)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){let{ctx:a,maxWidth:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],p=this.lineWidths=[0],m=r+s,_=e;a.textAlign="left",a.textBaseline="middle";let S=-1,C=-m;return this.legendItems.forEach((E,I)=>{let M=i+t/2+a.measureText(E.text).width;(I===0||p[p.length-1]+M+2*s>o)&&(_+=m,p[p.length-(I>0?0:1)]=0,C+=m,S++),l[I]={left:0,top:C,row:S,width:M,height:r},p[p.length-1]+=M+s}),_}_fitCols(e,t,i,r){let{ctx:a,maxHeight:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],p=this.columnSizes=[],m=o-e,_=s,S=0,C=0,E=0,I=0;return this.legendItems.forEach((M,F)=>{let{itemWidth:N,itemHeight:U}=QG(i,t,a,M,r);F>0&&C+U+2*s>m&&(_+=S+s,p.push({width:S,height:C}),E+=S+s,I++,S=C=0),l[F]={left:E,top:C,col:I,width:N,height:U},S=Math.max(S,N),C+=U+s}),_+=S,p.push({width:S,height:C}),_}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:a}}=this,o=El(a,this.left,this.width);if(this.isHorizontal()){let s=0,l=Vn(i,this.left+r,this.right-this.lineWidths[s]);for(let p of t)s!==p.row&&(s=p.row,l=Vn(i,this.left+r,this.right-this.lineWidths[s])),p.top+=this.top+e+r,p.left=o.leftForLtr(o.x(l),p.width),l+=p.width+r}else{let s=0,l=Vn(i,this.top+e+r,this.bottom-this.columnSizes[s].height);for(let p of t)p.col!==s&&(s=p.col,l=Vn(i,this.top+e+r,this.bottom-this.columnSizes[s].height)),p.top=l,p.left+=this.left+r,p.left=o.leftForLtr(o.x(p.left),p.width),l+=p.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Ju(e,this),this._draw(),ep(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:a,labels:o}=e,s=nn.color,l=El(e.rtl,this.left,this.width),p=_n(o.font),{padding:m}=o,_=p.size,S=_/2,C;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;let{boxWidth:E,boxHeight:I,itemHeight:M}=hD(o,_),F=function(X,te,G){if(isNaN(E)||E<=0||isNaN(I)||I<0)return;r.save();let de=Lt(G.lineWidth,1);if(r.fillStyle=Lt(G.fillStyle,s),r.lineCap=Lt(G.lineCap,"butt"),r.lineDashOffset=Lt(G.lineDashOffset,0),r.lineJoin=Lt(G.lineJoin,"miter"),r.lineWidth=de,r.strokeStyle=Lt(G.strokeStyle,s),r.setLineDash(Lt(G.lineDash,[])),o.usePointStyle){let Qe={radius:I*Math.SQRT2/2,pointStyle:G.pointStyle,rotation:G.rotation,borderWidth:de},Dt=l.xPlus(X,E/2),At=te+S;rb(r,Qe,Dt,At,o.pointStyleWidth&&E)}else{let Qe=te+Math.max((_-I)/2,0),Dt=l.leftForLtr(X,E),At=As(G.borderRadius);r.beginPath(),Object.values(At).some(dn=>dn!==0)?jc(r,{x:Dt,y:Qe,w:E,h:I,radius:At}):r.rect(Dt,Qe,E,I),r.fill(),de!==0&&r.stroke()}r.restore()},N=function(X,te,G){Ds(r,G.text,X,te+M/2,p,{strikethrough:G.hidden,textAlign:l.textAlign(G.textAlign)})},U=this.isHorizontal(),j=this._computeTitleHeight();U?C={x:Vn(a,this.left+m,this.right-i[0]),y:this.top+m+j,line:0}:C={x:this.left+m,y:Vn(a,this.top+j+m,this.bottom-t[0].height),line:0},pb(this.ctx,e.textDirection);let $=M+m;this.legendItems.forEach((X,te)=>{r.strokeStyle=X.fontColor,r.fillStyle=X.fontColor;let G=r.measureText(X.text).width,de=l.textAlign(X.textAlign||(X.textAlign=o.textAlign)),Qe=E+S+G,Dt=C.x,At=C.y;l.setWidth(this.width),U?te>0&&Dt+Qe+m>this.right&&(At=C.y+=$,C.line++,Dt=C.x=Vn(a,this.left+m,this.right-i[C.line])):te>0&&At+$>this.bottom&&(Dt=C.x=Dt+t[C.line].width+m,C.line++,At=C.y=Vn(a,this.top+j+m,this.bottom-t[C.line].height));let dn=l.x(Dt);if(F(dn,At,X),Dt=mT(de,Dt+E+S,U?Dt+Qe:this.right,e.rtl),N(l.x(Dt),At,X),U)C.x+=Qe+m;else if(typeof X.text!="string"){let Qn=p.lineHeight;C.y+=YD(X,Qn)+m}else C.y+=$}),mb(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,i=_n(t.font),r=Hn(t.padding);if(!t.display)return;let a=El(e.rtl,this.left,this.width),o=this.ctx,s=t.position,l=i.size/2,p=r.top+l,m,_=this.left,S=this.width;if(this.isHorizontal())S=Math.max(...this.lineWidths),m=this.top+p,_=Vn(e.align,_,this.right-S);else{let E=this.columnSizes.reduce((I,M)=>Math.max(I,M.height),0);m=p+Vn(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}let C=Vn(s,_,_+S);o.textAlign=a.textAlign(T0(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Ds(o,t.text,C,m,i)}_computeTitleHeight(){let e=this.options.title,t=_n(e.font),i=Hn(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,a;if(lo(e,this.left,this.right)&&lo(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],lo(e,r.left,r.left+r.width)&&lo(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){let t=this.options;if(!KG(e.type,t))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,a=$G(r,i);r&&!a&&Ai(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!a&&Ai(t.onHover,[e,i,this],this)}else i&&Ai(t.onClick,[e,i,this],this)}};function QG(n,e,t,i,r){let a=GG(i,n,e,t),o=YG(r,i,e.lineHeight);return{itemWidth:a,itemHeight:o}}function GG(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((a,o)=>a.length>o.length?a:o)),e+t.size/2+i.measureText(r).width}function YG(n,e,t){let i=n;return typeof e.text!="string"&&(i=YD(e,t)),i}function YD(n,e){let t=n.text?n.text.length:0;return e*t}function KG(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var XG={id:"legend",_element:Y0,start(n,e,t){let i=n.legend=new Y0({ctx:n.ctx,options:t,chart:n});ar.configure(n,i,t),ar.addBox(n,i)},stop(n){ar.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let i=n.legend;ar.configure(n,i,t),i.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:a,useBorderRadius:o,borderRadius:s}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let p=l.controller.getStyle(t?0:void 0),m=Hn(p.borderWidth);return{text:e[l.index].label,fillStyle:p.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:r||p.textAlign,borderRadius:o&&(s||p.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},cp=class extends ka{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let r=Vi(i.text)?i.text.length:1;this._padding=Hn(i.padding);let a=r*_n(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:i,bottom:r,right:a,options:o}=this,s=o.align,l=0,p,m,_;return this.isHorizontal()?(m=Vn(s,i,a),_=t+e,p=a-i):(o.position==="left"?(m=i+e,_=Vn(s,r,t),l=Hi*-.5):(m=a-e,_=Vn(s,t,r),l=Hi*.5),p=r-t),{titleX:m,titleY:_,maxWidth:p,rotation:l}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let i=_n(t.font),a=i.lineHeight/2+this._padding.top,{titleX:o,titleY:s,maxWidth:l,rotation:p}=this._drawArgs(a);Ds(e,t.text,0,0,i,{color:t.color,maxWidth:l,rotation:p,textAlign:T0(t.align),textBaseline:"middle",translation:[o,s]})}};function ZG(n,e){let t=new cp({ctx:n.ctx,options:e,chart:n});ar.configure(n,t,e),ar.addBox(n,t),n.titleBlock=t}var JG={id:"title",_element:cp,start(n,e,t){ZG(n,t)},stop(n){let e=n.titleBlock;ar.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let i=n.titleBlock;ar.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},V0=new WeakMap,eY={id:"subtitle",start(n,e,t){let i=new cp({ctx:n.ctx,options:t,chart:n});ar.configure(n,i,t),ar.addBox(n,i),V0.set(n,i)},stop(n){ar.removeBox(n,V0.get(n)),V0.delete(n)},beforeUpdate(n,e,t){let i=V0.get(n);ar.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},sp={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,a=0;for(e=0,t=n.length;e<t;++e){let s=n[e].element;if(s&&s.hasValue()){let l=s.tooltipPosition();i.add(l.x),r+=l.y,++a}}return{x:[...i].reduce((s,l)=>s+l)/i.size,y:r/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,a,o,s;for(a=0,o=n.length;a<o;++a){let l=n[a].element;if(l&&l.hasValue()){let p=l.getCenterPoint(),m=S0(e,p);m<r&&(r=m,s=l)}}if(s){let l=s.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function co(n,e){return e&&(Vi(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function qo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function tY(n,e){let{element:t,datasetIndex:i,index:r}=e,a=n.getDatasetMeta(i).controller,{label:o,value:s}=a.getLabelAndValue(r);return{chart:n,label:o,parsed:a.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:s,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function fD(n,e){let t=n.chart.ctx,{body:i,footer:r,title:a}=n,{boxWidth:o,boxHeight:s}=e,l=_n(e.bodyFont),p=_n(e.titleFont),m=_n(e.footerFont),_=a.length,S=r.length,C=i.length,E=Hn(e.padding),I=E.height,M=0,F=i.reduce((j,$)=>j+$.before.length+$.lines.length+$.after.length,0);if(F+=n.beforeBody.length+n.afterBody.length,_&&(I+=_*p.lineHeight+(_-1)*e.titleSpacing+e.titleMarginBottom),F){let j=e.displayColors?Math.max(s,l.lineHeight):l.lineHeight;I+=C*j+(F-C)*l.lineHeight+(F-1)*e.bodySpacing}S&&(I+=e.footerMarginTop+S*m.lineHeight+(S-1)*e.footerSpacing);let N=0,U=function(j){M=Math.max(M,t.measureText(j).width+N)};return t.save(),t.font=p.string,gi(n.title,U),t.font=l.string,gi(n.beforeBody.concat(n.afterBody),U),N=e.displayColors?o+2+e.boxPadding:0,gi(i,j=>{gi(j.before,U),gi(j.lines,U),gi(j.after,U)}),N=0,t.font=m.string,gi(n.footer,U),t.restore(),M+=E.width,{width:M,height:I}}function iY(n,e){let{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function nY(n,e,t,i){let{x:r,width:a}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&r+a+o>e.width||n==="right"&&r-a-o<0)return!0}function rY(n,e,t,i){let{x:r,width:a}=t,{width:o,chartArea:{left:s,right:l}}=n,p="center";return i==="center"?p=r<=(s+l)/2?"left":"right":r<=a/2?p="left":r>=o-a/2&&(p="right"),nY(p,n,e,t)&&(p="center"),p}function gD(n,e,t){let i=t.yAlign||e.yAlign||iY(n,t);return{xAlign:t.xAlign||e.xAlign||rY(n,e,t,i),yAlign:i}}function aY(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function oY(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function vD(n,e,t,i){let{caretSize:r,caretPadding:a,cornerRadius:o}=n,{xAlign:s,yAlign:l}=t,p=r+a,{topLeft:m,topRight:_,bottomLeft:S,bottomRight:C}=As(o),E=aY(e,s),I=oY(e,l,p);return l==="center"?s==="left"?E+=p:s==="right"&&(E-=p):s==="left"?E-=Math.max(m,S)+r:s==="right"&&(E+=Math.max(_,C)+r),{x:En(E,0,i.width-e.width),y:En(I,0,i.height-e.height)}}function H0(n,e,t){let i=Hn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function _D(n){return co([],qo(n))}function sY(n,e,t){return jo(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function yD(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var KD={beforeTitle:so,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:so,beforeBody:so,beforeLabel:so,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return ei(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:so,afterBody:so,beforeFooter:so,footer:so,afterFooter:so};function Ir(n,e,t,i){let r=n[e].call(t,i);return typeof r>"u"?KD[e].call(t,i):r}var bD=(()=>{class n extends ka{static positioners=sp;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let i=this.chart,r=this.options.setContext(this.getContext()),a=r.enabled&&i.options.animation&&r.animations,o=new z0(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=sY(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){let{callbacks:r}=i,a=Ir(r,"beforeTitle",this,t),o=Ir(r,"title",this,t),s=Ir(r,"afterTitle",this,t),l=[];return l=co(l,qo(a)),l=co(l,qo(o)),l=co(l,qo(s)),l}getBeforeBody(t,i){return _D(Ir(i.callbacks,"beforeBody",this,t))}getBody(t,i){let{callbacks:r}=i,a=[];return gi(t,o=>{let s={before:[],lines:[],after:[]},l=yD(r,o);co(s.before,qo(Ir(l,"beforeLabel",this,o))),co(s.lines,Ir(l,"label",this,o)),co(s.after,qo(Ir(l,"afterLabel",this,o))),a.push(s)}),a}getAfterBody(t,i){return _D(Ir(i.callbacks,"afterBody",this,t))}getFooter(t,i){let{callbacks:r}=i,a=Ir(r,"beforeFooter",this,t),o=Ir(r,"footer",this,t),s=Ir(r,"afterFooter",this,t),l=[];return l=co(l,qo(a)),l=co(l,qo(o)),l=co(l,qo(s)),l}_createItems(t){let i=this._active,r=this.chart.data,a=[],o=[],s=[],l=[],p,m;for(p=0,m=i.length;p<m;++p)l.push(tY(this.chart,i[p]));return t.filter&&(l=l.filter((_,S,C)=>t.filter(_,S,C,r))),t.itemSort&&(l=l.sort((_,S)=>t.itemSort(_,S,r))),gi(l,_=>{let S=yD(t.callbacks,_);a.push(Ir(S,"labelColor",this,_)),o.push(Ir(S,"labelPointStyle",this,_)),s.push(Ir(S,"labelTextColor",this,_))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=l,l}update(t,i){let r=this.options.setContext(this.getContext()),a=this._active,o,s=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{let l=sp[r.position].call(this,a,this._eventPosition);s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r);let p=this._size=fD(this,r),m=Object.assign({},l,p),_=gD(this.chart,r,m),S=vD(r,m,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:S.x,y:S.y,width:p.width,height:p.height,caretX:l.x,caretY:l.y}}this._tooltipItems=s,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,a){let o=this.getCaretPosition(t,r,a);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(t,i,r){let{xAlign:a,yAlign:o}=this,{caretSize:s,cornerRadius:l}=r,{topLeft:p,topRight:m,bottomLeft:_,bottomRight:S}=As(l),{x:C,y:E}=t,{width:I,height:M}=i,F,N,U,j,$,X;return o==="center"?($=E+M/2,a==="left"?(F=C,N=F-s,j=$+s,X=$-s):(F=C+I,N=F+s,j=$-s,X=$+s),U=F):(a==="left"?N=C+Math.max(p,_)+s:a==="right"?N=C+I-Math.max(m,S)-s:N=this.caretX,o==="top"?(j=E,$=j-s,F=N-s,U=N+s):(j=E+M,$=j+s,F=N+s,U=N-s),X=j),{x1:F,x2:N,x3:U,y1:j,y2:$,y3:X}}drawTitle(t,i,r){let a=this.title,o=a.length,s,l,p;if(o){let m=El(r.rtl,this.x,this.width);for(t.x=H0(this,r.titleAlign,r),i.textAlign=m.textAlign(r.titleAlign),i.textBaseline="middle",s=_n(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=s.string,p=0;p<o;++p)i.fillText(a[p],m.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+l,p+1===o&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,i,r,a,o){let s=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:p,boxWidth:m}=o,_=_n(o.bodyFont),S=H0(this,"left",o),C=a.x(S),E=p<_.lineHeight?(_.lineHeight-p)/2:0,I=i.y+E;if(o.usePointStyle){let M={radius:Math.min(m,p)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},F=a.leftForLtr(C,m)+m/2,N=I+p/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,A0(t,M,F,N),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,A0(t,M,F,N)}else{t.lineWidth=zt(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;let M=a.leftForLtr(C,m),F=a.leftForLtr(a.xPlus(C,1),m-2),N=As(s.borderRadius);Object.values(N).some(U=>U!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,jc(t,{x:M,y:I,w:m,h:p,radius:N}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),jc(t,{x:F,y:I+1,w:m-2,h:p-2,radius:N}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(M,I,m,p),t.strokeRect(M,I,m,p),t.fillStyle=s.backgroundColor,t.fillRect(F,I+1,m-2,p-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){let{body:a}=this,{bodySpacing:o,bodyAlign:s,displayColors:l,boxHeight:p,boxWidth:m,boxPadding:_}=r,S=_n(r.bodyFont),C=S.lineHeight,E=0,I=El(r.rtl,this.x,this.width),M=function(de){i.fillText(de,I.x(t.x+E),t.y+C/2),t.y+=C+o},F=I.textAlign(s),N,U,j,$,X,te,G;for(i.textAlign=s,i.textBaseline="middle",i.font=S.string,t.x=H0(this,F,r),i.fillStyle=r.bodyColor,gi(this.beforeBody,M),E=l&&F!=="right"?s==="center"?m/2+_:m+2+_:0,$=0,te=a.length;$<te;++$){for(N=a[$],U=this.labelTextColors[$],i.fillStyle=U,gi(N.before,M),j=N.lines,l&&j.length&&(this._drawColorBox(i,t,$,I,r),C=Math.max(S.lineHeight,p)),X=0,G=j.length;X<G;++X)M(j[X]),C=S.lineHeight;gi(N.after,M)}E=0,C=S.lineHeight,gi(this.afterBody,M),t.y-=o}drawFooter(t,i,r){let a=this.footer,o=a.length,s,l;if(o){let p=El(r.rtl,this.x,this.width);for(t.x=H0(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=p.textAlign(r.footerAlign),i.textBaseline="middle",s=_n(r.footerFont),i.fillStyle=r.footerColor,i.font=s.string,l=0;l<o;++l)i.fillText(a[l],p.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+r.footerSpacing}}drawBackground(t,i,r,a){let{xAlign:o,yAlign:s}=this,{x:l,y:p}=t,{width:m,height:_}=r,{topLeft:S,topRight:C,bottomLeft:E,bottomRight:I}=As(a.cornerRadius);i.fillStyle=a.backgroundColor,i.strokeStyle=a.borderColor,i.lineWidth=a.borderWidth,i.beginPath(),i.moveTo(l+S,p),s==="top"&&this.drawCaret(t,i,r,a),i.lineTo(l+m-C,p),i.quadraticCurveTo(l+m,p,l+m,p+C),s==="center"&&o==="right"&&this.drawCaret(t,i,r,a),i.lineTo(l+m,p+_-I),i.quadraticCurveTo(l+m,p+_,l+m-I,p+_),s==="bottom"&&this.drawCaret(t,i,r,a),i.lineTo(l+E,p+_),i.quadraticCurveTo(l,p+_,l,p+_-E),s==="center"&&o==="left"&&this.drawCaret(t,i,r,a),i.lineTo(l,p+S),i.quadraticCurveTo(l,p,l+S,p),i.closePath(),i.fill(),a.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){let i=this.chart,r=this.$animations,a=r&&r.x,o=r&&r.y;if(a||o){let s=sp[t.position].call(this,this._active,this._eventPosition);if(!s)return;let l=this._size=fD(this,t),p=Object.assign({},s,this._size),m=gD(i,t,p),_=vD(t,p,m,i);(a._to!==_.x||o._to!==_.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=l.width,this.height=l.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let a={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let s=Hn(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,a,i),pb(t,i.textDirection),o.y+=s.top,this.drawTitle(o,t,i),this.drawBody(o,t,i),this.drawFooter(o,t,i),mb(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){let r=this._active,a=t.map(({datasetIndex:l,index:p})=>{let m=this.chart.getDatasetMeta(l);if(!m)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:m.data[p],index:p}}),o=!Xu(r,a),s=this._positionChanged(a,i);(o||s)&&(this._active=a,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,o=this._active||[],s=this._getActiveElements(t,o,i,r),l=this._positionChanged(s,t),p=i||!Xu(s,o)||l;return p&&(this._active=s,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),p}_getActiveElements(t,i,r,a){let o=this.options;if(t.type==="mouseout")return[];if(!a)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let s=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&s.reverse(),s}_positionChanged(t,i){let{caretX:r,caretY:a,options:o}=this,s=sp[o.position].call(this,t,i);return s!==!1&&(r!==s.x||a!==s.y)}}return n})(),lY={id:"tooltip",_element:bD,positioners:sp,afterInit(n,e,t){t&&(n.tooltip=new bD({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",Mt(z({},t),{cancelable:!0}))===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:KD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},cY=Object.freeze({__proto__:null,Colors:wG,Decimation:EG,Filler:qG,Legend:XG,SubTitle:eY,Title:JG,Tooltip:lY}),dY=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function uY(n,e,t,i){let r=n.indexOf(e);if(r===-1)return dY(n,e,t,i);let a=n.lastIndexOf(e);return r!==a?t:r}var pY=(n,e)=>n===null?null:En(Math.round(n),0,e);function wD(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var mY=(()=>{class n extends Dl{static id="category";static defaults={ticks:{callback:wD}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:a,label:o}of i)r[a]===o&&r.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(ei(t))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===t?i:uY(r,t,Lt(i,t),this._addedLabels),pY(i,r.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:r,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),i||(a=this.getLabels().length-1)),this.min=r,this.max=a}buildTicks(){let t=this.min,i=this.max,r=this.options.offset,a=[],o=this.getLabels();o=t===0&&i===o.length-1?o:o.slice(t,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let s=t;s<=i;s++)a.push({value:s});return a}getLabelForValue(t){return wD.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function hY(n,e){let t=[],{bounds:r,step:a,min:o,max:s,precision:l,count:p,maxTicks:m,maxDigits:_,includeBounds:S}=n,C=a||1,E=m-1,{min:I,max:M}=e,F=!ei(o),N=!ei(s),U=!ei(p),j=(M-I)/(_+1),$=qy((M-I)/E/C)*C,X,te,G,de;if($<1e-14&&!F&&!N)return[{value:I},{value:M}];de=Math.ceil(M/$)-Math.floor(I/$),de>E&&($=qy(de*$/E/C)*C),ei(l)||(X=Math.pow(10,l),$=Math.ceil($*X)/X),r==="ticks"?(te=Math.floor(I/$)*$,G=Math.ceil(M/$)*$):(te=I,G=M),F&&N&&a&&oT((s-o)/a,$/1e3)?(de=Math.round(Math.min((s-o)/$,m)),$=(s-o)/de,te=o,G=s):U?(te=F?o:te,G=N?s:G,de=p-1,$=(G-te)/de):(de=(G-te)/$,Hc(de,Math.round(de),$/1e3)?de=Math.round(de):de=Math.ceil(de));let Qe=Math.max(Qy($),Qy(te));X=Math.pow(10,ei(l)?Qe:l),te=Math.round(te*X)/X,G=Math.round(G*X)/X;let Dt=0;for(F&&(S&&te!==o?(t.push({value:o}),te<o&&Dt++,Hc(Math.round((te+Dt*$)*X)/X,o,SD(o,j,n))&&Dt++):te<o&&Dt++);Dt<de;++Dt){let At=Math.round((te+Dt*$)*X)/X;if(N&&At>s)break;t.push({value:At})}return N&&S&&G!==s?t.length&&Hc(t[t.length-1].value,s,SD(s,j,n))?t[t.length-1].value=s:t.push({value:s}):(!N||G===s)&&t.push({value:G}),t}function SD(n,e,{horizontal:t,minRotation:i}){let r=na(i),a=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/a,o)}var Qc=class extends Dl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ei(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:r,max:a}=this,o=l=>r=t?r:l,s=l=>a=i?a:l;if(e){let l=Ma(r),p=Ma(a);l<0&&p<0?s(0):l>0&&p>0&&o(0)}if(r===a){let l=a===0?1:Math.abs(a*.05);s(a+l),e||o(r-l)}this.min=r,this.max=a}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,o=hY(r,a);return e.bounds==="ticks"&&$y(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Uc(e,this.chart.options.locale,this.options.ticks.format)}},Hb=class extends Qc{static id="linear";static defaults={ticks:{callback:Zu.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=tn(e)?e:0,this.max=tn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,i=na(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},dp=n=>Math.floor(Wo(n)),Tl=(n,e)=>Math.pow(10,dp(n)+e);function CD(n){return n/Math.pow(10,dp(n))===1}function xD(n,e,t){let i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function fY(n,e){let t=e-n,i=dp(t);for(;xD(n,e,i)>10;)i++;for(;xD(n,e,i)<10;)i--;return Math.min(i,dp(n))}function gY(n,{min:e,max:t}){e=Er(n.min,e);let i=[],r=dp(e),a=fY(e,t),o=a<0?Math.pow(10,Math.abs(a)):1,s=Math.pow(10,a),l=r>a?Math.pow(10,r):0,p=Math.round((e-l)*o)/o,m=Math.floor((e-l)/s/10)*s*10,_=Math.floor((p-m)/Math.pow(10,a)),S=Er(n.min,Math.round((l+m+_*Math.pow(10,a))*o)/o);for(;S<t;)i.push({value:S,major:CD(S),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(a++,_=2,o=a>=0?1:o),S=Math.round((l+m+_*Math.pow(10,a))*o)/o;let C=Er(n.max,S);return i.push({value:C,major:CD(C),significand:_}),i}var Wb=class extends Dl{static id="logarithmic";static defaults={ticks:{callback:Zu.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let i=Qc.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return tn(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=tn(e)?Math.max(0,e):null,this.max=tn(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!tn(this._userMin)&&(this.min=e===Tl(this.min,0)?Tl(this.min,-1):Tl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),i=this.min,r=this.max,a=s=>i=e?i:s,o=s=>r=t?r:s;i===r&&(i<=0?(a(1),o(10)):(a(Tl(i,-1)),o(Tl(r,1)))),i<=0&&a(Tl(r,-1)),r<=0&&o(Tl(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},i=gY(t,this);return e.bounds==="ticks"&&$y(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Uc(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Wo(e),this._valueRange=Wo(this.max)-Wo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Wo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function Ub(n){let e=n.ticks;if(e.display&&n.display){let t=Hn(e.backdropPadding);return Lt(e.font&&e.font.size,nn.font.size)+t.height}return 0}function vY(n,e,t){return t=Vi(t)?t:[t],{w:fT(n,e.string,t),h:t.length*e.lineHeight}}function ED(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function _Y(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],a=n._pointLabels.length,o=n.options.pointLabels,s=o.centerPointLabels?Hi/a:0;for(let l=0;l<a;l++){let p=o.setContext(n.getPointLabelContext(l));r[l]=p.padding;let m=n.getPointPosition(l,n.drawingArea+r[l],s),_=_n(p.font),S=vY(n.ctx,_,n._pointLabels[l]);i[l]=S;let C=xr(n.getIndexAngle(l)+s),E=Math.round(E0(C)),I=ED(E,m.x,S.w,0,180),M=ED(E,m.y,S.h,90,270);yY(t,e,C,I,M)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=SY(n,i,r)}function yY(n,e,t,i,r){let a=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t)),s=0,l=0;i.start<e.l?(s=(e.l-i.start)/a,n.l=Math.min(n.l,e.l-s)):i.end>e.r&&(s=(i.end-e.r)/a,n.r=Math.max(n.r,e.r+s)),r.start<e.t?(l=(e.t-r.start)/o,n.t=Math.min(n.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function bY(n,e,t){let i=n.drawingArea,{extra:r,additionalAngle:a,padding:o,size:s}=t,l=n.getPointPosition(e,i+r+o,a),p=Math.round(E0(xr(l.angle+cn))),m=EY(l.y,s.h,p),_=CY(p),S=xY(l.x,s.w,_);return{visible:!0,x:l.x,y:m,textAlign:_,left:S,top:m,right:S+s.w,bottom:m+s.h}}function wY(n,e){if(!e)return!0;let{left:t,top:i,right:r,bottom:a}=n;return!(oo({x:t,y:i},e)||oo({x:t,y:a},e)||oo({x:r,y:i},e)||oo({x:r,y:a},e))}function SY(n,e,t){let i=[],r=n._pointLabels.length,a=n.options,{centerPointLabels:o,display:s}=a.pointLabels,l={extra:Ub(a)/2,additionalAngle:o?Hi/r:0},p;for(let m=0;m<r;m++){l.padding=t[m],l.size=e[m];let _=bY(n,m,l);i.push(_),s==="auto"&&(_.visible=wY(_,p),_.visible&&(p=_))}return i}function CY(n){return n===0||n===180?"center":n<180?"left":"right"}function xY(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function EY(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function IY(n,e,t){let{left:i,top:r,right:a,bottom:o}=t,{backdropColor:s}=e;if(!ei(s)){let l=As(e.borderRadius),p=Hn(e.backdropPadding);n.fillStyle=s;let m=i-p.left,_=r-p.top,S=a-i+p.width,C=o-r+p.height;Object.values(l).some(E=>E!==0)?(n.beginPath(),jc(n,{x:m,y:_,w:S,h:C,radius:l}),n.fill()):n.fillRect(m,_,S,C)}}function TY(n,e){let{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){let a=n._pointLabelItems[r];if(!a.visible)continue;let o=i.setContext(n.getPointLabelContext(r));IY(t,o,a);let s=_n(o.font),{x:l,y:p,textAlign:m}=a;Ds(t,n._pointLabels[r],l,p+s.lineHeight/2,s,{color:o.color,textAlign:m,textBaseline:"middle"})}}function XD(n,e,t,i){let{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,Wi);else{let a=n.getPointPosition(0,e);r.moveTo(a.x,a.y);for(let o=1;o<i;o++)a=n.getPointPosition(o,e),r.lineTo(a.x,a.y)}}function DY(n,e,t,i,r){let a=n.ctx,o=e.circular,{color:s,lineWidth:l}=e;!o&&!i||!s||!l||t<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(r.dash),a.lineDashOffset=r.dashOffset,a.beginPath(),XD(n,t,o,i),a.closePath(),a.stroke(),a.restore())}function AY(n,e,t){return jo(n,{label:t,index:e,type:"pointLabel"})}var jb=class extends Qc{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Zu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Hn(Ub(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=tn(e)&&!isNaN(e)?e:0,this.max=tn(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ub(this.options))}generateTickLabels(e){Qc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{let r=Ai(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?_Y(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){let t=Wi/(this._pointLabels.length||1),i=this.options.startAngle||0;return xr(e*t+na(i))}getDistanceFromCenterForValue(e){if(ei(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ei(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let i=t[e];return AY(this.getContext(),e,i)}}getPointPosition(e,t,i=0){let r=this.getIndexAngle(e)-cn+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:i,right:r,bottom:a}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:a}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),XD(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:i,grid:r,border:a}=t,o=this._pointLabels.length,s,l,p;if(t.pointLabels.display&&TY(this,o),r.display&&this.ticks.forEach((m,_)=>{if(_!==0||_===0&&this.min<0){l=this.getDistanceFromCenterForValue(m.value);let S=this.getContext(_),C=r.setContext(S),E=a.setContext(S);DY(this,C,l,o,E)}}),i.display){for(e.save(),s=o-1;s>=0;s--){let m=i.setContext(this.getPointLabelContext(s)),{color:_,lineWidth:S}=m;!S||!_||(e.lineWidth=S,e.strokeStyle=_,e.setLineDash(m.borderDash),e.lineDashOffset=m.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),p=this.getPointPosition(s,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(p.x,p.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;let r=this.getIndexAngle(0),a,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;let p=i.setContext(this.getContext(l)),m=_n(p.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),p.showLabelBackdrop){e.font=m.string,o=e.measureText(s.label).width,e.fillStyle=p.backdropColor;let _=Hn(p.backdropPadding);e.fillRect(-o/2-_.left,-a-m.size/2-_.top,o+_.width,m.size+_.height)}Ds(e,s.label,0,-a,m,{color:p.color,strokeColor:p.textStrokeColor,strokeWidth:p.textStrokeWidth})}),e.restore()}drawTitle(){}},Z0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Tr=Object.keys(Z0);function ID(n,e){return n-e}function TD(n,e){if(ei(e))return null;let t=n._adapter,{parser:i,round:r,isoWeekday:a}=n._parseOpts,o=e;return typeof i=="function"&&(o=i(o)),tn(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(xl(a)||a===!0)?t.startOf(o,"isoWeek",a):t.startOf(o,r)),+o)}function DD(n,e,t,i){let r=Tr.length;for(let a=Tr.indexOf(n);a<r-1;++a){let o=Z0[Tr[a]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(s*o.size))<=i)return Tr[a]}return Tr[r-1]}function MY(n,e,t,i,r){for(let a=Tr.length-1;a>=Tr.indexOf(t);a--){let o=Tr[a];if(Z0[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return Tr[t?Tr.indexOf(t):0]}function kY(n){for(let e=Tr.indexOf(n)+1,t=Tr.length;e<t;++e)if(Z0[Tr[e]].common)return Tr[e]}function AD(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:i,hi:r}=I0(t,e),a=t[i]>=e?t[i]:t[r];n[a]=!0}}function PY(n,e,t,i){let r=n._adapter,a=+r.startOf(e[0].value,i),o=e[e.length-1].value,s,l;for(s=a;s<=o;s=+r.add(s,1,i))l=t[s],l>=0&&(e[l].major=!0);return e}function MD(n,e,t){let i=[],r={},a=e.length,o,s;for(o=0;o<a;++o)s=e[o],r[s]=o,i.push({value:s,major:!1});return a===0||!t?i:PY(n,i,r,t)}var zb=(()=>{class n extends Dl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){let r=t.time||(t.time={}),a=this._adapter=new z$._date(t.adapters.date);a.init(i),Nc(r.displayFormats,a.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:TD(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,i=this._adapter,r=t.time.unit||"day",{min:a,max:o,minDefined:s,maxDefined:l}=this.getUserBounds();function p(m){!s&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!l&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!s||!l)&&(p(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&p(this.getMinMax(!1))),a=tn(a)&&!isNaN(a)?a:+i.startOf(Date.now(),r),o=tn(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){let t=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){let t=this.options,i=t.time,r=t.ticks,a=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let o=this.min,s=this.max,l=cT(a,o,s);return this._unit=i.unit||(r.autoSkip?DD(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):MY(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:kY(this._unit),this.initOffsets(a),t.reverse&&l.reverse(),MD(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,r=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?i=1-a:i=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?r=o:r=(o-this.getDecimalForValue(t[t.length-2]))/2);let s=t.length<3?.5:.25;i=En(i,0,s),r=En(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let t=this._adapter,i=this.min,r=this.max,a=this.options,o=a.time,s=o.unit||DD(o.minUnit,i,r,this._getLabelCapacity(i)),l=Lt(a.ticks.stepSize,1),p=s==="week"?o.isoWeekday:!1,m=xl(p)||p===!0,_={},S=i,C,E;if(m&&(S=+t.startOf(S,"isoWeek",p)),S=+t.startOf(S,m?"day":s),t.diff(r,i,s)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+s);let I=a.ticks.source==="data"&&this.getDataTimestamps();for(C=S,E=0;C<r;C=+t.add(C,l,s),E++)AD(_,C,I);return(C===r||a.bounds==="ticks"||E===1)&&AD(_,C,I),Object.keys(_).sort(ID).map(M=>+M)}getLabelForValue(t){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(t,r.tooltipFormat):i.format(t,r.displayFormats.datetime)}format(t,i){let a=this.options.time.displayFormats,o=this._unit,s=i||a[o];return this._adapter.format(t,s)}_tickFormatFunction(t,i,r,a){let o=this.options,s=o.ticks.callback;if(s)return Ai(s,[t,i,r],this);let l=o.time.displayFormats,p=this._unit,m=this._majorUnit,_=p&&l[p],S=m&&l[m],C=r[i],E=m&&S&&C&&C.major;return this._adapter.format(t,a||(E?S:_))}generateTickLabels(t){let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i],a.label=this._tickFormatFunction(a.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){let i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){let i=this.options.ticks,r=this.ctx.measureText(t).width,a=na(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(a),s=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:r*o+l*s,h:r*s+l*o}}_getLabelCapacity(t){let i=this.options.time,r=i.displayFormats,a=r[i.unit]||r.millisecond,o=this._tickFormatFunction(t,0,MD(this,[t],this._majorUnit),a),s=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],i,r;if(t.length)return t;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(i=0,r=a.length;i<r;++i)t=t.concat(a[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],i,r;if(t.length)return t;let a=this.getLabels();for(i=0,r=a.length;i<r;++i)t.push(TD(this,a[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ky(t.sort(ID))}}return n})();function W0(n,e,t){let i=0,r=n.length-1,a,o,s,l;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=ao(n,"pos",e)),{pos:a,time:s}=n[i],{pos:o,time:l}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=ao(n,"time",e)),{time:a,pos:s}=n[i],{time:o,pos:l}=n[r]);let p=o-a;return p?s+(l-s)*(e-a)/p:s}var qb=class extends zb{static id="timeseries";static defaults=zb.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=W0(t,this.min),this._tableRange=W0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:i}=this,r=[],a=[],o,s,l,p,m;for(o=0,s=e.length;o<s;++o)p=e[o],p>=t&&p<=i&&r.push(p);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,s=r.length;o<s;++o)m=r[o+1],l=r[o-1],p=r[o],Math.round((m+l)/2)!==p&&a.push({time:p,pos:o/(s-1)});return a}_generate(){let e=this.min,t=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(W0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return W0(this._table,i*this._tableRange+this._minPos,!0)}},LY=Object.freeze({__proto__:null,CategoryScale:mY,LinearScale:Hb,LogarithmicScale:Wb,RadialLinearScale:jb,TimeScale:zb,TimeSeriesScale:qb}),ZD=[j$,fG,cY,LY];K0.register(...ZD);var JD=K0;var Gb=(()=>{class n{platformId;el;zone;type;plugins=[];width;height;responsive=!0;ariaLabel;ariaLabelledBy;get data(){return this._data}set data(t){this._data=t,this.reinit()}get options(){return this._options}set options(t){this._options=t,this.reinit()}onDataSelect=new et;isBrowser=!1;initialized;_data;_options={};chart;constructor(t,i,r){this.platformId=t,this.el=i,this.zone=r}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(t){if(this.chart){let i=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),r=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);i&&i[0]&&r&&this.onDataSelect.emit({originalEvent:t,element:i[0],dataset:r})}}initChart(){if(Od(this.platformId)){let t=this.options||{};t.responsive=this.responsive,t.responsive&&(this.height||this.width)&&(t.maintainAspectRatio=!1),this.zone.runOutsideAngular(()=>{this.chart=new JD(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})})}}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}static \u0275fac=function(i){return new(i||n)(B(bS),B(xo),B(Ua))};static \u0275cmp=re({type:n,selectors:[["p-chart"]],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:[2,"responsive","responsive",Ee],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},decls:2,vars:8,consts:[[2,"position","relative"],["role","img",3,"click"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"canvas",1),L("click",function(o){return r.onCanvasClick(o)}),u()()),i&2&&($r("width",r.responsive&&!r.width?null:r.width)("height",r.responsive&&!r.height?null:r.height),c(),le("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("width",r.responsive&&!r.width?null:r.width)("height",r.responsive&&!r.height?null:r.height))},dependencies:[pe,yi],encapsulation:2,changeDetection:0})}return n})(),eA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wn({type:n});static \u0275inj=bn({imports:[Gb,yi,yi]})}return n})();function BY(n,e){if(n&1&&P(0,"p-chart",7),n&2){let t=w();g("data",t.pieDataActes)("options",t.pieOptionsActes)}}function FY(n,e){if(n&1&&P(0,"p-chart",18),n&2){let t=w();g("data",t.barDataActes)("options",t.barOptionsActes)}}function OY(n,e){if(n&1&&P(0,"p-chart",19),n&2){let t=w();g("data",t.lineDataMouvementsQualifications)("options",t.lineOptionsMouvementsQualifications)}}function NY(n,e){if(n&1&&P(0,"p-chart",19),n&2){let t=w();g("data",t.lineDataOrdonnances)("options",t.lineOptionsOrdonnances)}}function VY(n,e){if(n&1&&P(0,"p-chart",18),n&2){let t=w();g("data",t.barDataFactures)("options",t.barOptionsFactures)}}var J0=class n{constructor(e,t,i,r,a,o,s,l,p,m,_,S,C,E,I,M){this.layoutService=e;this.translate=t;this.chevalordonnanceService=i;this.factureService=r;this.chevalService=a;this.messageService=o;this.confirmationService=s;this.lieuService=l;this.entiteService=p;this.raceService=m;this.categorieService=_;this.contactService=S;this.acteService=C;this.authService=E;this.mouvementService=I;this.qualificationService=M;this.entiteIdlogin=this.authService.getEntiteId(),this.subscription=this.layoutService.configUpdate$.pipe(Am(25)).subscribe(()=>{})}lineData;barData;pieData;polarData;radarData;lineOptions;barOptions;pieOptions;polarOptions;radarOptions;subscription;actes=[];chevaux=[];chevauxnotarchived=[];lieux=[];entite=[];race=[];categorie=[];contact=[];mouvement=[];qualifications=[];currentLanguage="en";isAdmin=!1;entiteIdlogin=null;entiteLogin=null;entitenom="";totalchevaux;totalnotarchivedchevaux;totallieux;totalrace;totalcategorie;totalcontact;totalActes;totalAnalysesSanitaires;totalPlannings;pieDataActes;pieOptionsActes;totalMouvement=null;totalqualification;lineDataMouvementsQualifications;lineOptionsMouvementsQualifications;combinedYears=[];selectedCombinedYear=new Date().getFullYear();pieDataHorses;pieOptionsHorses;pieDataStats;pieOptionsStats;barDataActes;barOptionsActes;actesYears=[];selectedActesYear=new Date().getFullYear();ordonnace=[];lineDataOrdonnances;lineOptionsOrdonnances;ordonnancesYears=[];selectedOrdonnancesYear=new Date().getFullYear();totalordonnance=null;barDataFactures;barOptionsFactures;facturesYears=[];selectedFacturesYear=new Date().getFullYear();totalfacture=0;factures=[];ngOnInit(){this.loadChevaux(),this.loadChevauxNotArchived(),this.loadLieux(),this.loadEntite(),this.loadRace(),this.loadCategorie(),this.loadContact(),this.loadActes(),this.loadMouvement(),this.loadQualifications(),this.loadOrdonnance(),this.loadFactures(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),setTimeout(()=>{this.initHorsesChart(),this.initStatsChart()},500),this.selectedCombinedYear=new Date().getFullYear(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,this.entitenom=this.entiteLogin.nom,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}})}updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr",this.initHorsesChart(),this.initStatsChart(),this.initActesChart(),this.prepareActesChartData(),this.prepareCombinedChartData(),this.prepareOrdonnancesChartData()}isRTL(){return this.translate.currentLang==="ar"}loadEntite(){this.entiteService.getAllEntite().subscribe({next:e=>{this.entite=e.details},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des entites",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des entites."})}})}loadQualifications(){this.qualificationService.getAllQualifications(this.entiteIdlogin).subscribe({next:e=>{this.qualifications=e,this.totalqualification=e.length,this.prepareCombinedChartData()},error:e=>{}})}loadMouvement(){this.mouvementService.getAllMouvements(this.entiteIdlogin).subscribe({next:e=>{console.log("mouvement",e),this.mouvement=e.details,this.totalMouvement=e.details.length,this.prepareCombinedChartData(),console.log("Nombre total de mouvement :",this.totalMouvement)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevaux(){this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.chevaux=e.details,this.totalchevaux=e.details.length,this.initHorsesChart(),this.initStatsChart()},error:e=>{this.totalchevaux=0,this.initHorsesChart(),this.initStatsChart()}})}loadChevauxNotArchived(){this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.chevauxnotarchived=e.details,this.totalnotarchivedchevaux=e.details.length,this.initHorsesChart()},error:e=>{this.totalnotarchivedchevaux=0,this.initHorsesChart()}})}loadLieux(){this.lieuService.getAllLieux(this.entiteIdlogin).subscribe({next:e=>{this.lieux=e.details,this.totallieux=e.details.length,this.initStatsChart()},error:e=>{this.totallieux=0,this.initStatsChart()}})}loadRace(){this.raceService.getAllRace(this.entiteIdlogin).subscribe({next:e=>{this.race=e.details,this.totalrace=e.details.length,this.initStatsChart()},error:e=>{this.totalrace=0,this.initStatsChart()}})}loadCategorie(){this.categorieService.getAllCategories(this.entiteIdlogin).subscribe({next:e=>{this.categorie=e.details,this.totalcategorie=e.details.length,this.initStatsChart()},error:e=>{this.totalcategorie=0,this.initStatsChart()}})}loadContact(){this.contactService.getAllContact(this.entiteIdlogin).subscribe({next:e=>{this.contact=e.details,this.totalcontact=e.details.length,this.initStatsChart()},error:e=>{this.totalcontact=0,this.initStatsChart()}})}loadActes(){this.acteService.getAllActes(this.entiteIdlogin).subscribe({next:e=>{this.actes=e.details||[],this.totalActes=this.actes.length,this.totalAnalysesSanitaires=0,this.totalPlannings=0,this.prepareActesChartData(),this.actes.forEach(t=>{t.typeActeId===1?this.totalAnalysesSanitaires++:t.typeActeId===2&&this.totalPlannings++}),this.initActesChart()},error:e=>{this.totalActes=0,this.totalAnalysesSanitaires=0,this.totalPlannings=0,this.initActesChart()}})}loadOrdonnance(){this.chevalordonnanceService.getAllOrdonnances(this.entiteIdlogin).subscribe({next:e=>{this.ordonnace=e.details,this.totalordonnance=e.details.length,console.log("Nombre total de totalordonnance :",this.totalordonnance),this.prepareOrdonnancesChartData()},error:e=>{this.totalordonnance=0,this.prepareOrdonnancesChartData()}})}prepareOrdonnancesChartData(){let e={},t=new Set;this.ordonnace.forEach(i=>{if(i.date){let r=new Date(i.date),a=r.getFullYear(),o=r.getMonth()+1;t.add(a),e[a]||(e[a]={}),e[a][o]||(e[a][o]=0),e[a][o]++}}),this.ordonnancesYears=Array.from(t).sort((i,r)=>r-i).map(i=>({label:i.toString(),value:i})),this.ordonnancesYears.length===0&&(this.ordonnancesYears=[{label:this.selectedOrdonnancesYear.toString(),value:this.selectedOrdonnancesYear}]),this.initOrdonnancesLineChart(e)}initOrdonnancesLineChart(e){let t=getComputedStyle(document.documentElement),i=t.getPropertyValue("--text-color"),r=t.getPropertyValue("--text-color-secondary"),a=t.getPropertyValue("--surface-border"),o=[this.translate.instant("Dashboard.months.jan"),this.translate.instant("Dashboard.months.feb"),this.translate.instant("Dashboard.months.mar"),this.translate.instant("Dashboard.months.apr"),this.translate.instant("Dashboard.months.may"),this.translate.instant("Dashboard.months.jun"),this.translate.instant("Dashboard.months.jul"),this.translate.instant("Dashboard.months.aug"),this.translate.instant("Dashboard.months.sep"),this.translate.instant("Dashboard.months.oct"),this.translate.instant("Dashboard.months.nov"),this.translate.instant("Dashboard.months.dec")],s=e[this.selectedOrdonnancesYear]||{},l=Array(12).fill(0).map((p,m)=>s[m+1]||0);this.lineDataOrdonnances={labels:o,datasets:[{label:this.translate.instant("Dashboard.ordonnancesInYear",{year:this.selectedOrdonnancesYear}),data:l,fill:!1,backgroundColor:t.getPropertyValue("--p-purple-500"),borderColor:t.getPropertyValue("--p-purple-500"),tension:.4}]},this.lineOptionsOrdonnances={maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{color:i}},tooltip:{callbacks:{label:p=>`${this.translate.instant("Dashboard.chartLabels.ordonnances")}: ${p.raw}`}}},scales:{x:{ticks:{color:r},grid:{color:a,drawBorder:!1}},y:{beginAtZero:!0,ticks:{color:r,precision:0},grid:{color:a,drawBorder:!1}}}}}onOrdonnancesYearChange(){this.prepareOrdonnancesChartData()}loadFactures(){this.factureService.getAllFactures(this.entiteIdlogin).subscribe({next:e=>{this.factures=e,this.totalfacture=e.length,this.prepareFacturesChartData()},error:e=>{this.totalfacture=0,this.prepareFacturesChartData()}})}prepareFacturesChartData(){let e={},t=new Set;this.factures.forEach(i=>{if(i.dateFacture){let r=new Date(i.dateFacture),a=r.getFullYear(),o=r.getMonth()+1;t.add(a),e[a]||(e[a]={}),e[a][o]||(e[a][o]={count:0,factures:[]}),e[a][o].count++,e[a][o].factures.push(i)}}),this.facturesYears=Array.from(t).sort((i,r)=>r-i).map(i=>({label:i.toString(),value:i})),this.facturesYears.length===0&&(this.facturesYears=[{label:this.selectedFacturesYear.toString(),value:this.selectedFacturesYear}]),this.initFacturesBarChart(e)}initFacturesBarChart(e){let t=getComputedStyle(document.documentElement),i=t.getPropertyValue("--text-color"),r=t.getPropertyValue("--text-color-secondary"),a=t.getPropertyValue("--surface-border"),o=[this.translate.instant("Dashboard.months.jan"),this.translate.instant("Dashboard.months.feb"),this.translate.instant("Dashboard.months.mar"),this.translate.instant("Dashboard.months.apr"),this.translate.instant("Dashboard.months.may"),this.translate.instant("Dashboard.months.jun"),this.translate.instant("Dashboard.months.jul"),this.translate.instant("Dashboard.months.aug"),this.translate.instant("Dashboard.months.sep"),this.translate.instant("Dashboard.months.oct"),this.translate.instant("Dashboard.months.nov"),this.translate.instant("Dashboard.months.dec")],s=this.isRTL()?[...o].reverse():o,l=e[this.selectedFacturesYear]||{},p=Array(12).fill(0).map((m,_)=>{let S=l[_+1]||{count:0,factures:[]};return{count:S.count,factures:S.factures}});this.isRTL()&&(p=[...p].reverse()),this.barDataFactures={labels:s,datasets:[{label:this.translate.instant("Dashboard.facturesInYear",{year:this.selectedFacturesYear}),backgroundColor:t.getPropertyValue("--p-blue-500"),borderColor:t.getPropertyValue("--p-blue-500"),borderWidth:1,data:p.map(m=>m.count),facturesData:p.map(m=>m.factures)}]},this.barOptionsFactures={maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{color:i}},tooltip:{callbacks:{label:m=>`${this.translate.instant("Dashboard.factures")}: ${m.raw}`,afterLabel:m=>{let _=this.isRTL()?11-m.dataIndex:m.dataIndex,S=m.dataset.facturesData[_];if(!S||S.length===0)return"";let C=`

`+this.translate.instant("Dashboard.facturesDetails")+`:
`;return S.forEach((E,I)=>{C+=`
${I+1}. ${E.numeroFacture}
`,C+=`   ${this.translate.instant("Dashboard.montantHT")}: ${E.montantHT}
`,C+=`   ${this.translate.instant("Dashboard.montantTTC")}: ${E.montantTTC}
`,C+=`   ${this.translate.instant("Dashboard.acheteur")}: ${E.acheteur}
`,C+=`   ${this.translate.instant("Dashboard.modePaiement")}: ${E.modePaiement}
`}),C}}}},scales:{x:{ticks:{color:r,font:{weight:500}},grid:{display:!1,drawBorder:!1},reverse:this.isRTL()},y:{beginAtZero:!0,ticks:{color:r,precision:0},grid:{color:a,drawBorder:!1},position:this.isRTL()?"right":"left"}},onClick:(m,_)=>{if(_&&_.length>0){let S=_[0],C=this.isRTL()?11-S.index:S.index,E=this.barDataFactures.datasets[0].facturesData[C];E&&E.length>0&&console.log("Factures du mois:",E)}}}}onFacturesYearChange(){this.prepareFacturesChartData()}initHorsesChart(){let e=getComputedStyle(document.documentElement),t=this.totalchevaux-this.totalnotarchivedchevaux;this.pieDataHorses={labels:[this.translate.instant("Dashboard.chartLabels.archivedHorses"),this.translate.instant("Dashboard.chartLabels.activeHorses")],datasets:[{data:[t,this.totalnotarchivedchevaux],backgroundColor:[e.getPropertyValue("--p-red-500"),e.getPropertyValue("--p-green-500")],hoverBackgroundColor:[e.getPropertyValue("--p-red-400"),e.getPropertyValue("--p-green-400")]}]},this.pieOptionsHorses={plugins:{legend:{labels:{usePointStyle:!0,color:e.getPropertyValue("--text-color")}},tooltip:{callbacks:{label:i=>{let r=i.label||"",a=i.raw||0,o=i.dataset.data.reduce((l,p)=>l+p,0),s=Math.round(a/o*100);return`${r}: ${a} (${s}%)`}}}}}}initStatsChart(){let e=getComputedStyle(document.documentElement);this.pieDataStats={labels:[this.translate.instant("Dashboard.chartLabels.horses"),this.translate.instant("Dashboard.chartLabels.contacts"),this.translate.instant("Dashboard.chartLabels.races"),this.translate.instant("Dashboard.chartLabels.categories"),this.translate.instant("Dashboard.chartLabels.locations")],datasets:[{data:[this.totalchevaux,this.totalcontact,this.totalrace,this.totalcategorie,this.totallieux],backgroundColor:[e.getPropertyValue("--p-blue-500"),e.getPropertyValue("--p-purple-500"),e.getPropertyValue("--p-teal-500"),e.getPropertyValue("--p-orange-500"),e.getPropertyValue("--p-indigo-500")],hoverBackgroundColor:[e.getPropertyValue("--p-blue-400"),e.getPropertyValue("--p-purple-400"),e.getPropertyValue("--p-teal-400"),e.getPropertyValue("--p-orange-400"),e.getPropertyValue("--p-indigo-400")]}]},this.pieOptionsStats={plugins:{legend:{labels:{usePointStyle:!0,color:e.getPropertyValue("--text-color")}},tooltip:{callbacks:{label:t=>{let i=t.label||"",r=t.raw||0,a=t.dataset.data.reduce((s,l)=>s+l,0),o=Math.round(r/a*100);return`${i}: ${r} (${o}%)`}}}}}}initActesChart(){let e=getComputedStyle(document.documentElement);this.pieDataActes={labels:[this.translate.instant("Dashboard.chartLabels.healthAnalysis"),this.translate.instant("Dashboard.chartLabels.plannings")],datasets:[{data:[this.totalAnalysesSanitaires,this.totalPlannings],backgroundColor:[e.getPropertyValue("--p-blue-500"),e.getPropertyValue("--p-green-500")],hoverBackgroundColor:[e.getPropertyValue("--p-blue-400"),e.getPropertyValue("--p-green-400")]}]},this.pieOptionsActes={plugins:{legend:{labels:{usePointStyle:!0,color:e.getPropertyValue("--text-color")}},tooltip:{callbacks:{label:t=>{let i=t.label||"",r=t.raw||0,a=t.dataset.data.reduce((s,l)=>s+l,0),o=Math.round(r/a*100);return`${i}: ${r} (${o}%)`}}}}}}prepareActesChartData(){let e={},t=new Set;this.actes.forEach(i=>{if(i.date_ajout){let r=new Date(i.date_ajout),a=r.getFullYear(),o=r.getMonth()+1;t.add(a),e[a]||(e[a]={}),e[a][o]||(e[a][o]=0),e[a][o]++}}),this.actesYears=Array.from(t).sort((i,r)=>r-i).map(i=>({label:i.toString(),value:i})),this.initActesBarChart(e)}initActesBarChart(e){let t=getComputedStyle(document.documentElement),i=t.getPropertyValue("--text-color"),r=t.getPropertyValue("--text-color-secondary"),a=t.getPropertyValue("--surface-border"),o=[this.translate.instant("Dashboard.months.jan"),this.translate.instant("Dashboard.months.feb"),this.translate.instant("Dashboard.months.mar"),this.translate.instant("Dashboard.months.apr"),this.translate.instant("Dashboard.months.may"),this.translate.instant("Dashboard.months.jun"),this.translate.instant("Dashboard.months.jul"),this.translate.instant("Dashboard.months.aug"),this.translate.instant("Dashboard.months.sep"),this.translate.instant("Dashboard.months.oct"),this.translate.instant("Dashboard.months.nov"),this.translate.instant("Dashboard.months.dec")],s=e[this.selectedActesYear]||{},l=Array(12).fill(0).map((p,m)=>s[m+1]||0);this.barDataActes={labels:o,datasets:[{label:this.translate.instant("Dashboard.chartLabels.actsInYear",{year:this.selectedActesYear}),backgroundColor:t.getPropertyValue("--p-primary-500"),borderColor:t.getPropertyValue("--p-primary-500"),data:l}]},this.barOptionsActes={maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{color:i}},tooltip:{callbacks:{label:p=>`${this.translate.instant("Dashboard.chartLabels.acts")}: ${p.raw}`}}},scales:{x:{ticks:{color:r,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{beginAtZero:!0,ticks:{color:r,precision:0},grid:{color:a,drawBorder:!1}}}}}onActesYearChange(){this.prepareActesChartData()}prepareCombinedChartData(){if(!this.mouvement||!this.qualifications)return;let e={},t={},i=new Set;this.mouvement.forEach(r=>{if(r.date_ajout){let a=new Date(r.date_ajout),o=a.getFullYear(),s=a.getMonth()+1;i.add(o),e[o]||(e[o]={}),e[o][s]=(e[o][s]||0)+1}}),this.qualifications.forEach(r=>{if(r.date_ajout){let a=new Date(r.date_ajout),o=a.getFullYear(),s=a.getMonth()+1;i.add(o),t[o]||(t[o]={}),t[o][s]=(t[o][s]||0)+1}}),this.combinedYears=Array.from(i).sort((r,a)=>a-r).map(r=>({label:r.toString(),value:r})),this.initCombinedLineChart(e,t)}initCombinedLineChart(e,t){let i=getComputedStyle(document.documentElement),r=i.getPropertyValue("--text-color"),a=i.getPropertyValue("--text-color-secondary"),o=i.getPropertyValue("--surface-border"),s=[this.translate.instant("Dashboard.months.jan"),this.translate.instant("Dashboard.months.feb"),this.translate.instant("Dashboard.months.mar"),this.translate.instant("Dashboard.months.apr"),this.translate.instant("Dashboard.months.may"),this.translate.instant("Dashboard.months.jun"),this.translate.instant("Dashboard.months.jul"),this.translate.instant("Dashboard.months.aug"),this.translate.instant("Dashboard.months.sep"),this.translate.instant("Dashboard.months.oct"),this.translate.instant("Dashboard.months.nov"),this.translate.instant("Dashboard.months.dec")],l=e[this.selectedCombinedYear]||{},p=t[this.selectedCombinedYear]||{},m=Array(12).fill(0).map((S,C)=>l[C+1]||0),_=Array(12).fill(0).map((S,C)=>p[C+1]||0);this.lineDataMouvementsQualifications={labels:s,datasets:[{label:this.translate.instant("Dashboard.chartLabels.movements"),data:m,fill:!1,backgroundColor:i.getPropertyValue("--p-blue-500"),borderColor:i.getPropertyValue("--p-blue-500"),tension:.4},{label:this.translate.instant("Dashboard.chartLabels.qualifications"),data:_,fill:!1,backgroundColor:i.getPropertyValue("--p-green-500"),borderColor:i.getPropertyValue("--p-green-500"),tension:.4}]},this.lineOptionsMouvementsQualifications={maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{color:r}},tooltip:{callbacks:{label:S=>`${S.dataset.label}: ${S.raw}`}}},scales:{x:{ticks:{color:a},grid:{color:o,drawBorder:!1}},y:{beginAtZero:!0,ticks:{color:a,precision:0},grid:{color:o,drawBorder:!1}}}}}onCombinedYearChange(){this.prepareCombinedChartData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(B(Kr),B(Fe),B(at),B(ir),B(me),B(ne),B(ce),B(Ce),B(oe),B(ke),B(be),B(Ie),B(it),B(ze),B(Ni),B(rr))};static \u0275cmp=re({type:n,selectors:[["app-chart-demo"]],features:[xe([me,ne,ce,Ce,oe,ke,be,Ie,$e,Et,at,it,he,vt,_t,Ni,ir])],decls:79,vars:69,consts:[[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12"],[1,"card","p-4","flex","justify-between","items-center"],[1,"font-semibold","text-xl"],[1,"col-span-12","xl:col-span-6"],[1,"card","flex","flex-col","items-center"],[1,"font-semibold","text-xl","mb-4"],["type","pie",3,"data","options"],[1,"col-span-12","xl:col-span-12"],[1,"mb-2"],["type","pie",3,"data","options",4,"ngIf"],[1,"card"],[1,"flex","justify-between","items-center","mb-4"],[1,"flex","items-center","gap-2"],[1,"text-sm"],["styleClass","w-[120px]",3,"ngModelChange","onChange","options","ngModel","placeholder"],["type","bar",3,"data","options",4,"ngIf"],["type","line",3,"data","options",4,"ngIf"],["type","bar",3,"data","options"],["type","line",3,"data","options"]],template:function(t,i){t&1&&(d(0,"p-fluid",0)(1,"div",1)(2,"div",2)(3,"h2",3),v(4),h(5,"translate"),u()()(),d(6,"div",4)(7,"div",5)(8,"div",6),v(9),h(10,"translate"),u(),P(11,"p-chart",7),u()(),d(12,"div",4)(13,"div",5)(14,"div",6),v(15),h(16,"translate"),u(),P(17,"p-chart",7),u()(),d(18,"div",8)(19,"div",5)(20,"div",6),v(21),h(22,"translate"),u(),d(23,"div",9),v(24),h(25,"translate"),u(),R(26,BY,1,2,"p-chart",10),u()(),d(27,"div",4)(28,"div",11)(29,"div",12)(30,"div",3),v(31),h(32,"translate"),u(),d(33,"div",13)(34,"span",14),v(35),h(36,"translate"),u(),d(37,"p-dropdown",15),h(38,"translate"),A("ngModelChange",function(a){return D(i.selectedActesYear,a)||(i.selectedActesYear=a),a}),L("onChange",function(){return i.onActesYearChange()}),u()()(),R(39,FY,1,2,"p-chart",16),u()(),d(40,"div",4)(41,"div",11)(42,"div",12)(43,"div",3),v(44),h(45,"translate"),u(),d(46,"div",13)(47,"span",14),v(48),h(49,"translate"),u(),d(50,"p-dropdown",15),h(51,"translate"),A("ngModelChange",function(a){return D(i.selectedCombinedYear,a)||(i.selectedCombinedYear=a),a}),L("onChange",function(){return i.onCombinedYearChange()}),u()()(),R(52,OY,1,2,"p-chart",17),u()(),d(53,"div",4)(54,"div",11)(55,"div",12)(56,"div",3),v(57),h(58,"translate"),u(),d(59,"div",13)(60,"span",14),v(61),h(62,"translate"),u(),d(63,"p-dropdown",15),h(64,"translate"),A("ngModelChange",function(a){return D(i.selectedOrdonnancesYear,a)||(i.selectedOrdonnancesYear=a),a}),L("onChange",function(){return i.onOrdonnancesYearChange()}),u()()(),R(65,NY,1,2,"p-chart",17),u()(),d(66,"div",4)(67,"div",11)(68,"div",12)(69,"div",3),v(70),h(71,"translate"),u(),d(72,"div",13)(73,"span",14),v(74),h(75,"translate"),u(),d(76,"p-dropdown",15),h(77,"translate"),A("ngModelChange",function(a){return D(i.selectedFacturesYear,a)||(i.selectedFacturesYear=a),a}),L("onChange",function(){return i.onFacturesYearChange()}),u()()(),R(78,VY,1,2,"p-chart",16),u()()()),t&2&&(c(4),x(f(5,35,"Dashboard.title")),c(5),x(f(10,37,"Dashboard.horsesStatus")),c(2),g("data",i.pieDataHorses)("options",i.pieOptionsHorses),c(4),x(f(16,39,"Dashboard.entitiesDistribution")),c(2),g("data",i.pieDataStats)("options",i.pieOptionsStats),c(4),x(f(22,41,"Dashboard.actesRepartition")),c(3),Se("",f(25,43,"Dashboard.totalActs"),": ",i.totalActes,""),c(2),g("ngIf",i.pieDataActes),c(5),x(f(32,45,"Dashboard.actsByMonth")),c(4),O("",f(36,47,"Dashboard.selectYear"),":"),c(2),g("options",i.actesYears),T("ngModel",i.selectedActesYear),g("placeholder",f(38,49,"Dashboard.selectYear")),c(2),g("ngIf",i.barDataActes),c(5),x(f(45,51,"Dashboard.movementsQualifications")),c(4),O("",f(49,53,"Dashboard.selectYear"),":"),c(2),g("options",i.combinedYears),T("ngModel",i.selectedCombinedYear),g("placeholder",f(51,55,"Dashboard.selectYear")),c(2),g("ngIf",i.lineDataMouvementsQualifications),c(5),O("--",f(58,57,"Dashboard.ordonnancesByMonth"),""),c(4),O("",f(62,59,"Dashboard.selectYear"),":"),c(2),g("options",i.ordonnancesYears),T("ngModel",i.selectedOrdonnancesYear),g("placeholder",f(64,61,"Dashboard.selectYear")),c(2),g("ngIf",i.lineDataOrdonnances),c(5),x(f(71,63,"Dashboard.facturesByMonth")),c(4),O("",f(75,65,"Dashboard.selectYear"),":"),c(2),g("options",i.facturesYears),T("ngModel",i.selectedFacturesYear),g("placeholder",f(77,67,"Dashboard.selectYear")),c(2),g("ngIf",i.barDataFactures))},dependencies:[pe,ge,eA,Gb,Xt,ai,mt,kt,Ve,Ke,St,tt,Pe,We,Ye,Xe,Ze,pt,ft,gt,rt,wt,bt,Ct,vr],encapsulation:2})};var WY=["dt1"],UY=["dt2"],jY=["dt"],zY=()=>["userName","email","nom","prenom","role"],qY=()=>[5,10,20],tA=()=>({width:"50vw"}),$Y=()=>({width:"30vw"}),QY=(n,e)=>({"bg-blue-100 text-blue-800":n,"bg-green-100 text-green-800":e,"px-2 py-1 rounded-full text-xs font-semibold":!0});function GY(n,e){if(n&1){let t=W();d(0,"div",24)(1,"button",70),h(2,"translate"),L("click",function(){y(t);let r=w();return b(r.showAdduserDialog())}),u()()}n&2&&(c(),g("label",f(2,1,"Users.add.title")))}function YY(n,e){if(n&1){let t=W();d(0,"div",71)(1,"div")(2,"button",72),h(3,"translate"),L("click",function(){y(t);let r=w(),a=Q(41);return b(r.clear(a))}),u()(),d(4,"div",73)(5,"p-button",74),h(6,"translate"),L("click",function(){y(t);let r=w();return b(r.exportExcelUsers())}),u(),d(7,"p-button",75),h(8,"translate"),L("click",function(){y(t);let r=w();return b(r.exportPdfUsers())}),u(),d(9,"p-button",76),h(10,"translate"),L("click",function(){y(t);let r=w();return b(r.exportCSVUsers())}),u()(),d(11,"p-iconField",77)(12,"p-inputIcon"),P(13,"i",78),u(),d(14,"input",79),h(15,"translate"),L("input",function(r){y(t);let a=w(),o=Q(41);return b(a.onGlobalFilter(o,r))}),u()()()}n&2&&(c(2),g("label",f(3,5,"Users.table.clearButton")),c(3),g("label",f(6,7,"Users.table.export.excel")),c(2),g("label",f(8,9,"Users.table.export.pdf")),c(2),g("label",f(10,11,"Users.table.export.csv")),c(5),g("placeholder",f(15,13,"Users.table.searchPlaceholder")))}function KY(n,e){n&1&&(d(0,"tr")(1,"th",80)(2,"div",81),v(3),h(4,"translate"),P(5,"p-columnFilter",82),h(6,"translate"),u()(),d(7,"th",80)(8,"div",81),v(9),h(10,"translate"),P(11,"p-columnFilter",83),h(12,"translate"),u()(),d(13,"th",84)(14,"div",81),v(15),h(16,"translate"),P(17,"p-columnFilter",85),h(18,"translate"),u()(),d(19,"th",84)(20,"div",81),v(21),h(22,"translate"),P(23,"p-columnFilter",85),h(24,"translate"),u()(),d(25,"th",80)(26,"div",81),v(27),h(28,"translate"),P(29,"p-columnFilter",86),h(30,"translate"),u()(),d(31,"th",87)(32,"div",81),v(33),h(34,"translate"),P(35,"p-columnFilter",88),h(36,"translate"),u()(),d(37,"th",80)(38,"div",81),v(39),h(40,"translate"),u()(),d(41,"th",84)(42,"div",81),v(43),h(44,"translate"),u()()()),n&2&&(c(3),O(" ",f(4,14,"Users.table.columns.nom")," "),c(2),g("placeholder",f(6,16,"Users.table.columns.nom")),c(4),O(" ",f(10,18,"Users.table.columns.prenom")," "),c(2),g("placeholder",f(12,20,"Users.table.columns.prenom")),c(4),O(" ",f(16,22,"Users.table.columns.email")," "),c(2),g("placeholder",f(18,24,"Users.table.columns.email")),c(4),O(" ",f(22,26,"Users.table.columns.confirmedemail")," "),c(2),g("placeholder",f(24,28,"Users.table.columns.email")),c(4),O(" ",f(28,30,"Users.table.columns.username")," "),c(2),g("placeholder",f(30,32,"Users.table.columns.username")),c(4),O(" ",f(34,34,"Users.table.columns.role")," "),c(2),g("placeholder",f(36,36,"Users.table.columns.role")),c(4),O(" ",f(40,38,"Users.table.columns.lastLogin")," "),c(4),O(" ",f(44,40,"Users.table.columns.actions")," "))}function XY(n,e){if(n&1){let t=W();d(0,"button",93),h(1,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.resendConfirmationEmail(r.email))}),u()}n&2&&g("pTooltip",f(1,1,"Users.table.resendConfirmationTooltip"))}function ZY(n,e){if(n&1){let t=W();d(0,"div")(1,"button",94),h(2,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.deleteUser(r.id))}),u(),d(3,"button",95),h(4,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.showUpdateUserDialog(r))}),u(),d(5,"button",96),h(6,"translate"),L("click",function(){y(t);let r=w().$implicit,a=w();return b(a.showChangeRoleDialog(r))}),u()()}n&2&&(c(),g("pTooltip",f(2,3,"Users.table.deleteTooltip")),c(2),g("pTooltip",f(4,5,"Users.table.editTooltip")),c(2),g("pTooltip",f(6,7,"Users.table.changeRoleTooltip")))}function JY(n,e){n&1&&(d(0,"div",97),v(1),h(2,"translate"),u()),n&2&&(c(),O(" ",f(2,1,"Users.table.unauthorized")," "))}function eK(n,e){if(n&1&&(d(0,"tr")(1,"td"),v(2),u(),d(3,"td"),v(4),u(),d(5,"td"),v(6),u(),d(7,"td"),v(8),h(9,"translate"),h(10,"translate"),R(11,XY,2,3,"button",89),u(),d(12,"td"),v(13),u(),d(14,"td")(15,"span",90),v(16),u()(),d(17,"td"),v(18),h(19,"date"),u(),d(20,"td"),R(21,ZY,7,9,"div",91)(22,JY,3,3,"div",92),u()()),n&2){let t=e.$implicit,i=w();c(2),x(t.nom),c(2),x(t.prenom),c(2),x(t.email),c(2),O("",t.emailConfirmed?f(9,11,"Users.table.emailConfirmed.true"):f(10,13,"Users.table.emailConfirmed.false")," "),c(3),g("ngIf",!t.emailConfirmed),c(2),x(t.userName),c(2),g("ngClass",li(18,QY,t.role==="Admin",t.role==="User")),c(),O(" ",t.role," "),c(2),O(" ",t.lastLogin!=="0001-01-01T00:00:00"?ni(19,15,t.lastLogin,"medium"):"Jamais connect\xE9"," "),c(3),g("ngIf",i.isAdmin),c(),g("ngIf",!i.isAdmin)}}function tK(n,e){n&1&&(d(0,"tr")(1,"td",98),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Users.table.emptyMessage")))}function iK(n,e){n&1&&(d(0,"tr")(1,"td",98),v(2),h(3,"translate"),u()()),n&2&&(c(2),x(f(3,1,"Users.table.loadingMessage")))}function nK(n,e){if(n&1&&(d(0,"div",99)(1,"small",100),v(2),u(),d(3,"small",100),v(4),u(),d(5,"small",100),v(6),u(),d(7,"small",100),v(8),u(),d(9,"small"),v(10),u()()),n&2){let t=w();c(),mi("text-green-500",t.passwordStrength().hasLowercase),c(),O(" ",t.passwordStrength().hasLowercase?"\u2713":"\u2717"," Lowercase "),c(),mi("text-green-500",t.passwordStrength().hasUppercase),c(),O(" ",t.passwordStrength().hasUppercase?"\u2713":"\u2717"," Uppercase "),c(),mi("text-green-500",t.passwordStrength().hasNumber),c(),O(" ",t.passwordStrength().hasNumber?"\u2713":"\u2717"," Number "),c(),mi("text-green-500",t.passwordStrength().hasSpecialChar),c(),O(" ",t.passwordStrength().hasSpecialChar?"\u2713":"\u2717"," Special char "),c(),mi("text-green-500",t.passwordStrength().hasMinLength),c(),O(" ",t.passwordStrength().hasMinLength?"\u2713":"\u2717"," Min 8 chars ")}}function rK(n,e){n&1&&(d(0,"small",101),v(1),h(2,"translate"),u()),n&2&&(c(),O(" ",f(2,1,"Users.errors.passwordMismatch")," "))}function aK(n,e){if(n&1&&(d(0,"div",99)(1,"small",100),v(2),h(3,"translate"),u(),d(4,"small",100),v(5),h(6,"translate"),u(),d(7,"small",100),v(8),h(9,"translate"),u(),d(10,"small",100),v(11),h(12,"translate"),u(),d(13,"small"),v(14),h(15,"translate"),u()()),n&2){let t=w(2);c(),mi("text-green-500",t.passwordStrengthupdate(t.updateData.NewPassword).hasLowercase),c(),Se(" ",t.passwordStrengthupdate(t.updateData.NewPassword).hasLowercase?"\u2713":"\u2717"," ",f(3,20,"Users.update.passwordRequirements.lowercase")," "),c(2),mi("text-green-500",t.passwordStrengthupdate(t.updateData.NewPassword).hasUppercase),c(),Se(" ",t.passwordStrengthupdate(t.updateData.NewPassword).hasUppercase?"\u2713":"\u2717"," ",f(6,22,"Users.update.passwordRequirements.uppercase")," "),c(2),mi("text-green-500",t.passwordStrengthupdate(t.updateData.NewPassword).hasNumber),c(),Se(" ",t.passwordStrengthupdate(t.updateData.NewPassword).hasNumber?"\u2713":"\u2717"," ",f(9,24,"Users.update.passwordRequirements.number")," "),c(2),mi("text-green-500",t.passwordStrengthupdate(t.updateData.NewPassword).hasSpecialChar),c(),Se(" ",t.passwordStrengthupdate(t.updateData.NewPassword).hasSpecialChar?"\u2713":"\u2717"," ",f(12,26,"Users.update.passwordRequirements.specialChar")," "),c(2),mi("text-green-500",t.passwordStrengthupdate(t.updateData.NewPassword).hasMinLength),c(),Se(" ",t.passwordStrengthupdate(t.updateData.NewPassword).hasMinLength?"\u2713":"\u2717"," ",f(15,28,"Users.update.passwordRequirements.minLength")," ")}}function oK(n,e){if(n&1){let t=W();d(0,"div",31)(1,"div",32)(2,"label",102),v(3),h(4,"translate"),u(),d(5,"p-password",103),h(6,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.updateData.CurrentPassword,r)||(a.updateData.CurrentPassword=r),b(r)}),u()(),d(7,"div",32)(8,"label",104),v(9),h(10,"translate"),u(),d(11,"p-password",105),h(12,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.updateData.NewPassword,r)||(a.updateData.NewPassword=r),b(r)}),u(),R(13,aK,16,30,"div",43),u()()}if(n&2){let t=w();c(3),O(" ",f(4,11,"Users.update.fields.currentPassword")," "),c(2),T("ngModel",t.updateData.CurrentPassword),g("placeholder",f(6,13,"Users.update.placeholders.currentPassword"))("toggleMask",!0)("feedback",!1),c(4),O(" ",f(10,15,"Users.update.fields.newPassword")," "),c(2),T("ngModel",t.updateData.NewPassword),g("placeholder",f(12,17,"Users.update.placeholders.newPassword"))("toggleMask",!0)("feedback",!0),c(2),g("ngIf",t.updateData.NewPassword)}}var eg=class n{constructor(e,t,i,r,a,o,s,l){this.entiteService=e;this.translate=t;this.messageService=i;this.chevalService=r;this.typecontactService=a;this.confirmationService=o;this.datePipe=s;this.authService=l;this.entiteIdlogin=this.authService.getEntiteId(),this.isAdmin=this.authService.isAdmin(),this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}dt1;dt2;isAdmin=!1;currentLanguage="en";displayAdduserDialog=!1;loadingRoles=!1;loadingRegistration=!1;registerData={nom:"",prenom:"",username:"",email:"",password:"",confirmpassword:"",entiteId:0};availableRoles=[];selectedRole="User";updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}dt;get exportContactTypesColumns(){return[{title:"ID",dataKey:"id"},{title:"Type",dataKey:"type"}]}exportExcelContactTypes(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.contactTypes.map(o=>({ID:o.id,Type:o.type||""})),r={Sheets:{"Types de contact":e.utils.json_to_sheet(t)},SheetNames:["Types de contact"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"types_contact")})}exportCSVContactTypes(){if(!this.contactTypes||this.contactTypes.length===0){console.warn("Aucune donn\xE9e \xE0 exporter");return}try{let e=this.convertContactTypesToCSV(this.contactTypes);this.downloadFile(e,"types_contact.csv","text/csv;charset=utf-8;")}catch(e){console.error("Erreur lors de l'export CSV:",e)}}convertContactTypesToCSV(e){if(!e||e.length===0)return"";let i=this.exportContactTypesColumns.map(r=>r.title).join(";")+`\r
`;return e.forEach(r=>{let a=[r.id,`"${r.type||""}"`];i+=a.join(";")+`\r
`}),i}exportPdfContactTypes(){return Ft(this,null,function*(){try{let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;i.setProperties({title:"Liste des types de contact",subject:"Export PDF",author:"Votre Application",keywords:"contacts, types, export",creator:"Votre Application"});let l=new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.setFontSize(18),i.setFont("helvetica","bold"),i.text("LISTE DES TYPES DE CONTACT",r/2,o+20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`G\xE9n\xE9r\xE9 le : ${l}`,r-o,o+20,{align:"right"});let p=o+40;t(i,{startY:p,head:[this.exportContactTypesColumns.map(m=>m.title)],body:this.contactTypes.map(m=>[m.id,m.type||""]),styles:{fontSize:10,cellPadding:5,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[79,129,189],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"left"},alternateRowStyles:{fillColor:[240,240,240]},columnStyles:{0:{cellWidth:50},1:{cellWidth:"auto"}},margin:{top:p,left:o,right:o},didDrawPage:m=>{i.setDrawColor(150,150,150),i.setLineWidth(.5),i.rect(o-10,o-10,r-2*o+20,a-2*o+20);let _=i.getNumberOfPages();i.setFontSize(8),i.text(`Page ${m.pageNumber} / ${_}`,r-o,a-o+20,{align:"right"}),i.setFontSize(10),i.text("Liste des types de contact",o,o-10)}}),i.save(`types_contact_${l.replace(/\//g,"-")}.pdf`)}catch(e){console.error("Erreur lors de la g\xE9n\xE9ration du PDF:",e)}})}downloadFile(e,t,i){let r=new Blob([e],{type:i}),a=window.URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=t,o.click(),window.URL.revokeObjectURL(a)}saveAsExcelFile(e,t){import("./chunk-WMHKCCNS.js").then(i=>{let r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",o=new Blob([e],{type:r});i.saveAs(o,t+"_export_"+new Date().getTime()+a)})}contactTypes=[];totalContactTypes=null;loading=!0;newContactType=new On;displayUpdateContactTypeDialog=!1;contactTypeToUpdate=new On;showUpdateContactTypeDialog(e){this.contactTypeToUpdate=z({},e),this.displayUpdateContactTypeDialog=!0}entiteIdlogin=null;entiteLogin=null;ngOnInit(){this.loadContactTypes(),this.loadusers(),this.loadChevaux(),this.loadChevauxNotArchived(),this.loadRoles(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}})}totalChevaux=null;totalChevauxnotarchived=null;users=[];loadingUsers=!0;loadRoles(){this.loadingRoles=!0,this.authService.getAvailableRoles().subscribe({next:e=>{this.availableRoles=e,this.loadingRoles=!1},error:e=>{console.error("Error loading roles:",e),this.loadingRoles=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load available roles"})}})}addUser(e){if(this.registerData.entiteId=this.entiteIdlogin,!e.valid){this.messageService.add({severity:"error",summary:"Error",detail:"Please fill all required fields"});return}if(!this.passwordMatch()){this.messageService.add({severity:"error",summary:"Error",detail:"Passwords do not match"});return}if(!this.passwordStrength().isValid){this.messageService.add({severity:"error",summary:"Error",detail:"Password does not meet requirements"});return}this.loadingRegistration=!0,this.authService.register(this.registerData).subscribe({next:t=>{t.userId&&this.authService.assignRole(t.userId,this.selectedRole).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Success",detail:"User created and role assigned successfully"}),this.displayAdduserDialog=!1,e.resetForm()},error:i=>{this.messageService.add({severity:"warn",summary:"Warning",detail:"User created but role assignment failed: "+(i.error?.message||"Unknown error")}),this.displayAdduserDialog=!1}})},error:t=>{this.loadingRegistration=!1,this.messageService.add({severity:"error",summary:"Error",detail:t.error?.message||"Registration failed"})},complete:()=>{this.loadingRegistration=!1}})}passwordMatch(){return this.registerData.password===this.registerData.confirmpassword}passwordStrength(){let e=this.registerData.password||"";return{hasLowercase:/[a-z]/.test(e),hasUppercase:/[A-Z]/.test(e),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(e),hasNumber:/[0-9]/.test(e),hasMinLength:e.length>=8,isValid:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(e)}}totalusers=null;loadusers(){this.loadingUsers=!0,this.authService.getUsers(this.entiteIdlogin).subscribe({next:e=>{this.users=e.details||e,console.log("users",this.users),this.totalusers=e.details.length,this.loadingUsers=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des utilisateurs:",e),this.loadingUsers=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des utilisateurs."})}})}get exportUsersColumns(){return[{title:"Nom",dataKey:"nom"},{title:"Pr\xE9nom",dataKey:"prenom"},{title:"Email",dataKey:"email"},{title:"Nom utilisateur",dataKey:"userName"},{title:"R\xF4le",dataKey:"role"},{title:"Derni\xE8re connexion",dataKey:"lastLogin"}]}exportExcelUsers(){import("./chunk-SC6JYBFT.js").then(e=>{let t=this.users.map(o=>({Nom:o.nom,Pr\u00E9nom:o.prenom,Email:o.email,"Nom utilisateur":o.userName,R\u00F4le:o.role,"Derni\xE8re connexion":o.lastLogin!=="0001-01-01T00:00:00"?this.datePipe.transform(o.lastLogin,"medium"):"Jamais connect\xE9"})),r={Sheets:{Utilisateurs:e.utils.json_to_sheet(t)},SheetNames:["Utilisateurs"]},a=e.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"utilisateurs")})}exportCSVUsers(){let e=this.convertToCSV(this.users);this.downloadFile(e,"utilisateurs.csv","text/csv;charset=utf-8;")}convertToCSV(e){let i=this.exportUsersColumns.map(r=>r.title).join(";")+`\r
`;return e.forEach(r=>{let a=[`"${r.nom||""}"`,`"${r.prenom||""}"`,`"${r.email||""}"`,`"${r.userName||""}"`,`"${r.role||""}"`,`"${r.lastLogin!=="0001-01-01T00:00:00"?this.datePipe.transform(r.lastLogin,"medium"):"Jamais connect\xE9"}"`];i+=a.join(";")+`\r
`}),i}exportPdfUsers(){return Ft(this,null,function*(){let{jsPDF:e}=yield import("./chunk-QQRKQCVJ.js"),{default:t}=yield import("./chunk-7KJGJMGE.js"),i=new e("p","pt","a4"),r=i.internal.pageSize.getWidth(),a=40;i.setFontSize(18),i.text("LISTE DES UTILISATEURS",r/2,a+20,{align:"center"});let o=new Date;i.setFontSize(10),i.text(`G\xE9n\xE9r\xE9 le : ${this.datePipe.transform(o,"medium")}`,r-a,a+20,{align:"right"}),t(i,{startY:a+40,head:[this.exportUsersColumns.map(s=>s.title)],body:this.users.map(s=>[s.nom,s.prenom,s.email,s.userName,s.role,s.lastLogin!=="0001-01-01T00:00:00"?this.datePipe.transform(s.lastLogin,"medium"):"Jamais connect\xE9"]),margin:{top:a+40,left:a,right:a},styles:{fontSize:10},headStyles:{fillColor:[79,129,189],textColor:255,fontStyle:"bold"}}),i.save(`utilisateurs_${this.datePipe.transform(o,"yyyy-MM-dd")}.pdf`)})}loadChevaux(){this.loading=!0,this.chevalService.getAllChevaux(this.entiteIdlogin).subscribe({next:e=>{this.totalChevaux=e.details.length,console.log("Nombre total de chevaux :",this.totalChevaux)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadChevauxNotArchived(){this.chevalService.getAllChevauxNotArchived(this.entiteIdlogin).subscribe({next:e=>{this.totalChevauxnotarchived=e.details.length,console.log("Nombre total de chevaux not archived :",this.totalChevauxnotarchived)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des chevaux",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des chevaux."})}})}loadContactTypes(){this.loading=!0,this.typecontactService.getAllContacttype(this.entiteIdlogin).subscribe({next:e=>{this.contactTypes=e.details,this.totalContactTypes=e.details.length,this.loading=!1},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des types de contact",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration des types de contact."})}})}showAdduserDialog(){this.displayAdduserDialog=!0}addutilisateur(e){e.valid&&this.typecontactService.createContacttype(this.newContactType,this.entiteIdlogin).subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:t.message}),this.displayAdduserDialog=!1,this.loadContactTypes(),this.newContactType=new On},error:t=>{console.error("Erreur lors de l'ajout du type de contact",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de l'ajout du type de contact."})}})}onGlobalFilter(e,t){e.filterGlobal(t.target.value,"contains")}clear(e){e.clear()}deleteUser(e){let t=this.authService.getCurrentUser();if(t&&t.id===e){this.messageService.add({severity:"error",summary:"Error",detail:this.translate.instant("Users.delete.cannotDeleteSelf")});return}this.confirmationService.confirm({message:this.translate.instant("Users.delete.confirmationMessage"),header:this.translate.instant("Users.delete.confirmationTitle"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translate.instant("Users.Common.yes"),rejectLabel:this.translate.instant("Users.Common.no"),acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-text",accept:()=>{this.authService.deleteUser(e,this.entiteIdlogin).subscribe({next:()=>{this.messageService.add({severity:"success",summary:this.translate.instant("Users.delete.successTitle"),detail:this.translate.instant("Users.delete.successMessage")}),this.loadusers()},error:i=>{this.messageService.add({severity:"error",summary:this.translate.instant("Users.delete.errorTitle"),detail:i.message||this.translate.instant("Users.delete.errorMessage")})}})}})}displayUpdateUserDialog=!1;selectedUser={};updateData={Nom:"",Prenom:"",Username:"",Email:"",CurrentPassword:"",NewPassword:""};passwordStrengthupdate(e){return{hasLowercase:/[a-z]/.test(e),hasUppercase:/[A-Z]/.test(e),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(e),hasNumber:/[0-9]/.test(e),hasMinLength:e.length>=8,isValid:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(e)}}showUpdateUserDialog(e){this.selectedUser=z({},e),this.updateData={Nom:e.nom,Prenom:e.prenom,Username:e.userName,Email:e.email,CurrentPassword:"",NewPassword:""},this.displayUpdateUserDialog=!0}updateUser(e){if(!e.valid){this.messageService.add({severity:"error",summary:"Error",detail:this.translate.instant("Users.update.fillAllFields")});return}let t=this.selectedUser.id,i=this.entiteIdlogin;this.authService.updateUser(t,i,this.updateData).subscribe({next:r=>{this.messageService.add({severity:"success",summary:this.translate.instant("Users.update.success"),detail:this.translate.instant("Users.update.success")}),this.displayUpdateUserDialog=!1,this.loadusers()},error:r=>{console.error("Error updating user:",r),this.messageService.add({severity:"error",summary:this.translate.instant("Users.update.error"),detail:r.error?.message||this.translate.instant("Users.update.error")})}})}displayChangeRoleDialog=!1;selectedUserForRoleChange={};selectedNewRole="";showChangeRoleDialog(e){let t=this.authService.getCurrentUser();if(t&&t.id===e.id){this.messageService.add({severity:"warn",summary:this.translate.instant("Users.Common.warning"),detail:this.translate.instant("Users.changeRole.cannotChangeOwnRole")});return}this.selectedUserForRoleChange=z({},e),this.selectedNewRole=e.role,this.displayChangeRoleDialog=!0}assignRole(){if(!this.selectedNewRole||this.selectedNewRole===this.selectedUserForRoleChange.role){this.messageService.add({severity:"warn",summary:this.translate.instant("Common.warning"),detail:this.translate.instant("Users.changeRole.noChange")});return}this.authService.assignRole(this.selectedUserForRoleChange.id,this.selectedNewRole).subscribe({next:e=>{this.messageService.add({severity:"success",summary:this.translate.instant("Common.success"),detail:this.translate.instant("Users.changeRole.success")}),this.displayChangeRoleDialog=!1,this.loadusers()},error:e=>{console.error("Error assigning role:",e),this.messageService.add({severity:"error",summary:this.translate.instant("Common.error"),detail:e.error?.message||this.translate.instant("Users.changeRole.error")})}})}resendConfirmationEmail(e){this.authService.resendConfirmationEmail(e).subscribe({next:t=>{this.messageService.add({severity:"success",summary:this.translate.instant("Common.success"),detail:this.translate.instant("Users.resendConfirmation.success")})},error:t=>{console.error("Error resending confirmation email:",t),this.messageService.add({severity:"error",summary:this.translate.instant("Common.error"),detail:t.message||this.translate.instant("Users.resendConfirmation.error")})}})}static \u0275fac=function(t){return new(t||n)(B(oe),B(Fe),B(ne),B(me),B(ln),B(ce),B(he),B(ze))};static \u0275cmp=re({type:n,selectors:[["app-list-chevaux"]],viewQuery:function(t,i){if(t&1&&(Te(WY,5),Te(UY,5),Te(jY,5)),t&2){let r;Z(r=J())&&(i.dt1=r.first),Z(r=J())&&(i.dt2=r.first),Z(r=J())&&(i.dt=r.first)}},features:[xe([ne,ce,oe,ln,he])],decls:166,vars:181,consts:[["dtUsers",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["addUserForm","ngForm"],["updateUserForm","ngForm"],["rel","stylesheet","href",Yn`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css`],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","lg:col-span-6","xl:col-span-6"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"fas","fa-horse","!text-xl"],[1,"text-primary","font-medium"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-user","text-blue-500","!text-xl"],[1,"col-span-12","xl:col-span-12"],["header","Confirmation","icon","pi pi-exclamation-triangle","acceptLabel","Oui","rejectLabel","Non"],[1,"col-span-12"],[1,"card","!mb-8"],[1,"flex","justify-content-between","align-items-center","mb-4"],[1,"font-semibold","text-xl"],["class","flex justify-content-between align-items-center mb-4",4,"ngIf"],["dataKey","id","responsiveLayout","scroll","styleClass","sticky-column-table",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields","rowsPerPageOptions"],[3,"visibleChange","onHide","header","visible","modal","draggable","resizable"],[3,"ngSubmit"],[1,"p-fluid"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],[1,"p-field"],["for","nom",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","nom","pInputText","","name","nom","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","prenom",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","prenom","pInputText","","name","prenom","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","email",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","email","pInputText","","type","email","name","email","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","username",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","username","pInputText","","name","username","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","password",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","password","name","password","required","","styleClass","w-full",3,"ngModelChange","ngModel","placeholder","toggleMask","feedback"],["class","mt-2",4,"ngIf"],["for","confirmpassword",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","confirmpassword","name","confirmpassword","required","","styleClass","w-full",3,"ngModelChange","ngModel","placeholder","toggleMask"],["class","text-red-500 mt-2",4,"ngIf"],[1,"grid","grid-cols-1","gap-4","mb-4"],["for","role",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["name","role","required","","styleClass","w-full",3,"ngModelChange","options","ngModel","placeholder","loading","showClear"],[1,"flex","justify-end","gap-2","mt-4"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label","disabled"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled","loading"],["for","updateNom",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","updateNom","pInputText","","name","Nom","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","updatePrenom",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","updatePrenom","pInputText","","name","Prenom","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","updateUsername",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","updateUsername","pInputText","","name","Username","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","updateEmail",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","updateEmail","pInputText","","type","email","name","Email","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["class","grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],[1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["readonly","",1,"w-full",3,"ngModel"],[1,"p-field","mt-4"],["for","newRole",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","newRole","styleClass","w-full",3,"ngModelChange","options","ngModel","placeholder"],["pButton","","pRipple","","type","button","icon","pi pi-check",3,"click","label","disabled"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"button-spacing",3,"click","label"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click","label"],[1,"flex","gap-2"],["icon","pi pi-file-excel","styleClass","p-button-success",3,"click","label"],["icon","pi pi-file-pdf","styleClass","p-button-danger",3,"click","label"],["icon","pi pi-file","styleClass","p-button-help",3,"click","label"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"input","placeholder"],[2,"min-width","10rem"],[1,"flex","justify-between","items-center"],["type","text","field","nom","display","menu",3,"placeholder"],["type","text","field","prenom","display","menu",3,"placeholder"],[2,"min-width","12rem"],["type","text","field","email","display","menu",3,"placeholder"],["type","text","field","userName","display","menu",3,"placeholder"],[2,"min-width","8rem"],["type","text","field","role","display","menu",3,"placeholder"],["pButton","","pRipple","","type","button","icon","pi pi-envelope","class","p-button-help p-button-text p-button-icon-only","tooltipPosition","top",3,"pTooltip","click",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],["class","text-center p-3 text-red-500 font-bold",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-envelope","tooltipPosition","top",1,"p-button-help","p-button-text","p-button-icon-only",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","pi pi-trash","tooltipPosition","top",1,"p-button-danger","p-button-text","p-button-icon-only",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","pi pi-pencil","tooltipPosition","top",1,"p-button-warning","p-button-text","p-button-icon-only","ml-2",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","pi pi-key","tooltipPosition","top",1,"p-button-info","p-button-text","p-button-icon-only","ml-2",3,"click","pTooltip"],[1,"text-center","p-3","text-red-500","font-bold"],["colspan","7"],[1,"mt-2"],[1,"mr-2"],[1,"text-red-500","mt-2"],["for","currentPassword",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","currentPassword","name","CurrentPassword","styleClass","w-full",3,"ngModelChange","ngModel","placeholder","toggleMask","feedback"],["for","newPassword",1,"block","text-surface-900","dark:text-surface-0","text-sm","font-medium","mb-2"],["id","newPassword","name","NewPassword","styleClass","w-full",3,"ngModelChange","ngModel","placeholder","toggleMask","feedback"]],template:function(t,i){if(t&1){let r=W();P(0,"link",8),d(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div")(6,"span",13),v(7),h(8,"translate"),u()(),d(9,"div",14),P(10,"i",15),u()(),d(11,"span",16),v(12),h(13,"translate"),u(),v(14," | "),d(15,"span",16),v(16),h(17,"translate"),u()()(),d(18,"div",10)(19,"div",11)(20,"div",12)(21,"div")(22,"span",13),v(23),h(24,"translate"),u(),d(25,"div",17),v(26),u()(),d(27,"div",18),P(28,"i",19),u()()()(),d(29,"div",20),P(30,"p-toast")(31,"p-confirmDialog",21),d(32,"div",9)(33,"div",22)(34,"div",23)(35,"div",24)(36,"div",25),v(37),h(38,"translate"),u()(),R(39,GY,3,3,"div",26),d(40,"p-table",27,0),R(42,YY,16,15,"ng-template",null,1,ae)(44,KY,45,42,"ng-template",null,2,ae)(46,eK,23,21,"ng-template",null,3,ae)(48,tK,4,3,"ng-template",null,4,ae)(50,iK,4,3,"ng-template",null,5,ae),u()()()(),d(52,"p-dialog",28),h(53,"translate"),A("visibleChange",function(o){return y(r),D(i.displayAdduserDialog,o)||(i.displayAdduserDialog=o),b(o)}),L("onHide",function(){return y(r),b(i.displayAdduserDialog=!1)}),d(54,"form",29,6),L("ngSubmit",function(){y(r);let o=Q(55);return b(i.addUser(o))}),d(56,"div",30)(57,"div",31)(58,"div",32)(59,"label",33),v(60),h(61,"translate"),u(),d(62,"input",34),h(63,"translate"),A("ngModelChange",function(o){return y(r),D(i.registerData.nom,o)||(i.registerData.nom=o),b(o)}),u()(),d(64,"div",32)(65,"label",35),v(66),h(67,"translate"),u(),d(68,"input",36),h(69,"translate"),A("ngModelChange",function(o){return y(r),D(i.registerData.prenom,o)||(i.registerData.prenom=o),b(o)}),u()()(),d(70,"div",31)(71,"div",32)(72,"label",37),v(73),h(74,"translate"),u(),d(75,"input",38),h(76,"translate"),A("ngModelChange",function(o){return y(r),D(i.registerData.email,o)||(i.registerData.email=o),b(o)}),u()(),d(77,"div",32)(78,"label",39),v(79),h(80,"translate"),u(),d(81,"input",40),h(82,"translate"),A("ngModelChange",function(o){return y(r),D(i.registerData.username,o)||(i.registerData.username=o),b(o)}),u()()(),d(83,"div",31)(84,"div",32)(85,"label",41),v(86),h(87,"translate"),u(),d(88,"p-password",42),h(89,"translate"),A("ngModelChange",function(o){return y(r),D(i.registerData.password,o)||(i.registerData.password=o),b(o)}),u(),R(90,nK,11,15,"div",43),u(),d(91,"div",32)(92,"label",44),v(93),h(94,"translate"),u(),d(95,"p-password",45),h(96,"translate"),A("ngModelChange",function(o){return y(r),D(i.registerData.confirmpassword,o)||(i.registerData.confirmpassword=o),b(o)}),u(),R(97,rK,3,3,"small",46),u()(),d(98,"div",47)(99,"div",32)(100,"label",48),v(101),h(102,"translate"),u(),d(103,"p-dropdown",49),h(104,"translate"),A("ngModelChange",function(o){return y(r),D(i.selectedRole,o)||(i.selectedRole=o),b(o)}),u()()()(),d(105,"div",50)(106,"button",51),h(107,"translate"),L("click",function(){return y(r),b(i.displayAdduserDialog=!1)}),u(),P(108,"button",52),h(109,"translate"),u()()(),d(110,"p-dialog",28),h(111,"translate"),A("visibleChange",function(o){return y(r),D(i.displayUpdateUserDialog,o)||(i.displayUpdateUserDialog=o),b(o)}),L("onHide",function(){return y(r),b(i.displayUpdateUserDialog=!1)}),d(112,"form",29,7),L("ngSubmit",function(){y(r);let o=Q(113);return b(i.updateUser(o))}),d(114,"div",30)(115,"div",31)(116,"div",32)(117,"label",53),v(118),h(119,"translate"),u(),d(120,"input",54),h(121,"translate"),A("ngModelChange",function(o){return y(r),D(i.updateData.Nom,o)||(i.updateData.Nom=o),b(o)}),u()(),d(122,"div",32)(123,"label",55),v(124),h(125,"translate"),u(),d(126,"input",56),h(127,"translate"),A("ngModelChange",function(o){return y(r),D(i.updateData.Prenom,o)||(i.updateData.Prenom=o),b(o)}),u()()(),d(128,"div",31)(129,"div",32)(130,"label",57),v(131),h(132,"translate"),u(),d(133,"input",58),h(134,"translate"),A("ngModelChange",function(o){return y(r),D(i.updateData.Username,o)||(i.updateData.Username=o),b(o)}),u()(),d(135,"div",32)(136,"label",59),v(137),h(138,"translate"),u(),d(139,"input",60),h(140,"translate"),A("ngModelChange",function(o){return y(r),D(i.updateData.Email,o)||(i.updateData.Email=o),b(o)}),u()()(),R(141,oK,14,19,"div",61),u(),d(142,"div",50)(143,"button",62),h(144,"translate"),L("click",function(){return y(r),b(i.displayUpdateUserDialog=!1)}),u(),P(145,"button",63),h(146,"translate"),u()()(),d(147,"p-dialog",28),h(148,"translate"),A("visibleChange",function(o){return y(r),D(i.displayChangeRoleDialog,o)||(i.displayChangeRoleDialog=o),b(o)}),L("onHide",function(){return y(r),b(i.displayChangeRoleDialog=!1)}),d(149,"div",30)(150,"div",32)(151,"label",64),v(152),h(153,"translate"),u(),P(154,"p-inputText",65),u(),d(155,"div",66)(156,"label",67),v(157),h(158,"translate"),u(),d(159,"p-dropdown",68),h(160,"translate"),A("ngModelChange",function(o){return y(r),D(i.selectedNewRole,o)||(i.selectedNewRole=o),b(o)}),u()()(),d(161,"div",50)(162,"button",62),h(163,"translate"),L("click",function(){return y(r),b(i.displayChangeRoleDialog=!1)}),u(),d(164,"button",69),h(165,"translate"),L("click",function(){return y(r),b(i.assignRole())}),u()()()()()}if(t&2){let r=Q(55),a=Q(113);c(7),Se(" ",f(8,98,"HorseComponent.number_horse"),": ",i.totalChevaux,""),c(5),Se("",f(13,100,"HorseComponent.number_horse_notarchived")," : ",i.totalChevauxnotarchived," "),c(4),Se("",f(17,102,"HorseComponent.number_horse_archived")," : ",(i.totalChevaux||0)-(i.totalChevauxnotarchived||0)," "),c(7),x(f(24,104,"Users.number_user")),c(3),x(i.totalusers),c(11),x(f(38,106,"Users.list_users")),c(2),g("ngIf",i.isAdmin),c(),g("value",i.users)("rows",5)("loading",i.loadingUsers)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",se(176,zY))("rowsPerPageOptions",se(177,qY)),c(12),_e(se(178,tA)),g("header",f(53,108,"Users.add.title")),T("visible",i.displayAdduserDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(8),O(" ",f(61,110,"Users.fields.nom")," "),c(2),T("ngModel",i.registerData.nom),g("placeholder",f(63,112,"Users.placeholders.nom")),c(4),O(" ",f(67,114,"Users.fields.prenom")," "),c(2),T("ngModel",i.registerData.prenom),g("placeholder",f(69,116,"Users.placeholders.prenom")),c(5),O(" ",f(74,118,"Users.fields.email")," "),c(2),T("ngModel",i.registerData.email),g("placeholder",f(76,120,"Users.placeholders.email")),c(4),O(" ",f(80,122,"Users.fields.username")," "),c(2),T("ngModel",i.registerData.username),g("placeholder",f(82,124,"Users.placeholders.username")),c(5),O(" ",f(87,126,"Users.fields.password")," "),c(2),T("ngModel",i.registerData.password),g("placeholder",f(89,128,"Users.placeholders.password"))("toggleMask",!0)("feedback",!1),c(2),g("ngIf",i.registerData.password),c(3),O(" ",f(94,130,"Users.fields.confirmpassword")," "),c(2),T("ngModel",i.registerData.confirmpassword),g("placeholder",f(96,132,"Users.placeholders.confirmpassword"))("toggleMask",!0),c(2),g("ngIf",i.registerData.confirmpassword&&!i.passwordMatch()),c(4),O(" ",f(102,134,"Users.fields.role")," "),c(2),g("options",i.availableRoles),T("ngModel",i.selectedRole),g("placeholder",f(104,136,"Users.placeholders.role"))("loading",i.loadingRoles)("showClear",!1),c(3),g("label",f(107,138,"Users.buttons.cancel"))("disabled",i.loadingRegistration),c(2),g("label",f(109,140,"Users.buttons.add"))("disabled",!r.valid||!i.passwordMatch()||!i.passwordStrength().isValid||i.loadingRegistration)("loading",i.loadingRegistration),c(2),_e(se(179,tA)),g("header",f(111,142,"Users.update.title")),T("visible",i.displayUpdateUserDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(8),O(" ",f(119,144,"Users.fields.nom")," "),c(2),T("ngModel",i.updateData.Nom),g("placeholder",f(121,146,"Users.placeholders.nom")),c(4),O(" ",f(125,148,"Users.fields.prenom")," "),c(2),T("ngModel",i.updateData.Prenom),g("placeholder",f(127,150,"Users.placeholders.prenom")),c(5),O(" ",f(132,152,"Users.fields.username")," "),c(2),T("ngModel",i.updateData.Username),g("placeholder",f(134,154,"Users.placeholders.username")),c(4),O(" ",f(138,156,"Users.fields.email")," "),c(2),T("ngModel",i.updateData.Email),g("placeholder",f(140,158,"Users.placeholders.email")),c(2),g("ngIf",i.isAdmin),c(2),g("label",f(144,160,"Users.buttons.cancel")),c(2),g("label",f(146,162,"Users.update.buttons.update"))("disabled",!a.valid||!i.isAdmin&&i.updateData.NewPassword&&!i.passwordStrengthupdate(i.updateData.NewPassword).isValid),c(2),_e(se(180,$Y)),g("header",f(148,164,"Users.changeRole.title")),T("visible",i.displayChangeRoleDialog),g("modal",!0)("draggable",!1)("resizable",!1),c(5),O(" ",f(153,166,"Users.changeRole.fields.currentRole")," "),c(2),g("ngModel",i.selectedUserForRoleChange.role),c(3),O(" ",f(158,168,"Users.changeRole.fields.newRole")," "),c(2),g("options",i.availableRoles),T("ngModel",i.selectedNewRole),g("placeholder",f(160,170,"Users.changeRole.placeholders.selectRole")),c(3),g("label",f(163,172,"Users.buttons.cancel")),c(2),g("label",f(165,174,"Users.changeRole.buttons.assign"))("disabled",!i.selectedNewRole||i.selectedNewRole===i.selectedUserForRoleChange.role)}},dependencies:[pe,zi,ge,he,Ve,Ke,an,_r,qm,zm,St,Yi,Ki,tt,nt,Pe,qe,Si,We,He,Ye,dt,st,Xe,lt,ut,Ze,ct,pt,Ri,ft,mt,kt,gt,rt,ht,wt,Li,bt,Pi,Ct,Xi],styles:['[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{position:sticky;right:0;background:inherit;z-index:1;box-shadow:-2px 0 5px #0000001a}[_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:#19bc86}.dark   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child{background:var(--surface-d)}[_nghost-%COMP%]     .sticky-column-table .p-datatable-wrapper{overflow-x:auto;position:relative}[_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{white-space:nowrap}[dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-thead>tr>th:last-child, [dir="rtl"][_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child, [dir="rtl"]   [_nghost-%COMP%]     .sticky-column-table .p-datatable-tbody>tr>td:last-child{right:auto;left:0;box-shadow:2px 0 5px #0000001a}']})};function sK(n,e){n&1&&(d(0,"div",3),P(1,"p-progressSpinner"),u())}function lK(n,e){if(n&1&&(d(0,"div",26)(1,"small",27),v(2),h(3,"translate"),u(),d(4,"small",27),v(5),h(6,"translate"),u(),d(7,"small",27),v(8),h(9,"translate"),u(),d(10,"small",27),v(11),h(12,"translate"),u(),d(13,"small"),v(14),h(15,"translate"),u()()),n&2){let t=w(3);c(),mi("text-green-500",t.passwordStrength(t.updateData.NewPassword).hasLowercase),c(),Se(" ",t.passwordStrength(t.updateData.NewPassword).hasLowercase?"\u2713":"\u2717"," ",f(3,20,"Users.update.passwordRequirements.lowercase")," "),c(2),mi("text-green-500",t.passwordStrength(t.updateData.NewPassword).hasUppercase),c(),Se(" ",t.passwordStrength(t.updateData.NewPassword).hasUppercase?"\u2713":"\u2717"," ",f(6,22,"Users.update.passwordRequirements.uppercase")," "),c(2),mi("text-green-500",t.passwordStrength(t.updateData.NewPassword).hasNumber),c(),Se(" ",t.passwordStrength(t.updateData.NewPassword).hasNumber?"\u2713":"\u2717"," ",f(9,24,"Users.update.passwordRequirements.number")," "),c(2),mi("text-green-500",t.passwordStrength(t.updateData.NewPassword).hasSpecialChar),c(),Se(" ",t.passwordStrength(t.updateData.NewPassword).hasSpecialChar?"\u2713":"\u2717"," ",f(12,26,"Users.update.passwordRequirements.specialChar")," "),c(2),mi("text-green-500",t.passwordStrength(t.updateData.NewPassword).hasMinLength),c(),Se(" ",t.passwordStrength(t.updateData.NewPassword).hasMinLength?"\u2713":"\u2717"," ",f(15,28,"Users.update.passwordRequirements.minLength")," ")}}function cK(n,e){if(n&1){let t=W();d(0,"div",8)(1,"div",9)(2,"label",21),v(3),h(4,"translate"),u(),d(5,"p-password",22),h(6,"translate"),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.updateData.CurrentPassword,r)||(a.updateData.CurrentPassword=r),b(r)}),u()(),d(7,"div",9)(8,"label",23),v(9),h(10,"translate"),u(),d(11,"p-password",24),h(12,"translate"),A("ngModelChange",function(r){y(t);let a=w(2);return D(a.updateData.NewPassword,r)||(a.updateData.NewPassword=r),b(r)}),u(),R(13,lK,16,30,"div",25),u()()}if(n&2){let t=w(2);c(3),x(f(4,11,"Users.update.fields.currentPassword")),c(2),T("ngModel",t.updateData.CurrentPassword),g("placeholder",f(6,13,"Users.update.placeholders.currentPassword"))("toggleMask",!0)("feedback",!1),c(4),x(f(10,15,"Users.update.fields.newPassword")),c(2),T("ngModel",t.updateData.NewPassword),g("placeholder",f(12,17,"Users.update.placeholders.newPassword"))("toggleMask",!0)("feedback",!0),c(2),g("ngIf",t.updateData.NewPassword)}}function dK(n,e){if(n&1){let t=W();d(0,"form",4,0),L("ngSubmit",function(){y(t);let r=Q(1),a=w();return b(a.updateUser(r))}),d(2,"div",5)(3,"div",6)(4,"div",7),v(5),h(6,"translate"),u(),d(7,"div",8)(8,"div",9)(9,"label",10),v(10),h(11,"translate"),u(),d(12,"input",11),h(13,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.updateData.Nom,r)||(a.updateData.Nom=r),b(r)}),u()(),d(14,"div",9)(15,"label",12),v(16),h(17,"translate"),u(),d(18,"input",13),h(19,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.updateData.Prenom,r)||(a.updateData.Prenom=r),b(r)}),u()()(),d(20,"div",8)(21,"div",9)(22,"label",14),v(23),h(24,"translate"),u(),d(25,"input",15),h(26,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.updateData.Username,r)||(a.updateData.Username=r),b(r)}),u()(),d(27,"div",9)(28,"label",16),v(29),h(30,"translate"),u(),d(31,"input",17),h(32,"translate"),A("ngModelChange",function(r){y(t);let a=w();return D(a.updateData.Email,r)||(a.updateData.Email=r),b(r)}),u()()(),R(33,cK,14,19,"div",18),u()(),d(34,"div",19),P(35,"button",20),h(36,"translate"),u()()}if(n&2){let t=Q(1),i=w();c(5),x(f(6,16,"Users.update.title")),c(5),x(f(11,18,"Users.fields.nom")),c(2),T("ngModel",i.updateData.Nom),g("placeholder",f(13,20,"Users.placeholders.nom")),c(4),x(f(17,22,"Users.fields.prenom")),c(2),T("ngModel",i.updateData.Prenom),g("placeholder",f(19,24,"Users.placeholders.prenom")),c(5),x(f(24,26,"Users.fields.username")),c(2),T("ngModel",i.updateData.Username),g("placeholder",f(26,28,"Users.placeholders.username")),c(4),x(f(30,30,"Users.fields.email")),c(2),T("ngModel",i.updateData.Email),g("placeholder",f(32,32,"Users.placeholders.email")),c(2),g("ngIf",i.isAdmin),c(2),g("label",f(36,34,"Users.update.buttons.update"))("disabled",!t.valid||!i.isAdmin&&i.updateData.NewPassword&&!i.passwordStrength(i.updateData.NewPassword).isValid||i.loading)}}var tg=class n{constructor(e,t,i,r){this.authService=e;this.messageService=t;this.translate=i;this.entiteService=r;this.translate.onLangChange.subscribe(()=>{this.updateLocale()}),this.isAdmin=this.authService.isAdmin()}isAdmin=!1;updateData={Nom:"",Prenom:"",Username:"",Email:"",CurrentPassword:"",NewPassword:""};loading=!0;currentLanguage="en";entiteIdlogin=null;entiteLogin=null;updateLocale(){this.currentLanguage=this.translate.currentLang==="ar"?"ar":this.translate.currentLang==="en"?"en":"fr"}ngOnInit(){this.isAdmin=this.authService.isAdmin(),this.entiteIdlogin=this.authService.getEntiteId(),this.entiteIdlogin!==null&&this.entiteService.getEntiteById(this.entiteIdlogin).subscribe({next:e=>{this.entiteLogin=e.details,console.log("Entit\xE9 r\xE9cup\xE9r\xE9e :",this.entiteLogin)},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration de l'entit\xE9",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la r\xE9cup\xE9ration de l'entit\xE9."})}}),console.log("EntiteId r\xE9cup\xE9r\xE9++ :",this.entiteIdlogin),this.loadCurrentUser()}loadCurrentUser(){let e=this.authService.getCurrentUser();if(!e){this.messageService.add({severity:"error",summary:"Error",detail:this.translate.instant("Users.error.userNotFound")});return}console.log("currentUser",this.entiteIdlogin),this.authService.getUserById(e.id,this.entiteIdlogin).pipe(ie(t=>(console.error("Error fetching user details:",t),this.messageService.add({severity:"error",summary:"Error",detail:this.translate.instant("Users.error.fetchFailed")}),Tm(null)))).subscribe(t=>{if(this.loading=!1,t&&t.details){let i=t.details;this.updateData={Nom:i.nom||"",Prenom:i.prenom||"",Username:i.userName||"",Email:i.email||"",CurrentPassword:"",NewPassword:""}}})}passwordStrength(e){return{hasLowercase:/[a-z]/.test(e),hasUppercase:/[A-Z]/.test(e),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(e),hasNumber:/[0-9]/.test(e),hasMinLength:e.length>=8,isValid:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(e)}}updateUser(e){if(!e.valid){this.messageService.add({severity:"error",summary:"Error",detail:this.translate.instant("Users.update.fillAllFields")});return}let t=this.authService.getCurrentUser();t&&(this.loading=!0,this.authService.updateUser(t.id,this.entiteIdlogin,this.updateData).subscribe({next:i=>{this.loading=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Users.update.success"),detail:this.translate.instant("Users.update.success")}),this.loadCurrentUser()},error:i=>{this.loading=!1,console.error("Error updating user:",i),this.messageService.add({severity:"error",summary:this.translate.instant("Users.update.error"),detail:i.error?.message||this.translate.instant("Users.update.error")})}}))}static \u0275fac=function(t){return new(t||n)(B(ze),B(ne),B(Fe),B(oe))};static \u0275cmp=re({type:n,selectors:[["app-formlayout-demo"]],features:[xe([ne])],decls:4,vars:2,consts:[["editUserForm","ngForm"],["class","flex justify-content-center align-items-center","style","height: 300px",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"flex","justify-content-center","align-items-center",2,"height","300px"],[3,"ngSubmit"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-wrap","gap-2","w-full"],["for","nom"],["id","nom","type","text","pInputText","","name","Nom","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","prenom"],["id","prenom","type","text","pInputText","","name","Prenom","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","username"],["id","username","type","text","pInputText","","name","Username","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["for","email"],["id","email","type","email","pInputText","","name","Email","required","",1,"w-full",3,"ngModelChange","ngModel","placeholder"],["class","flex flex-col md:flex-row gap-6",4,"ngIf"],[1,"p-dialog-footer"],["pButton","","pRipple","","type","submit","icon","pi pi-check",3,"label","disabled"],["for","currentPassword"],["id","currentPassword","name","CurrentPassword",1,"w-full",3,"ngModelChange","ngModel","placeholder","toggleMask","feedback"],["for","newPassword"],["id","newPassword","name","NewPassword",1,"w-full",3,"ngModelChange","ngModel","placeholder","toggleMask","feedback"],["class","mt-2 w-full",4,"ngIf"],[1,"mt-2","w-full"],[1,"mr-2"]],template:function(t,i){t&1&&(d(0,"p-fluid"),P(1,"p-toast"),R(2,sK,2,0,"div",1)(3,dK,37,36,"form",2),u()),t&2&&(c(2),g("ngIf",i.loading),c(),g("ngIf",!i.loading))},dependencies:[rt,ht,tt,nt,RC,LC,qm,zm,Ye,dt,st,Xe,lt,ut,Ze,ct,Ve,Ke,Xt,ai,pe,ge,Pe,qe,We,He],encapsulation:2})};var iA=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"",component:gh,children:[{path:"dashboard",component:J0,canActivate:[ri]},{path:"documentation",component:xC,canActivate:[ri]},{path:"pages",loadChildren:()=>import("./chunk-2BEQ5PZO.js"),canActivate:[ri]},{path:"cheval",component:Dh,canActivate:[ri]},{path:"cheval/addcheval",component:i0,canActivate:[ri]},{path:"ordonnance",component:Ah,canActivate:[ri]},{path:"ordonnance/addordonnance",component:a0,canActivate:[ri]},{path:"categorie",component:Mh,canActivate:[ri]},{path:"categorie/addcategorie",component:t0,canActivate:[ri]},{path:"contact",component:kh,canActivate:[ri]},{path:"contact/addcontact",component:n0,canActivate:[ri]},{path:"typecontact",component:Ph,canActivate:[ri]},{path:"typecontact/addtypecontact",component:l0,canActivate:[ri]},{path:"race",component:Lh,canActivate:[ri]},{path:"race/addrace",component:s0,canActivate:[ri]},{path:"deplacement",component:Rh,canActivate:[ri]},{path:"deplacement/adddeplacement",component:c0,canActivate:[ri]},{path:"qualification",component:Jf,canActivate:[ri]},{path:"qualification/addqualification",component:o0,canActivate:[ri]},{path:"vendrechevaux",component:e0,canActivate:[ri]},{path:"vendrechevaux/effectuernouvellevente",component:d0,canActivate:[ri]},{path:"acte",component:p0,canActivate:[ri]},{path:"acte/add_acte",component:m0,canActivate:[ri]},{path:"lieux",component:Xf,canActivate:[ri]},{path:"lieux/addlieu",component:r0,canActivate:[ri]},{path:"users",component:eg,canActivate:[ri]},{path:"CalendarComponent",component:Yf,canActivate:[ri]},{path:"edit-user",component:tg,canActivate:[ri]}]},{path:"landing",component:Ch},{path:"notfound",component:xh},{path:"auth",loadChildren:()=>import("./chunk-SHMQUARC.js")},{path:"**",redirectTo:"/notfound"}];var uK=n=>new dC(n,"./i18n/",".json");var nA={providers:[MS({eventCoalescing:!0}),yS([Ve.forRoot({loader:{provide:cC,useFactory:uK,deps:[Ut]}})]),HS(iA,WS({anchorScrolling:"enabled",scrollPositionRestoration:"enabled"}),US()),FS(OS()),kx(),oC({theme:{preset:sC,options:{darkModeSelector:".app-dark"}}}),ri,...uC({defaultLanguage:"en",supportedLanguages:["en","fr","ar"]})]};var ig=class n{constructor(e){this.translate=e;e.addLangs(["en","fr","ar"]);let t=e.getBrowserLang();e.use(t?.match(/en|fr|ar/)?t:"en")}static \u0275fac=function(t){return new(t||n)(B(Fe))};static \u0275cmp=re({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){t&1&&P(0,"router-outlet")},dependencies:[Mn,Bm,Ye,Ve],encapsulation:2})};var rA=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),ud=class n{element=null;classNames=[];attrs=[];notSelectors=[];static parse(e){let t=[],i=(l,p)=>{p.notSelectors.length>0&&!p.element&&p.classNames.length==0&&p.attrs.length==0&&(p.element="*"),l.push(p)},r=new n,a,o=r,s=!1;for(rA.lastIndex=0;a=rA.exec(e);){if(a[1]){if(s)throw new Error("Nesting :not in a selector is not allowed");s=!0,o=new n,r.notSelectors.push(o)}let l=a[2];if(l){let m=a[3];m==="#"?o.addAttribute("id",l.slice(1)):m==="."?o.addClassName(l.slice(1)):o.setElement(l)}let p=a[4];if(p&&o.addAttribute(o.unescapeAttribute(p),a[6]),a[7]&&(s=!1,o=r),a[8]){if(s)throw new Error("Multiple selectors in :not are not supported");i(t,r),r=o=new n}}return i(t,r),t}unescapeAttribute(e){let t="",i=!1;for(let r=0;r<e.length;r++){let a=e.charAt(r);if(a==="\\"){i=!0;continue}if(a==="$"&&!i)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);i=!1,t+=a}return t}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(t=>e+=`.${t}`),this.attrs)for(let t=0;t<this.attrs.length;t+=2){let i=this.escapeAttribute(this.attrs[t]),r=this.attrs[t+1];e+=`[${i}${r?"="+r:""}]`}return this.notSelectors.forEach(t=>e+=`:not(${t})`),e}},gg=class n{static createNotMatcher(e){let t=new n;return t.addSelectables(e,null),t}_elementMap=new Map;_elementPartialMap=new Map;_classMap=new Map;_classPartialMap=new Map;_attrValueMap=new Map;_attrValuePartialMap=new Map;_listContexts=[];addSelectables(e,t){let i=null;e.length>1&&(i=new _2(e),this._listContexts.push(i));for(let r=0;r<e.length;r++)this._addSelectable(e[r],t,i)}_addSelectable(e,t,i){let r=this,a=e.element,o=e.classNames,s=e.attrs,l=new y2(e,t,i);if(a&&(s.length===0&&o.length===0?this._addTerminal(r._elementMap,a,l):r=this._addPartial(r._elementPartialMap,a)),o)for(let p=0;p<o.length;p++){let m=s.length===0&&p===o.length-1,_=o[p];m?this._addTerminal(r._classMap,_,l):r=this._addPartial(r._classPartialMap,_)}if(s)for(let p=0;p<s.length;p+=2){let m=p===s.length-2,_=s[p],S=s[p+1];if(m){let C=r._attrValueMap,E=C.get(_);E||(E=new Map,C.set(_,E)),this._addTerminal(E,S,l)}else{let C=r._attrValuePartialMap,E=C.get(_);E||(E=new Map,C.set(_,E)),r=this._addPartial(E,S)}}}_addTerminal(e,t,i){let r=e.get(t);r||(r=[],e.set(t,r)),r.push(i)}_addPartial(e,t){let i=e.get(t);return i||(i=new n,e.set(t,i)),i}match(e,t){let i=!1,r=e.element,a=e.classNames,o=e.attrs;for(let s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(i=this._matchTerminal(this._elementMap,r,e,t)||i,i=this._matchPartial(this._elementPartialMap,r,e,t)||i,a)for(let s=0;s<a.length;s++){let l=a[s];i=this._matchTerminal(this._classMap,l,e,t)||i,i=this._matchPartial(this._classPartialMap,l,e,t)||i}if(o)for(let s=0;s<o.length;s+=2){let l=o[s],p=o[s+1],m=this._attrValueMap.get(l);p&&(i=this._matchTerminal(m,"",e,t)||i),i=this._matchTerminal(m,p,e,t)||i;let _=this._attrValuePartialMap.get(l);p&&(i=this._matchPartial(_,"",e,t)||i),i=this._matchPartial(_,p,e,t)||i}return i}_matchTerminal(e,t,i,r){if(!e||typeof t!="string")return!1;let a=e.get(t)||[],o=e.get("*");if(o&&(a=a.concat(o)),a.length===0)return!1;let s,l=!1;for(let p=0;p<a.length;p++)s=a[p],l=s.finalize(i,r)||l;return l}_matchPartial(e,t,i,r){if(!e||typeof t!="string")return!1;let a=e.get(t);return a?a.match(i,r):!1}},_2=class{selectors;alreadyMatched=!1;constructor(e){this.selectors=e}},y2=class{selector;cbContext;listContext;notSelectors;constructor(e,t,i){this.selector=e,this.cbContext=t,this.listContext=i,this.notSelectors=e.notSelectors}finalize(e,t){let i=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(i=!gg.createNotMatcher(this.notSelectors).match(e,null)),i&&t&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),i}};var Al=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Al||{}),Uw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Uw||{}),_p=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(_p||{}),aA={name:"custom-elements"},oA={name:"no-errors-schema"};var Mi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Mi||{});function pK(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return[n.element&&n.element!=="*"?n.element:"",...n.attrs,...e]}function mK(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return n.element?[5,n.element,...n.attrs,...e]:n.attrs.length?[3,...n.attrs,...e]:n.classNames&&n.classNames.length?[9,...n.classNames]:[]}function hK(n){let e=pK(n),t=n.notSelectors&&n.notSelectors.length?n.notSelectors.map(i=>mK(i)):[];return e.concat(...t)}function jw(n){return n?ud.parse(n).map(hK):[]}var $o=function(n){return n[n.Directive=0]="Directive",n[n.Component=1]="Component",n[n.Injectable=2]="Injectable",n[n.Pipe=3]="Pipe",n[n.NgModule=4]="NgModule",n}($o||{});var vg;function fK(n){return yK(_K(n.nodes).join("")+`[${n.meaning}]`)}function gK(n){return n.id||VM(n)}function VM(n){let e=new b2,t=n.nodes.map(i=>i.visit(e,null));return HM(t.join(""),n.meaning)}var _g=class{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map(i=>i.visit(this)).join(", ")}]`}visitIcu(e,t){let i=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expression}, ${e.type}, ${i.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(i=>i.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,t){return`<ph block name="${e.startName}">${e.children.map(i=>i.visit(this)).join(", ")}</ph name="${e.closeName}">`}},vK=new _g;function _K(n){return n.map(e=>e.visit(vK,null))}var b2=class extends _g{visitIcu(e){let t=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.type}, ${t.join(", ")}}`}};function yK(n){vg??=new TextEncoder;let e=[...vg.encode(n)],t=SK(e,zw.Big),i=e.length*8,r=new Uint32Array(80),a=1732584193,o=4023233417,s=2562383102,l=271733878,p=3285377520;t[i>>5]|=128<<24-i%32,t[(i+64>>9<<4)+15]=i;for(let m=0;m<t.length;m+=16){let _=a,S=o,C=s,E=l,I=p;for(let M=0;M<80;M++){M<16?r[M]=t[m+M]:r[M]=Yb(r[M-3]^r[M-8]^r[M-14]^r[M-16],1);let F=bK(M,o,s,l),N=F[0],U=F[1],j=[Yb(a,5),N,p,U,r[M]].reduce(Gc);p=l,l=s,s=Yb(o,30),o=a,a=j}a=Gc(a,_),o=Gc(o,S),s=Gc(s,C),l=Gc(l,E),p=Gc(p,I)}return pp(a)+pp(o)+pp(s)+pp(l)+pp(p)}function pp(n){return(n>>>0).toString(16).padStart(8,"0")}function bK(n,e,t,i){return n<20?[e&t|~e&i,1518500249]:n<40?[e^t^i,1859775393]:n<60?[e&t|e&i|t&i,2400959708]:[e^t^i,3395469782]}function sA(n){vg??=new TextEncoder;let e=vg.encode(n),t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=lA(t,e.length,0),r=lA(t,e.length,102072);return i==0&&(r==0||r==1)&&(i=i^319790063,r=r^-1801410264),BigInt.asUintN(32,BigInt(i))<<BigInt(32)|BigInt.asUintN(32,BigInt(r))}function HM(n,e=""){let t=sA(n);return e&&(t=BigInt.asUintN(64,t<<BigInt(1))|t>>BigInt(63)&BigInt(1),t+=sA(e)),BigInt.asUintN(63,t).toString()}function lA(n,e,t){let i=2654435769,r=2654435769,a=0,o=e-12;for(;a<=o;a+=12){i+=n.getUint32(a,!0),r+=n.getUint32(a+4,!0),t+=n.getUint32(a+8,!0);let l=cA(i,r,t);i=l[0],r=l[1],t=l[2]}let s=e-a;return t+=e,s>=4?(i+=n.getUint32(a,!0),a+=4,s>=8?(r+=n.getUint32(a,!0),a+=4,s>=9&&(t+=n.getUint8(a++)<<8),s>=10&&(t+=n.getUint8(a++)<<16),s===11&&(t+=n.getUint8(a++)<<24)):(s>=5&&(r+=n.getUint8(a++)),s>=6&&(r+=n.getUint8(a++)<<8),s===7&&(r+=n.getUint8(a++)<<16))):(s>=1&&(i+=n.getUint8(a++)),s>=2&&(i+=n.getUint8(a++)<<8),s===3&&(i+=n.getUint8(a++)<<16)),cA(i,r,t)[2]}function cA(n,e,t){return n-=e,n-=t,n^=t>>>13,e-=t,e-=n,e^=n<<8,t-=n,t-=e,t^=e>>>13,n-=e,n-=t,n^=t>>>12,e-=t,e-=n,e^=n<<16,t-=n,t-=e,t^=e>>>5,n-=e,n-=t,n^=t>>>3,e-=t,e-=n,e^=n<<10,t-=n,t-=e,t^=e>>>15,[n,e,t]}var zw=function(n){return n[n.Little=0]="Little",n[n.Big=1]="Big",n}(zw||{});function Gc(n,e){return wK(n,e)[1]}function wK(n,e){let t=(n&65535)+(e&65535),i=(n>>>16)+(e>>>16)+(t>>>16);return[i>>>16,i<<16|t&65535]}function Yb(n,e){return n<<e|n>>>32-e}function SK(n,e){let t=n.length+3>>>2,i=[];for(let r=0;r<t;r++)i[r]=CK(n,r*4,e);return i}function dA(n,e){return e>=n.length?0:n[e]}function CK(n,e,t){let i=0;if(t===zw.Big)for(let r=0;r<4;r++)i+=dA(n,e+r)<<24-8*r;else for(let r=0;r<4;r++)i+=dA(n,e+r)<<8*r;return i}var WM=function(n){return n[n.None=0]="None",n[n.Const=1]="Const",n}(WM||{}),yg=class{modifiers;constructor(e=WM.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},rs=function(n){return n[n.Dynamic=0]="Dynamic",n[n.Bool=1]="Bool",n[n.String=2]="String",n[n.Int=3]="Int",n[n.Number=4]="Number",n[n.Function=5]="Function",n[n.Inferred=6]="Inferred",n[n.None=7]="None",n}(rs||{}),go=class extends yg{name;constructor(e,t){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}},ma=class extends yg{value;typeParams;constructor(e,t,i=null){super(t),this.value=e,this.typeParams=i}visitType(e,t){return e.visitExpressionType(this,t)}};var ym=new go(rs.Dynamic),ua=new go(rs.Inferred),xK=new go(rs.Bool),ZTe=new go(rs.Int),qw=new go(rs.Number),$w=new go(rs.String),JTe=new go(rs.Function),vo=new go(rs.None),Pp=function(n){return n[n.Minus=0]="Minus",n[n.Plus=1]="Plus",n}(Pp||{}),Me=function(n){return n[n.Equals=0]="Equals",n[n.NotEquals=1]="NotEquals",n[n.Identical=2]="Identical",n[n.NotIdentical=3]="NotIdentical",n[n.Minus=4]="Minus",n[n.Plus=5]="Plus",n[n.Divide=6]="Divide",n[n.Multiply=7]="Multiply",n[n.Modulo=8]="Modulo",n[n.And=9]="And",n[n.Or=10]="Or",n[n.BitwiseOr=11]="BitwiseOr",n[n.BitwiseAnd=12]="BitwiseAnd",n[n.Lower=13]="Lower",n[n.LowerEquals=14]="LowerEquals",n[n.Bigger=15]="Bigger",n[n.BiggerEquals=16]="BiggerEquals",n[n.NullishCoalesce=17]="NullishCoalesce",n}(Me||{});function EK(n,e){return n==null||e==null?n==e:n.isEquivalent(e)}function UM(n,e,t){let i=n.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function Wr(n,e){return UM(n,e,(t,i)=>t.isEquivalent(i))}var di=class{type;sourceSpan;constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new Ur(this,e,null,t)}key(e,t,i){return new es(this,e,t,i)}callFn(e,t,i){return new kr(this,e,null,t,i)}instantiate(e,t,i){return new Rp(this,e,t,i)}conditional(e,t=null,i){return new Jo(this,e,t,null,i)}equals(e,t){return new Gt(Me.Equals,this,e,null,t)}notEquals(e,t){return new Gt(Me.NotEquals,this,e,null,t)}identical(e,t){return new Gt(Me.Identical,this,e,null,t)}notIdentical(e,t){return new Gt(Me.NotIdentical,this,e,null,t)}minus(e,t){return new Gt(Me.Minus,this,e,null,t)}plus(e,t){return new Gt(Me.Plus,this,e,null,t)}divide(e,t){return new Gt(Me.Divide,this,e,null,t)}multiply(e,t){return new Gt(Me.Multiply,this,e,null,t)}modulo(e,t){return new Gt(Me.Modulo,this,e,null,t)}and(e,t){return new Gt(Me.And,this,e,null,t)}bitwiseOr(e,t,i=!0){return new Gt(Me.BitwiseOr,this,e,null,t,i)}bitwiseAnd(e,t,i=!0){return new Gt(Me.BitwiseAnd,this,e,null,t,i)}or(e,t){return new Gt(Me.Or,this,e,null,t)}lower(e,t){return new Gt(Me.Lower,this,e,null,t)}lowerEquals(e,t){return new Gt(Me.LowerEquals,this,e,null,t)}bigger(e,t){return new Gt(Me.Bigger,this,e,null,t)}biggerEquals(e,t){return new Gt(Me.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(MK,e)}nullishCoalesce(e,t){return new Gt(Me.NullishCoalesce,this,e,null,t)}toStmt(){return new va(this,null)}},ga=class n extends di{name;constructor(e,t,i){super(t,i),this.name=e}isEquivalent(e){return e instanceof n&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}clone(){return new n(this.name,this.type,this.sourceSpan)}set(e){return new bg(this.name,e,null,this.sourceSpan)}},pd=class n extends di{expr;constructor(e,t,i){super(t,i),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},Nt=class n extends di{node;constructor(e,t,i){super(t,i),this.node=e}isEquivalent(e){return e instanceof n&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}clone(){return new n(this.node,this.type,this.sourceSpan)}},bg=class n extends di{name;value;constructor(e,t,i,r){super(i||t.type,r),this.name=e,this.value=t}isEquivalent(e){return e instanceof n&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteVarExpr(this,t)}clone(){return new n(this.name,this.value.clone(),this.type,this.sourceSpan)}toDeclStmt(e,t){return new lr(this.name,this.value,e,t,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(ua,zn.Final)}},Lp=class n extends di{receiver;index;value;constructor(e,t,i,r,a){super(r||i.type,a),this.receiver=e,this.index=t,this.value=i}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteKeyExpr(this,t)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.value.clone(),this.type,this.sourceSpan)}},md=class n extends di{receiver;name;value;constructor(e,t,i,r,a){super(r||i.type,a),this.receiver=e,this.name=t,this.value=i}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWritePropExpr(this,t)}clone(){return new n(this.receiver.clone(),this.name,this.value.clone(),this.type,this.sourceSpan)}},kr=class n extends di{fn;args;pure;constructor(e,t,i,r,a=!1){super(i,r),this.fn=e,this.args=t,this.pure=a}get receiver(){return this.fn}isEquivalent(e){return e instanceof n&&this.fn.isEquivalent(e.fn)&&Wr(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}clone(){return new n(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},wg=class n extends di{tag;template;constructor(e,t,i,r){super(i,r),this.tag=e,this.template=t}isEquivalent(e){return e instanceof n&&this.tag.isEquivalent(e.tag)&&this.template.isEquivalent(e.template)}isConstant(){return!1}visitExpression(e,t){return e.visitTaggedTemplateLiteralExpr(this,t)}clone(){return new n(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},Rp=class n extends di{classExpr;args;constructor(e,t,i,r){super(i,r),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof n&&this.classExpr.isEquivalent(e.classExpr)&&Wr(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}clone(){return new n(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},$n=class n extends di{value;constructor(e,t,i){super(t,i),this.value=e}isEquivalent(e){return e instanceof n&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}clone(){return new n(this.value,this.type,this.sourceSpan)}},Bp=class n extends di{elements;expressions;constructor(e,t,i){super(null,i),this.elements=e,this.expressions=t}isEquivalent(e){return e instanceof n&&UM(this.elements,e.elements,(t,i)=>t.text===i.text)&&Wr(this.expressions,e.expressions)}isConstant(){return!1}visitExpression(e,t){return e.visitTemplateLiteralExpr(this,t)}clone(){return new n(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},Sg=class n extends di{text;rawText;constructor(e,t,i){super($w,t),this.text=e,this.rawText=i??w2(mg(e))}visitExpression(e,t){return e.visitTemplateLiteralElementExpr(this,t)}isEquivalent(e){return e instanceof n&&e.text===this.text&&e.rawText===this.rawText}isConstant(){return!0}clone(){return new n(this.text,this.sourceSpan,this.rawText)}},Ol=class{text;sourceSpan;constructor(e,t){this.text=e,this.sourceSpan=t}},sd=class{text;sourceSpan;associatedMessage;constructor(e,t,i){this.text=e,this.sourceSpan=t,this.associatedMessage=i}},IK="|",uA="@@",TK="\u241F",Cg=class n extends di{metaBlock;messageParts;placeHolderNames;expressions;constructor(e,t,i,r,a){super($w,a),this.metaBlock=e,this.messageParts=t,this.placeHolderNames=i,this.expressions=r}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,t){return e.visitLocalizedString(this,t)}clone(){return new n(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${IK}${e}`),this.metaBlock.customId&&(e=`${e}${uA}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(t=>{e=`${e}${TK}${t}`}),pA(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let t=this.placeHolderNames[e-1],i=this.messageParts[e],r=t.text;return t.associatedMessage?.legacyIds.length===0&&(r+=`${uA}${HM(t.associatedMessage.messageString,t.associatedMessage.meaning)}`),pA(r,i.text,this.getMessagePartSourceSpan(e))}},mg=n=>n.replace(/\\/g,"\\\\"),DK=n=>n.replace(/^:/,"\\:"),AK=n=>n.replace(/:/g,"\\:"),w2=n=>n.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function pA(n,e,t){return n===""?{cooked:e,raw:w2(DK(mg(e))),range:t}:{cooked:`:${n}:${e}`,raw:w2(`:${AK(mg(n))}:${mg(e)}`),range:t}}var zl=class n extends di{value;typeParams;constructor(e,t,i=null,r){super(t,r),this.value=e,this.typeParams=i}isEquivalent(e){return e instanceof n&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}clone(){return new n(this.value,this.type,this.typeParams,this.sourceSpan)}};var Jo=class n extends di{condition;falseCase;trueCase;constructor(e,t,i=null,r,a){super(r||t.type,a),this.condition=e,this.falseCase=i,this.trueCase=t}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&EK(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}clone(){return new n(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}};var Fp=class n extends di{condition;constructor(e,t){super(xK,t),this.condition=e}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}clone(){return new n(this.condition.clone(),this.sourceSpan)}},Ln=class n{name;type;constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}clone(){return new n(this.name,this.type)}},zs=class n extends di{params;statements;name;constructor(e,t,i,r,a){super(i,r),this.params=e,this.statements=t,this.name=a}isEquivalent(e){return(e instanceof n||e instanceof Np)&&Wr(this.params,e.params)&&Wr(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t){return new Np(e,this.params,this.statements,this.type,t,this.sourceSpan)}clone(){return new n(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},ql=class n extends di{params;body;constructor(e,t,i,r){super(i,r),this.params=e,this.body=t}isEquivalent(e){return!(e instanceof n)||!Wr(this.params,e.params)?!1:this.body instanceof di&&e.body instanceof di?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?Wr(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,t){return e.visitArrowFunctionExpr(this,t)}clone(){return new n(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,t){return new lr(e,this,ua,t,this.sourceSpan)}},hd=class n extends di{operator;expr;parens;constructor(e,t,i,r,a=!0){super(i||qw,r),this.operator=e,this.expr=t,this.parens=a}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,t){return e.visitUnaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},Gt=class n extends di{operator;rhs;parens;lhs;constructor(e,t,i,r,a,o=!0){super(r||t.type,a),this.operator=e,this.rhs=i,this.parens=o,this.lhs=t}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan,this.parens)}},Ur=class n extends di{receiver;name;constructor(e,t,i,r){super(i,r),this.receiver=e,this.name=t}get index(){return this.name}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new md(this.receiver,this.name,e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},es=class n extends di{receiver;index;constructor(e,t,i,r){super(i,r),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new Lp(this.receiver,this.index,e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},Ba=class n extends di{entries;constructor(e,t,i){super(t,i),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof n&&Wr(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}clone(){return new n(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},fd=class n{key;value;quoted;constructor(e,t,i){this.key=e,this.value=t,this.quoted=i}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new n(this.key,this.value.clone(),this.quoted)}},_o=class n extends di{entries;valueType=null;constructor(e,t,i){super(t,i),this.entries=e,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof n&&Wr(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}clone(){let e=this.entries.map(t=>t.clone());return new n(e,this.type,this.sourceSpan)}};var Op=new $n(null,null,null),MK=new $n(null,ua,null),zn=function(n){return n[n.None=0]="None",n[n.Final=1]="Final",n[n.Private=2]="Private",n[n.Exported=4]="Exported",n[n.Static=8]="Static",n}(zn||{}),S2=class{text;multiline;trailingNewline;constructor(e,t,i){this.text=e,this.multiline=t,this.trailingNewline=i}toString(){return this.multiline?` ${this.text} `:this.text}},xg=class extends S2{tags;constructor(e){super("",!0,!0),this.tags=e}toString(){return BK(this.tags)}},$l=class{modifiers;sourceSpan;leadingComments;constructor(e=zn.None,t=null,i){this.modifiers=e,this.sourceSpan=t,this.leadingComments=i}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},lr=class n extends $l{name;value;type;constructor(e,t,i,r,a,o){super(r,a,o),this.name=e,this.value=t,this.type=i||t&&t.type||null}isEquivalent(e){return e instanceof n&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}},Np=class n extends $l{name;params;statements;type;constructor(e,t,i,r,a,o,s){super(a,o,s),this.name=e,this.params=t,this.statements=i,this.type=r||null}isEquivalent(e){return e instanceof n&&Wr(this.params,e.params)&&Wr(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}},va=class n extends $l{expr;constructor(e,t,i){super(zn.None,t,i),this.expr=e}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}},sr=class n extends $l{value;constructor(e,t=null,i){super(zn.None,t,i),this.value=e}isEquivalent(e){return e instanceof n&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}},Eg=class n extends $l{condition;trueCase;falseCase;constructor(e,t,i=[],r,a){super(zn.None,r,a),this.condition=e,this.trueCase=t,this.falseCase=i}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&Wr(this.trueCase,e.trueCase)&&Wr(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}};function kK(n=[]){return new xg(n)}function Bt(n,e,t){return new ga(n,e,t)}function Be(n,e=null,t){return new zl(n,null,e,t)}function qn(n,e,t){return new ma(n,e,t)}function bm(n){return new pd(n)}function oi(n,e,t){return new Ba(n,e,t)}function hr(n,e=null){return new _o(n.map(t=>new fd(t.key,t.value,t.quoted)),e,null)}function PK(n,e){return new Fp(n,e)}function qs(n,e,t,i,r){return new zs(n,e,t,i,r)}function Fa(n,e,t,i){return new ql(n,e,t,i)}function Lv(n,e,t,i,r){return new Eg(n,e,t,i,r)}function LK(n,e,t,i){return new wg(n,e,t,i)}function q(n,e,t){return new $n(n,e,t)}function RK(n,e,t,i,r){return new Cg(n,e,t,i,r)}function mA(n){let e="";if(n.tagName&&(e+=` @${n.tagName}`),n.text){if(n.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+n.text.replace(/@/g,"\\@")}return e}function BK(n){if(n.length===0)return"";if(n.length===1&&n[0].tagName&&!n[0].text)return`*${mA(n[0])} `;let e=`*
`;for(let t of n)e+=" *",e+=mA(t).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var FK="_c",hA=Bt("<unknown>"),OK={},NK=50,Ig=class n extends di{resolved;original;shared=!1;constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===OK?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},Tg=class{isClosureCompilerEnabled;statements=[];literals=new Map;literalFactories=new Map;sharedConstants=new Map;_claimedNames=new Map;nextNameIndex=0;constructor(e=!1){this.isClosureCompilerEnabled=e}getConstLiteral(e,t){if(e instanceof $n&&!fA(e)||e instanceof Ig)return e;let i=ld.INSTANCE.keyOf(e),r=this.literals.get(i),a=!1;if(r||(r=new Ig(e),this.literals.set(i,r),a=!0),!a&&!r.shared||a&&t){let o=this.freshName(),s,l;this.isClosureCompilerEnabled&&fA(e)?(s=Bt(o).set(new zs([],[new sr(e)])),l=Bt(o).callFn([])):(s=Bt(o).set(e),l=Bt(o)),this.statements.push(s.toDeclStmt(ua,zn.Final)),r.fixup(l)}return r}getSharedConstant(e,t){let i=e.keyOf(t);if(!this.sharedConstants.has(i)){let r=this.freshName();this.sharedConstants.set(i,Bt(r)),this.statements.push(e.toSharedConstantDeclaration(r,t))}return this.sharedConstants.get(i)}getLiteralFactory(e){if(e instanceof Ba){let t=e.entries.map(r=>r.isConstant()?r:hA),i=ld.INSTANCE.keyOf(oi(t));return this._getLiteralFactory(i,e.entries,r=>oi(r))}else{let t=hr(e.entries.map(r=>({key:r.key,value:r.value.isConstant()?r.value:hA,quoted:r.quoted}))),i=ld.INSTANCE.keyOf(t);return this._getLiteralFactory(i,e.entries.map(r=>r.value),r=>hr(r.map((a,o)=>({key:e.entries[o].key,value:a,quoted:e.entries[o].quoted}))))}}getSharedFunctionReference(e,t,i=!0){let r=e instanceof ql;for(let o of this.statements)if(r&&o instanceof lr&&o.value?.isEquivalent(e)||!r&&o instanceof Np&&e instanceof zs&&e.isEquivalent(o))return Bt(o.name);let a=i?this.uniqueName(t):t;return this.statements.push(e instanceof zs?e.toDeclStmt(a,zn.Final):new lr(a,e,ua,zn.Final,e.sourceSpan)),Bt(a)}_getLiteralFactory(e,t,i){let r=this.literalFactories.get(e),a=t.filter(o=>!o.isConstant());if(!r){let o=t.map((m,_)=>m.isConstant()?this.getConstLiteral(m,!0):Bt(`a${_}`)),s=o.filter(VK).map(m=>new Ln(m.name,ym)),l=Fa(s,i(o),ua),p=this.freshName();this.statements.push(Bt(p).set(l).toDeclStmt(ua,zn.Final)),r=Bt(p),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:a}}uniqueName(e,t=!0){let i=this._claimedNames.get(e)??0,r=i===0&&!t?`${e}`:`${e}${i}`;return this._claimedNames.set(e,i+1),r}freshName(){return this.uniqueName(FK)}},ld=class n{static INSTANCE=new n;keyOf(e){if(e instanceof $n&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof $n)return String(e.value);if(e instanceof Ba){let t=[];for(let i of e.entries)t.push(this.keyOf(i));return`[${t.join(",")}]`}else if(e instanceof _o){let t=[];for(let i of e.entries){let r=i.key;i.quoted&&(r=`"${r}"`),t.push(r+":"+this.keyOf(i.value))}return`{${t.join(",")}}`}else{if(e instanceof zl)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof ga)return`read(${e.name})`;if(e instanceof pd)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function VK(n){return n instanceof ga}function fA(n){return n instanceof $n&&typeof n.value=="string"&&n.value.length>=NK}var H="@angular/core",V=(()=>{class n{static NEW_METHOD="factory";static TRANSFORM_METHOD="transform";static PATCH_DEPS="patchedDeps";static core={name:null,moduleName:H};static namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:H};static namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:H};static namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:H};static element={name:"\u0275\u0275element",moduleName:H};static elementStart={name:"\u0275\u0275elementStart",moduleName:H};static elementEnd={name:"\u0275\u0275elementEnd",moduleName:H};static advance={name:"\u0275\u0275advance",moduleName:H};static syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:H};static syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:H};static attribute={name:"\u0275\u0275attribute",moduleName:H};static attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:H};static attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:H};static attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:H};static attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:H};static attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:H};static attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:H};static attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:H};static attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:H};static attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:H};static classProp={name:"\u0275\u0275classProp",moduleName:H};static elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:H};static elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:H};static elementContainer={name:"\u0275\u0275elementContainer",moduleName:H};static styleMap={name:"\u0275\u0275styleMap",moduleName:H};static styleMapInterpolate1={name:"\u0275\u0275styleMapInterpolate1",moduleName:H};static styleMapInterpolate2={name:"\u0275\u0275styleMapInterpolate2",moduleName:H};static styleMapInterpolate3={name:"\u0275\u0275styleMapInterpolate3",moduleName:H};static styleMapInterpolate4={name:"\u0275\u0275styleMapInterpolate4",moduleName:H};static styleMapInterpolate5={name:"\u0275\u0275styleMapInterpolate5",moduleName:H};static styleMapInterpolate6={name:"\u0275\u0275styleMapInterpolate6",moduleName:H};static styleMapInterpolate7={name:"\u0275\u0275styleMapInterpolate7",moduleName:H};static styleMapInterpolate8={name:"\u0275\u0275styleMapInterpolate8",moduleName:H};static styleMapInterpolateV={name:"\u0275\u0275styleMapInterpolateV",moduleName:H};static classMap={name:"\u0275\u0275classMap",moduleName:H};static classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:H};static classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:H};static classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:H};static classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:H};static classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:H};static classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:H};static classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:H};static classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:H};static classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:H};static styleProp={name:"\u0275\u0275styleProp",moduleName:H};static stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:H};static stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:H};static stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:H};static stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:H};static stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:H};static stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:H};static stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:H};static stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:H};static stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:H};static nextContext={name:"\u0275\u0275nextContext",moduleName:H};static resetView={name:"\u0275\u0275resetView",moduleName:H};static templateCreate={name:"\u0275\u0275template",moduleName:H};static defer={name:"\u0275\u0275defer",moduleName:H};static deferWhen={name:"\u0275\u0275deferWhen",moduleName:H};static deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:H};static deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:H};static deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:H};static deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:H};static deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:H};static deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:H};static deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:H};static deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:H};static deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:H};static deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:H};static deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:H};static deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:H};static deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:H};static deferHydrateWhen={name:"\u0275\u0275deferHydrateWhen",moduleName:H};static deferHydrateNever={name:"\u0275\u0275deferHydrateNever",moduleName:H};static deferHydrateOnIdle={name:"\u0275\u0275deferHydrateOnIdle",moduleName:H};static deferHydrateOnImmediate={name:"\u0275\u0275deferHydrateOnImmediate",moduleName:H};static deferHydrateOnTimer={name:"\u0275\u0275deferHydrateOnTimer",moduleName:H};static deferHydrateOnHover={name:"\u0275\u0275deferHydrateOnHover",moduleName:H};static deferHydrateOnInteraction={name:"\u0275\u0275deferHydrateOnInteraction",moduleName:H};static deferHydrateOnViewport={name:"\u0275\u0275deferHydrateOnViewport",moduleName:H};static deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:H};static conditional={name:"\u0275\u0275conditional",moduleName:H};static repeater={name:"\u0275\u0275repeater",moduleName:H};static repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:H};static repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:H};static repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:H};static componentInstance={name:"\u0275\u0275componentInstance",moduleName:H};static text={name:"\u0275\u0275text",moduleName:H};static enableBindings={name:"\u0275\u0275enableBindings",moduleName:H};static disableBindings={name:"\u0275\u0275disableBindings",moduleName:H};static getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:H};static textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:H};static textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:H};static textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:H};static textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:H};static textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:H};static textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:H};static textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:H};static textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:H};static textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:H};static textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:H};static restoreView={name:"\u0275\u0275restoreView",moduleName:H};static pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:H};static pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:H};static pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:H};static pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:H};static pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:H};static pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:H};static pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:H};static pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:H};static pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:H};static pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:H};static pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:H};static pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:H};static pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:H};static pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:H};static pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:H};static hostProperty={name:"\u0275\u0275hostProperty",moduleName:H};static property={name:"\u0275\u0275property",moduleName:H};static propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:H};static propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:H};static propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:H};static propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:H};static propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:H};static propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:H};static propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:H};static propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:H};static propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:H};static propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:H};static i18n={name:"\u0275\u0275i18n",moduleName:H};static i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:H};static i18nExp={name:"\u0275\u0275i18nExp",moduleName:H};static i18nStart={name:"\u0275\u0275i18nStart",moduleName:H};static i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:H};static i18nApply={name:"\u0275\u0275i18nApply",moduleName:H};static i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:H};static pipe={name:"\u0275\u0275pipe",moduleName:H};static projection={name:"\u0275\u0275projection",moduleName:H};static projectionDef={name:"\u0275\u0275projectionDef",moduleName:H};static reference={name:"\u0275\u0275reference",moduleName:H};static inject={name:"\u0275\u0275inject",moduleName:H};static injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:H};static directiveInject={name:"\u0275\u0275directiveInject",moduleName:H};static invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:H};static invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:H};static templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:H};static forwardRef={name:"forwardRef",moduleName:H};static resolveForwardRef={name:"resolveForwardRef",moduleName:H};static replaceMetadata={name:"\u0275\u0275replaceMetadata",moduleName:H};static getReplaceMetadataURL={name:"\u0275\u0275getReplaceMetadataURL",moduleName:H};static \u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:H};static declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:H};static InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:H};static resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:H};static resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:H};static resolveBody={name:"\u0275\u0275resolveBody",moduleName:H};static getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:H};static defineComponent={name:"\u0275\u0275defineComponent",moduleName:H};static declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:H};static setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:H};static ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:H};static ViewEncapsulation={name:"ViewEncapsulation",moduleName:H};static ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:H};static FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:H};static declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:H};static FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:H};static defineDirective={name:"\u0275\u0275defineDirective",moduleName:H};static declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:H};static DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:H};static InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:H};static InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:H};static defineInjector={name:"\u0275\u0275defineInjector",moduleName:H};static declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:H};static NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:H};static ModuleWithProviders={name:"ModuleWithProviders",moduleName:H};static defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:H};static declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:H};static setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:H};static registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:H};static PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:H};static definePipe={name:"\u0275\u0275definePipe",moduleName:H};static declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:H};static declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:H};static declareClassMetadataAsync={name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:H};static setClassMetadata={name:"\u0275setClassMetadata",moduleName:H};static setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:H};static setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:H};static queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:H};static viewQuery={name:"\u0275\u0275viewQuery",moduleName:H};static loadQuery={name:"\u0275\u0275loadQuery",moduleName:H};static contentQuery={name:"\u0275\u0275contentQuery",moduleName:H};static viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:H};static contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:H};static queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:H};static twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:H};static twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:H};static twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:H};static declareLet={name:"\u0275\u0275declareLet",moduleName:H};static storeLet={name:"\u0275\u0275storeLet",moduleName:H};static readContextLet={name:"\u0275\u0275readContextLet",moduleName:H};static attachSourceLocations={name:"\u0275\u0275attachSourceLocations",moduleName:H};static NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:H};static InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:H};static CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:H};static ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:H};static HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:H};static ExternalStylesFeature={name:"\u0275\u0275ExternalStylesFeature",moduleName:H};static listener={name:"\u0275\u0275listener",moduleName:H};static getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:H};static sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:H};static sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:H};static sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:H};static sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:H};static sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:H};static sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:H};static trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:H};static trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:H};static validateIframeAttribute={name:"\u0275\u0275validateIframeAttribute",moduleName:H};static InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:H};static UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:H};static unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:H}}return n})(),HK=/-+([a-z0-9])/g;function WK(n){return n.replace(HK,(...e)=>e[1].toUpperCase())}function UK(n,e){return jM(n,":",e)}function jK(n,e){return jM(n,".",e)}function jM(n,e,t){let i=n.indexOf(e);return i==-1?t:[n.slice(0,i).trim(),n.slice(i+1).trim()]}function zK(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i>=55296&&i<=56319&&n.length>t+1){let r=n.charCodeAt(t+1);r>=56320&&r<=57343&&(t++,i=(i-55296<<10)+r-56320+65536)}i<=127?e.push(i):i<=2047?e.push(i>>6&31|192,i&63|128):i<=65535?e.push(i>>12|224,i>>6&63|128,i&63|128):i<=2097151&&e.push(i>>18&7|240,i>>12&63|128,i>>6&63|128,i&63|128)}return e}function zM(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(zM).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;if(!n.toString)return"object";let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}var C2=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Cp=globalThis,qK=/^([1-9]|1[0-8])\./;function qM(n){return n.startsWith("0.")?!0:!qK.test(n)}var $K=3,QK="# sourceMappingURL=data:application/json;base64,",x2=class{file;sourcesContent=new Map;lines=[];lastCol0=0;hasMappings=!1;constructor(e=null){this.file=e}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,i,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(t!=null&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(i==null||r==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:i,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,t=[],i=[];Array.from(this.sourcesContent.keys()).forEach((p,m)=>{e.set(p,m),t.push(p),i.push(this.sourcesContent.get(p)||null)});let r="",a=0,o=0,s=0,l=0;return this.lines.forEach(p=>{a=0,r+=p.map(m=>{let _=ng(m.col0-a);return a=m.col0,m.sourceUrl!=null&&(_+=ng(e.get(m.sourceUrl)-o),o=e.get(m.sourceUrl),_+=ng(m.sourceLine0-s),s=m.sourceLine0,_+=ng(m.sourceCol0-l),l=m.sourceCol0),_}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:$K,sourceRoot:"",sources:t,sourcesContent:i,mappings:r}}toJsComment(){return this.hasMappings?"//"+QK+GK(JSON.stringify(this,null,0)):""}};function GK(n){let e="",t=zK(n);for(let i=0;i<t.length;){let r=t[i++],a=i<t.length?t[i++]:null,o=i<t.length?t[i++]:null;e+=yp(r>>2),e+=yp((r&3)<<4|(a===null?0:a>>4)),e+=a===null?"=":yp((a&15)<<2|(o===null?0:o>>6)),e+=a===null||o===null?"=":yp(o&63)}return e}function ng(n){n=n<0?(-n<<1)+1:n<<1;let e="";do{let t=n&31;n=n>>5,n>0&&(t=t|32),e+=yp(t)}while(n>0);return e}var YK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function yp(n){if(n<0||n>=64)throw new Error("Can only encode value in the range [0, 63]");return YK[n]}var KK=/'|\\|\n|\r|\$/g,XK=/^[$A-Z_][0-9A-Z_$]*$/i,E2="  ",Dg=class{indent;partsLength=0;parts=[];srcSpans=[];constructor(e){this.indent=e}},I2=class n{_indent;static createRoot(){return new n(0)}_lines;constructor(e){this._indent=e,this._lines=[new Dg(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*E2.length+this._currentLine.partsLength}print(e,t,i=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),i&&this._lines.push(new Dg(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?gA(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,t=0){let i=new x2(e),r=!1,a=()=>{r||(i.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let o=0;o<t;o++)i.addLine(),a();return this.sourceLines.forEach((o,s)=>{i.addLine();let l=o.srcSpans,p=o.parts,m=o.indent*E2.length,_=0;for(;_<l.length&&!l[_];)m+=p[_].length,_++;for(_<l.length&&s===0&&m===0?r=!0:a();_<l.length;){let S=l[_],C=S.start.file,E=S.start.line,I=S.start.col;for(i.addSource(C.url,C.content).addMapping(m,C.url,E,I),m+=p[_].length,_++;_<l.length&&(S===l[_]||!l[_]);)m+=p[_].length,_++}}),i}spanOf(e,t){let i=this._lines[e];if(i){let r=t-gA(i.indent).length;for(let a=0;a<i.parts.length;a++){let o=i.parts[a];if(o.length>r)return i.srcSpans[a];r-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},T2=class{_escapeDollarInStrings;constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,t){if(e.leadingComments!==void 0)for(let i of e.leadingComments)i instanceof xg?t.print(e,`/*${i.toString()}*/`,i.trailingNewline):i.multiline?t.print(e,`/* ${i.text} */`,i.trailingNewline):i.text.split(`
`).forEach(r=>{t.println(e,`// ${r}`)})}visitExpressionStmt(e,t){return this.printLeadingComments(e,t),e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return this.printLeadingComments(e,t),t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){this.printLeadingComments(e,t),t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");let i=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!i?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),i&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitWriteVarExpr(e,t){let i=t.lineIsEmpty();return i||t.print(e,"("),t.print(e,`${e.name} = `),e.value.visitExpression(this,t),i||t.print(e,")"),null}visitWriteKeyExpr(e,t){let i=t.lineIsEmpty();return i||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),i||t.print(e,")"),null}visitWritePropExpr(e,t){let i=t.lineIsEmpty();return i||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,`.${e.name} = `),e.value.visitExpression(this,t),i||t.print(e,")"),null}visitInvokeFunctionExpr(e,t){let i=e.fn instanceof ql;return i&&t.print(e.fn,"("),e.fn.visitExpression(this,t),i&&t.print(e.fn,")"),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,t){return e.tag.visitExpression(this,t),e.template.visitExpression(this,t),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let i=0;i<e.elements.length;i++){e.elements[i].visitExpression(this,t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){t.print(e,e.rawText)}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){return t.print(e,e.name),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){let i=e.value;return typeof i=="string"?t.print(e,Pl(i,this._escapeDollarInStrings)):t.print(e,`${i}`),null}visitLocalizedString(e,t){let i=e.serializeI18nHead();t.print(e,"$localize `"+i.raw);for(let r=1;r<e.messageParts.length;r++)t.print(e,"${"),e.expressions[r-1].visitExpression(this,t),t.print(e,`}${e.serializeI18nTemplatePart(r).raw}`);return t.print(e,"`"),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitDynamicImportExpr(e,t){t.print(e,`import(${e.url})`)}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitUnaryOperatorExpr(e,t){let i;switch(e.operator){case Pp.Plus:i="+";break;case Pp.Minus:i="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&t.print(e,"("),t.print(e,i),e.expr.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitBinaryOperatorExpr(e,t){let i;switch(e.operator){case Me.Equals:i="==";break;case Me.Identical:i="===";break;case Me.NotEquals:i="!=";break;case Me.NotIdentical:i="!==";break;case Me.And:i="&&";break;case Me.BitwiseOr:i="|";break;case Me.BitwiseAnd:i="&";break;case Me.Or:i="||";break;case Me.Plus:i="+";break;case Me.Minus:i="-";break;case Me.Divide:i="/";break;case Me.Multiply:i="*";break;case Me.Modulo:i="%";break;case Me.Lower:i="<";break;case Me.LowerEquals:i="<=";break;case Me.Bigger:i=">";break;case Me.BiggerEquals:i=">=";break;case Me.NullishCoalesce:i="??";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${i} `),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects(i=>{t.print(e,`${Pl(i.key,this._escapeDollarInStrings,i.quoted)}:`),i.value.visitExpression(this,t)},e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitAllExpressions(e,t,i){this.visitAllObjects(r=>r.visitExpression(this,t),e,t,i)}visitAllObjects(e,t,i,r){let a=!1;for(let o=0;o<t.length;o++)o>0&&(i.lineLength()>80?(i.print(null,r,!0),a||(i.incIndent(),i.incIndent(),a=!0)):i.print(null,r,!1)),e(t[o]);a&&(i.decIndent(),i.decIndent())}visitAllStatements(e,t){e.forEach(i=>i.visitStatement(this,t))}};function Pl(n,e,t=!0){if(n==null)return null;let i=n.replace(KK,(...a)=>a[0]=="$"?e?"\\$":"$":a[0]==`
`?"\\n":a[0]=="\r"?"\\r":`\\${a[0]}`);return t||!XK.test(i)?`'${i}'`:i}function gA(n){let e="";for(let t=0;t<n;t++)e+=E2;return e}function Rv(n,e){if(e===0)return qn(n);let t=[];for(let i=0;i<e;i++)t.push(ym);return qn(n,void 0,t)}function ZK(n,e){let t=Pl(e,!1,!1);return t!==e?`${n}[${t}]`:`${n}.${e}`}function JK(n){return eX("ngJitMode",n)}function eX(n,e){let t=new zl({name:n,moduleName:null}),i=new Gt(Me.Identical,new pd(t),q("undefined")),r=new Gt(Me.Or,i,t,void 0,void 0,!0);return new Gt(Me.And,r,e)}function Dn(n){let e=new Nt(n);return{value:e,type:e}}function Ll(n,e){let t=oi(n.map(i=>i.value));return e?Fa([],t):t}function Qw(n,e){return{expression:n,forwardRef:e}}function tX({expression:n,forwardRef:e}){switch(e){case 0:case 1:return n;case 2:return iX(n)}}function iX(n){return Be(V.forwardRef).callFn([Fa([],n)])}var Ag=function(n){return n[n.Class=0]="Class",n[n.Function=1]="Function",n}(Ag||{});function Ml(n){let e=Bt("__ngFactoryType__"),t=null,i=_A(n)?e:new Gt(Me.Or,e,n.type.value),r=null;n.deps!==null?n.deps!=="invalid"&&(r=new Rp(i,vA(n.deps,n.target))):(t=Bt(`\u0275${n.name}_BaseFactory`),r=t.callFn([i]));let a=[],o=null;function s(p){let m=Bt("__ngConditionalFactory__");a.push(m.set(Op).toDeclStmt());let _=r!==null?m.set(r).toStmt():Be(V.invalidFactory).callFn([]).toStmt();return a.push(Lv(e,[_],[m.set(p).toStmt()])),m}if(_A(n)){let p=vA(n.delegateDeps,n.target),m=new(n.delegateType===Ag.Class?Rp:kr)(n.delegate,p);o=s(m)}else sX(n)?o=s(n.expression):o=r;if(o===null)a.push(Be(V.invalidFactory).callFn([]).toStmt());else if(t!==null){let p=Be(V.getInheritedFactory).callFn([n.type.value]),m=new Gt(Me.Or,t,t.set(p));a.push(new sr(m.callFn([i])))}else a.push(new sr(o));let l=qs([new Ln(e.name,ym)],a,ua,void 0,`${n.name}_Factory`);return t!==null&&(l=Fa([],[new lr(t.name),new sr(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:nX(n)}}function nX(n){let e=n.deps!==null&&n.deps!=="invalid"?aX(n.deps):vo;return qn(Be(V.FactoryDeclaration,[Rv(n.type.type,n.typeArgumentCount),e]))}function vA(n,e){return n.map((t,i)=>rX(t,e,i))}function rX(n,e,t){if(n.token===null)return Be(V.invalidFactoryDep).callFn([q(t)]);if(n.attributeNameType===null){let i=0|(n.self?2:0)|(n.skipSelf?4:0)|(n.host?1:0)|(n.optional?8:0)|(e===$o.Pipe?16:0),r=i!==0||n.optional?q(i):null,a=[n.token];r&&a.push(r);let o=lX(e);return Be(o).callFn(a)}else return Be(V.injectAttribute).callFn([n.token])}function aX(n){let e=!1,t=n.map(i=>{let r=oX(i);return r!==null?(e=!0,r):q(null)});return e?qn(oi(t)):vo}function oX(n){let e=[];return n.attributeNameType!==null&&e.push({key:"attribute",value:n.attributeNameType,quoted:!1}),n.optional&&e.push({key:"optional",value:q(!0),quoted:!1}),n.host&&e.push({key:"host",value:q(!0),quoted:!1}),n.self&&e.push({key:"self",value:q(!0),quoted:!1}),n.skipSelf&&e.push({key:"skipSelf",value:q(!0),quoted:!1}),e.length>0?hr(e):null}function _A(n){return n.delegateType!==void 0}function sX(n){return n.expression!==void 0}function lX(n){switch(n){case $o.Component:case $o.Directive:case $o.Pipe:return V.directiveInject;case $o.NgModule:case $o.Injectable:default:return V.inject}}var Vp=class{input;errLocation;ctxLocation;message;constructor(e,t,i,r){this.input=t,this.errLocation=i,this.ctxLocation=r,this.message=`Parser Error: ${e} ${i} [${t}] in ${r}`}},Ql=class{start;end;constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new Nr(e+this.start,e+this.end)}},$i=class{span;sourceSpan;constructor(e,t){this.span=e,this.sourceSpan=t}toString(){return"AST"}},gd=class extends $i{nameSpan;constructor(e,t,i){super(e,t),this.nameSpan=i}},Dr=class extends $i{visit(e,t=null){}},ha=class extends $i{visit(e,t=null){return e.visitImplicitReceiver(this,t)}},Gl=class extends ha{visit(e,t=null){return e.visitThisReceiver?.(this,t)}},vd=class extends $i{expressions;constructor(e,t,i){super(e,t),this.expressions=i}visit(e,t=null){return e.visitChain(this,t)}},Mg=class extends $i{condition;trueExp;falseExp;constructor(e,t,i,r,a){super(e,t),this.condition=i,this.trueExp=r,this.falseExp=a}visit(e,t=null){return e.visitConditional(this,t)}},Yl=class extends gd{receiver;name;constructor(e,t,i,r,a){super(e,t,i),this.receiver=r,this.name=a}visit(e,t=null){return e.visitPropertyRead(this,t)}},kg=class extends gd{receiver;name;value;constructor(e,t,i,r,a,o){super(e,t,i),this.receiver=r,this.name=a,this.value=o}visit(e,t=null){return e.visitPropertyWrite(this,t)}},Pg=class extends gd{receiver;name;constructor(e,t,i,r,a){super(e,t,i),this.receiver=r,this.name=a}visit(e,t=null){return e.visitSafePropertyRead(this,t)}},Hp=class extends $i{receiver;key;constructor(e,t,i,r){super(e,t),this.receiver=i,this.key=r}visit(e,t=null){return e.visitKeyedRead(this,t)}},Lg=class extends $i{receiver;key;constructor(e,t,i,r){super(e,t),this.receiver=i,this.key=r}visit(e,t=null){return e.visitSafeKeyedRead(this,t)}},Rg=class extends $i{receiver;key;value;constructor(e,t,i,r,a){super(e,t),this.receiver=i,this.key=r,this.value=a}visit(e,t=null){return e.visitKeyedWrite(this,t)}},Bg=class extends gd{exp;name;args;constructor(e,t,i,r,a,o){super(e,t,o),this.exp=i,this.name=r,this.args=a}visit(e,t=null){return e.visitPipe(this,t)}},oa=class extends $i{value;constructor(e,t,i){super(e,t),this.value=i}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}},Fg=class extends $i{expressions;constructor(e,t,i){super(e,t),this.expressions=i}visit(e,t=null){return e.visitLiteralArray(this,t)}},Og=class extends $i{keys;values;constructor(e,t,i,r){super(e,t),this.keys=i,this.values=r}visit(e,t=null){return e.visitLiteralMap(this,t)}},wm=class extends $i{strings;expressions;constructor(e,t,i,r){super(e,t),this.strings=i,this.expressions=r}visit(e,t=null){return e.visitInterpolation(this,t)}},Pa=class extends $i{operation;left;right;constructor(e,t,i,r,a){super(e,t),this.operation=i,this.left=r,this.right=a}visit(e,t=null){return e.visitBinary(this,t)}},Wp=class n extends Pa{operator;expr;left=null;right=null;operation=null;static createMinus(e,t,i){return new n(e,t,"-",i,"-",new oa(e,t,0),i)}static createPlus(e,t,i){return new n(e,t,"+",i,"-",i,new oa(e,t,0))}constructor(e,t,i,r,a,o,s){super(e,t,a,o,s),this.operator=i,this.expr=r}visit(e,t=null){return e.visitUnary!==void 0?e.visitUnary(this,t):e.visitBinary(this,t)}},Ng=class extends $i{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitPrefixNot(this,t)}},Vg=class extends $i{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitTypeofExpression(this,t)}},Up=class extends $i{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitNonNullAssert(this,t)}},jp=class extends $i{receiver;args;argumentSpan;constructor(e,t,i,r,a){super(e,t),this.receiver=i,this.args=r,this.argumentSpan=a}visit(e,t=null){return e.visitCall(this,t)}},Hg=class extends $i{receiver;args;argumentSpan;constructor(e,t,i,r,a){super(e,t),this.receiver=i,this.args=r,this.argumentSpan=a}visit(e,t=null){return e.visitSafeCall(this,t)}},zp=class extends $i{elements;expressions;constructor(e,t,i,r){super(e,t),this.elements=i,this.expressions=r}visit(e,t){return e.visitTemplateLiteral(this,t)}},Wg=class extends $i{text;constructor(e,t,i){super(e,t),this.text=i}visit(e,t){return e.visitTemplateLiteralElement(this,t)}},Nr=class{start;end;constructor(e,t){this.start=e,this.end=t}},la=class extends $i{ast;source;location;errors;constructor(e,t,i,r,a){super(new Ql(0,t===null?0:t.length),new Nr(r,t===null?r:r+t.length)),this.ast=e,this.source=t,this.location=i,this.errors=a}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}},qp=class{sourceSpan;key;value;constructor(e,t,i){this.sourceSpan=e,this.key=t,this.value=i}},D2=class{sourceSpan;key;value;constructor(e,t,i){this.sourceSpan=e,this.key=t,this.value=i}},Ug=class{visit(e,t){e.visit(this,t)}visitUnary(e,t){this.visit(e.expr,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitKeyedWrite(e,t){this.visit(e.receiver,t),this.visit(e.key,t),this.visit(e.value,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitPrefixNot(e,t){this.visit(e.expression,t)}visitTypeofExpression(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitPropertyWrite(e,t){this.visit(e.receiver,t),this.visit(e.value,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitSafeCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitTemplateLiteral(e,t){for(let i=0;i<e.elements.length;i++){this.visit(e.elements[i],t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&this.visit(r,t)}}visitTemplateLiteralElement(e,t){}visitAll(e,t){for(let i of e)this.visit(i,t)}},xp=class{name;expression;type;sourceSpan;keySpan;valueSpan;isLiteral;isAnimation;constructor(e,t,i,r,a,o){this.name=e,this.expression=t,this.type=i,this.sourceSpan=r,this.keySpan=a,this.valueSpan=o,this.isLiteral=this.type===Vs.LITERAL_ATTR,this.isAnimation=this.type===Vs.ANIMATION}},Vs=function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.LITERAL_ATTR=1]="LITERAL_ATTR",n[n.ANIMATION=2]="ANIMATION",n[n.TWO_WAY=3]="TWO_WAY",n}(Vs||{}),fa=function(n){return n[n.Regular=0]="Regular",n[n.Animation=1]="Animation",n[n.TwoWay=2]="TwoWay",n}(fa||{}),jg=class{name;targetOrPhase;type;handler;sourceSpan;handlerSpan;keySpan;constructor(e,t,i,r,a,o,s){this.name=e,this.targetOrPhase=t,this.type=i,this.handler=r,this.sourceSpan=a,this.handlerSpan=o,this.keySpan=s}},A2=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,a){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=a}},xi=function(n){return n[n.Property=0]="Property",n[n.Attribute=1]="Attribute",n[n.Class=2]="Class",n[n.Style=3]="Style",n[n.Animation=4]="Animation",n[n.TwoWay=5]="TwoWay",n}(xi||{}),zg=class{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,a,o,s,l){this.name=e,this.type=t,this.securityContext=i,this.value=r,this.unit=a,this.sourceSpan=o,this.keySpan=s,this.valueSpan=l}},mo=function(n){return n[n.RAW_TEXT=0]="RAW_TEXT",n[n.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",n[n.PARSABLE_DATA=2]="PARSABLE_DATA",n}(mo||{});function Oa(n,e=!0){if(n[0]!=":")return[null,n];let t=n.indexOf(":",1);if(t===-1){if(e)throw new Error(`Unsupported format "${n}" expecting ":namespace:name"`);return[null,n]}return[n.slice(1,t),n.slice(t+1)]}function yA(n){return Oa(n)[1]==="ng-container"}function M2(n){return Oa(n)[1]==="ng-content"}function cX(n){return Oa(n)[1]==="ng-template"}function k2(n){return n===null?null:Oa(n)[0]}function P2(n,e){return n?`:${n}:${e}`:e}var Bv=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){throw new Error("visit() not implemented for Comment")}},Rl=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}},_d=class{value;sourceSpan;i18n;constructor(e,t,i){this.value=e,this.sourceSpan=t,this.i18n=i}visit(e){return e.visitBoundText(this)}},yd=class{name;value;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,i,r,a,o){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=a,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},L2=class n{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,i,r,a,o,s,l,p){this.name=e,this.type=t,this.securityContext=i,this.value=r,this.unit=a,this.sourceSpan=o,this.keySpan=s,this.valueSpan=l,this.i18n=p}static fromBoundElementProperty(e,t){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,t)}visit(e){return e.visitBoundAttribute(this)}},R2=class n{name;type;handler;target;phase;sourceSpan;handlerSpan;keySpan;constructor(e,t,i,r,a,o,s,l){this.name=e,this.type=t,this.handler=i,this.target=r,this.phase=a,this.sourceSpan=o,this.handlerSpan=s,this.keySpan=l}static fromParsedEvent(e){let t=e.type===fa.Regular?e.targetOrPhase:null,i=e.type===fa.Animation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.handler,t,i,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},yo=class{name;attributes;inputs;outputs;children;references;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,a,o,s,l,p,m){this.name=e,this.attributes=t,this.inputs=i,this.outputs=r,this.children=a,this.references=o,this.sourceSpan=s,this.startSourceSpan=l,this.endSourceSpan=p,this.i18n=m}visit(e){return e.visitElement(this)}},bo=class{nameSpan;sourceSpan;prefetchSpan;whenOrOnSourceSpan;hydrateSpan;constructor(e,t,i,r,a){this.nameSpan=e,this.sourceSpan=t,this.prefetchSpan=i,this.whenOrOnSourceSpan=r,this.hydrateSpan=a}visit(e){return e.visitDeferredTrigger(this)}},B2=class extends bo{value;constructor(e,t,i,r,a){super(null,t,i,r,a),this.value=e}},F2=class extends bo{},O2=class extends bo{},N2=class extends bo{},qg=class extends bo{reference;constructor(e,t,i,r,a,o){super(t,i,r,a,o),this.reference=e}},V2=class extends bo{delay;constructor(e,t,i,r,a,o){super(t,i,r,a,o),this.delay=e}},$g=class extends bo{reference;constructor(e,t,i,r,a,o){super(t,i,r,a,o),this.reference=e}},Qg=class extends bo{reference;constructor(e,t,i,r,a,o){super(t,i,r,a,o),this.reference=e}},_a=class{nameSpan;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r){this.nameSpan=e,this.sourceSpan=t,this.startSourceSpan=i,this.endSourceSpan=r}},$p=class extends _a{children;minimumTime;i18n;constructor(e,t,i,r,a,o,s){super(i,r,a,o),this.children=e,this.minimumTime=t,this.i18n=s}visit(e){return e.visitDeferredBlockPlaceholder(this)}},Qp=class extends _a{children;afterTime;minimumTime;i18n;constructor(e,t,i,r,a,o,s,l){super(r,a,o,s),this.children=e,this.afterTime=t,this.minimumTime=i,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},Gp=class extends _a{children;i18n;constructor(e,t,i,r,a,o){super(t,i,r,a),this.children=e,this.i18n=o}visit(e){return e.visitDeferredBlockError(this)}},Kl=class extends _a{children;placeholder;loading;error;mainBlockSpan;i18n;triggers;prefetchTriggers;hydrateTriggers;definedTriggers;definedPrefetchTriggers;definedHydrateTriggers;constructor(e,t,i,r,a,o,s,l,p,m,_,S,C){super(l,p,_,S),this.children=e,this.placeholder=a,this.loading=o,this.error=s,this.mainBlockSpan=m,this.i18n=C,this.triggers=t,this.prefetchTriggers=i,this.hydrateTriggers=r,this.definedTriggers=Object.keys(t),this.definedPrefetchTriggers=Object.keys(i),this.definedHydrateTriggers=Object.keys(r)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,e),this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),Kb(e,this.children);let t=[this.placeholder,this.loading,this.error].filter(i=>i!==null);Kb(e,t)}visitTriggers(e,t,i){Kb(i,e.map(r=>t[r]))}},Gg=class extends _a{expression;cases;unknownBlocks;constructor(e,t,i,r,a,o,s){super(s,r,a,o),this.expression=e,this.cases=t,this.unknownBlocks=i}visit(e){return e.visitSwitchBlock(this)}},Yp=class extends _a{expression;children;i18n;constructor(e,t,i,r,a,o,s){super(o,i,r,a),this.expression=e,this.children=t,this.i18n=s}visit(e){return e.visitSwitchBlockCase(this)}},bd=class extends _a{item;expression;trackBy;trackKeywordSpan;contextVariables;children;empty;mainBlockSpan;i18n;constructor(e,t,i,r,a,o,s,l,p,m,_,S,C){super(S,l,m,_),this.item=e,this.expression=t,this.trackBy=i,this.trackKeywordSpan=r,this.contextVariables=a,this.children=o,this.empty=s,this.mainBlockSpan=p,this.i18n=C}visit(e){return e.visitForLoopBlock(this)}},Kp=class extends _a{children;i18n;constructor(e,t,i,r,a,o){super(a,t,i,r),this.children=e,this.i18n=o}visit(e){return e.visitForLoopBlockEmpty(this)}},Yg=class extends _a{branches;constructor(e,t,i,r,a){super(a,t,i,r),this.branches=e}visit(e){return e.visitIfBlock(this)}},Nl=class extends _a{expression;children;expressionAlias;i18n;constructor(e,t,i,r,a,o,s,l){super(s,r,a,o),this.expression=e,this.children=t,this.expressionAlias=i,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},Kg=class{name;sourceSpan;nameSpan;constructor(e,t,i){this.name=e,this.sourceSpan=t,this.nameSpan=i}visit(e){return e.visitUnknownBlock(this)}},Gw=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,i,r,a){this.name=e,this.value=t,this.sourceSpan=i,this.nameSpan=r,this.valueSpan=a}visit(e){return e.visitLetDeclaration(this)}},Vr=class{tagName;attributes;inputs;outputs;templateAttrs;children;references;variables;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,a,o,s,l,p,m,_,S){this.tagName=e,this.attributes=t,this.inputs=i,this.outputs=r,this.templateAttrs=a,this.children=o,this.references=s,this.variables=l,this.sourceSpan=p,this.startSourceSpan=m,this.endSourceSpan=_,this.i18n=S}visit(e){return e.visitTemplate(this)}},wd=class{selector;attributes;children;sourceSpan;i18n;name="ng-content";constructor(e,t,i,r,a){this.selector=e,this.attributes=t,this.children=i,this.sourceSpan=r,this.i18n=a}visit(e){return e.visitContent(this)}},$s=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,a){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=a}visit(e){return e.visitVariable(this)}},Xp=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,a){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=a}visit(e){return e.visitReference(this)}},$M=class{vars;placeholders;sourceSpan;i18n;constructor(e,t,i,r){this.vars=e,this.placeholders=t,this.sourceSpan=i,this.i18n=r}visit(e){return e.visitIcu(this)}};function Kb(n,e){let t=[];if(n.visit)for(let i of e)n.visit(i)||i.visit(n);else for(let i of e){let r=i.visit(n);r&&t.push(r)}return t}var mr=class{nodes;placeholders;placeholderToMessage;meaning;description;customId;sources;id;legacyIds=[];messageString;constructor(e,t,i,r,a,o){this.nodes=e,this.placeholders=t,this.placeholderToMessage=i,this.meaning=r,this.description=a,this.customId=o,this.id=this.customId,this.messageString=dX(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},mp=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}},Ko=class{children;sourceSpan;constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}},Xg=class{expression;type;cases;sourceSpan;expressionPlaceholder;constructor(e,t,i,r,a){this.expression=e,this.type=t,this.cases=i,this.sourceSpan=r,this.expressionPlaceholder=a}visit(e,t){return e.visitIcu(this,t)}},Qs=class{tag;attrs;startName;closeName;children;isVoid;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,a,o,s,l,p){this.tag=e,this.attrs=t,this.startName=i,this.closeName=r,this.children=a,this.isVoid=o,this.sourceSpan=s,this.startSourceSpan=l,this.endSourceSpan=p}visit(e,t){return e.visitTagPlaceholder(this,t)}},Zp=class{value;name;sourceSpan;constructor(e,t,i){this.value=e,this.name=t,this.sourceSpan=i}visit(e,t){return e.visitPlaceholder(this,t)}},Sd=class{value;name;sourceSpan;previousMessage;constructor(e,t,i){this.value=e,this.name=t,this.sourceSpan=i}visit(e,t){return e.visitIcuPlaceholder(this,t)}},Gs=class{name;parameters;startName;closeName;children;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,a,o,s,l){this.name=e,this.parameters=t,this.startName=i,this.closeName=r,this.children=a,this.sourceSpan=o,this.startSourceSpan=s,this.endSourceSpan=l}visit(e,t){return e.visitBlockPlaceholder(this,t)}};function dX(n){let e=new H2;return n.map(i=>i.visit(e)).join("")}var H2=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){let t=e.children.map(i=>i.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let t=e.children.map(i=>i.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}};var uX=class{visitTag(e){let t=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${t}/>`;let i=e.children.map(r=>r.visit(this));return`<${e.name}${t}>${i.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let t=Object.keys(e).map(i=>`${i}="${e[i]}"`).join(" ");return t.length>0?" "+t:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},cDe=new uX;function pX(n){return n.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var QM="i18n",W2="i18n-",mX="VAR_";function GM(n){return n===QM||n.startsWith(W2)}function hX(n){return n.attrs.some(e=>GM(e.name))}function YM(n){return n.nodes[0]}function Yw(n={},e){let t={};return n&&Object.keys(n).length&&Object.keys(n).forEach(i=>t[Sm(i,e)]=n[i]),t}function Sm(n,e=!0){let t=pX(n);if(!e)return t;let i=t.split("_");if(i.length===1)return n.toLowerCase();let r;/^\d+$/.test(i[i.length-1])&&(r=i.pop());let a=i.shift().toLowerCase();return i.length&&(a+=i.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),r?`${a}_${r}`:a}var fX=/[-.]/,Kw="_t",Jp="ctx",Xw="rf";function KM(n,e){let t=null;return()=>(t||(n(new lr(Kw,void 0,ym)),t=Bt(e)),t)}function id(n){return Array.isArray(n)?oi(n.map(id)):q(n,ua)}function bA(n,e){let t=Object.getOwnPropertyNames(n);return t.length===0?null:hr(t.map(i=>{let r=n[i],a,o,s,l;if(typeof r=="string")a=i,s=i,o=r,l=id(o);else{s=i,a=r.classPropertyName,o=r.bindingPropertyName;let p=o!==a,m=r.transformFunction!==null,_=_p.None;if(r.isSignal&&(_|=_p.SignalBased),m&&(_|=_p.HasDecoratorInputTransform),e&&(p||m||_!==_p.None)){let S=[q(_),id(o)];(p||m)&&(S.push(id(a)),m&&S.push(r.transformFunction)),l=oi(S)}else l=id(o)}return{key:s,quoted:fX.test(s),value:l}}))}var Ys=class{values=[];set(e,t){if(t){let i=this.values.find(r=>r.key===e);i?i.value=t:this.values.push({key:e,value:t,quoted:!1})}}toLiteralMap(){return hr(this.values)}};function gX(n){let e=n instanceof yo?n.name:"ng-template",t=vX(n),i=new ud,r=Oa(e)[1];return i.setElement(r),Object.getOwnPropertyNames(t).forEach(a=>{let o=Oa(a)[1],s=t[a];i.addAttribute(o,s),a.toLowerCase()==="class"&&s.trim().split(/\s+/).forEach(p=>i.addClassName(p))}),i}function vX(n){let e={};return n instanceof Vr&&n.tagName!=="ng-template"?n.templateAttrs.forEach(t=>e[t.name]=""):(n.attributes.forEach(t=>{GM(t.name)||(e[t.name]=t.value)}),n.inputs.forEach(t=>{(t.type===xi.Property||t.type===xi.TwoWay)&&(e[t.name]="")}),n.outputs.forEach(t=>{e[t.name]=""})),e}function wA(n,e){let t=null,i={name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:[],target:$o.Injectable};if(n.useClass!==void 0){let s=n.useClass.expression.isEquivalent(n.type.value),l;n.deps!==void 0&&(l=n.deps),l!==void 0?t=Ml(Mt(z({},i),{delegate:n.useClass.expression,delegateDeps:l,delegateType:Ag.Class})):s?t=Ml(i):t={statements:[],expression:SA(n.type.value,n.useClass.expression,e)}}else n.useFactory!==void 0?n.deps!==void 0?t=Ml(Mt(z({},i),{delegate:n.useFactory,delegateDeps:n.deps||[],delegateType:Ag.Function})):t={statements:[],expression:Fa([],n.useFactory.callFn([]))}:n.useValue!==void 0?t=Ml(Mt(z({},i),{expression:n.useValue.expression})):n.useExisting!==void 0?t=Ml(Mt(z({},i),{expression:Be(V.inject).callFn([n.useExisting.expression])})):t={statements:[],expression:SA(n.type.value,n.type.value,e)};let r=n.type.value,a=new Ys;return a.set("token",r),a.set("factory",t.expression),n.providedIn.expression.value!==null&&a.set("providedIn",tX(n.providedIn)),{expression:Be(V.\u0275\u0275defineInjectable).callFn([a.toLiteralMap()],void 0,!0),type:_X(n),statements:t.statements}}function _X(n){return new ma(Be(V.InjectableDeclaration,[Rv(n.type.type,n.typeArgumentCount)]))}function SA(n,e,t){if(n.node===e.node)return e.prop("\u0275fac");if(!t)return CA(e);let i=Be(V.resolveForwardRef).callFn([e]);return CA(i)}function CA(n){let e=new Ln("__ngFactoryType__",ym);return Fa([e],n.prop("\u0275fac").callFn([Bt(e.name)]))}var yX=[/@/,/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function bX(n,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${n}' to be an array, [start, end].`);if(e!=null){let t=e[0],i=e[1];yX.forEach(r=>{if(r.test(t)||r.test(i))throw new Error(`['${t}', '${i}'] contains unusable interpolation symbol.`)})}}var Zg=class n{start;end;static fromArray(e){return e?(bX("interpolation",e),new n(e[0],e[1])):ho}constructor(e,t){this.start=e,this.end=t}},ho=new Zg("{{","}}"),wX=new Set(["switch"]),Un=0,SX=8,Zw=9,Vl=10,XM=11,ZM=12,Jw=13,JM=32,U2=33,em=34,ek=35,Fv=36,CX=37,Jg=38,tm=39,Xo=40,Ra=41,xX=42,tk=43,pa=44,ev=45,Jc=46,Qo=47,Hs=58,Fr=59,nd=60,Bl=61,Os=62,xA=63,eS=48,EX=55,ik=57,kd=65,IX=69,TX=70,DX=88,Ov=90,cd=91,dd=92,rd=93,AX=94,Cm=95,Xl=97,MX=98,kX=101,tS=102,nk=110,rk=114,ak=116,ok=117,sk=118,lk=120,xm=122,La=123,EA=124,Ar=125,ck=160,Xb=64,j2=96;function im(n){return n>=Zw&&n<=JM||n==ck}function po(n){return eS<=n&&n<=ik}function nm(n){return n>=Xl&&n<=xm||n>=kd&&n<=Ov}function PX(n){return n>=Xl&&n<=tS||n>=kd&&n<=TX||po(n)}function iS(n){return n===Vl||n===Jw}function IA(n){return eS<=n&&n<=EX}function Ep(n){return n===tm||n===em||n===j2}var rm=class n{file;offset;line;col;constructor(e,t,i,r){this.file=e,this.offset=t,this.line=i,this.col=r}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let t=this.file.content,i=t.length,r=this.offset,a=this.line,o=this.col;for(;r>0&&e<0;)if(r--,e++,t.charCodeAt(r)==Vl){a--;let l=t.substring(0,r-1).lastIndexOf(String.fromCharCode(Vl));o=l>0?r-l:r}else o--;for(;r<i&&e>0;){let s=t.charCodeAt(r);r++,e--,s==Vl?(a++,o=0):o++}return new n(this.file,r,a,o)}getContext(e,t){let i=this.file.content,r=this.offset;if(r!=null){r>i.length-1&&(r=i.length-1);let a=r,o=0,s=0;for(;o<e&&r>0&&(r--,o++,!(i[r]==`
`&&++s==t)););for(o=0,s=0;o<e&&a<i.length-1&&(a++,o++,!(i[a]==`
`&&++s==t)););return{before:i.substring(r,this.offset),after:i.substring(this.offset,a+1)}}return null}},tv=class{content;url;constructor(e,t){this.content=e,this.url=t}},xt=class{start;end;fullStart;details;constructor(e,t,i=e,r=null){this.start=e,this.end=t,this.fullStart=i,this.details=r}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},Us=function(n){return n[n.WARNING=0]="WARNING",n[n.ERROR=1]="ERROR",n}(Us||{}),yt=class{span;msg;level;relatedError;constructor(e,t,i=Us.ERROR,r){this.span=e,this.msg=t,this.level=i,this.relatedError=r}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Us[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function LX(n,e,t){let i=`in ${n} ${e} in ${t}`,r=new tv("",i);return new xt(new rm(r,-1,-1,-1),new rm(r,-1,-1,-1))}var RX=0;function BX(n){if(!n||!n.reference)return null;let e=n.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let t=zM(e);return t.indexOf("(")>=0?(t=`anonymous_${RX++}`,e.__anonymousType=t):t=Ip(t),t}function Ip(n){return n.replace(/\W/g,"_")}var TA='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',z2=class extends T2{constructor(){super(!1)}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,t){return t.print(e,`var ${e.name}`),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,t){let i=e.template.elements;return e.tag.visitExpression(this,t),t.print(e,`(${TA}(`),t.print(e,`[${i.map(r=>Pl(r.text,!1)).join(", ")}], `),t.print(e,`[${i.map(r=>Pl(r.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let i=0;i<e.elements.length;i++){e.elements[i].visitExpression(this,t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){return t.print(e,e.rawText),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitArrowFunctionExpr(e,t){if(t.print(e,"("),this._visitParams(e.params,t),t.print(e,") =>"),Array.isArray(e.body))t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.print(e,"}");else{let i=e.body instanceof _o;i&&t.print(e,"("),e.body.visitExpression(this,t),i&&t.print(e,")")}return null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitLocalizedString(e,t){t.print(e,`$localize(${TA}(`);let i=[e.serializeI18nHead()];for(let r=1;r<e.messageParts.length;r++)i.push(e.serializeI18nTemplatePart(r));return t.print(e,`[${i.map(r=>Pl(r.cooked,!1)).join(", ")}], `),t.print(e,`[${i.map(r=>Pl(r.raw,!1)).join(", ")}])`),e.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}_visitParams(e,t){this.visitAllObjects(i=>t.print(null,i.name),e,t,",")}},rg;function FX(){if(rg===void 0){let n=Cp.trustedTypes;if(rg=null,n)try{rg=n.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return rg}function OX(n){return FX()?.createScript(n)||n}function DA(...n){if(!Cp.trustedTypes)return new Function(...n);let e=n.slice(0,-1).join(","),t=n[n.length-1],i=`(function anonymous(${e}
) { ${t}
})`,r=Cp.eval(OX(i));return r.bind===void 0?new Function(...n):(r.toString=()=>i,r.bind(Cp))}var q2=class{evaluateStatements(e,t,i,r){let a=new $2(i),o=I2.createRoot();return t.length>0&&!NX(t[0])&&(t=[q("use strict").toStmt(),...t]),a.visitAllStatements(t,o),a.createReturnStmt(o),this.evaluateCode(e,o,a.getArgs(),r)}evaluateCode(e,t,i,r){let a=`"use strict";${t.toSource()}
//# sourceURL=${e}`,o=[],s=[];for(let p in i)s.push(i[p]),o.push(p);if(r){let p=DA(...o.concat("return null;")).toString(),m=p.slice(0,p.indexOf("return null;")).split(`
`).length-1;a+=`
${t.toSourceMapGenerator(e,m).toJsComment()}`}let l=DA(...o.concat(a));return this.executeFunction(l,s)}executeFunction(e,t){return e(...t)}},$2=class extends z2{refResolver;_evalArgNames=[];_evalArgValues=[];_evalExportedVars=[];constructor(e){super(),this.refResolver=e}createReturnStmt(e){new sr(new _o(this._evalExportedVars.map(i=>new fd(i,Bt(i),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(zn.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(zn.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}_emitReferenceToExternal(e,t,i){let r=this._evalArgValues.indexOf(t);if(r===-1){r=this._evalArgValues.length,this._evalArgValues.push(t);let a=BX({reference:t})||"val";this._evalArgNames.push(`jit_${a}_${r}`)}i.print(e,this._evalArgNames[r])}};function NX(n){return n.isEquivalent(q("use strict").toStmt())}function AA(n){let e=new Ys;n.providers!==null&&e.set("providers",n.providers),n.imports.length>0&&e.set("imports",oi(n.imports));let t=Be(V.defineInjector).callFn([e.toLiteralMap()],void 0,!0),i=VX(n);return{expression:t,type:i,statements:[]}}function VX(n){return new ma(Be(V.InjectorDeclaration,[new ma(n.type.type)]))}var Q2=class{context;constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},iv=function(n){return n[n.Inline=0]="Inline",n[n.SideEffect=1]="SideEffect",n[n.Omit=2]="Omit",n}(iv||{}),js=function(n){return n[n.Global=0]="Global",n[n.Local=1]="Local",n}(js||{});function HX(n){let e=[],t=new Ys;if(t.set("type",n.type.value),n.kind===js.Global&&n.bootstrap.length>0&&t.set("bootstrap",Ll(n.bootstrap,n.containsForwardDecls)),n.selectorScopeMode===iv.Inline)n.declarations.length>0&&t.set("declarations",Ll(n.declarations,n.containsForwardDecls)),n.imports.length>0&&t.set("imports",Ll(n.imports,n.containsForwardDecls)),n.exports.length>0&&t.set("exports",Ll(n.exports,n.containsForwardDecls));else if(n.selectorScopeMode===iv.SideEffect){let a=jX(n);a!==null&&e.push(a)}n.schemas!==null&&n.schemas.length>0&&t.set("schemas",oi(n.schemas.map(a=>a.value))),n.id!==null&&(t.set("id",n.id),e.push(Be(V.registerNgModuleType).callFn([n.type.value,n.id]).toStmt()));let i=Be(V.defineNgModule).callFn([t.toLiteralMap()],void 0,!0),r=UX(n);return{expression:i,type:r,statements:e}}function WX(n){let e=new Ys;return e.set("type",new Nt(n.type)),n.bootstrap!==void 0&&e.set("bootstrap",new Nt(n.bootstrap)),n.declarations!==void 0&&e.set("declarations",new Nt(n.declarations)),n.imports!==void 0&&e.set("imports",new Nt(n.imports)),n.exports!==void 0&&e.set("exports",new Nt(n.exports)),n.schemas!==void 0&&e.set("schemas",new Nt(n.schemas)),n.id!==void 0&&e.set("id",new Nt(n.id)),Be(V.defineNgModule).callFn([e.toLiteralMap()])}function UX(n){if(n.kind===js.Local)return new ma(n.type.value);let{type:e,declarations:t,exports:i,imports:r,includeImportTypes:a,publicDeclarationTypes:o}=n;return new ma(Be(V.NgModuleDeclaration,[new ma(e.type),o===null?Zb(t):zX(o),a?Zb(r):vo,Zb(i)]))}function jX(n){let e=new Ys;if(n.kind===js.Global?n.declarations.length>0&&e.set("declarations",Ll(n.declarations,n.containsForwardDecls)):n.declarationsExpression&&e.set("declarations",n.declarationsExpression),n.kind===js.Global?n.imports.length>0&&e.set("imports",Ll(n.imports,n.containsForwardDecls)):n.importsExpression&&e.set("imports",n.importsExpression),n.kind===js.Global?n.exports.length>0&&e.set("exports",Ll(n.exports,n.containsForwardDecls)):n.exportsExpression&&e.set("exports",n.exportsExpression),n.kind===js.Local&&n.bootstrapExpression&&e.set("bootstrap",n.bootstrapExpression),Object.keys(e.values).length===0)return null;let t=new kr(Be(V.setNgModuleScope),[n.type.value,e.toLiteralMap()]),i=JK(t),r=new zs([],[i.toStmt()]);return new kr(r,[]).toStmt()}function Zb(n){let e=n.map(t=>bm(t.type));return n.length>0?qn(oi(e)):vo}function zX(n){let e=n.map(t=>bm(t));return n.length>0?qn(oi(e)):vo}function MA(n){let e=[];e.push({key:"name",value:q(n.pipeName),quoted:!1}),e.push({key:"type",value:n.type.value,quoted:!1}),e.push({key:"pure",value:q(n.pure),quoted:!1}),n.isStandalone===!1&&e.push({key:"standalone",value:q(!1),quoted:!1});let t=Be(V.definePipe).callFn([hr(e)],void 0,!0),i=qX(n);return{expression:t,type:i,statements:[]}}function qX(n){return new ma(Be(V.PipeDeclaration,[Rv(n.type.type,n.typeArgumentCount),new ma(new $n(n.pipeName)),new ma(new $n(n.isStandalone))]))}var Nv=function(n){return n[n.Directive=0]="Directive",n[n.Pipe=1]="Pipe",n[n.NgModule=2]="NgModule",n}(Nv||{}),$X=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),QX=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],G2=class{shimCssText(e,t,i=""){let r=[];e=e.replace(oZ,s=>{if(s.match(sZ))r.push(s);else{let l=s.match(aZ);r.push((l?.join("")??"")+`
`)}return nS}),e=this._insertDirectives(e);let a=this._scopeCssText(e,t,i),o=0;return a.replace(lZ,()=>r[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,t){let i=new Set,r=ag(e,a=>this._scopeLocalKeyframeDeclarations(a,t,i));return ag(r,a=>this._scopeAnimationRule(a,t,i))}_scopeLocalKeyframeDeclarations(e,t,i){return Mt(z({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(r,a,o,s,l)=>(i.add(LA(s,o)),`${a}${o}${t}_${s}${o}${l}`))})}_scopeAnimationKeyframe(e,t,i){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(r,a,o,s,l)=>(s=`${i.has(LA(s,o))?t+"_":""}${s}`,`${a}${o}${s}${o}${l}`))}_animationDeclarationKeyframesRe=/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g;_scopeAnimationRule(e,t,i){let r=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(a,o,s)=>o+s.replace(this._animationDeclarationKeyframesRe,(l,p,m="",_,S)=>_?`${p}${this._scopeAnimationKeyframe(`${m}${_}${m}`,t,i)}`:$X.has(S)?l:`${p}${this._scopeAnimationKeyframe(S,t,i)}`));return r=r.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(a,o,s)=>`${o}${s.split(",").map(l=>this._scopeAnimationKeyframe(l,t,i)).join(",")}`),Mt(z({},e),{content:r})}_insertPolyfillDirectivesInCssText(e){return e.replace(YX,function(...t){return t[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(KX,(...t)=>{let i=t[0].replace(t[1],"").replace(t[2],"");return t[4]+i})}_scopeCssText(e,t,i){let r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeKeyframesRelatedCss(e,t),e=this._scopeSelectors(e,t,i)),e=e+`
`+r,e.trim()}_extractUnscopedRulesFromCssText(e){let t="",i;for(kA.lastIndex=0;(i=kA.exec(e))!==null;){let r=i[0].replace(i[2],"").replace(i[1],i[4]);t+=r+`

`}return t}_convertColonHost(e){return e.replace(XX,(t,i,r)=>{if(i){let a=[],o=i.split(",").map(s=>s.trim());for(let s of o){if(!s)break;let l=Ns+s.replace(nv,"")+r;a.push(l)}return a.join(",")}else return Ns+r})}_convertColonHostContext(e){let t=e.length,i=0,r=0,a="";for(let o=0;o<t;o++){let s=e[o];if(s===","&&i===0){a+=this._convertColonHostContextInSelectorPart(e.slice(r,o))+",",r=o+1;continue}if(o===t-1){a+=this._convertColonHostContextInSelectorPart(e.slice(r));break}s==="("?i++:s===")"&&i--}return a}_convertColonHostContextInSelectorPart(e){return e.replace(ZX,(t,i)=>{let r=[[]],a;for(;a=JX.exec(t);){let o=(a[1]??"").trim().split(",").map(l=>l.trim()).filter(l=>l!==""),s=r.length;yZ(r,o.length);for(let l=0;l<o.length;l++)for(let p=0;p<s;p++)r[p+l*s].push(o[l]);t=a[2]}return r.map(o=>_Z(o,t,i)).join(", ")})}_convertShadowDOMSelectors(e){return tZ.reduce((t,i)=>t.replace(i," "),e)}_scopeSelectors(e,t,i){return ag(e,r=>{let a=r.selector,o=r.content;return r.selector[0]!=="@"?a=this._scopeSelector({selector:a,scopeSelector:t,hostSelector:i,isParentSelector:!0}):QX.some(s=>r.selector.startsWith(s))?o=this._scopeSelectors(r.content,t,i):(r.selector.startsWith("@font-face")||r.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(r.content)),new am(a,o)})}_stripScopingSelectors(e){return ag(e,t=>{let i=t.selector.replace(PA," ").replace(Jb," ");return new am(i,t.content)})}_safeSelector;_shouldScopeIndicator;_scopeSelector({selector:e,scopeSelector:t,hostSelector:i,isParentSelector:r=!1}){let a=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(a).map(o=>o.split(PA)).map(o=>{let[s,...l]=o;return[(m=>this._selectorNeedsScoping(m,t)?this._applySelectorScope({selector:m,scopeSelector:t,hostSelector:i,isParentSelector:r}):m)(s),...l].join(" ")}).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){let t=/\[/g,i=/\]/g;return e=e.replace(t,"\\[").replace(i,"\\]"),new RegExp("^("+e+")"+iZ,"m")}_applySimpleSelectorScope(e,t,i){if(ad.lastIndex=0,ad.test(e)){let r=`[${i}]`,a=e;for(;a.match(Jb);)a=a.replace(Jb,(o,s)=>s.replace(/([^:\)]*)(:*)(.*)/,(l,p,m,_)=>p+r+m+_));return a.replace(ad,r)}return t+" "+e}_applySelectorScope({selector:e,scopeSelector:t,hostSelector:i,isParentSelector:r}){let a=/\[is=([^\]]*)\]/g;t=t.replace(a,(I,...M)=>M[0]);let o=`[${t}]`,s=I=>{let M=I.trim();if(!M)return I;if(I.includes(Ns)){if(M=this._applySimpleSelectorScope(I,t,i),!I.match(eZ)){let[F,N,U,j]=M.match(/([^:]*)(:*)([\s\S]*)/);M=N+o+U+j}}else{let F=I.replace(ad,"");if(F.length>0){let N=F.match(/([^:]*)(:*)([\s\S]*)/);N&&(M=N[1]+o+N[2]+N[3])}}return M},l=I=>{let M="",F=[],N;for(;(N=hp.exec(I))!==null;){let U=1,j=hp.lastIndex;for(;j<I.length;){let $=I[j];if(j++,$==="("){U++;continue}if($===")"){if(U--,U===0)break;continue}}F.push(`${N[0]}${I.slice(hp.lastIndex,j)}`),hp.lastIndex=j}return F.join("")===I?M=F.map(U=>{let[j]=U.match(hp)??[],$=U.slice(j?.length,-1);$.includes(Ns)&&(this._shouldScopeIndicator=!0);let X=this._scopeSelector({selector:$,scopeSelector:t,hostSelector:i});return`${j}${X})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||I.includes(Ns),M=this._shouldScopeIndicator?s(I):I),M};r&&(this._safeSelector=new Y2(e),e=this._safeSelector.content());let p="",m=0,_,S=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,C=e.includes(Ns);for((r||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!C);(_=S.exec(e))!==null;){let I=_[1],M=e.slice(m,_.index);if(M.match(/__esc-ph-(\d+)__/)&&e[_.index+1]?.match(/[a-fA-F\d]/))continue;let F=l(M);p+=`${F} ${I} `,m=S.lastIndex}let E=e.substring(m);return p+=l(E),this._safeSelector.restore(p)}_insertPolyfillHostInCssText(e){return e.replace(rZ,dk).replace(nZ,nv)}},Y2=class{placeholders=[];index=0;_content;constructor(e){e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(t,i)=>{let r=`__esc-ph-${this.index}__`;return this.placeholders.push(i),this.index++,r}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(t,i,r)=>{let a=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,i+a})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(t,i)=>this.placeholders[+i])}content(){return this._content}_escapeRegexMatches(e,t){return e.replace(t,(i,r)=>{let a=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,a})}},GX="(:(where|is)\\()?",hp=/:(where|is)\(/gi,YX=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,KX=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,kA=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,nv="-shadowcsshost",dk="-shadowcsscontext",uk="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))",XX=new RegExp(nv+uk+"?([^,{]*)","gim"),pk=dk+uk+"?([^{]*)",ZX=new RegExp(`${GX}(${pk})`,"gim"),JX=new RegExp(pk,"im"),Ns=nv+"-no-combinator",eZ=new RegExp(`${Ns}(?![^(]*\\))`,"g"),Jb=/-shadowcsshost-no-combinator([^\s,]*)/,tZ=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],PA=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,iZ="([>\\s~+[.,{:][\\s\\S]*)?$",ad=/-shadowcsshost/gim,nZ=/:host/gim,rZ=/:host-context/gim,aZ=/\r?\n/g,oZ=/\/\*[\s\S]*?\*\//g,sZ=/\/\*\s*#\s*source(Mapping)?URL=/g,nS="%COMMENT%",lZ=new RegExp(nS,"g"),e2="%BLOCK%",cZ=new RegExp(`(\\s*(?:${nS}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),dZ=new Map([["{","}"]]),mk="%COMMA_IN_PLACEHOLDER%",hk="%SEMI_IN_PLACEHOLDER%",fk="%COLON_IN_PLACEHOLDER%",uZ=new RegExp(mk,"g"),pZ=new RegExp(hk,"g"),mZ=new RegExp(fk,"g"),am=class{selector;content;constructor(e,t){this.selector=e,this.content=t}};function ag(n,e){let t=gZ(n),i=hZ(t,dZ,e2),r=0,a=i.escapedString.replace(cZ,(...o)=>{let s=o[2],l="",p=o[4],m="";p&&p.startsWith("{"+e2)&&(l=i.blocks[r++],p=p.substring(e2.length+1),m="{");let _=e(new am(s,l));return`${o[1]}${_.selector}${o[3]}${m}${_.content}${p}`});return vZ(a)}var K2=class{escapedString;blocks;constructor(e,t){this.escapedString=e,this.blocks=t}};function hZ(n,e,t){let i=[],r=[],a=0,o=0,s=-1,l,p;for(let m=0;m<n.length;m++){let _=n[m];_==="\\"?m++:_===p?(a--,a===0&&(r.push(n.substring(s,m)),i.push(t),o=m,s=-1,l=p=void 0)):_===l?a++:a===0&&e.has(_)&&(l=_,p=e.get(_),a=1,s=m+1,i.push(n.substring(o,s)))}return s!==-1?(r.push(n.substring(s)),i.push(t)):i.push(n.substring(o)),new K2(i.join(""),r)}var fZ={";":hk,",":mk,":":fk};function gZ(n){let e=n,t=null;for(let i=0;i<e.length;i++){let r=e[i];if(r==="\\")i++;else if(t!==null)if(r===t)t=null;else{let a=fZ[r];a&&(e=`${e.substr(0,i)}${a}${e.substr(i+1)}`,i+=a.length-1)}else(r==="'"||r==='"')&&(t=r)}return e}function vZ(n){let e=n.replace(uZ,",");return e=e.replace(pZ,";"),e=e.replace(mZ,":"),e}function LA(n,e){return e?n.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):n}function _Z(n,e,t=""){let i=Ns;ad.lastIndex=0;let r=ad.test(e);if(n.length===0)return i+e;let a=[n.pop()||""];for(;n.length>0;){let o=a.length,s=n.pop();for(let l=0;l<o;l++){let p=a[l];a[o*2+l]=p+" "+s,a[o+l]=s+" "+p,a[l]=s+p}}return a.map(o=>r?`${t}${o}${e}`:`${t}${o}${i}${e}, ${t}${o} ${i}${e}`).join(",")}function yZ(n,e){let t=n.length;for(let i=1;i<e;i++)for(let r=0;r<t;r++)n[r+i*t]=n[r].slice(0)}var k=function(n){return n[n.ListEnd=0]="ListEnd",n[n.Statement=1]="Statement",n[n.Variable=2]="Variable",n[n.ElementStart=3]="ElementStart",n[n.Element=4]="Element",n[n.Template=5]="Template",n[n.ElementEnd=6]="ElementEnd",n[n.ContainerStart=7]="ContainerStart",n[n.Container=8]="Container",n[n.ContainerEnd=9]="ContainerEnd",n[n.DisableBindings=10]="DisableBindings",n[n.Conditional=11]="Conditional",n[n.EnableBindings=12]="EnableBindings",n[n.Text=13]="Text",n[n.Listener=14]="Listener",n[n.InterpolateText=15]="InterpolateText",n[n.Binding=16]="Binding",n[n.Property=17]="Property",n[n.StyleProp=18]="StyleProp",n[n.ClassProp=19]="ClassProp",n[n.StyleMap=20]="StyleMap",n[n.ClassMap=21]="ClassMap",n[n.Advance=22]="Advance",n[n.Pipe=23]="Pipe",n[n.Attribute=24]="Attribute",n[n.ExtractedAttribute=25]="ExtractedAttribute",n[n.Defer=26]="Defer",n[n.DeferOn=27]="DeferOn",n[n.DeferWhen=28]="DeferWhen",n[n.I18nMessage=29]="I18nMessage",n[n.HostProperty=30]="HostProperty",n[n.Namespace=31]="Namespace",n[n.ProjectionDef=32]="ProjectionDef",n[n.Projection=33]="Projection",n[n.RepeaterCreate=34]="RepeaterCreate",n[n.Repeater=35]="Repeater",n[n.TwoWayProperty=36]="TwoWayProperty",n[n.TwoWayListener=37]="TwoWayListener",n[n.DeclareLet=38]="DeclareLet",n[n.StoreLet=39]="StoreLet",n[n.I18nStart=40]="I18nStart",n[n.I18n=41]="I18n",n[n.I18nEnd=42]="I18nEnd",n[n.I18nExpression=43]="I18nExpression",n[n.I18nApply=44]="I18nApply",n[n.IcuStart=45]="IcuStart",n[n.IcuEnd=46]="IcuEnd",n[n.IcuPlaceholder=47]="IcuPlaceholder",n[n.I18nContext=48]="I18nContext",n[n.I18nAttributes=49]="I18nAttributes",n[n.SourceLocation=50]="SourceLocation",n}(k||{}),Le=function(n){return n[n.LexicalRead=0]="LexicalRead",n[n.Context=1]="Context",n[n.TrackContext=2]="TrackContext",n[n.ReadVariable=3]="ReadVariable",n[n.NextContext=4]="NextContext",n[n.Reference=5]="Reference",n[n.StoreLet=6]="StoreLet",n[n.ContextLetReference=7]="ContextLetReference",n[n.GetCurrentView=8]="GetCurrentView",n[n.RestoreView=9]="RestoreView",n[n.ResetView=10]="ResetView",n[n.PureFunctionExpr=11]="PureFunctionExpr",n[n.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",n[n.PipeBinding=13]="PipeBinding",n[n.PipeBindingVariadic=14]="PipeBindingVariadic",n[n.SafePropertyRead=15]="SafePropertyRead",n[n.SafeKeyedRead=16]="SafeKeyedRead",n[n.SafeInvokeFunction=17]="SafeInvokeFunction",n[n.SafeTernaryExpr=18]="SafeTernaryExpr",n[n.EmptyExpr=19]="EmptyExpr",n[n.AssignTemporaryExpr=20]="AssignTemporaryExpr",n[n.ReadTemporaryExpr=21]="ReadTemporaryExpr",n[n.SlotLiteralExpr=22]="SlotLiteralExpr",n[n.ConditionalCase=23]="ConditionalCase",n[n.ConstCollected=24]="ConstCollected",n[n.TwoWayBindingSet=25]="TwoWayBindingSet",n}(Le||{}),ca=function(n){return n[n.None=0]="None",n[n.AlwaysInline=1]="AlwaysInline",n}(ca||{}),Pn=function(n){return n[n.Context=0]="Context",n[n.Identifier=1]="Identifier",n[n.SavedView=2]="SavedView",n[n.Alias=3]="Alias",n}(Pn||{}),jr=function(n){return n[n.Normal=0]="Normal",n[n.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder",n}(jr||{}),Re=function(n){return n[n.Attribute=0]="Attribute",n[n.ClassName=1]="ClassName",n[n.StyleProperty=2]="StyleProperty",n[n.Property=3]="Property",n[n.Template=4]="Template",n[n.I18n=5]="I18n",n[n.Animation=6]="Animation",n[n.TwoWayProperty=7]="TwoWayProperty",n}(Re||{}),om=function(n){return n[n.Creation=0]="Creation",n[n.Postproccessing=1]="Postproccessing",n}(om||{}),Pd=function(n){return n[n.I18nText=0]="I18nText",n[n.I18nAttribute=1]="I18nAttribute",n}(Pd||{}),wi=function(n){return n[n.None=0]="None",n[n.ElementTag=1]="ElementTag",n[n.TemplateTag=2]="TemplateTag",n[n.OpenTag=4]="OpenTag",n[n.CloseTag=8]="CloseTag",n[n.ExpressionIndex=16]="ExpressionIndex",n}(wi||{}),or=function(n){return n[n.HTML=0]="HTML",n[n.SVG=1]="SVG",n[n.Math=2]="Math",n}(or||{}),vi=function(n){return n[n.Idle=0]="Idle",n[n.Immediate=1]="Immediate",n[n.Timer=2]="Timer",n[n.Hover=3]="Hover",n[n.Interaction=4]="Interaction",n[n.Viewport=5]="Viewport",n[n.Never=6]="Never",n}(vi||{}),Fl=function(n){return n[n.RootI18n=0]="RootI18n",n[n.Icu=1]="Icu",n[n.Attr=2]="Attr",n}(Fl||{}),Hr=function(n){return n[n.NgTemplate=0]="NgTemplate",n[n.Structural=1]="Structural",n[n.Block=2]="Block",n}(Hr||{}),gk=Symbol("ConsumesSlot"),rS=Symbol("DependsOnSlotContext"),Ld=Symbol("ConsumesVars"),Vv=Symbol("UsesVarOffset"),So={[gk]:!0,numSlotsUsed:1},zr={[rS]:!0},Lr={[Ld]:!0};function Rd(n){return n[gk]===!0}function rv(n){return n[rS]===!0}function t2(n){return n[Ld]===!0}function RA(n){return n[Vv]===!0}function Na(n){return z({kind:k.Statement,statement:n},Tt)}function Ws(n,e,t,i){return z({kind:k.Variable,xref:n,variable:e,initializer:t,flags:i},Tt)}var Tt={debugListId:null,prev:null,next:null};function bZ(n,e,t){return z(z(z({kind:k.InterpolateText,target:n,interpolation:e,sourceSpan:t},zr),Lr),Tt)}var fn=class{strings;expressions;i18nPlaceholders;constructor(e,t,i){if(this.strings=e,this.expressions=t,this.i18nPlaceholders=i,i.length!==0&&i.length!==t.length)throw new Error(`Expected ${t.length} placeholders to match interpolation expression count, but got ${i.length}`)}};function Zl(n,e,t,i,r,a,o,s,l,p,m){return z({kind:k.Binding,bindingKind:e,target:n,name:t,expression:i,unit:r,securityContext:a,isTextAttribute:o,isStructuralTemplateAttribute:s,templateKind:l,i18nContext:null,i18nMessage:p,sourceSpan:m},Tt)}function wZ(n,e,t,i,r,a,o,s,l,p){return z(z(z({kind:k.Property,target:n,name:e,expression:t,isAnimationTrigger:i,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:a,templateKind:o,i18nContext:s,i18nMessage:l,sourceSpan:p},zr),Lr),Tt)}function SZ(n,e,t,i,r,a,o,s,l){return z(z(z({kind:k.TwoWayProperty,target:n,name:e,expression:t,securityContext:i,sanitizer:null,isStructuralTemplateAttribute:r,templateKind:a,i18nContext:o,i18nMessage:s,sourceSpan:l},zr),Lr),Tt)}function CZ(n,e,t,i,r){return z(z(z({kind:k.StyleProp,target:n,name:e,expression:t,unit:i,sourceSpan:r},zr),Lr),Tt)}function xZ(n,e,t,i){return z(z(z({kind:k.ClassProp,target:n,name:e,expression:t,sourceSpan:i},zr),Lr),Tt)}function EZ(n,e,t){return z(z(z({kind:k.StyleMap,target:n,expression:e,sourceSpan:t},zr),Lr),Tt)}function IZ(n,e,t){return z(z(z({kind:k.ClassMap,target:n,expression:e,sourceSpan:t},zr),Lr),Tt)}function TZ(n,e,t,i,r,a,o,s,l,p){return z(z(z({kind:k.Attribute,target:n,namespace:e,name:t,expression:i,securityContext:r,sanitizer:null,isTextAttribute:a,isStructuralTemplateAttribute:o,templateKind:s,i18nContext:null,i18nMessage:l,sourceSpan:p},zr),Lr),Tt)}function DZ(n,e){return z({kind:k.Advance,delta:n,sourceSpan:e},Tt)}function vk(n,e,t,i){return z(z(z({kind:k.Conditional,target:n,test:e,conditions:t,processed:null,sourceSpan:i,contextValue:null},Tt),zr),Lr)}function AZ(n,e,t,i){return z(z({kind:k.Repeater,target:n,targetSlot:e,collection:t,sourceSpan:i},Tt),zr)}function MZ(n,e,t,i){return z(z(z({kind:k.DeferWhen,target:n,expr:e,modifier:t,sourceSpan:i},Tt),zr),Lr)}function _k(n,e,t,i,r,a,o,s,l,p,m){return z(z(z({kind:k.I18nExpression,context:n,target:e,i18nOwner:t,handle:i,expression:r,icuPlaceholder:a,i18nPlaceholder:o,resolutionTime:s,usage:l,name:p,sourceSpan:m},Tt),Lr),zr)}function kZ(n,e,t){return z({kind:k.I18nApply,owner:n,handle:e,sourceSpan:t},Tt)}function PZ(n,e,t,i){return z(z(z({kind:k.StoreLet,target:n,declaredName:e,value:t,sourceSpan:i},zr),Lr),Tt)}function wo(n){return n instanceof _i}var _i=class extends di{constructor(e=null){super(null,e)}},jn=class n extends _i{name;kind=Le.LexicalRead;constructor(e){super(),this.name=e}visitExpression(e,t){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.name)}},av=class n extends _i{target;targetSlot;offset;kind=Le.Reference;constructor(e,t,i){super(),this.target=e,this.targetSlot=t,this.offset=i}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot,this.offset)}},sm=class n extends _i{target;value;sourceSpan;kind=Le.StoreLet;[Ld]=!0;[rS]=!0;constructor(e,t,i){super(),this.target=e,this.value=t,this.sourceSpan=i}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target&&e.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.value=ve(this.value,e,t)}clone(){return new n(this.target,this.value,this.sourceSpan)}},lm=class n extends _i{target;targetSlot;kind=Le.ContextLetReference;constructor(e,t){super(),this.target=e,this.targetSlot=t}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot)}},ts=class n extends _i{view;kind=Le.Context;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},X2=class n extends _i{view;kind=Le.TrackContext;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},ov=class n extends _i{kind=Le.NextContext;steps=1;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n;return e.steps=this.steps,e}},Z2=class n extends _i{kind=Le.GetCurrentView;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n}},sv=class n extends _i{view;kind=Le.RestoreView;constructor(e){super(),this.view=e}visitExpression(e,t){typeof this.view!="number"&&this.view.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,t){typeof this.view!="number"&&(this.view=ve(this.view,e,t))}clone(){return new n(this.view instanceof di?this.view.clone():this.view)}},J2=class n extends _i{expr;kind=Le.ResetView;constructor(e){super(),this.expr=e}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=ve(this.expr,e,t)}clone(){return new n(this.expr.clone())}},lv=class n extends _i{target;value;kind=Le.TwoWayBindingSet;constructor(e,t){super(),this.target=e,this.value=t}visitExpression(e,t){this.target.visitExpression(e,t),this.value.visitExpression(e,t)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.target=ve(this.target,e,t),this.value=ve(this.value,e,t)}clone(){return new n(this.target,this.value)}},Zo=class n extends _i{xref;kind=Le.ReadVariable;name=null;constructor(e){super(),this.xref=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n(this.xref);return e.name=this.name,e}},Jl=class n extends _i{kind=Le.PureFunctionExpr;[Ld]=!0;[Vv]=!0;varOffset=null;body;args;fn=null;constructor(e,t){super(),this.body=e,this.args=t}visitExpression(e,t){this.body?.visitExpression(e,t);for(let i of this.args)i.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((t,i)=>t.isEquivalent(this.args[i]))}isConstant(){return!1}transformInternalExpressions(e,t){this.body!==null?this.body=ve(this.body,e,t|ti.InChildOperation):this.fn!==null&&(this.fn=ve(this.fn,e,t));for(let i=0;i<this.args.length;i++)this.args[i]=ve(this.args[i],e,t)}clone(){let e=new n(this.body?.clone()??null,this.args.map(t=>t.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},Cd=class n extends _i{index;kind=Le.PureFunctionParameterExpr;constructor(e){super(),this.index=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new n(this.index)}},xd=class n extends _i{target;targetSlot;name;args;kind=Le.PipeBinding;[Ld]=!0;[Vv]=!0;varOffset=null;constructor(e,t,i,r){super(),this.target=e,this.targetSlot=t,this.name=i,this.args=r}visitExpression(e,t){for(let i of this.args)i.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){for(let i=0;i<this.args.length;i++)this.args[i]=ve(this.args[i],e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.map(t=>t.clone()));return e.varOffset=this.varOffset,e}},cv=class n extends _i{target;targetSlot;name;args;numArgs;kind=Le.PipeBindingVariadic;[Ld]=!0;[Vv]=!0;varOffset=null;constructor(e,t,i,r,a){super(),this.target=e,this.targetSlot=t,this.name=i,this.args=r,this.numArgs=a}visitExpression(e,t){this.args.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.args=ve(this.args,e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},Ed=class n extends _i{receiver;name;kind=Le.SafePropertyRead;constructor(e,t){super(),this.receiver=e,this.name=t}get index(){return this.name}visitExpression(e,t){this.receiver.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=ve(this.receiver,e,t)}clone(){return new n(this.receiver.clone(),this.name)}},Id=class n extends _i{receiver;index;kind=Le.SafeKeyedRead;constructor(e,t,i){super(i),this.receiver=e,this.index=t}visitExpression(e,t){this.receiver.visitExpression(e,t),this.index.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=ve(this.receiver,e,t),this.index=ve(this.index,e,t)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},ec=class n extends _i{receiver;args;kind=Le.SafeInvokeFunction;constructor(e,t){super(),this.receiver=e,this.args=t}visitExpression(e,t){this.receiver.visitExpression(e,t);for(let i of this.args)i.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=ve(this.receiver,e,t);for(let i=0;i<this.args.length;i++)this.args[i]=ve(this.args[i],e,t)}clone(){return new n(this.receiver.clone(),this.args.map(e=>e.clone()))}},Td=class n extends _i{guard;expr;kind=Le.SafeTernaryExpr;constructor(e,t){super(),this.guard=e,this.expr=t}visitExpression(e,t){this.guard.visitExpression(e,t),this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.guard=ve(this.guard,e,t),this.expr=ve(this.expr,e,t)}clone(){return new n(this.guard.clone(),this.expr.clone())}},cm=class n extends _i{kind=Le.EmptyExpr;visitExpression(e,t){}isEquivalent(e){return e instanceof n}isConstant(){return!0}clone(){return new n}transformInternalExpressions(){}},Va=class n extends _i{expr;xref;kind=Le.AssignTemporaryExpr;name=null;constructor(e,t){super(),this.expr=e,this.xref=t}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=ve(this.expr,e,t)}clone(){let e=new n(this.expr.clone(),this.xref);return e.name=this.name,e}},is=class n extends _i{xref;kind=Le.ReadTemporaryExpr;name=null;constructor(e){super(),this.xref=e}visitExpression(e,t){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,t){}clone(){let e=new n(this.xref);return e.name=this.name,e}},dv=class n extends _i{slot;kind=Le.SlotLiteralExpr;constructor(e){super(),this.slot=e}visitExpression(e,t){}isEquivalent(e){return e instanceof n&&e.slot===this.slot}isConstant(){return!0}clone(){return new n(this.slot)}transformInternalExpressions(){}},uv=class n extends _i{expr;target;targetSlot;alias;kind=Le.ConditionalCase;constructor(e,t,i,r=null){super(),this.expr=e,this.target=t,this.targetSlot=i,this.alias=r}visitExpression(e,t){this.expr!==null&&this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&e.expr===this.expr}isConstant(){return!0}clone(){return new n(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,t){this.expr!==null&&(this.expr=ve(this.expr,e,t))}},dm=class n extends _i{expr;kind=Le.ConstCollected;constructor(e){super(),this.expr=e}transformInternalExpressions(e,t){this.expr=e(this.expr,t)}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr)}};function cr(n,e){yn(n,(t,i)=>(e(t,i),t),ti.None)}var ti=function(n){return n[n.None=0]="None",n[n.InChildOperation=1]="InChildOperation",n}(ti||{});function i2(n,e,t){for(let i=0;i<n.expressions.length;i++)n.expressions[i]=ve(n.expressions[i],e,t)}function yn(n,e,t){switch(n.kind){case k.StyleProp:case k.StyleMap:case k.ClassProp:case k.ClassMap:case k.Binding:n.expression instanceof fn?i2(n.expression,e,t):n.expression=ve(n.expression,e,t);break;case k.Property:case k.HostProperty:case k.Attribute:n.expression instanceof fn?i2(n.expression,e,t):n.expression=ve(n.expression,e,t),n.sanitizer=n.sanitizer&&ve(n.sanitizer,e,t);break;case k.TwoWayProperty:n.expression=ve(n.expression,e,t),n.sanitizer=n.sanitizer&&ve(n.sanitizer,e,t);break;case k.I18nExpression:n.expression=ve(n.expression,e,t);break;case k.InterpolateText:i2(n.interpolation,e,t);break;case k.Statement:pv(n.statement,e,t);break;case k.Variable:n.initializer=ve(n.initializer,e,t);break;case k.Conditional:for(let i of n.conditions)i.expr!==null&&(i.expr=ve(i.expr,e,t));n.processed!==null&&(n.processed=ve(n.processed,e,t)),n.contextValue!==null&&(n.contextValue=ve(n.contextValue,e,t));break;case k.Listener:case k.TwoWayListener:for(let i of n.handlerOps)yn(i,e,t|ti.InChildOperation);break;case k.ExtractedAttribute:n.expression=n.expression&&ve(n.expression,e,t),n.trustedValueFn=n.trustedValueFn&&ve(n.trustedValueFn,e,t);break;case k.RepeaterCreate:if(n.trackByOps===null)n.track=ve(n.track,e,t);else for(let i of n.trackByOps)yn(i,e,t|ti.InChildOperation);n.trackByFn!==null&&(n.trackByFn=ve(n.trackByFn,e,t));break;case k.Repeater:n.collection=ve(n.collection,e,t);break;case k.Defer:n.loadingConfig!==null&&(n.loadingConfig=ve(n.loadingConfig,e,t)),n.placeholderConfig!==null&&(n.placeholderConfig=ve(n.placeholderConfig,e,t)),n.resolverFn!==null&&(n.resolverFn=ve(n.resolverFn,e,t));break;case k.I18nMessage:for(let[i,r]of n.params)n.params.set(i,ve(r,e,t));for(let[i,r]of n.postprocessingParams)n.postprocessingParams.set(i,ve(r,e,t));break;case k.DeferWhen:n.expr=ve(n.expr,e,t);break;case k.StoreLet:n.value=ve(n.value,e,t);break;case k.Advance:case k.Container:case k.ContainerEnd:case k.ContainerStart:case k.DeferOn:case k.DisableBindings:case k.Element:case k.ElementEnd:case k.ElementStart:case k.EnableBindings:case k.I18n:case k.I18nApply:case k.I18nContext:case k.I18nEnd:case k.I18nStart:case k.IcuEnd:case k.IcuStart:case k.Namespace:case k.Pipe:case k.Projection:case k.ProjectionDef:case k.Template:case k.Text:case k.I18nAttributes:case k.IcuPlaceholder:case k.DeclareLet:case k.SourceLocation:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${k[n.kind]}`)}}function ve(n,e,t){if(n instanceof _i)n.transformInternalExpressions(e,t);else if(n instanceof Gt)n.lhs=ve(n.lhs,e,t),n.rhs=ve(n.rhs,e,t);else if(n instanceof hd)n.expr=ve(n.expr,e,t);else if(n instanceof Ur)n.receiver=ve(n.receiver,e,t);else if(n instanceof es)n.receiver=ve(n.receiver,e,t),n.index=ve(n.index,e,t);else if(n instanceof md)n.receiver=ve(n.receiver,e,t),n.value=ve(n.value,e,t);else if(n instanceof Lp)n.receiver=ve(n.receiver,e,t),n.index=ve(n.index,e,t),n.value=ve(n.value,e,t);else if(n instanceof kr){n.fn=ve(n.fn,e,t);for(let i=0;i<n.args.length;i++)n.args[i]=ve(n.args[i],e,t)}else if(n instanceof Ba)for(let i=0;i<n.entries.length;i++)n.entries[i]=ve(n.entries[i],e,t);else if(n instanceof _o)for(let i=0;i<n.entries.length;i++)n.entries[i].value=ve(n.entries[i].value,e,t);else if(n instanceof Jo)n.condition=ve(n.condition,e,t),n.trueCase=ve(n.trueCase,e,t),n.falseCase!==null&&(n.falseCase=ve(n.falseCase,e,t));else if(n instanceof pd)n.expr=ve(n.expr,e,t);else if(n instanceof bg)n.value=ve(n.value,e,t);else if(n instanceof Cg)for(let i=0;i<n.expressions.length;i++)n.expressions[i]=ve(n.expressions[i],e,t);else if(n instanceof Fp)n.condition=ve(n.condition,e,t);else if(n instanceof wg)n.tag=ve(n.tag,e,t),n.template.expressions=n.template.expressions.map(i=>ve(i,e,t));else if(n instanceof ql)if(Array.isArray(n.body))for(let i=0;i<n.body.length;i++)pv(n.body[i],e,t);else n.body=ve(n.body,e,t);else if(!(n instanceof Nt)){if(n instanceof Bp)for(let i=0;i<n.expressions.length;i++)n.expressions[i]=ve(n.expressions[i],e,t);else if(!(n instanceof ga||n instanceof zl||n instanceof $n))throw new Error(`Unhandled expression kind: ${n.constructor.name}`)}return e(n,t)}function pv(n,e,t){if(n instanceof va)n.expr=ve(n.expr,e,t);else if(n instanceof sr)n.value=ve(n.value,e,t);else if(n instanceof lr)n.value!==void 0&&(n.value=ve(n.value,e,t));else if(n instanceof Eg){n.condition=ve(n.condition,e,t);for(let i of n.trueCase)pv(i,e,t);for(let i of n.falseCase)pv(i,e,t)}else throw new Error(`Unhandled statement kind: ${n.constructor.name}`)}function yk(n){return n instanceof $n&&typeof n.value=="string"}var ee=(()=>{class n{static nextListId=0;debugListId=n.nextListId++;head={kind:k.ListEnd,next:null,prev:null,debugListId:this.debugListId};tail={kind:k.ListEnd,next:null,prev:null,debugListId:this.debugListId};constructor(){this.head.next=this.tail,this.tail.prev=this.head}push(t){if(Array.isArray(t)){for(let r of t)this.push(r);return}n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=this.debugListId;let i=this.tail.prev;t.prev=i,i.next=t,t.next=this.tail,this.tail.prev=t}prepend(t){if(t.length===0)return;for(let a of t)n.assertIsNotEnd(a),n.assertIsUnowned(a),a.debugListId=this.debugListId;let i=this.head.next,r=this.head;for(let a of t)r.next=a,a.prev=r,r=a;r.next=i,i.prev=r}*[Symbol.iterator](){let t=this.head.next;for(;t!==this.tail;){n.assertIsOwned(t,this.debugListId);let i=t.next;yield t,t=i}}*reversed(){let t=this.tail.prev;for(;t!==this.head;){n.assertIsOwned(t,this.debugListId);let i=t.prev;yield t,t=i}}static replace(t,i){n.assertIsNotEnd(t),n.assertIsNotEnd(i),n.assertIsOwned(t),n.assertIsUnowned(i),i.debugListId=t.debugListId,t.prev!==null&&(t.prev.next=i,i.prev=t.prev),t.next!==null&&(t.next.prev=i,i.next=t.next),t.debugListId=null,t.prev=null,t.next=null}static replaceWithMany(t,i){if(i.length===0){n.remove(t);return}n.assertIsNotEnd(t),n.assertIsOwned(t);let r=t.debugListId;t.debugListId=null;for(let m of i)n.assertIsNotEnd(m),n.assertIsUnowned(m);let{prev:a,next:o}=t;t.prev=null,t.next=null;let s=a;for(let m of i)this.assertIsUnowned(m),m.debugListId=r,s.next=m,m.prev=s,m.next=null,s=m;let l=i[0],p=s;a!==null&&(a.next=l,l.prev=a),o!==null&&(o.prev=p,p.next=o)}static remove(t){n.assertIsNotEnd(t),n.assertIsOwned(t),t.prev.next=t.next,t.next.prev=t.prev,t.debugListId=null,t.prev=null,t.next=null}static insertBefore(t,i){if(Array.isArray(t)){for(let r of t)this.insertBefore(r,i);return}if(n.assertIsOwned(i),i.prev===null)throw new Error("AssertionError: illegal operation on list start");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=i.debugListId,t.prev=null,i.prev.next=t,t.prev=i.prev,t.next=i,i.prev=t}static insertAfter(t,i){if(n.assertIsOwned(i),i.next===null)throw new Error("AssertionError: illegal operation on list end");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=i.debugListId,i.next.prev=t,t.next=i.next,t.prev=i,i.next=t}static assertIsUnowned(t){if(t.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${k[t.kind]}`)}static assertIsOwned(t,i){if(t.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${k[t.kind]}`);if(i!==void 0&&t.debugListId!==i)throw new Error(`AssertionError: node belongs to the wrong list (expected ${i}, actual ${t.debugListId})`)}static assertIsNotEnd(t){if(t.kind===k.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}}return n})(),Pr=class{slot=null},LZ=new Set([k.Element,k.ElementStart,k.Container,k.ContainerStart,k.Template,k.RepeaterCreate]);function Ks(n){return LZ.has(n.kind)}function RZ(n,e,t,i,r,a){return z(z({kind:k.ElementStart,xref:e,tag:n,handle:new Pr,attributes:null,localRefs:[],nonBindable:!1,namespace:t,i18nPlaceholder:i,startSourceSpan:r,wholeSourceSpan:a},So),Tt)}function Hv(n,e,t,i,r,a,o,s){return z(z({kind:k.Template,xref:n,templateKind:e,attributes:null,tag:t,handle:new Pr,functionNameSuffix:i,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:a,startSourceSpan:o,wholeSourceSpan:s},So),Tt)}function BZ(n,e,t,i,r,a,o,s,l,p){return Mt(z(z(z({kind:k.RepeaterCreate,attributes:null,xref:n,handle:new Pr,emptyView:e,track:i,trackByFn:null,trackByOps:null,tag:t,emptyTag:a,emptyAttributes:null,functionNameSuffix:"For",namespace:or.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:r,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:s,startSourceSpan:l,wholeSourceSpan:p},So),Tt),Lr),{numSlotsUsed:e===null?2:3})}function FZ(n,e){return z({kind:k.ElementEnd,xref:n,sourceSpan:e},Tt)}function OZ(n){return z({kind:k.DisableBindings,xref:n},Tt)}function NZ(n){return z({kind:k.EnableBindings,xref:n},Tt)}function bk(n,e,t,i){return z(z({kind:k.Text,xref:n,handle:new Pr,initialValue:e,icuPlaceholder:t,sourceSpan:i},So),Tt)}function aS(n,e,t,i,r,a,o,s,l){let p=new ee;return p.push(r),z({kind:k.Listener,target:n,targetSlot:e,tag:i,hostListener:s,name:t,handlerOps:p,handlerFnName:null,consumesDollarEvent:!1,isAnimationListener:a!==null,animationPhase:a,eventTarget:o,sourceSpan:l},Tt)}function wk(n,e,t,i,r,a){let o=new ee;return o.push(r),z({kind:k.TwoWayListener,target:n,targetSlot:e,tag:i,name:t,handlerOps:o,handlerFnName:null,sourceSpan:a},Tt)}function Sk(n,e,t){return z(z({kind:k.Pipe,xref:n,handle:e,name:t},Tt),So)}function VZ(n){return z({kind:k.Namespace,active:n},Tt)}function HZ(n){return z({kind:k.ProjectionDef,def:n},Tt)}function WZ(n,e,t,i,r){return Mt(z(z({kind:k.Projection,xref:n,handle:new Pr,selector:e,i18nPlaceholder:t,fallbackView:i,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:r},Tt),So),{numSlotsUsed:i===null?1:2})}function da(n,e,t,i,r,a,o,s){return z({kind:k.ExtractedAttribute,target:n,bindingKind:e,namespace:t,name:i,expression:r,i18nContext:a,i18nMessage:o,securityContext:s,trustedValueFn:null},Tt)}function UZ(n,e,t,i,r,a){return Mt(z(z({kind:k.Defer,xref:n,handle:new Pr,mainView:e,mainSlot:t,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:i,resolverFn:r,flags:null,sourceSpan:a},Tt),So),{numSlotsUsed:2})}function Bs(n,e,t,i){return z({kind:k.DeferOn,defer:n,trigger:e,modifier:t,sourceSpan:i},Tt)}function jZ(n,e,t){return z(z({kind:k.DeclareLet,xref:n,declaredName:e,sourceSpan:t,handle:new Pr},So),Tt)}function zZ(n,e,t,i,r,a,o,s){return z({kind:k.I18nMessage,xref:n,i18nContext:e,i18nBlock:t,message:i,messagePlaceholder:r,params:a,postprocessingParams:o,needsPostprocessing:s,subMessages:[]},Tt)}function Wv(n,e,t,i){return z(z({kind:k.I18nStart,xref:n,handle:new Pr,root:t??n,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:i},Tt),So)}function Uv(n,e){return z({kind:k.I18nEnd,xref:n,sourceSpan:e},Tt)}function qZ(n,e,t,i){return z({kind:k.IcuStart,xref:n,message:e,messagePlaceholder:t,context:null,sourceSpan:i},Tt)}function $Z(n){return z({kind:k.IcuEnd,xref:n},Tt)}function QZ(n,e,t){return z({kind:k.IcuPlaceholder,xref:n,name:e,strings:t,expressionPlaceholders:[]},Tt)}function n2(n,e,t,i,r){if(t===null&&n!==Fl.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return z({kind:k.I18nContext,contextKind:n,xref:e,i18nBlock:t,message:i,sourceSpan:r,params:new Map,postprocessingParams:new Map},Tt)}function Ck(n,e,t){return z(z({kind:k.I18nAttributes,xref:n,handle:e,target:t,i18nAttributesConfig:null},Tt),So)}function GZ(n,e){return z({kind:k.SourceLocation,templatePath:n,locations:e},Tt)}function YZ(n,e,t,i,r,a){return z(z({kind:k.HostProperty,name:n,expression:e,isAnimationTrigger:t,i18nContext:i,securityContext:r,sanitizer:null,sourceSpan:a},Lr),Tt)}var xk="CTX_REF_MARKER",fe=function(n){return n[n.Tmpl=0]="Tmpl",n[n.Host=1]="Host",n[n.Both=2]="Both",n}(fe||{}),mv=class{componentName;pool;compatibility;constructor(e,t,i){this.componentName=e,this.pool=t,this.compatibility=i}kind=fe.Both;allocateXrefId(){return this.nextXrefId++}nextXrefId=0},um=class extends mv{relativeContextFilePath;i18nUseExternalIds;deferMeta;allDeferrableDepsFn;relativeTemplatePath;enableDebugLocations;constructor(e,t,i,r,a,o,s,l,p){super(e,t,i),this.relativeContextFilePath=r,this.i18nUseExternalIds=a,this.deferMeta=o,this.allDeferrableDepsFn=s,this.relativeTemplatePath=l,this.enableDebugLocations=p,this.root=new fo(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}kind=fe.Tmpl;fnSuffix="Template";root;views=new Map;contentSelectors=null;allocateView(e){let t=new fo(this,this.allocateXrefId(),e);return this.views.set(t.xref,t),t}get units(){return this.views.values()}addConst(e,t){for(let r=0;r<this.consts.length;r++)if(this.consts[r].isEquivalent(e))return r;let i=this.consts.length;return this.consts.push(e),t&&this.constsInitializers.push(...t),i}consts=[];constsInitializers=[]},hv=class{xref;constructor(e){this.xref=e}create=new ee;update=new ee;fnName=null;vars=null;*ops(){for(let e of this.create)if(yield e,e.kind===k.Listener||e.kind===k.TwoWayListener)for(let t of e.handlerOps)yield t;else if(e.kind===k.RepeaterCreate&&e.trackByOps!==null)for(let t of e.trackByOps)yield t;for(let e of this.update)yield e}},fo=class extends hv{job;parent;constructor(e,t,i){super(t),this.job=e,this.parent=i}contextVariables=new Map;aliases=new Set;decls=null},fv=class extends mv{constructor(e,t,i){super(e,t,i),this.root=new ew(this)}kind=fe.Host;fnSuffix="HostBindings";root;get units(){return[this.root]}},ew=class extends hv{job;constructor(e){super(0),this.job=e}attributes=null};function KZ(n){for(let e of n.units)for(let t of e.ops())yn(t,XZ,ti.None)}function XZ(n){if(n instanceof kr&&n.fn instanceof jn&&n.fn.name==="$any"){if(n.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return n.args[0]}return n}function ZZ(n){let e=new Map;for(let t of n.units)for(let i of t.create)i.kind===k.I18nContext&&e.set(i.xref,i);for(let t of n.units)for(let i of t.update)i.kind===k.I18nExpression&&JZ(e,i)&&ee.insertAfter(kZ(i.i18nOwner,i.handle,null),i)}function JZ(n,e){if(e.next?.kind!==k.I18nExpression)return!0;let t=n.get(e.context),i=n.get(e.next.context);if(t===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(i===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return t.i18nBlock!==null?t.i18nBlock!==i.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function eJ(n){for(let e of n.units){let t=e.update.head,i=[],r=null;for(let a of e.create){if(a.kind===k.I18nStart)r={blockXref:a.xref,lastSlotConsumer:a.xref};else if(a.kind===k.I18nEnd){for(let o of i)o.target=r.lastSlotConsumer,ee.insertBefore(o,t);i.length=0,r=null}if(Rd(a))for(r!==null&&(r.lastSlotConsumer=a.xref);t.next!==null;){if(r!==null&&t.kind===k.I18nExpression&&t.usage===Pd.I18nText&&t.i18nOwner===r.blockXref){let o=t;t=t.next,ee.remove(o),i.push(o);continue}if(rv(t)&&t.target!==a.xref)break;t=t.next}}}}function oS(n){let e=new Map;for(let t of n.create)Rd(t)&&(e.set(t.xref,t),t.kind===k.RepeaterCreate&&t.emptyView!==null&&e.set(t.emptyView,t));return e}function tJ(n){for(let e of n.units){let t=oS(e);for(let i of e.ops())switch(i.kind){case k.Attribute:iJ(e,i,t);break;case k.Property:if(!i.isAnimationTrigger){let r;i.i18nMessage!==null&&i.templateKind===null?r=Re.I18n:i.isStructuralTemplateAttribute?r=Re.Template:r=Re.Property,ee.insertBefore(da(i.target,r,null,i.name,null,null,null,i.securityContext),ed(t,i.target))}break;case k.TwoWayProperty:ee.insertBefore(da(i.target,Re.TwoWayProperty,null,i.name,null,null,null,i.securityContext),ed(t,i.target));break;case k.StyleProp:case k.ClassProp:e.job.compatibility===jr.TemplateDefinitionBuilder&&i.expression instanceof cm&&ee.insertBefore(da(i.target,Re.Property,null,i.name,null,null,null,Mi.STYLE),ed(t,i.target));break;case k.Listener:if(!i.isAnimationListener){let r=da(i.target,Re.Property,null,i.name,null,null,null,Mi.NONE);if(n.kind===fe.Host){if(n.compatibility)break;e.create.push(r)}else ee.insertBefore(r,ed(t,i.target))}break;case k.TwoWayListener:if(n.kind!==fe.Host){let r=da(i.target,Re.Property,null,i.name,null,null,null,Mi.NONE);ee.insertBefore(r,ed(t,i.target))}break}}}function ed(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function iJ(n,e,t){if(e.expression instanceof fn)return;let i=e.isTextAttribute||e.expression.isConstant();if(n.job.compatibility===jr.TemplateDefinitionBuilder&&(i&&=e.isTextAttribute),i){let r=da(e.target,e.isStructuralTemplateAttribute?Re.Template:Re.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(n.job.kind===fe.Host)n.create.push(r);else{let a=ed(t,e.target);ee.insertBefore(r,a)}ee.remove(e)}}function nJ(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function rJ(n){let e=new Map;for(let t of n.units)for(let i of t.create)Ks(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.ops())if(i.kind===k.Binding)switch(i.bindingKind){case Re.Attribute:if(i.name==="ngNonBindable"){ee.remove(i);let r=nJ(e,i.target);r.nonBindable=!0}else{let[r,a]=Oa(i.name);ee.replace(i,TZ(i.target,r,a,i.expression,i.securityContext,i.isTextAttribute,i.isStructuralTemplateAttribute,i.templateKind,i.i18nMessage,i.sourceSpan))}break;case Re.Property:case Re.Animation:n.kind===fe.Host?ee.replace(i,YZ(i.name,i.expression,i.bindingKind===Re.Animation,i.i18nContext,i.securityContext,i.sourceSpan)):ee.replace(i,wZ(i.target,i.name,i.expression,i.bindingKind===Re.Animation,i.securityContext,i.isStructuralTemplateAttribute,i.templateKind,i.i18nContext,i.i18nMessage,i.sourceSpan));break;case Re.TwoWayProperty:if(!(i.expression instanceof di))throw new Error(`Expected value of two-way property binding "${i.name}" to be an expression`);ee.replace(i,SZ(i.target,i.name,i.expression,i.securityContext,i.isStructuralTemplateAttribute,i.templateKind,i.i18nContext,i.i18nMessage,i.sourceSpan));break;case Re.I18n:case Re.ClassName:case Re.StyleProperty:throw new Error(`Unhandled binding of kind ${Re[i.bindingKind]}`)}}var aJ=new Set([V.attribute,V.classProp,V.element,V.elementContainer,V.elementContainerEnd,V.elementContainerStart,V.elementEnd,V.elementStart,V.hostProperty,V.i18nExp,V.listener,V.listener,V.property,V.styleProp,V.stylePropInterpolate1,V.stylePropInterpolate2,V.stylePropInterpolate3,V.stylePropInterpolate4,V.stylePropInterpolate5,V.stylePropInterpolate6,V.stylePropInterpolate7,V.stylePropInterpolate8,V.stylePropInterpolateV,V.syntheticHostListener,V.syntheticHostProperty,V.templateCreate,V.twoWayProperty,V.twoWayListener,V.declareLet]),oJ=256;function sJ(n){for(let e of n.units)BA(e.create),BA(e.update)}function BA(n){let e=null;for(let t of n){if(t.kind!==k.Statement||!(t.statement instanceof va)){e=null;continue}if(!(t.statement.expr instanceof kr)||!(t.statement.expr.fn instanceof zl)){e=null;continue}let i=t.statement.expr.fn.value;if(!aJ.has(i)){e=null;continue}if(e!==null&&e.instruction===i&&e.length<oJ){let r=e.expression.callFn(t.statement.expr.args,t.statement.expr.sourceSpan,t.statement.expr.pure);e.expression=r,e.op.statement=r.toStmt(),e.length++,ee.remove(t)}else e={op:t,instruction:i,expression:t.statement.expr,length:1}}}function lJ(n){for(let e of n.units)for(let t of e.update)t.kind===k.Attribute&&t.expression instanceof fn&&t.expression.strings.length===2&&t.expression.strings.every(r=>r==="")&&(t.expression=t.expression.expressions[0])}function cJ(n){for(let e of n.units)for(let t of e.ops()){if(t.kind!==k.Conditional)continue;let i,r=t.conditions.findIndex(o=>o.expr===null);if(r>=0){let o=t.conditions.splice(r,1)[0].targetSlot;i=new dv(o)}else i=q(-1);let a=t.test==null?null:new Va(t.test,n.allocateXrefId());for(let o=t.conditions.length-1;o>=0;o--){let s=t.conditions[o];if(s.expr!==null){if(a!==null){let l=o===0?a:new is(a.xref);s.expr=new Gt(Me.Identical,l,s.expr)}else if(s.alias!==null){let l=n.allocateXrefId();s.expr=new Va(s.expr,l),t.contextValue=new is(l)}i=new Jo(s.expr,new dv(s.targetSlot),i)}}t.processed=i,t.conditions=[]}}var dJ=new Map([["&&",Me.And],[">",Me.Bigger],[">=",Me.BiggerEquals],["|",Me.BitwiseOr],["&",Me.BitwiseAnd],["/",Me.Divide],["==",Me.Equals],["===",Me.Identical],["<",Me.Lower],["<=",Me.LowerEquals],["-",Me.Minus],["%",Me.Modulo],["*",Me.Multiply],["!=",Me.NotEquals],["!==",Me.NotIdentical],["??",Me.NullishCoalesce],["||",Me.Or],["+",Me.Plus]]);function Ek(n){let e=new Map([["svg",or.SVG],["math",or.Math]]);return n===null?or.HTML:e.get(n)??or.HTML}function uJ(n){let e=new Map([["svg",or.SVG],["math",or.Math]]);for(let[t,i]of e.entries())if(i===n)return t;return null}function pJ(n,e){return e===or.HTML?n:`:${uJ(e)}:${n}`}function Dd(n){return Array.isArray(n)?oi(n.map(Dd)):q(n)}function mJ(n){let e=new Map;for(let t of n.units)for(let i of t.create)if(i.kind===k.ExtractedAttribute){let r=e.get(i.target)||new tw(n.compatibility);e.set(i.target,r),r.add(i.bindingKind,i.name,i.expression,i.namespace,i.trustedValueFn),ee.remove(i)}if(n instanceof um)for(let t of n.units)for(let i of t.create)if(i.kind==k.Projection){let r=e.get(i.xref);if(r!==void 0){let a=iw(r);a.entries.length>0&&(i.attributes=a)}}else Ks(i)&&(i.attributes=FA(n,e,i.xref),i.kind===k.RepeaterCreate&&i.emptyView!==null&&(i.emptyAttributes=FA(n,e,i.emptyView)));else if(n instanceof fv)for(let[t,i]of e.entries()){if(t!==n.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let r=iw(i);r.entries.length>0&&(n.root.attributes=r)}}function FA(n,e,t){let i=e.get(t);if(i!==void 0){let r=iw(i);if(r.entries.length>0)return n.addConst(r)}return null}var Yc=Object.freeze([]),tw=class{compatibility;known=new Map;byKind=new Map;propertyBindings=null;projectAs=null;get attributes(){return this.byKind.get(Re.Attribute)??Yc}get classes(){return this.byKind.get(Re.ClassName)??Yc}get styles(){return this.byKind.get(Re.StyleProperty)??Yc}get bindings(){return this.propertyBindings??Yc}get template(){return this.byKind.get(Re.Template)??Yc}get i18n(){return this.byKind.get(Re.I18n)??Yc}constructor(e){this.compatibility=e}isKnown(e,t){let i=this.known.get(e)??new Set;return this.known.set(e,i),i.has(t)?!0:(i.add(t),!1)}add(e,t,i,r,a){if(!(this.compatibility===jr.TemplateDefinitionBuilder&&(e===Re.Attribute||e===Re.ClassName||e===Re.StyleProperty))&&this.isKnown(e,t))return;if(t==="ngProjectAs"){if(i===null||!(i instanceof $n)||i.value==null||typeof i.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=i.value.toString()}let s=this.arrayFor(e);if(s.push(...hJ(r,t)),e===Re.Attribute||e===Re.StyleProperty){if(i===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(a!==null){if(!yk(i))throw Error("AssertionError: extracted attribute value should be string literal");s.push(LK(a,new Bp([new Sg(i.value)],[]),void 0,i.sourceSpan))}else s.push(i)}}arrayFor(e){return e===Re.Property||e===Re.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function hJ(n,e){let t=q(e);return n?[q(0),q(n),t]:[t]}function iw({attributes:n,bindings:e,classes:t,i18n:i,projectAs:r,styles:a,template:o}){let s=[...n];if(r!==null){let l=jw(r)[0];s.push(q(5),Dd(l))}return t.length>0&&s.push(q(1),...t),a.length>0&&s.push(q(2),...a),e.length>0&&s.push(q(3),...e),o.length>0&&s.push(q(4),...o),i.length>0&&s.push(q(6),...i),oi(s)}function fJ(n){let e=new Map;for(let t of n.units){for(let i of t.create)i.kind===k.I18nAttributes&&e.set(i.target,i);for(let i of t.update)switch(i.kind){case k.Property:case k.Attribute:if(i.i18nContext===null||!(i.expression instanceof fn))continue;let r=e.get(i.target);if(r===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(r.target!==i.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let a=[];for(let o=0;o<i.expression.expressions.length;o++){let s=i.expression.expressions[o];if(i.expression.i18nPlaceholders.length!==i.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${i.expression.i18nPlaceholders.length} placeholders and ${i.expression.expressions.length} expressions`);a.push(_k(i.i18nContext,r.target,r.xref,r.handle,s,null,i.expression.i18nPlaceholders[o],om.Creation,Pd.I18nAttribute,i.name,i.sourceSpan))}ee.replaceWithMany(i,a);break}}}function gJ(n){for(let e of n.units)for(let t of e.create)if(t.kind===k.Defer){if(t.resolverFn!==null)continue;if(t.ownResolverFn!==null){if(t.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let i=e.fnName?.replace("_Template","");t.resolverFn=n.pool.getSharedFunctionReference(t.ownResolverFn,`${i}_Defer_${t.handle.slot}_DepsFn`,!1)}}}function vJ(n){let e=new Map;for(let r of n.units)for(let a of r.ops())switch(a.kind){case k.Binding:case k.Property:case k.Attribute:case k.ExtractedAttribute:if(a.i18nMessage===null)continue;if(!e.has(a.i18nMessage)){let o=n2(Fl.Attr,n.allocateXrefId(),null,a.i18nMessage,null);r.create.push(o),e.set(a.i18nMessage,o.xref)}a.i18nContext=e.get(a.i18nMessage);break}let t=new Map;for(let r of n.units)for(let a of r.create)switch(a.kind){case k.I18nStart:if(a.xref===a.root){let o=n2(Fl.RootI18n,n.allocateXrefId(),a.xref,a.message,null);r.create.push(o),a.context=o.xref,t.set(a.xref,o)}break}for(let r of n.units)for(let a of r.create)if(a.kind===k.I18nStart&&a.xref!==a.root){let o=t.get(a.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");a.context=o.xref,t.set(a.xref,o)}let i=null;for(let r of n.units)for(let a of r.create)switch(a.kind){case k.I18nStart:i=a;break;case k.I18nEnd:i=null;break;case k.IcuStart:if(i===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(a.message.id!==i.message.id){let o=n2(Fl.Icu,n.allocateXrefId(),i.root,a.message,null);r.create.push(o),a.context=o.xref}else a.context=i.context,t.get(i.xref).contextKind=Fl.Icu;break}}function _J(n){let e=new Map;for(let t of n.units)for(let i of t.update.reversed())if(i.kind===k.Binding&&i.isTextAttribute){let r=e.get(i.target)||new Set;r.has(i.name)&&n.compatibility===jr.TemplateDefinitionBuilder&&(i.name==="style"||i.name==="class")&&ee.remove(i),r.add(i.name),e.set(i.target,r)}}function yJ(n){for(let e of n.units)for(let t of e.create)t.kind===k.Defer&&(t.placeholderMinimumTime!==null&&(t.placeholderConfig=new dm(Dd([t.placeholderMinimumTime]))),(t.loadingMinimumTime!==null||t.loadingAfterTime!==null)&&(t.loadingConfig=new dm(Dd([t.loadingMinimumTime,t.loadingAfterTime]))))}function bJ(n){let e=new Map;function t(r){if(e.has(r.xref))return e.get(r.xref);let a=new wJ;for(let o of r.create)if(!(!Ks(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let s of o.localRefs)s.target===""&&a.targets.set(s.name,{xref:o.xref,slot:o.handle})}return e.set(r.xref,a),a}function i(r,a,o){switch(a.trigger.kind){case vi.Idle:case vi.Never:case vi.Immediate:case vi.Timer:return;case vi.Hover:case vi.Interaction:case vi.Viewport:if(a.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let p=n.views.get(o);if(p==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let m of p.create)if(Rd(m)&&(Ks(m)||m.kind===k.Projection)){a.trigger.targetXref=m.xref,a.trigger.targetView=o,a.trigger.targetSlotViewSteps=-1,a.trigger.targetSlot=m.handle;return}return}let s=o!==null?n.views.get(o):r,l=o!==null?-1:0;for(;s!==null;){let p=t(s);if(p.targets.has(a.trigger.targetName)){let{xref:m,slot:_}=p.targets.get(a.trigger.targetName);a.trigger.targetXref=m,a.trigger.targetView=s.xref,a.trigger.targetSlotViewSteps=l,a.trigger.targetSlot=_;return}s=s.parent!==null?n.views.get(s.parent):null,l++}break;default:throw new Error(`Trigger kind ${a.trigger.kind} not handled`)}}for(let r of n.units){let a=new Map;for(let o of r.create)switch(o.kind){case k.Defer:a.set(o.xref,o);break;case k.DeferOn:let s=a.get(o.defer);i(r,o,o.modifier==="hydrate"?s.mainView:s.placeholderView);break}}}var wJ=class{targets=new Map},SJ=new Map([[k.ElementEnd,[k.ElementStart,k.Element]],[k.ContainerEnd,[k.ContainerStart,k.Container]],[k.I18nEnd,[k.I18nStart,k.I18n]]]),CJ=new Set([k.Pipe]);function xJ(n){for(let e of n.units)for(let t of e.create){let i=SJ.get(t.kind);if(i===void 0)continue;let[r,a]=i,o=t.prev;for(;o!==null&&CJ.has(o.kind);)o=o.prev;o!==null&&o.kind===r&&(o.kind=a,ee.remove(t))}}function EJ(n){for(let e of n.units)for(let t of e.ops())yn(t,i=>kJ(i,{job:n}),ti.None),yn(t,PJ,ti.None)}function ra(n){return n instanceof hd?ra(n.expr):n instanceof Gt?ra(n.lhs)||ra(n.rhs):n instanceof Jo?n.falseCase&&ra(n.falseCase)?!0:ra(n.condition)||ra(n.trueCase):n instanceof Fp?ra(n.condition):n instanceof Va?ra(n.expr):n instanceof Ur?ra(n.receiver):n instanceof es?ra(n.receiver)||ra(n.index):n instanceof kr||n instanceof Ba||n instanceof _o||n instanceof ec||n instanceof xd}function IJ(n){let e=new Set;return ve(n,t=>(t instanceof Va&&e.add(t.xref),t),ti.None),e}function TJ(n,e,t){return ve(n,i=>{if(i instanceof Va&&e.has(i.xref)){let r=new is(i.xref);return t.job.compatibility===jr.TemplateDefinitionBuilder?new Va(r,r.xref):r}return i},ti.None),n}function Kc(n,e,t){let i;if(ra(n)){let r=t.job.allocateXrefId();i=[new Va(n,r),new is(r)]}else i=[n,n.clone()],TJ(i[1],IJ(i[0]),t);return new Td(i[0],e(i[1]))}function DJ(n){return n instanceof Ed||n instanceof Id||n instanceof ec}function AJ(n){return n instanceof Ur||n instanceof es||n instanceof kr}function Ik(n){return DJ(n)||AJ(n)}function MJ(n){if(Ik(n)&&n.receiver instanceof Td){let e=n.receiver;for(;e.expr instanceof Td;)e=e.expr;return e}return null}function kJ(n,e){if(!Ik(n))return n;let t=MJ(n);if(t){if(n instanceof kr)return t.expr=t.expr.callFn(n.args),n.receiver;if(n instanceof Ur)return t.expr=t.expr.prop(n.name),n.receiver;if(n instanceof es)return t.expr=t.expr.key(n.index),n.receiver;if(n instanceof ec)return t.expr=Kc(t.expr,i=>i.callFn(n.args),e),n.receiver;if(n instanceof Ed)return t.expr=Kc(t.expr,i=>i.prop(n.name),e),n.receiver;if(n instanceof Id)return t.expr=Kc(t.expr,i=>i.key(n.index),e),n.receiver}else{if(n instanceof ec)return Kc(n.receiver,i=>i.callFn(n.args),e);if(n instanceof Ed)return Kc(n.receiver,i=>i.prop(n.name),e);if(n instanceof Id)return Kc(n.receiver,i=>i.key(n.index),e)}return n}function PJ(n){return n instanceof Td?new Jo(new Gt(Me.Equals,n.guard,Op),Op,n.expr):n}var OA="\uFFFD",LJ="#",RJ="*",BJ="/",FJ=":",OJ="[",NJ="]",VJ="|";function HJ(n){let e=new Map,t=new Map,i=new Map;for(let a of n.units)for(let o of a.create)switch(o.kind){case k.I18nContext:let s=WJ(n,o);a.create.push(s),e.set(o.xref,s),i.set(o.xref,o);break;case k.I18nStart:t.set(o.xref,o);break}let r=null;for(let a of n.units)for(let o of a.create)switch(o.kind){case k.IcuStart:r=o,ee.remove(o);let s=i.get(o.context);if(s.contextKind!==Fl.Icu)continue;let l=t.get(s.i18nBlock);if(l.context===s.xref)continue;let p=t.get(l.root),m=e.get(p.context);if(m===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let _=e.get(s.xref);_.messagePlaceholder=o.messagePlaceholder,m.subMessages.push(_.xref);break;case k.IcuEnd:r=null,ee.remove(o);break;case k.IcuPlaceholder:if(r===null||r.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(r.context).postprocessingParams.set(o.name,q(UJ(o))),ee.remove(o);break}}function WJ(n,e,t){let i=NA(e.params),r=NA(e.postprocessingParams),a=[...e.params.values()].some(o=>o.length>1);return zZ(n.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,i,r,a)}function UJ(n){if(n.strings.length!==n.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${n.strings.length} strings and ${n.expressionPlaceholders.length} expressions`);let e=n.expressionPlaceholders.map(od);return n.strings.flatMap((t,i)=>[t,e[i]||""]).join("")}function NA(n){let e=new Map;for(let[t,i]of n){let r=jJ(i);r!==null&&e.set(t,q(r))}return e}function jJ(n){if(n.length===0)return null;let e=n.map(t=>od(t));return e.length===1?e[0]:`${OJ}${e.join(VJ)}${NJ}`}function od(n){if(n.flags&wi.ElementTag&&n.flags&wi.TemplateTag){if(typeof n.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let r=od(Mt(z({},n),{value:n.value.element,flags:n.flags&~wi.TemplateTag})),a=od(Mt(z({},n),{value:n.value.template,flags:n.flags&~wi.ElementTag}));return n.flags&wi.OpenTag&&n.flags&wi.CloseTag?`${a}${r}${a}`:n.flags&wi.CloseTag?`${r}${a}`:`${a}${r}`}if(n.flags&wi.OpenTag&&n.flags&wi.CloseTag)return`${od(Mt(z({},n),{flags:n.flags&~wi.CloseTag}))}${od(Mt(z({},n),{flags:n.flags&~wi.OpenTag}))}`;if(n.flags===wi.None)return`${n.value}`;let e="",t="";n.flags&wi.ElementTag?e=LJ:n.flags&wi.TemplateTag&&(e=RJ),e!==""&&(t=n.flags&wi.CloseTag?BJ:"");let i=n.subTemplateIndex===null?"":`${FJ}${n.subTemplateIndex}`;return`${OA}${t}${e}${n.value}${i}${OA}`}function zJ(n){for(let e of n.units){let t=new Map;for(let r of e.create){if(Rd(r)){if(r.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;t.set(r.xref,r.handle.slot)}let i=0;for(let r of e.update){let a=null;if(rv(r)?a=r:cr(r,s=>{a===null&&rv(s)&&(a=s)}),a===null)continue;if(!t.has(a.target))throw new Error(`AssertionError: reference to unknown slot for target ${a.target}`);let o=t.get(a.target);if(i!==o){let s=o-i;if(s<0)throw new Error("AssertionError: slot counter should never need to move backwards");ee.insertBefore(DZ(s,a.sourceSpan),r),i=o}}}}function qJ(n){let e=n.compatibility===jr.TemplateDefinitionBuilder,t=[],i=0;for(let r of n.units)for(let a of r.create)a.kind===k.Projection&&(t.push(a.selector),a.projectionSlotIndex=i++);if(t.length>0){let r=null;if(t.length>1||t[0]!=="*"){let a=t.map(o=>o==="*"?o:jw(o));r=n.pool.getConstLiteral(Dd(a),e)}n.contentSelectors=n.pool.getConstLiteral(Dd(t),e),n.root.create.prepend([HZ(r)])}}function $J(n){bp(n.root,null)}function bp(n,e){let t=QJ(n,e);for(let i of n.create)switch(i.kind){case k.Template:bp(n.job.views.get(i.xref),t);break;case k.Projection:i.fallbackView!==null&&bp(n.job.views.get(i.fallbackView),t);break;case k.RepeaterCreate:bp(n.job.views.get(i.xref),t),i.emptyView&&bp(n.job.views.get(i.emptyView),t),i.trackByOps!==null&&i.trackByOps.prepend(hg(n,t,!1));break;case k.Listener:case k.TwoWayListener:i.handlerOps.prepend(hg(n,t,!0));break}n.update.prepend(hg(n,t,!1))}function QJ(n,e){let t={view:n.xref,viewContextVariable:{kind:Pn.Context,name:null,view:n.xref},contextVariables:new Map,aliases:n.aliases,references:[],letDeclarations:[],parent:e};for(let i of n.contextVariables.keys())t.contextVariables.set(i,{kind:Pn.Identifier,name:null,identifier:i,local:!1});for(let i of n.create)switch(i.kind){case k.ElementStart:case k.Template:if(!Array.isArray(i.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let r=0;r<i.localRefs.length;r++)t.references.push({name:i.localRefs[r].name,targetId:i.xref,targetSlot:i.handle,offset:r,variable:{kind:Pn.Identifier,name:null,identifier:i.localRefs[r].name,local:!1}});break;case k.DeclareLet:t.letDeclarations.push({targetId:i.xref,targetSlot:i.handle,variable:{kind:Pn.Identifier,name:null,identifier:i.declaredName,local:!1}});break}return t}function hg(n,e,t){let i=[];e.view!==n.xref&&i.push(Ws(n.job.allocateXrefId(),e.viewContextVariable,new ov,ca.None));let r=n.job.views.get(e.view);for(let[a,o]of r.contextVariables){let s=new ts(e.view),l=o===xk?s:new Ur(s,o);i.push(Ws(n.job.allocateXrefId(),e.contextVariables.get(a),l,ca.None))}for(let a of r.aliases)i.push(Ws(n.job.allocateXrefId(),a,a.expression.clone(),ca.AlwaysInline));for(let a of e.references)i.push(Ws(n.job.allocateXrefId(),a.variable,new av(a.targetId,a.targetSlot,a.offset),ca.None));if(e.view!==n.xref||t)for(let a of e.letDeclarations)i.push(Ws(n.job.allocateXrefId(),a.variable,new lm(a.targetId,a.targetSlot),ca.None));return e.parent!==null&&i.push(...hg(n,e.parent,!1)),i}function GJ(n){for(let e of n.units)for(let t of e.ops())yn(t,i=>i instanceof dm?q(n.addConst(i.expr)):i,ti.None)}var VA="style.",HA="class.",YJ="style!",WA="class!",UA="!important";function KJ(n){for(let e of n.root.update)if(e.kind===k.Binding&&e.bindingKind===Re.Property)if(e.name.endsWith(UA)&&(e.name=e.name.substring(0,e.name.length-UA.length)),e.name.startsWith(VA)){e.bindingKind=Re.StyleProperty,e.name=e.name.substring(VA.length),XJ(e.name)||(e.name=ZJ(e.name));let{property:t,suffix:i}=r2(e.name);e.name=t,e.unit=i}else e.name.startsWith(YJ)?(e.bindingKind=Re.StyleProperty,e.name="style"):e.name.startsWith(HA)?(e.bindingKind=Re.ClassName,e.name=r2(e.name.substring(HA.length)).property):e.name.startsWith(WA)&&(e.bindingKind=Re.ClassName,e.name=r2(e.name.substring(WA.length)).property)}function XJ(n){return n.startsWith("--")}function ZJ(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function r2(n){let e=n.indexOf("!important");e!==-1&&(n=e>0?n.substring(0,e):"");let t=null,i=n,r=n.lastIndexOf(".");return r>0&&(t=n.slice(r+1),i=n.substring(0,r)),{property:i,suffix:t}}function nw(n,e=!1){return hr(Object.keys(n).map(t=>({key:t,quoted:e,value:n[t]})))}var rw=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}formatPh(e){return`{${Sm(e,!1)}}`}},JJ=new rw;function Tk(n){return n.visit(JJ)}var Xs=class{sourceSpan;i18n;constructor(e,t){this.sourceSpan=e,this.i18n=t}},tc=class extends Xs{value;tokens;constructor(e,t,i,r){super(t,r),this.value=e,this.tokens=i}visit(e,t){return e.visitText(this,t)}},Hl=class extends Xs{switchValue;type;cases;switchValueSourceSpan;constructor(e,t,i,r,a,o){super(r,o),this.switchValue=e,this.type=t,this.cases=i,this.switchValueSourceSpan=a}visit(e,t){return e.visitExpansion(this,t)}},gv=class{value;expression;sourceSpan;valueSourceSpan;expSourceSpan;constructor(e,t,i,r,a){this.value=e,this.expression=t,this.sourceSpan=i,this.valueSourceSpan=r,this.expSourceSpan=a}visit(e,t){return e.visitExpansionCase(this,t)}},aw=class extends Xs{name;value;keySpan;valueSpan;valueTokens;constructor(e,t,i,r,a,o,s){super(i,s),this.name=e,this.value=t,this.keySpan=r,this.valueSpan=a,this.valueTokens=o}visit(e,t){return e.visitAttribute(this,t)}},aa=class extends Xs{name;attrs;children;startSourceSpan;endSourceSpan;constructor(e,t,i,r,a,o=null,s){super(r,s),this.name=e,this.attrs=t,this.children=i,this.startSourceSpan=a,this.endSourceSpan=o}visit(e,t){return e.visitElement(this,t)}},pm=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}},sa=class extends Xs{name;parameters;children;nameSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,a,o,s=null,l){super(r,l),this.name=e,this.parameters=t,this.children=i,this.nameSpan=a,this.startSourceSpan=o,this.endSourceSpan=s}visit(e,t){return e.visitBlock(this,t)}},vv=class{expression;sourceSpan;constructor(e,t){this.expression=e,this.sourceSpan=t}visit(e,t){return e.visitBlockParameter(this,t)}},_v=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,i,r,a){this.name=e,this.value=t,this.sourceSpan=i,this.nameSpan=r,this.valueSpan=a}visit(e,t){return e.visitLetDeclaration(this,t)}};function rn(n,e,t=null){let i=[],r=n.visit?a=>n.visit(a,t)||a.visit(n,t):a=>a.visit(n,t);return e.forEach(a=>{let o=r(a);o&&i.push(o)}),i}var mm={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},Dk="\uE500";mm.ngsp=Dk;var Tp=class extends yt{tokenType;constructor(e,t,i){super(i,e),this.tokenType=t}},ow=class{tokens;errors;nonNormalizedIcuExpressions;constructor(e,t,i){this.tokens=e,this.errors=t,this.nonNormalizedIcuExpressions=i}};function eee(n,e,t,i={}){let r=new lw(new tv(n,e),t,i);return r.tokenize(),new ow(cee(r.tokens),r.errors,r.nonNormalizedIcuExpressions)}var tee=/\r\n?/g;function fp(n){return`Unexpected character "${n===Un?"EOF":String.fromCharCode(n)}"`}function jA(n){return`Unknown entity "${n}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function iee(n,e){return`Unable to parse entity "${e}" - ${n} character reference entities must end with ";"`}var sw=function(n){return n.HEX="hexadecimal",n.DEC="decimal",n}(sw||{}),Dp=class{error;constructor(e){this.error=e}},lw=class{_getTagDefinition;_cursor;_tokenizeIcu;_interpolationConfig;_leadingTriviaCodePoints;_currentTokenStart=null;_currentTokenType=null;_expansionCaseStack=[];_inInterpolation=!1;_preserveLineEndings;_i18nNormalizeLineEndingsInICUs;_tokenizeBlocks;_tokenizeLet;tokens=[];errors=[];nonNormalizedIcuExpressions=[];constructor(e,t,i){this._getTagDefinition=t,this._tokenizeIcu=i.tokenizeExpansionForms||!1,this._interpolationConfig=i.interpolationConfig||ho,this._leadingTriviaCodePoints=i.leadingTriviaChars&&i.leadingTriviaChars.map(a=>a.codePointAt(0)||0);let r=i.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=i.escapedString?new cw(e,r):new yv(e,r),this._preserveLineEndings=i.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=i.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=i.tokenizeBlocks??!0,this._tokenizeLet=i.tokenizeLet??!0;try{this._cursor.init()}catch(a){this.handleError(a)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(tee,`
`)}tokenize(){for(;this._cursor.peek()!==Un;){let e=this._cursor.clone();try{this._attemptCharCode(nd)?this._attemptCharCode(U2)?this._attemptCharCode(cd)?this._consumeCdata(e):this._attemptCharCode(ev)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(Qo)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===Xb&&!this._inInterpolation&&this._attemptStr("@let")?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._attemptCharCode(Xb)?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(Ar)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(t){this.handleError(t)}}this._beginToken(33),this._endToken([])}_getBlockName(){let e=!1,t=this._cursor.clone();return this._attemptCharCodeUntilFn(i=>im(i)?!e:lee(i)?(e=!0,!1):!0),this._cursor.getChars(t).trim()}_consumeBlockStart(e){this._beginToken(24,e);let t=this._endToken([this._getBlockName()]);if(this._cursor.peek()===Xo)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(In),this._attemptCharCode(Ra))this._attemptCharCodeUntilFn(In);else{t.type=28;return}this._attemptCharCode(La)?(this._beginToken(25),this._endToken([])):t.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn($A);this._cursor.peek()!==Ra&&this._cursor.peek()!==Un;){this._beginToken(27);let e=this._cursor.clone(),t=null,i=0;for(;this._cursor.peek()!==Fr&&this._cursor.peek()!==Un||t!==null;){let r=this._cursor.peek();if(r===dd)this._cursor.advance();else if(r===t)t=null;else if(t===null&&Ep(r))t=r;else if(r===Xo&&t===null)i++;else if(r===Ra&&t===null){if(i===0)break;i>0&&i--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn($A)}}_consumeLetDeclaration(e){if(this._beginToken(29,e),im(this._cursor.peek()))this._attemptCharCodeUntilFn(In);else{let r=this._endToken([this._cursor.getChars(e)]);r.type=32;return}let t=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(In),!this._attemptCharCode(Bl)){t.type=32;return}this._attemptCharCodeUntilFn(r=>In(r)&&!iS(r)),this._consumeLetDeclarationValue(),this._cursor.peek()===Fr?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(t.type=32,t.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),t=!1;return this._attemptCharCodeUntilFn(i=>nm(i)||i===Fv||i===Cm||t&&po(i)?(t=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==Un;){let t=this._cursor.peek();if(t===Fr)break;Ep(t)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(i=>i===dd?(this._cursor.advance(),!1):i===t)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(oee(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===Ar){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t){if(this._currentTokenStart===null)throw new Tp("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(this._currentTokenType===null)throw new Tp("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));let i={type:this._currentTokenType,parts:e,sourceSpan:(t??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(i),this._currentTokenStart=null,this._currentTokenType=null,i}_createError(e,t){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let i=new Tp(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new Dp(i)}handleError(e){if(e instanceof hm&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof Dp)this.errors.push(e.error);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return see(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(fp(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){let t=e.length;if(this._cursor.charsLeft()<t)return!1;let i=this._cursor.clone();for(let r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=i,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){let t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(fp(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){let i=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(i)<t)throw this._createError(fp(this._cursor.peek()),this._cursor.getSpan(i))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_consumeEntity(e){this._beginToken(9);let t=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(ek)){let i=this._attemptCharCode(lk)||this._attemptCharCode(DX),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(ree),this._cursor.peek()!=Fr){this._cursor.advance();let o=i?sw.HEX:sw.DEC;throw this._createError(iee(o,this._cursor.getChars(t)),this._cursor.getSpan())}let a=this._cursor.getChars(r);this._cursor.advance();try{let o=parseInt(a,i?16:10);this._endToken([String.fromCharCode(o),this._cursor.getChars(t)])}catch{throw this._createError(jA(this._cursor.getChars(t)),this._cursor.getSpan())}}else{let i=this._cursor.clone();if(this._attemptCharCodeUntilFn(aee),this._cursor.peek()!=Fr)this._beginToken(e,t),this._cursor=i,this._endToken(["&"]);else{let r=this._cursor.getChars(i);this._cursor.advance();let a=mm.hasOwnProperty(r)&&mm[r];if(!a)throw this._createError(jA(r),this._cursor.getSpan(t));this._endToken([a,`&${r};`])}}}_consumeRawText(e,t){this._beginToken(e?6:7);let i=[];for(;;){let r=this._cursor.clone(),a=t();if(this._cursor=r,a)break;e&&this._cursor.peek()===Jg?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(6),this._beginToken(6)):i.push(this._readChar())}this._endToken([this._processCarriageReturns(i.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(ev),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let t=this._cursor.clone();this._attemptUntilChar(Os);let i=this._cursor.getChars(t);this._cursor.advance(),this._endToken([i])}_consumePrefixAndName(){let e=this._cursor.clone(),t="";for(;this._cursor.peek()!==Hs&&!nee(this._cursor.peek());)this._cursor.advance();let i;this._cursor.peek()===Hs?(t=this._cursor.getChars(e),this._cursor.advance(),i=this._cursor.clone()):i=e,this._requireCharCodeUntilFn(zA,t===""?0:1);let r=this._cursor.getChars(i);return[t,r]}_consumeTagOpen(e){let t,i,r;try{if(!nm(this._cursor.peek()))throw this._createError(fp(this._cursor.peek()),this._cursor.getSpan(e));for(r=this._consumeTagOpenStart(e),i=r.parts[0],t=r.parts[1],this._attemptCharCodeUntilFn(In);this._cursor.peek()!==Qo&&this._cursor.peek()!==Os&&this._cursor.peek()!==nd&&this._cursor.peek()!==Un;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(In),this._attemptCharCode(Bl)&&(this._attemptCharCodeUntilFn(In),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(In);this._consumeTagOpenEnd()}catch(o){if(o instanceof Dp){r?r.type=4:(this._beginToken(5,e),this._endToken(["<"]));return}throw o}let a=this._getTagDefinition(t).getContentType(i);a===mo.RAW_TEXT?this._consumeRawTextWithTagClose(i,t,!1):a===mo.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(i,t,!0)}_consumeRawTextWithTagClose(e,t,i){this._consumeRawText(i,()=>!this._attemptCharCode(nd)||!this._attemptCharCode(Qo)||(this._attemptCharCodeUntilFn(In),!this._attemptStrCaseInsensitive(t))?!1:(this._attemptCharCodeUntilFn(In),this._attemptCharCode(Os))),this._beginToken(3),this._requireCharCodeUntilFn(r=>r===Os,3),this._cursor.advance(),this._endToken([e,t])}_consumeTagOpenStart(e){this._beginToken(0,e);let t=this._consumePrefixAndName();return this._endToken(t)}_consumeAttributeName(){let e=this._cursor.peek();if(e===tm||e===em)throw this._createError(fp(e),this._cursor.getSpan());this._beginToken(14);let t=this._consumePrefixAndName();this._endToken(t)}_consumeAttributeValue(){if(this._cursor.peek()===tm||this._cursor.peek()===em){let e=this._cursor.peek();this._consumeQuote(e);let t=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,t,t),this._consumeQuote(e)}else{let e=()=>zA(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(Qo)?2:1;this._beginToken(e),this._requireCharCode(Os),this._endToken([])}_consumeTagClose(e){this._beginToken(3,e),this._attemptCharCodeUntilFn(In);let t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(In),this._requireCharCode(Os),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(La),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(pa),t=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{let r=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(r)}this._requireCharCode(pa),this._attemptCharCodeUntilFn(In),this._beginToken(7);let i=this._readUntil(pa);this._endToken([i]),this._requireCharCode(pa),this._attemptCharCodeUntilFn(In)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(La).trim();this._endToken([e]),this._attemptCharCodeUntilFn(In),this._beginToken(21),this._requireCharCode(La),this._endToken([]),this._attemptCharCodeUntilFn(In),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(Ar),this._endToken([]),this._attemptCharCodeUntilFn(In),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(Ar),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,t,i,r){this._beginToken(e);let a=[];for(;!i();){let o=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(a.join(""))],o),a.length=0,this._consumeInterpolation(t,o,r),this._beginToken(e)):this._cursor.peek()===Jg?(this._endToken([this._processCarriageReturns(a.join(""))]),a.length=0,this._consumeEntity(e),this._beginToken(e)):a.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(a.join(""))])}_consumeInterpolation(e,t,i){let r=[];this._beginToken(e,t),r.push(this._interpolationConfig.start);let a=this._cursor.clone(),o=null,s=!1;for(;this._cursor.peek()!==Un&&(i===null||!i());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,r.push(this._getProcessedChars(a,l)),this._endToken(r);return}if(o===null)if(this._attemptStr(this._interpolationConfig.end)){r.push(this._getProcessedChars(a,l)),r.push(this._interpolationConfig.end),this._endToken(r);return}else this._attemptStr("//")&&(s=!0);let p=this._cursor.peek();this._cursor.advance(),p===dd?this._cursor.advance():p===o?o=null:!s&&o===null&&Ep(p)&&(o=p)}r.push(this._getProcessedChars(a,this._cursor)),this._endToken(r)}_getProcessedChars(e,t){return this._processCarriageReturns(t.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===Un||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===Ar&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._cursor.peek()===Xb||this._cursor.peek()===Ar))}_isTagStart(){if(this._cursor.peek()===nd){let e=this._cursor.clone();e.advance();let t=e.peek();if(Xl<=t&&t<=xm||kd<=t&&t<=Ov||t===Qo||t===U2)return!0}return!1}_readUntil(e){let t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==La)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}};function In(n){return!im(n)||n===Un}function zA(n){return im(n)||n===Os||n===nd||n===Qo||n===tm||n===em||n===Bl||n===Un}function nee(n){return(n<Xl||xm<n)&&(n<kd||Ov<n)&&(n<eS||n>ik)}function ree(n){return n===Fr||n===Un||!PX(n)}function aee(n){return n===Fr||n===Un||!nm(n)}function oee(n){return n!==Ar}function see(n,e){return qA(n)===qA(e)}function qA(n){return n>=Xl&&n<=xm?n-Xl+kd:n}function lee(n){return nm(n)||po(n)||n===Cm}function $A(n){return n!==Fr&&In(n)}function cee(n){let e=[],t;for(let i=0;i<n.length;i++){let r=n[i];t&&t.type===5&&r.type===5||t&&t.type===16&&r.type===16?(t.parts[0]+=r.parts[0],t.sourceSpan.end=r.sourceSpan.end):(t=r,e.push(t))}return e}var yv=class n{state;file;input;end;constructor(e,t){if(e instanceof n){this.file=e.file,this.input=e.input,this.end=e.end;let i=e.state;this.state={peek:i.peek,offset:i.offset,line:i.line,column:i.column}}else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}clone(){return new n(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,t){e=e||this;let i=e;if(t)for(;this.diff(e)>0&&t.indexOf(e.peek())!==-1;)i===e&&(e=e.clone()),e.advance();let r=this.locationFromCursor(e),a=this.locationFromCursor(this),o=i!==e?this.locationFromCursor(i):r;return new xt(r,a,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new hm('Unexpected character "EOF"',this);let t=this.charAt(e.offset);t===Vl?(e.line++,e.column=0):iS(t)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?Un:this.charAt(e.offset)}locationFromCursor(e){return new rm(e.file,e.state.offset,e.state.line,e.state.column)}},cw=class n extends yv{internalState;constructor(e,t){e instanceof n?(super(e),this.internalState=z({},e.internalState)):(super(e,t),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new n(this)}getChars(e){let t=e.clone(),i="";for(;t.internalState.offset<this.internalState.offset;)i+=String.fromCodePoint(t.peek()),t.advance();return i}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===dd)if(this.internalState=z({},this.state),this.advanceState(this.internalState),e()===nk)this.state.peek=Vl;else if(e()===rk)this.state.peek=Jw;else if(e()===sk)this.state.peek=XM;else if(e()===ak)this.state.peek=Zw;else if(e()===MX)this.state.peek=SX;else if(e()===tS)this.state.peek=ZM;else if(e()===ok)if(this.advanceState(this.internalState),e()===La){this.advanceState(this.internalState);let t=this.clone(),i=0;for(;e()!==Ar;)this.advanceState(this.internalState),i++;this.state.peek=this.decodeHexDigits(t,i)}else{let t=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,4)}else if(e()===lk){this.advanceState(this.internalState);let t=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,2)}else if(IA(e())){let t="",i=0,r=this.clone();for(;IA(e())&&i<3;)r=this.clone(),t+=String.fromCodePoint(e()),this.advanceState(this.internalState),i++;this.state.peek=parseInt(t,8),this.internalState=r.internalState}else iS(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,t){let i=this.input.slice(e.internalState.offset,e.internalState.offset+t),r=parseInt(i,16);if(isNaN(r))throw e.state=e.internalState,new hm("Invalid hexadecimal escape sequence",e);return r}},hm=class{msg;cursor;constructor(e,t){this.msg=e,this.cursor=t}},Wn=class n extends yt{elementName;static create(e,t,i){return new n(e,t,i)}constructor(e,t,i){super(t,i),this.elementName=e}},bv=class{rootNodes;errors;constructor(e,t){this.rootNodes=e,this.errors=t}},dee=class{getTagDefinition;constructor(e){this.getTagDefinition=e}parse(e,t,i){let r=eee(e,t,this.getTagDefinition,i),a=new dw(r.tokens,this.getTagDefinition);return a.build(),new bv(a.rootNodes,r.errors.concat(a.errors))}},dw=class n{tokens;getTagDefinition;_index=-1;_peek;_containerStack=[];rootNodes=[];errors=[];constructor(e,t){this.tokens=e,this.getTagDefinition=t,this._advance()}build(){for(;this._peek.type!==33;)this._peek.type===0||this._peek.type===4?this._consumeStartTag(this._advance()):this._peek.type===3?this._consumeEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._advance();for(let e of this._containerStack)e instanceof sa&&this.errors.push(Wn.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let t=this._advanceIf(7),i=this._advanceIf(11),r=t!=null?t.parts[0].trim():null,a=i==null?e.sourceSpan:new xt(e.sourceSpan.start,i.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new pm(r,a))}_consumeExpansion(e){let t=this._advance(),i=this._advance(),r=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;r.push(o)}if(this._peek.type!==23){this.errors.push(Wn.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let a=new xt(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Hl(t.parts[0],i.parts[0],r,a,t.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(Wn.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let t=this._advance(),i=this._collectExpansionExpTokens(t);if(!i)return null;let r=this._advance();i.push({type:33,parts:[],sourceSpan:r.sourceSpan});let a=new n(i,this.getTagDefinition);if(a.build(),a.errors.length>0)return this.errors=this.errors.concat(a.errors),null;let o=new xt(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart),s=new xt(t.sourceSpan.start,r.sourceSpan.end,t.sourceSpan.fullStart);return new gv(e.parts[0],a.rootNodes,o,e.sourceSpan,s)}_collectExpansionExpTokens(e){let t=[],i=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&i.push(this._peek.type),this._peek.type===22)if(QA(i,21)){if(i.pop(),i.length===0)return t}else return this.errors.push(Wn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(QA(i,19))i.pop();else return this.errors.push(Wn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===33)return this.errors.push(Wn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){let t=[e],i=e.sourceSpan,r=e.parts[0];if(r.length>0&&r[0]===`
`){let a=this._getContainer();a!=null&&a.children.length===0&&this.getTagDefinition(a.name).ignoreFirstLf&&(r=r.substring(1),t[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[r]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),t.push(e),e.type===8?r+=e.parts.join("").replace(/&([^;]+);/g,GA):e.type===9?r+=e.parts[0]:r+=e.parts.join("");if(r.length>0){let a=e.sourceSpan;this._addToParent(new tc(r,new xt(i.start,a.end,i.fullStart,i.details),t))}}_closeVoidElement(){let e=this._getContainer();e instanceof aa&&this.getTagDefinition(e.name).isVoid&&this._containerStack.pop()}_consumeStartTag(e){let[t,i]=e.parts,r=[];for(;this._peek.type===14;)r.push(this._consumeAttr(this._advance()));let a=this._getElementFullName(t,i,this._getClosestParentElement()),o=!1;if(this._peek.type===2){this._advance(),o=!0;let S=this.getTagDefinition(a);S.canSelfClose||k2(a)!==null||S.isVoid||this.errors.push(Wn.create(a,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===1&&(this._advance(),o=!1);let s=this._peek.sourceSpan.fullStart,l=new xt(e.sourceSpan.start,s,e.sourceSpan.fullStart),p=new xt(e.sourceSpan.start,s,e.sourceSpan.fullStart),m=new aa(a,r,[],l,p,void 0),_=this._getContainer();this._pushContainer(m,_ instanceof aa&&this.getTagDefinition(_.name).isClosedByChild(m.name)),o?this._popContainer(a,aa,l):e.type===4&&(this._popContainer(a,aa,null),this.errors.push(Wn.create(a,l,`Opening tag "${a}" not terminated.`)))}_pushContainer(e,t){t&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeEndTag(e){let t=this._getElementFullName(e.parts[0],e.parts[1],this._getClosestParentElement());if(this.getTagDefinition(t).isVoid)this.errors.push(Wn.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(t,aa,e.sourceSpan)){let i=`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(Wn.create(t,e.sourceSpan,i))}}_popContainer(e,t,i){let r=!1;for(let a=this._containerStack.length-1;a>=0;a--){let o=this._containerStack[a];if((o.name===e||e===null)&&o instanceof t)return o.endSourceSpan=i,o.sourceSpan.end=i!==null?i.end:o.sourceSpan.end,this._containerStack.splice(a,this._containerStack.length-a),!r;(o instanceof sa||o instanceof aa&&!this.getTagDefinition(o.name).closedByParent)&&(r=!0)}return!1}_consumeAttr(e){let t=P2(e.parts[0],e.parts[1]),i=e.sourceSpan.end;this._peek.type===15&&this._advance();let r="",a=[],o,s;if(this._peek.type===16)for(o=this._peek.sourceSpan,s=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let m=this._advance();a.push(m),m.type===17?r+=m.parts.join("").replace(/&([^;]+);/g,GA):m.type===9?r+=m.parts[0]:r+=m.parts.join(""),s=i=m.sourceSpan.end}this._peek.type===15&&(i=this._advance().sourceSpan.end);let p=o&&s&&new xt(o.start,s,o.fullStart);return new aw(t,r,new xt(e.sourceSpan.start,i,e.sourceSpan.fullStart),e.sourceSpan,p,a.length>0?a:void 0,void 0)}_consumeBlockOpen(e){let t=[];for(;this._peek.type===27;){let s=this._advance();t.push(new vv(s.parts[0],s.sourceSpan))}this._peek.type===25&&this._advance();let i=this._peek.sourceSpan.fullStart,r=new xt(e.sourceSpan.start,i,e.sourceSpan.fullStart),a=new xt(e.sourceSpan.start,i,e.sourceSpan.fullStart),o=new sa(e.parts[0],t,[],r,e.sourceSpan,a);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,sa,e.sourceSpan)||this.errors.push(Wn.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let t=[];for(;this._peek.type===27;){let s=this._advance();t.push(new vv(s.parts[0],s.sourceSpan))}let i=this._peek.sourceSpan.fullStart,r=new xt(e.sourceSpan.start,i,e.sourceSpan.fullStart),a=new xt(e.sourceSpan.start,i,e.sourceSpan.fullStart),o=new sa(e.parts[0],t,[],r,e.sourceSpan,a);this._pushContainer(o,!1),this._popContainer(null,sa,null),this.errors.push(Wn.create(e.parts[0],r,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let t=e.parts[0],i,r;if(this._peek.type!==30){this.errors.push(Wn.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${t}". Declaration must have a value.`));return}else i=this._advance();if(this._peek.type!==31){this.errors.push(Wn.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${t}". Declaration must be terminated with a semicolon.`));return}else r=this._advance();let a=r.sourceSpan.fullStart,o=new xt(e.sourceSpan.start,a,e.sourceSpan.fullStart),s=e.sourceSpan.toString().lastIndexOf(t),l=e.sourceSpan.start.moveBy(s),p=new xt(l,e.sourceSpan.end),m=new _v(t,i.parts[0],o,p,i.sourceSpan);this._addToParent(m)}_consumeIncompleteLet(e){let t=e.parts[0]??"",i=t?` "${t}"`:"";if(t.length>0){let r=e.sourceSpan.toString().lastIndexOf(t),a=e.sourceSpan.start.moveBy(r),o=new xt(a,e.sourceSpan.end),s=new xt(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),l=new _v(t,"",e.sourceSpan,o,s);this._addToParent(l)}this.errors.push(Wn.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${i}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestParentElement(){for(let e=this._containerStack.length-1;e>-1;e--)if(this._containerStack[e]instanceof aa)return this._containerStack[e];return null}_addToParent(e){let t=this._getContainer();t===null?this.rootNodes.push(e):t.children.push(e)}_getElementFullName(e,t,i){if(e===""&&(e=this.getTagDefinition(t).implicitNamespacePrefix||"",e===""&&i!=null)){let r=Oa(i.name)[1];this.getTagDefinition(r).preventNamespaceInheritance||(e=k2(i.name))}return P2(e,t)}};function QA(n,e){return n.length>0&&n[n.length-1]===e}function GA(n,e){return mm[e]!==void 0?mm[e]||n:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):n}var Ak="ngPreserveWhitespaces",uee=new Set(["pre","template","textarea","script","style"]),Mk=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,pee=new RegExp(`[^${Mk}]`),mee=new RegExp(`[${Mk}]{2,}`,"g");function hee(n){return n.some(e=>e.name===Ak)}function kk(n){return n.replace(new RegExp(Dk,"g")," ")}var wv=class{preserveSignificantWhitespace;originalNodeMap;requireContext;icuExpansionDepth=0;constructor(e,t,i=!0){this.preserveSignificantWhitespace=e,this.originalNodeMap=t,this.requireContext=i}visitElement(e,t){if(uee.has(e.name)||hee(e.attrs)){let r=new aa(e.name,td(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(r,e),r}let i=new aa(e.name,e.attrs,td(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(i,e),i}visitAttribute(e,t){return e.name!==Ak?e:null}visitText(e,t){let i=e.value.match(pee),r=t&&(t.prev instanceof Hl||t.next instanceof Hl);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(i||r){let o=e.tokens.map(m=>m.type===5?_ee(m):m);if(!this.preserveSignificantWhitespace&&o.length>0){let m=o[0];o.splice(0,1,fee(m,t));let _=o[o.length-1];o.splice(o.length-1,1,gee(_,t))}let s=Lk(e.value),l=this.preserveSignificantWhitespace?s:vee(s,t),p=new tc(l,e.sourceSpan,o,e.i18n);return this.originalNodeMap?.set(p,e),p}return null}visitComment(e,t){return e}visitExpansion(e,t){this.icuExpansionDepth++;let i;try{i=new Hl(e.switchValue,e.type,td(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return this.originalNodeMap?.set(i,e),i}visitExpansionCase(e,t){let i=new gv(e.value,td(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return this.originalNodeMap?.set(i,e),i}visitBlock(e,t){let i=new sa(e.name,e.parameters,td(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return this.originalNodeMap?.set(i,e),i}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}visit(e,t){if(this.requireContext&&!t)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function fee(n,e){return n.type!==5||!!e?.prev?n:Pk(n,i=>i.trimStart())}function gee(n,e){return n.type!==5||!!e?.next?n:Pk(n,i=>i.trimEnd())}function vee(n,e){let t=!e?.prev,i=!e?.next,r=t?n.trimStart():n;return i?r.trimEnd():r}function _ee({type:n,parts:e,sourceSpan:t}){return{type:n,parts:[Lk(e[0])],sourceSpan:t}}function Pk({type:n,parts:e,sourceSpan:t},i){return{type:n,parts:[i(e[0])],sourceSpan:t}}function Lk(n){return kk(n).replace(mee," ")}function td(n,e){let t=[];return e.forEach((i,r)=>{let a={prev:e[r-1],next:e[r+1]},o=i.visit(n,a);o&&t.push(o)}),t}var Ot=function(n){return n[n.Character=0]="Character",n[n.Identifier=1]="Identifier",n[n.PrivateIdentifier=2]="PrivateIdentifier",n[n.Keyword=3]="Keyword",n[n.String=4]="String",n[n.Operator=5]="Operator",n[n.Number=6]="Number",n[n.Error=7]="Error",n}(Ot||{}),Wl=function(n){return n[n.Plain=0]="Plain",n[n.TemplateLiteralPart=1]="TemplateLiteralPart",n[n.TemplateLiteralEnd=2]="TemplateLiteralEnd",n}(Wl||{}),yee=["var","let","as","null","undefined","true","false","if","else","this","typeof"],fm=class{tokenize(e){return new uw(e).scan()}},Ha=class{index;end;type;numValue;strValue;constructor(e,t,i,r,a){this.index=e,this.end=t,this.type=i,this.numValue=r,this.strValue=a}isCharacter(e){return this.type===Ot.Character&&this.numValue===e}isNumber(){return this.type===Ot.Number}isString(){return this.type===Ot.String}isOperator(e){return this.type===Ot.Operator&&this.strValue===e}isIdentifier(){return this.type===Ot.Identifier}isPrivateIdentifier(){return this.type===Ot.PrivateIdentifier}isKeyword(){return this.type===Ot.Keyword}isKeywordLet(){return this.type===Ot.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===Ot.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===Ot.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===Ot.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===Ot.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===Ot.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===Ot.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===Ot.Keyword&&this.strValue==="typeof"}isError(){return this.type===Ot.Error}toNumber(){return this.type===Ot.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===Wl.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===Wl.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}isTemplateLiteralInterpolationEnd(){return this.isOperator("}")}toString(){switch(this.type){case Ot.Character:case Ot.Identifier:case Ot.Keyword:case Ot.Operator:case Ot.PrivateIdentifier:case Ot.String:case Ot.Error:return this.strValue;case Ot.Number:return this.numValue.toString();default:return null}}},Ap=class extends Ha{kind;constructor(e,t,i,r){super(e,t,Ot.String,0,i),this.kind=r}};function og(n,e,t){return new Ha(n,e,Ot.Character,t,String.fromCharCode(t))}function bee(n,e,t){return new Ha(n,e,Ot.Identifier,0,t)}function wee(n,e,t){return new Ha(n,e,Ot.PrivateIdentifier,0,t)}function See(n,e,t){return new Ha(n,e,Ot.Keyword,0,t)}function gp(n,e,t){return new Ha(n,e,Ot.Operator,0,t)}function Cee(n,e,t){return new Ha(n,e,Ot.Number,t,"")}function xee(n,e,t){return new Ha(n,e,Ot.Error,0,t)}var sg=new Ha(-1,-1,Ot.Character,0,""),uw=class{input;tokens=[];length;peek=0;index=-1;braceStack=[];constructor(e){this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?Un:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,t=this.length,i=this.peek,r=this.index;for(;i<=JM;)if(++r>=t){i=Un;break}else i=e.charCodeAt(r);if(this.peek=i,this.index=r,r>=t)return null;if(YA(i))return this.scanIdentifier();if(po(i))return this.scanNumber(r);let a=r;switch(i){case Jc:return this.advance(),po(this.peek)?this.scanNumber(a):og(a,this.index,Jc);case Xo:case Ra:case cd:case rd:case pa:case Hs:case Fr:return this.scanCharacter(a,i);case La:return this.scanOpenBrace(a,i);case Ar:return this.scanCloseBrace(a,i);case tm:case em:return this.scanString();case j2:return this.advance(),this.scanTemplateLiteralPart(a);case ek:return this.scanPrivateIdentifier();case tk:case ev:case xX:case Qo:case CX:case AX:return this.scanOperator(a,String.fromCharCode(i));case xA:return this.scanQuestion(a);case nd:case Os:return this.scanComplexOperator(a,String.fromCharCode(i),Bl,"=");case U2:case Bl:return this.scanComplexOperator(a,String.fromCharCode(i),Bl,"=",Bl,"=");case Jg:return this.scanComplexOperator(a,"&",Jg,"&");case EA:return this.scanComplexOperator(a,"|",EA,"|");case ck:for(;im(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(i)}]`,0)}scanCharacter(e,t){return this.advance(),og(e,this.index,t)}scanOperator(e,t){return this.advance(),gp(e,this.index,t)}scanOpenBrace(e,t){return this.braceStack.push("expression"),this.advance(),og(e,this.index,t)}scanCloseBrace(e,t){return this.advance(),this.braceStack.pop()==="interpolation"?(this.tokens.push(gp(e,this.index,"}")),this.scanTemplateLiteralPart(this.index)):og(e,this.index,t)}scanComplexOperator(e,t,i,r,a,o){this.advance();let s=t;return this.peek==i&&(this.advance(),s+=r),a!=null&&this.peek==a&&(this.advance(),s+=o),gp(e,this.index,s)}scanIdentifier(){let e=this.index;for(this.advance();KA(this.peek);)this.advance();let t=this.input.substring(e,this.index);return yee.indexOf(t)>-1?See(e,this.index,t):bee(e,this.index,t)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!YA(this.peek))return this.error("Invalid character [#]",-1);for(;KA(this.peek);)this.advance();let t=this.input.substring(e,this.index);return wee(e,this.index,t)}scanNumber(e){let t=this.index===e,i=!1;for(this.advance();;){if(!po(this.peek))if(this.peek===Cm){if(!po(this.input.charCodeAt(this.index-1))||!po(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);i=!0}else if(this.peek===Jc)t=!1;else if(Eee(this.peek)){if(this.advance(),Iee(this.peek)&&this.advance(),!po(this.peek))return this.error("Invalid exponent",-1);t=!1}else break;this.advance()}let r=this.input.substring(e,this.index);i&&(r=r.replace(/_/g,""));let a=t?Dee(r):parseFloat(r);return Cee(e,this.index,a)}scanString(){let e=this.index,t=this.peek;this.advance();let i="",r=this.index,a=this.input;for(;this.peek!=t;)if(this.peek==dd){let s=this.scanStringBackslash(i,r);if(typeof s!="string")return s;i=s,r=this.index}else{if(this.peek==Un)return this.error("Unterminated quote",0);this.advance()}let o=a.substring(r,this.index);return this.advance(),new Ap(e,this.index,i+o,Wl.Plain)}scanQuestion(e){this.advance();let t="?";return(this.peek===xA||this.peek===Jc)&&(t+=this.peek===Jc?".":"?",this.advance()),gp(e,this.index,t)}scanTemplateLiteralPart(e){let t="",i=this.index;for(;this.peek!==j2;)if(this.peek===dd){let a=this.scanStringBackslash(t,i);if(typeof a!="string")return a;t=a,i=this.index}else if(this.peek===Fv){let a=this.index;if(this.advance(),this.peek===La)return this.braceStack.push("interpolation"),this.tokens.push(new Ap(e,a,t+this.input.substring(i,a),Wl.TemplateLiteralPart)),this.advance(),gp(a,this.index,this.input.substring(a,this.index))}else{if(this.peek===Un)return this.error("Unterminated template literal",0);this.advance()}let r=this.input.substring(i,this.index);return this.advance(),new Ap(e,this.index,t+r,Wl.TemplateLiteralEnd)}error(e,t){let i=this.index+t;return xee(i,this.index,`Lexer Error: ${e} at column ${i} in expression [${this.input}]`)}scanStringBackslash(e,t){e+=this.input.substring(t,this.index);let i;if(this.advance(),this.peek===ok){let r=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(r))i=parseInt(r,16);else return this.error(`Invalid unicode escape [\\u${r}]`,0);for(let a=0;a<5;a++)this.advance()}else i=Tee(this.peek),this.advance();return e+=String.fromCharCode(i),e}};function YA(n){return Xl<=n&&n<=xm||kd<=n&&n<=Ov||n==Cm||n==Fv}function KA(n){return nm(n)||po(n)||n==Cm||n==Fv}function Eee(n){return n==kX||n==IX}function Iee(n){return n==ev||n==tk}function Tee(n){switch(n){case nk:return Vl;case tS:return ZM;case rk:return Jw;case ak:return Zw;case sk:return XM;default:return n}}function Dee(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var pw=class{strings;expressions;offsets;constructor(e,t,i){this.strings=e,this.expressions=t,this.offsets=i}},mw=class{templateBindings;warnings;errors;constructor(e,t,i){this.templateBindings=e,this.warnings=t,this.errors=i}},Sv=class{_lexer;errors=[];constructor(e){this._lexer=e}parseAction(e,t,i,r=ho){this._checkNoInterpolation(e,t,r);let a=this._stripComments(e),o=this._lexer.tokenize(a),s=new kl(e,t,i,o,1,this.errors,0).parseChain();return new la(s,e,t,i,this.errors)}parseBinding(e,t,i,r=ho){let a=this._parseBindingAst(e,t,i,r);return new la(a,e,t,i,this.errors)}checkSimpleExpression(e){let t=new hw;return e.visit(t),t.errors}parseSimpleBinding(e,t,i,r=ho){let a=this._parseBindingAst(e,t,i,r),o=this.checkSimpleExpression(a);return o.length>0&&this._reportError(`Host binding expression cannot contain ${o.join(" ")}`,e,t),new la(a,e,t,i,this.errors)}_reportError(e,t,i,r){this.errors.push(new Vp(e,t,i,r))}_parseBindingAst(e,t,i,r){this._checkNoInterpolation(e,t,r);let a=this._stripComments(e),o=this._lexer.tokenize(a);return new kl(e,t,i,o,0,this.errors,0).parseChain()}parseTemplateBindings(e,t,i,r,a){let o=this._lexer.tokenize(t);return new kl(t,i,a,o,0,this.errors,0).parseTemplateBindings({source:e,span:new Nr(r,r+e.length)})}parseInterpolation(e,t,i,r,a=ho){let{strings:o,expressions:s,offsets:l}=this.splitInterpolation(e,t,r,a);if(s.length===0)return null;let p=[];for(let m=0;m<s.length;++m){let _=s[m].text,S=this._stripComments(_),C=this._lexer.tokenize(S),E=new kl(e,t,i,C,0,this.errors,l[m]).parseChain();p.push(E)}return this.createInterpolationAst(o.map(m=>m.text),p,e,t,i)}parseInterpolationExpression(e,t,i){let r=this._stripComments(e),a=this._lexer.tokenize(r),o=new kl(e,t,i,a,0,this.errors,0).parseChain(),s=["",""];return this.createInterpolationAst(s,[o],e,t,i)}createInterpolationAst(e,t,i,r,a){let o=new Ql(0,i.length),s=new wm(o,o.toAbsolute(a),e,t);return new la(s,i,r,a,this.errors)}splitInterpolation(e,t,i,r=ho){let a=[],o=[],s=[],l=i?Aee(i):null,p=0,m=!1,_=!1,{start:S,end:C}=r;for(;p<e.length;)if(m){let E=p,I=E+S.length,M=this._getInterpolationEndIndex(e,C,I);if(M===-1){m=!1,_=!0;break}let F=M+C.length,N=e.substring(I,M);N.trim().length===0&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${p} in`,t),o.push({text:N,start:E,end:F});let j=(l?.get(E)??E)+S.length;s.push(j),p=F,m=!1}else{let E=p;p=e.indexOf(S,p),p===-1&&(p=e.length);let I=e.substring(E,p);a.push({text:I,start:E,end:p}),m=!0}if(!m)if(_){let E=a[a.length-1];E.text+=e.substring(p),E.end=e.length}else a.push({text:e.substring(p),start:p,end:e.length});return new pw(a,o,s)}wrapLiteralPrimitive(e,t,i){let r=new Ql(0,e==null?0:e.length);return new la(new oa(r,r.toAbsolute(i),e),e,t,i,this.errors)}_stripComments(e){let t=this._commentStart(e);return t!=null?e.substring(0,t):e}_commentStart(e){let t=null;for(let i=0;i<e.length-1;i++){let r=e.charCodeAt(i),a=e.charCodeAt(i+1);if(r===Qo&&a==Qo&&t==null)return i;t===r?t=null:t==null&&Ep(r)&&(t=r)}return null}_checkNoInterpolation(e,t,{start:i,end:r}){let a=-1,o=-1;for(let s of this._forEachUnquotedChar(e,0))if(a===-1)e.startsWith(i)&&(a=s);else if(o=this._getInterpolationEndIndex(e,r,s),o>-1)break;a>-1&&o>-1&&this._reportError(`Got interpolation (${i}${r}) where expression was expected`,e,`at column ${a} in`,t)}_getInterpolationEndIndex(e,t,i){for(let r of this._forEachUnquotedChar(e,i)){if(e.startsWith(t,r))return r;if(e.startsWith("//",r))return e.indexOf(t,r)}return-1}*_forEachUnquotedChar(e,t){let i=null,r=0;for(let a=t;a<e.length;a++){let o=e[a];Ep(e.charCodeAt(a))&&(i===null||i===o)&&r%2===0?i=i===null?o:null:i===null&&(yield a),r=o==="\\"?r+1:0}}},wp=function(n){return n[n.None=0]="None",n[n.Writable=1]="Writable",n}(wp||{}),kl=class{input;location;absoluteOffset;tokens;parseFlags;errors;offset;rparensExpected=0;rbracketsExpected=0;rbracesExpected=0;context=wp.None;sourceSpanCache=new Map;index=0;constructor(e,t,i,r,a,o,s){this.input=e,this.location=t,this.absoluteOffset=i,this.tokens=r,this.parseFlags=a,this.errors=o,this.offset=s}peek(e){let t=this.index+e;return t<this.tokens.length?this.tokens[t]:sg}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,t){let i=this.currentEndIndex;if(t!==void 0&&t>this.currentEndIndex&&(i=t),e>i){let r=i;i=e,e=r}return new Ql(e,i)}sourceSpan(e,t){let i=`${e}@${this.inputIndex}:${t}`;return this.sourceSpanCache.has(i)||this.sourceSpanCache.set(i,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(i)}advance(){this.index++}withContext(e,t){this.context|=e;let i=t();return this.context^=e,i}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===sg?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){let i=this.parsePipe();if(e.push(i),this.consumeOptionalCharacter(Fr))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(Fr););else if(this.index<this.tokens.length){let r=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===r)break}}if(e.length===0){let i=this.offset,r=this.offset+this.input.length;return new Dr(this.span(i,r),this.sourceSpan(i,r))}return e.length==1?e[0]:new vd(this.span(t),this.sourceSpan(t),e)}parsePipe(){let e=this.inputIndex,t=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let i=this.inputIndex,r=this.expectIdentifierOrKeyword(),a,o;r!==null?a=this.sourceSpan(i):(r="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,a=new Ql(o,o).toAbsolute(this.absoluteOffset));let s=[];for(;this.consumeOptionalCharacter(Hs);)s.push(this.parseExpression());t=new Bg(this.span(e),this.sourceSpan(e,o),t,r,s,a)}while(this.consumeOptionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let i=this.parsePipe(),r;if(this.consumeOptionalCharacter(Hs))r=this.parsePipe();else{let a=this.inputIndex,o=this.input.substring(e,a);this.error(`Conditional expression ${o} requires all 3 expressions`),r=new Dr(this.span(e),this.sourceSpan(e))}return new Mg(this.span(e),this.sourceSpan(e),t,i,r)}else return t}parseLogicalOr(){let e=this.inputIndex,t=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let i=this.parseLogicalAnd();t=new Pa(this.span(e),this.sourceSpan(e),"||",t,i)}return t}parseLogicalAnd(){let e=this.inputIndex,t=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let i=this.parseNullishCoalescing();t=new Pa(this.span(e),this.sourceSpan(e),"&&",t,i)}return t}parseNullishCoalescing(){let e=this.inputIndex,t=this.parseEquality();for(;this.consumeOptionalOperator("??");){let i=this.parseEquality();t=new Pa(this.span(e),this.sourceSpan(e),"??",t,i)}return t}parseEquality(){let e=this.inputIndex,t=this.parseRelational();for(;this.next.type==Ot.Operator;){let i=this.next.strValue;switch(i){case"==":case"===":case"!=":case"!==":this.advance();let r=this.parseRelational();t=new Pa(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseRelational(){let e=this.inputIndex,t=this.parseAdditive();for(;this.next.type==Ot.Operator;){let i=this.next.strValue;switch(i){case"<":case">":case"<=":case">=":this.advance();let r=this.parseAdditive();t=new Pa(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseAdditive(){let e=this.inputIndex,t=this.parseMultiplicative();for(;this.next.type==Ot.Operator;){let i=this.next.strValue;switch(i){case"+":case"-":this.advance();let r=this.parseMultiplicative();t=new Pa(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseMultiplicative(){let e=this.inputIndex,t=this.parsePrefix();for(;this.next.type==Ot.Operator;){let i=this.next.strValue;switch(i){case"*":case"%":case"/":this.advance();let r=this.parsePrefix();t=new Pa(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parsePrefix(){if(this.next.type==Ot.Operator){let e=this.inputIndex,t=this.next.strValue,i;switch(t){case"+":return this.advance(),i=this.parsePrefix(),Wp.createPlus(this.span(e),this.sourceSpan(e),i);case"-":return this.advance(),i=this.parsePrefix(),Wp.createMinus(this.span(e),this.sourceSpan(e),i);case"!":return this.advance(),i=this.parsePrefix(),new Ng(this.span(e),this.sourceSpan(e),i)}}else if(this.next.isKeywordTypeof()){this.advance();let e=this.inputIndex,t=this.parsePrefix();return new Vg(this.span(e),this.sourceSpan(e),t)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,t=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(Jc))t=this.parseAccessMember(t,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(Xo)?t=this.parseCall(t,e,!0):t=this.consumeOptionalCharacter(cd)?this.parseKeyedReadOrWrite(t,e,!0):this.parseAccessMember(t,e,!0);else if(this.consumeOptionalCharacter(cd))t=this.parseKeyedReadOrWrite(t,e,!1);else if(this.consumeOptionalCharacter(Xo))t=this.parseCall(t,e,!1);else if(this.consumeOptionalOperator("!"))t=new Up(this.span(e),this.sourceSpan(e),t);else return t}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(Xo)){this.rparensExpected++;let t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(Ra),t}else{if(this.next.isKeywordNull())return this.advance(),new oa(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new oa(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new oa(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new oa(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new Gl(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(cd)){this.rbracketsExpected++;let t=this.parseExpressionList(rd);return this.rbracketsExpected--,this.expectCharacter(rd),new Fg(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isCharacter(La))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new ha(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let t=this.next.toNumber();return this.advance(),new oa(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===Wl.Plain){let t=this.next.toString();return this.advance(),new oa(this.span(e),this.sourceSpan(e),t)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new Dr(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Dr(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new Dr(this.span(e),this.sourceSpan(e)))}}}}parseExpressionList(e){let t=[];do if(!this.next.isCharacter(e))t.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(pa));return t}parseLiteralMap(){let e=[],t=[],i=this.inputIndex;if(this.expectCharacter(La),!this.consumeOptionalCharacter(Ar)){this.rbracesExpected++;do{let r=this.inputIndex,a=this.next.isString(),o=this.expectIdentifierOrKeywordOrString(),s={key:o,quoted:a};if(e.push(s),a)this.expectCharacter(Hs),t.push(this.parsePipe());else if(this.consumeOptionalCharacter(Hs))t.push(this.parsePipe());else{s.isShorthandInitialized=!0;let l=this.span(r),p=this.sourceSpan(r);t.push(new Yl(l,p,p,new ha(l,p),o))}}while(this.consumeOptionalCharacter(pa)&&!this.next.isCharacter(Ar));this.rbracesExpected--,this.expectCharacter(Ar)}return new Og(this.span(i),this.sourceSpan(i),e,t)}parseAccessMember(e,t,i){let r=this.inputIndex,a=this.withContext(wp.Writable,()=>{let l=this.expectIdentifierOrKeyword()??"";return l.length===0&&this.error("Expected identifier for property access",e.span.end),l}),o=this.sourceSpan(r),s;if(i)this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),s=new Dr(this.span(t),this.sourceSpan(t))):s=new Pg(this.span(t),this.sourceSpan(t),o,e,a);else if(this.consumeOptionalOperator("=")){if(!(this.parseFlags&1))return this.error("Bindings cannot contain assignments"),new Dr(this.span(t),this.sourceSpan(t));let l=this.parseConditional();s=new kg(this.span(t),this.sourceSpan(t),o,e,a,l)}else s=new Yl(this.span(t),this.sourceSpan(t),o,e,a);return s}parseCall(e,t,i){let r=this.inputIndex;this.rparensExpected++;let a=this.parseCallArguments(),o=this.span(r,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(Ra),this.rparensExpected--;let s=this.span(t),l=this.sourceSpan(t);return i?new Hg(s,l,e,a,o):new jp(s,l,e,a,o)}parseCallArguments(){if(this.next.isCharacter(Ra))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(pa));return e}expectTemplateBindingKey(){let e="",t=!1,i=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),t=this.consumeOptionalOperator("-"),t&&(e+="-");while(t);return{source:e,span:new Nr(i,i+e.length)}}parseTemplateBindings(e){let t=[];for(t.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let i=this.parseLetBinding();if(i)t.push(i);else{let r=this.expectTemplateBindingKey(),a=this.parseAsBinding(r);a?t.push(a):(r.source=e.source+r.source.charAt(0).toUpperCase()+r.source.substring(1),t.push(...this.parseDirectiveKeywordBindings(r)))}this.consumeStatementTerminator()}return new mw(t,[],this.errors)}parseKeyedReadOrWrite(e,t,i){return this.withContext(wp.Writable,()=>{this.rbracketsExpected++;let r=this.parsePipe();if(r instanceof Dr&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(rd),this.consumeOptionalOperator("="))if(i)this.error("The '?.' operator cannot be used in the assignment");else{let a=this.parseConditional();return new Rg(this.span(t),this.sourceSpan(t),e,r,a)}else return i?new Lg(this.span(t),this.sourceSpan(t),e,r):new Hp(this.span(t),this.sourceSpan(t),e,r);return new Dr(this.span(t),this.sourceSpan(t))})}parseDirectiveKeywordBindings(e){let t=[];this.consumeOptionalCharacter(Hs);let i=this.getDirectiveBoundTarget(),r=this.currentAbsoluteOffset,a=this.parseAsBinding(e);a||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);let o=new Nr(e.span.start,r);return t.push(new D2(o,e,i)),a&&t.push(a),t}getDirectiveBoundTarget(){if(this.next===sg||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:t,end:i}=e.span,r=this.input.substring(t,i);return new la(e,r,this.location,this.absoluteOffset+t,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let t=this.expectTemplateBindingKey();this.consumeStatementTerminator();let i=new Nr(e.span.start,this.currentAbsoluteOffset);return new qp(i,t,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let t=this.expectTemplateBindingKey(),i=null;this.consumeOptionalOperator("=")&&(i=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let r=new Nr(e,this.currentAbsoluteOffset);return new qp(r,t,i)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,t=this.inputIndex;this.advance();let i=this.span(t),r=this.sourceSpan(t);return new zp(i,r,[new Wg(i,r,e)],[])}parseTemplateLiteral(){let e=this.inputIndex,t=[],i=[];for(;this.next!==sg;){let r=this.next;if(r.isTemplateLiteralPart()||r.isTemplateLiteralEnd()){let a=this.inputIndex;if(this.advance(),t.push(new Wg(this.span(a),this.sourceSpan(a),r.strValue)),r.isTemplateLiteralEnd())break}else if(r.isTemplateLiteralInterpolationStart()){this.advance();let a=this.parsePipe();a instanceof Dr?this.error("Template literal interpolation cannot be empty"):i.push(a)}else this.advance()}return new zp(this.span(e),this.sourceSpan(e),t,i)}consumeStatementTerminator(){this.consumeOptionalCharacter(Fr)||this.consumeOptionalCharacter(pa)}error(e,t=null){this.errors.push(new Vp(e,this.input,this.locationText(t),this.location)),this.skip()}locationText(e=null){return e==null&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,t){let i=`Private identifiers are not supported. Unexpected private identifier: ${e}`;t!==null&&(i+=`, ${t}`),this.error(i)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(Fr)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(Ra))&&(this.rbracesExpected<=0||!e.isCharacter(Ar))&&(this.rbracketsExpected<=0||!e.isCharacter(rd))&&(!(this.context&wp.Writable)||!e.isOperator("="));)this.next.isError()&&this.errors.push(new Vp(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}},hw=class extends Ug{errors=[];visitPipe(){this.errors.push("pipes")}};function Aee(n){let e=new Map,t=0,i=0,r=0;for(;r<n.length;){let a=n[r];if(a.type===9){let[o,s]=a.parts;t+=s.length,i+=o.length}else{let o=a.parts.reduce((s,l)=>s+l.length,0);i+=o,t+=o}e.set(i,t),r++}return e}function Mee(n){return n.visit(new fw)}var fw=class{visitUnary(e,t){return`${e.operator}${e.expr.visit(this,t)}`}visitBinary(e,t){return`${e.left.visit(this,t)} ${e.operation} ${e.right.visit(this,t)}`}visitChain(e,t){return e.expressions.map(i=>i.visit(this,t)).join("; ")}visitConditional(e,t){return`${e.condition.visit(this,t)} ? ${e.trueExp.visit(this,t)} : ${e.falseExp.visit(this,t)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,t){return Pee(e.strings,e.expressions.map(i=>i.visit(this,t))).join("")}visitKeyedRead(e,t){return`${e.receiver.visit(this,t)}[${e.key.visit(this,t)}]`}visitKeyedWrite(e,t){return`${e.receiver.visit(this,t)}[${e.key.visit(this,t)}] = ${e.value.visit(this,t)}`}visitLiteralArray(e,t){return`[${e.expressions.map(i=>i.visit(this,t)).join(", ")}]`}visitLiteralMap(e,t){return`{${kee(e.keys.map(i=>i.quoted?`'${i.key}'`:i.key),e.values.map(i=>i.visit(this,t))).map(([i,r])=>`${i}: ${r}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,t){return`${e.exp.visit(this,t)} | ${e.name}`}visitPrefixNot(e,t){return`!${e.expression.visit(this,t)}`}visitNonNullAssert(e,t){return`${e.expression.visit(this,t)}!`}visitPropertyRead(e,t){return e.receiver instanceof ha?e.name:`${e.receiver.visit(this,t)}.${e.name}`}visitPropertyWrite(e,t){return e.receiver instanceof ha?`${e.name} = ${e.value.visit(this,t)}`:`${e.receiver.visit(this,t)}.${e.name} = ${e.value.visit(this,t)}`}visitSafePropertyRead(e,t){return`${e.receiver.visit(this,t)}?.${e.name}`}visitSafeKeyedRead(e,t){return`${e.receiver.visit(this,t)}?.[${e.key.visit(this,t)}]`}visitCall(e,t){return`${e.receiver.visit(this,t)}(${e.args.map(i=>i.visit(this,t)).join(", ")})`}visitSafeCall(e,t){return`${e.receiver.visit(this,t)}?.(${e.args.map(i=>i.visit(this,t)).join(", ")})`}visitTypeofExpression(e,t){return`typeof ${e.expression.visit(this,t)}`}visitASTWithSource(e,t){return e.ast.visit(this,t)}visitTemplateLiteral(e,t){let i="";for(let r=0;r<e.elements.length;r++){i+=e.elements[r].visit(this,t);let a=r<e.expressions.length?e.expressions[r]:null;a!==null&&(i+="${"+a.visit(this,t)+"}")}return"`"+i+"`"}visitTemplateLiteralElement(e,t){return e.text}};function kee(n,e){if(n.length!==e.length)throw new Error("Array lengths must match");return n.map((t,i)=>[t,e[i]])}function Pee(n,e){let t=[];for(let i=0;i<Math.max(n.length,e.length);i++)i<n.length&&t.push(n[i]),i<e.length&&t.push(e[i]);return t}var fg;function XA(){return fg||(fg={},lg(Mi.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),lg(Mi.STYLE,["*|style"]),lg(Mi.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),lg(Mi.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),fg}function lg(n,e){for(let t of e)fg[t.toLowerCase()]=n}var Lee=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function Ree(n){return Lee.has(n.toLowerCase())}var gw=class{},Bee="boolean",Fee="number",Oee="string",Nee="object",Vee=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],Rk=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),Hee=Array.from(Rk).reduce((n,[e,t])=>(n.set(e,t),n),new Map),Ad=class extends gw{_schema=new Map;_eventSchema=new Map;constructor(){super(),Vee.forEach(e=>{let t=new Map,i=new Set,[r,a]=e.split("|"),o=a.split(","),[s,l]=r.split("^");s.split(",").forEach(m=>{this._schema.set(m.toLowerCase(),t),this._eventSchema.set(m.toLowerCase(),i)});let p=l&&this._schema.get(l.toLowerCase());if(p){for(let[m,_]of p)t.set(m,_);for(let m of this._eventSchema.get(l.toLowerCase()))i.add(m)}o.forEach(m=>{if(m.length>0)switch(m[0]){case"*":i.add(m.substring(1));break;case"!":t.set(m.substring(1),Bee);break;case"#":t.set(m.substring(1),Fee);break;case"%":t.set(m.substring(1),Nee);break;default:t.set(m,Oee)}})})}hasProperty(e,t,i){if(i.some(a=>a.name===oA.name))return!0;if(e.indexOf("-")>-1){if(yA(e)||M2(e))return!1;if(i.some(a=>a.name===aA.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(t)}hasElement(e,t){return t.some(i=>i.name===oA.name)||e.indexOf("-")>-1&&(yA(e)||M2(e)||t.some(i=>i.name===aA.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,t,i){i&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let r=XA()[e+"|"+t];return r||(r=XA()["*|"+t],r||Mi.NONE)}getMappedPropName(e){return Rk.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let t=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(t.keys()).map(i=>Hee.get(i)??i)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return WK(e)}normalizeAnimationStyleValue(e,t,i){let r="",a=i.toString().trim(),o=null;if(Wee(e)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&(o=`Please provide a CSS unit value for ${t}:${i}`)}return{error:o,value:a+r}}};function Wee(n){switch(n){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var Rt=class{closedByChildren={};contentType;closedByParent=!1;implicitNamespacePrefix;isVoid;ignoreFirstLf;canSelfClose;preventNamespaceInheritance;constructor({closedByChildren:e,implicitNamespacePrefix:t,contentType:i=mo.PARSABLE_DATA,closedByParent:r=!1,isVoid:a=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:s=!1,canSelfClose:l=!1}={}){e&&e.length>0&&e.forEach(p=>this.closedByChildren[p]=!0),this.isVoid=a,this.closedByParent=r||a,this.implicitNamespacePrefix=t||null,this.contentType=i,this.ignoreFirstLf=o,this.preventNamespaceInheritance=s,this.canSelfClose=l??a}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},ZA,Xc;function Bk(n){return Xc||(ZA=new Rt({canSelfClose:!0}),Xc=Object.assign(Object.create(null),{base:new Rt({isVoid:!0}),meta:new Rt({isVoid:!0}),area:new Rt({isVoid:!0}),embed:new Rt({isVoid:!0}),link:new Rt({isVoid:!0}),img:new Rt({isVoid:!0}),input:new Rt({isVoid:!0}),param:new Rt({isVoid:!0}),hr:new Rt({isVoid:!0}),br:new Rt({isVoid:!0}),source:new Rt({isVoid:!0}),track:new Rt({isVoid:!0}),wbr:new Rt({isVoid:!0}),p:new Rt({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new Rt({closedByChildren:["tbody","tfoot"]}),tbody:new Rt({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new Rt({closedByChildren:["tbody"],closedByParent:!0}),tr:new Rt({closedByChildren:["tr"],closedByParent:!0}),td:new Rt({closedByChildren:["td","th"],closedByParent:!0}),th:new Rt({closedByChildren:["td","th"],closedByParent:!0}),col:new Rt({isVoid:!0}),svg:new Rt({implicitNamespacePrefix:"svg"}),foreignObject:new Rt({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new Rt({implicitNamespacePrefix:"math"}),li:new Rt({closedByChildren:["li"],closedByParent:!0}),dt:new Rt({closedByChildren:["dt","dd"]}),dd:new Rt({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new Rt({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new Rt({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new Rt({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new Rt({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new Rt({closedByChildren:["optgroup"],closedByParent:!0}),option:new Rt({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new Rt({ignoreFirstLf:!0}),listing:new Rt({ignoreFirstLf:!0}),style:new Rt({contentType:mo.RAW_TEXT}),script:new Rt({contentType:mo.RAW_TEXT}),title:new Rt({contentType:{default:mo.ESCAPABLE_RAW_TEXT,svg:mo.PARSABLE_DATA}}),textarea:new Rt({contentType:mo.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new Ad().allKnownElementNames().forEach(e=>{!Xc[e]&&k2(e)===null&&(Xc[e]=new Rt({canSelfClose:!1}))})),Xc[n]??Xc[n.toLowerCase()]??ZA}var JA={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},vw=class{_placeHolderNameCounts={};_signatureToName={};getStartTagPlaceholderName(e,t,i){let r=this._hashTag(e,t,i);if(this._signatureToName[r])return this._signatureToName[r];let a=e.toUpperCase(),o=JA[a]||`TAG_${a}`,s=this._generateUniqueName(i?o:`START_${o}`);return this._signatureToName[r]=s,s}getCloseTagPlaceholderName(e){let t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];let i=e.toUpperCase(),r=JA[i]||`TAG_${i}`,a=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[t]=a,a}getPlaceholderName(e,t){let i=e.toUpperCase(),r=`PH: ${i}=${t}`;if(this._signatureToName[r])return this._signatureToName[r];let a=this._generateUniqueName(i);return this._signatureToName[r]=a,a}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,t){let i=this._hashBlock(e,t);if(this._signatureToName[i])return this._signatureToName[i];let r=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[i]=r,r}getCloseBlockPlaceholderName(e){let t=this._hashClosingBlock(e);if(this._signatureToName[t])return this._signatureToName[t];let i=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[t]=i,i}_hashTag(e,t,i){let r=`<${e}`,a=Object.keys(t).sort().map(s=>` ${s}=${t[s]}`).join(""),o=i?"/>":`></${e}>`;return r+a+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,t){let i=t.length===0?"":` (${t.sort().join("; ")})`;return`@${e}${i} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let i=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=i+1,`${e}_${i}`}},Uee=new Sv(new fm);function jee(n,e,t,i){let r=new _w(Uee,n,e,t,i);return(a,o,s,l,p)=>r.toI18nMessage(a,o,s,l,p)}function zee(n,e){return e}var _w=class{_expressionParser;_interpolationConfig;_containerBlocks;_retainEmptyTokens;_preserveExpressionWhitespace;constructor(e,t,i,r,a){this._expressionParser=e,this._interpolationConfig=t,this._containerBlocks=i,this._retainEmptyTokens=r,this._preserveExpressionWhitespace=a}toI18nMessage(e,t="",i="",r="",a){let o={isIcu:e.length==1&&e[0]instanceof Hl,icuDepth:0,placeholderRegistry:new vw,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:a||zee},s=rn(this,e,o);return new mr(s,o.placeholderToContent,o.placeholderToMessage,t,i,r)}visitElement(e,t){let i=rn(this,e.children,t),r={};e.attrs.forEach(p=>{r[p.name]=p.value});let a=Bk(e.name).isVoid,o=t.placeholderRegistry.getStartTagPlaceholderName(e.name,r,a);t.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let s="";a||(s=t.placeholderRegistry.getCloseTagPlaceholderName(e.name),t.placeholderToContent[s]={text:`</${e.name}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let l=new Qs(e.name,r,o,s,i,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,l)}visitAttribute(e,t){let i=e.valueTokens===void 0||e.valueTokens.length===1?new mp(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,i)}visitText(e,t){let i=e.tokens.length===1?new mp(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,i)}visitComment(e,t){return null}visitExpansion(e,t){t.icuDepth++;let i={},r=new Xg(e.switchValue,e.type,i,e.sourceSpan);if(e.cases.forEach(s=>{i[s.value]=new Ko(s.expression.map(l=>l.visit(this,t)),s.expSourceSpan)}),t.icuDepth--,t.isIcu||t.icuDepth>0){let s=t.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=s,t.placeholderToContent[s]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},t.visitNodeFn(e,r)}let a=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[a]=this.toI18nMessage([e],"","","",void 0);let o=new Sd(r,a,e.sourceSpan);return t.visitNodeFn(e,o)}visitExpansionCase(e,t){throw new Error("Unreachable code")}visitBlock(e,t){let i=rn(this,e.children,t);if(this._containerBlocks.has(e.name))return new Ko(i,e.sourceSpan);let r=e.parameters.map(l=>l.expression),a=t.placeholderRegistry.getStartBlockPlaceholderName(e.name,r),o=t.placeholderRegistry.getCloseBlockPlaceholderName(e.name);t.placeholderToContent[a]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},t.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let s=new Gs(e.name,r,a,o,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,s)}visitBlockParameter(e,t){throw new Error("Unreachable code")}visitLetDeclaration(e,t){return null}_visitTextWithInterpolation(e,t,i,r){let a=[],o=!1;for(let s of e)switch(s.type){case 8:case 17:o=!0;let[l,p,m]=s.parts,_=Yee(p)||"INTERPOLATION",S=i.placeholderRegistry.getPlaceholderName(_,p);if(this._preserveExpressionWhitespace)i.placeholderToContent[S]={text:s.parts.join(""),sourceSpan:s.sourceSpan},a.push(new Zp(p,S,s.sourceSpan));else{let C=this.normalizeExpression(s);i.placeholderToContent[S]={text:`${l}${C}${m}`,sourceSpan:s.sourceSpan},a.push(new Zp(C,S,s.sourceSpan))}break;default:if(s.parts[0].length>0||this._retainEmptyTokens){let C=a[a.length-1];C instanceof mp?(C.value+=s.parts[0],C.sourceSpan=new xt(C.sourceSpan.start,s.sourceSpan.end,C.sourceSpan.fullStart,C.sourceSpan.details)):a.push(new mp(s.parts[0],s.sourceSpan))}else this._retainEmptyTokens&&a.push(new mp(s.parts[0],s.sourceSpan));break}return o?(qee(a,r),new Ko(a,t)):a[0]}normalizeExpression(e){let t=e.parts[1],i=this._expressionParser.parseBinding(t,e.sourceSpan.start.toString(),e.sourceSpan.start.offset,this._interpolationConfig);return Mee(i)}};function qee(n,e){if(e instanceof mr&&($ee(e),e=e.nodes[0]),e instanceof Ko){Qee(e.children,n);for(let t=0;t<n.length;t++)n[t].sourceSpan=e.children[t].sourceSpan}}function $ee(n){let e=n.nodes;if(e.length!==1||!(e[0]instanceof Ko))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function Qee(n,e){if(n.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${n.length} tokens):
${n.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(n.some((t,i)=>e[i].constructor!==t.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var Gee=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function Yee(n){return n.split(Gee)[2]}var yw=class extends yt{constructor(e,t){super(e,t)}},eM=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function Kee(n,e){return n=n.toLowerCase(),e=e.toLowerCase(),eM.has(n+"|"+e)||eM.has("*|"+e)}var Xee=n=>(e,t)=>{let i=n.get(e)??e;return i instanceof Xs&&(t instanceof Sd&&i.i18n instanceof mr&&(t.previousMessage=i.i18n),i.i18n=t),t},Cv=class{interpolationConfig;keepI18nAttrs;enableI18nLegacyMessageIdFormat;containerBlocks;preserveSignificantWhitespace;retainEmptyTokens;hasI18nMeta=!1;_errors=[];constructor(e=ho,t=!1,i=!1,r=wX,a=!0,o=!a){this.interpolationConfig=e,this.keepI18nAttrs=t,this.enableI18nLegacyMessageIdFormat=i,this.containerBlocks=r,this.preserveSignificantWhitespace=a,this.retainEmptyTokens=o}_generateI18nMessage(e,t="",i){let{meaning:r,description:a,customId:o}=this._parseMetadata(t),l=jee(this.interpolationConfig,this.containerBlocks,this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,r,a,o,i);return this._setMessageId(l,t),this._setLegacyIds(l,t),l}visitAllWithErrors(e){let t=e.map(i=>i.visit(this,null));return new bv(t,this._errors)}visitElement(e){let t;if(hX(e)){this.hasI18nMeta=!0;let i=[],r={};for(let a of e.attrs)if(a.name===QM){let o=e.i18n||a.value,s=new Map,l=this.preserveSignificantWhitespace?e.children:td(new wv(!1,s),e.children);t=this._generateI18nMessage(l,o,Xee(s)),t.nodes.length===0&&(t=void 0),e.i18n=t}else if(a.name.startsWith(W2)){let o=a.name.slice(W2.length);Kee(e.name,o)?this._reportError(a,`Translating attribute '${o}' is disallowed for security reasons.`):r[o]=a.value}else i.push(a);if(Object.keys(r).length)for(let a of i){let o=r[a.name];o!==void 0&&a.value&&(a.i18n=this._generateI18nMessage([a],a.i18n||o))}this.keepI18nAttrs||(e.attrs=i)}return rn(this,e.children,t),e}visitExpansion(e,t){let i,r=e.i18n;if(this.hasI18nMeta=!0,r instanceof Sd){let a=r.name;i=this._generateI18nMessage([e],r);let o=YM(i);o.name=a,t!==null&&(t.placeholderToMessage[a]=i)}else i=this._generateI18nMessage([e],t||r);return e.i18n=i,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,t){return rn(this,e.children,t),e}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}_parseMetadata(e){return typeof e=="string"?ete(e):e instanceof mr?e:{}}_setMessageId(e,t){e.id||(e.id=t instanceof mr&&t.id||gK(e))}_setLegacyIds(e,t){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[fK(e),VM(e)];else if(typeof t!="string"){let i=t instanceof mr?t:t instanceof Sd?t.previousMessage:void 0;e.legacyIds=i?i.legacyIds:[]}}_reportError(e,t){this._errors.push(new yw(e.sourceSpan,t))}},Zee="|",Jee="@@";function ete(n=""){let e,t,i;if(n=n.trim(),n){let r=n.indexOf(Jee),a=n.indexOf(Zee),o;[o,e]=r>-1?[n.slice(0,r),n.slice(r+2)]:[n,""],[t,i]=a>-1?[o.slice(0,a),o.slice(a+1)]:["",o]}return{customId:e,meaning:t,description:i}}function tte(n){let e=[];return n.description?e.push({tagName:"desc",text:n.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),n.meaning&&e.push({tagName:"meaning",text:n.meaning}),kK(e)}var ite="goog.getMsg";function nte(n,e,t,i){let r=ate(e),a=[q(r)];Object.keys(i).length&&(a.push(nw(Yw(i,!0),!0)),a.push(nw({original_code:hr(Object.keys(i).map(l=>({key:Sm(l),quoted:!0,value:e.placeholders[l]?q(e.placeholders[l].sourceSpan.toString()):q(e.placeholderToMessage[l].nodes.map(p=>p.sourceSpan.toString()).join(""))})))})));let o=t.set(Bt(ite).callFn(a)).toConstDecl();o.addLeadingComment(tte(e));let s=new va(n.set(t));return[o,s]}var bw=class{formatPh(e){return`{$${Sm(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){return Tk(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}},rte=new bw;function ate(n){return n.nodes.map(e=>e.visit(rte,null)).join("")}function ote(n,e,t){let{messageParts:i,placeHolders:r}=ste(e),a=lte(e),o=r.map(p=>t[p.text]),s=RK(e,i,r,o,a),l=n.set(s);return[new va(l)]}var ww=class{placeholderToMessage;pieces;constructor(e,t){this.placeholderToMessage=e,this.pieces=t}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Ol)this.pieces[this.pieces.length-1].text+=e.value;else{let t=new xt(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Ol(e.value,t))}}visitContainer(e){e.children.forEach(t=>t.visit(this))}visitIcu(e){this.pieces.push(new Ol(Tk(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,t,i){return new sd(Sm(e,!1),t,i)}};function ste(n){let e=[],t=new ww(n.placeholderToMessage,e);return n.nodes.forEach(i=>i.visit(t)),cte(e)}function lte(n){let e=n.nodes[0],t=n.nodes[n.nodes.length-1];return new xt(e.sourceSpan.fullStart,t.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function cte(n){let e=[],t=[];n[0]instanceof sd&&e.push(a2(n[0].sourceSpan.start));for(let i=0;i<n.length;i++){let r=n[i];r instanceof Ol?e.push(r):(t.push(r),n[i-1]instanceof sd&&e.push(a2(n[i-1].sourceSpan.end)))}return n[n.length-1]instanceof sd&&e.push(a2(n[n.length-1].sourceSpan.end)),{messageParts:e,placeHolders:t}}function a2(n){return new Ol("",new xt(n,n))}var tM="ngI18nClosureMode",dte="i18n_",ute="I18N_EXP_",iM="\uFFFD",pte="MSG_";function nM(n){return`${pte}${n}`.toUpperCase()}function mte(n){return new lr(n.name,void 0,ua,void 0,n.sourceSpan)}function hte(n){let e=n.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",t=new Map,i=new Map,r=new Map,a=new Map;for(let l of n.units)for(let p of l.ops())if(p.kind===k.ExtractedAttribute&&p.i18nContext!==null){let m=t.get(p.i18nContext)??[];m.push(p),t.set(p.i18nContext,m)}else if(p.kind===k.I18nAttributes)i.set(p.target,p);else if(p.kind===k.I18nExpression&&p.usage===Pd.I18nAttribute){let m=r.get(p.target)??[];m.push(p),r.set(p.target,m)}else p.kind===k.I18nMessage&&a.set(p.xref,p);let o=new Map,s=new Map;for(let l of n.units)for(let p of l.create)if(p.kind===k.I18nMessage){if(p.messagePlaceholder===null){let{mainVar:m,statements:_}=Fk(n,e,a,p);if(p.i18nBlock!==null){let S=n.addConst(m,_);s.set(p.i18nBlock,S)}else{n.constsInitializers.push(..._),o.set(p.i18nContext,m);let S=t.get(p.i18nContext);if(S!==void 0)for(let C of S)C.expression=m.clone()}}ee.remove(p)}for(let l of n.units)for(let p of l.create)if(Ks(p)){let m=i.get(p.xref);if(m===void 0)continue;let _=r.get(p.xref);if(_===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let S=new Set;_=_.filter(E=>{let I=S.has(E.name);return S.add(E.name),!I});let C=_.flatMap(E=>{let I=o.get(E.context);if(I===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[q(E.name),I]});m.i18nAttributesConfig=n.addConst(new Ba(C))}for(let l of n.units)for(let p of l.create)if(p.kind===k.I18nStart){let m=s.get(p.root);if(m===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");p.messageIndex=m}}function Fk(n,e,t,i){let r=[],a=new Map;for(let p of i.subMessages){let m=t.get(p),{mainVar:_,statements:S}=Fk(n,e,t,m);r.push(...S);let C=a.get(m.messagePlaceholder)??[];C.push(_),a.set(m.messagePlaceholder,C)}fte(i,a),i.params=new Map([...i.params.entries()].sort());let o=Bt(n.pool.uniqueName(dte)),s=_te(n.pool,i.message.id,e,n.i18nUseExternalIds),l;if(i.needsPostprocessing||i.postprocessingParams.size>0){let p=Object.fromEntries([...i.postprocessingParams.entries()].sort()),m=Yw(p,!1),_=[];i.postprocessingParams.size>0&&_.push(nw(m,!0)),l=S=>Be(V.i18nPostprocess).callFn([S,..._])}return r.push(...gte(i.message,o,s,i.params,l)),{mainVar:o,statements:r}}function fte(n,e){for(let[t,i]of e)i.length===1?n.params.set(t,i[0]):(n.params.set(t,q(`${iM}${ute}${t}${iM}`)),n.postprocessingParams.set(t,oi(i)))}function gte(n,e,t,i,r){let a=Object.fromEntries(i),o=[mte(e),Lv(vte(),nte(e,n,t,a),ote(e,n,Yw(a,!1)))];return r&&o.push(new va(e.set(r(e)))),o}function vte(){return bm(Bt(tM)).notIdentical(q("undefined",$w)).and(Bt(tM))}function _te(n,e,t,i){let r,a=t;if(i){let o=nM("EXTERNAL_"),s=n.uniqueName(a);r=`${o}${Ip(e)}$$${s}`}else{let o=nM(a);r=n.uniqueName(o)}return Bt(r)}function yte(n){for(let e of n.units){let t=null,i=null,r=new Map,a=new Map,o=new Map;for(let s of e.create)switch(s.kind){case k.I18nStart:if(s.context===null)throw Error("I18n op should have its context set.");t=s;break;case k.I18nEnd:t=null;break;case k.IcuStart:if(s.context===null)throw Error("Icu op should have its context set.");i=s;break;case k.IcuEnd:i=null;break;case k.Text:if(t!==null)if(r.set(s.xref,t),a.set(s.xref,i),s.icuPlaceholder!==null){let l=QZ(n.allocateXrefId(),s.icuPlaceholder,[s.initialValue]);ee.replace(s,l),o.set(s.xref,l)}else ee.remove(s);break}for(let s of e.update)switch(s.kind){case k.InterpolateText:if(!r.has(s.target))continue;let l=r.get(s.target),p=a.get(s.target),m=o.get(s.target),_=p?p.context:l.context,S=p?om.Postproccessing:om.Creation,C=[];for(let E=0;E<s.interpolation.expressions.length;E++){let I=s.interpolation.expressions[E];C.push(_k(_,l.xref,l.xref,l.handle,I,m?.xref??null,s.interpolation.i18nPlaceholders[E]??null,S,Pd.I18nText,"",I.sourceSpan??s.sourceSpan))}ee.replaceWithMany(s,C),m!==void 0&&(m.strings=s.interpolation.strings);break}}}function bte(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case k.ElementStart:case k.Template:if(!Array.isArray(t.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(t.numSlotsUsed+=t.localRefs.length,t.localRefs.length>0){let i=wte(t.localRefs);t.localRefs=n.addConst(i)}else t.localRefs=null;break}}function wte(n){let e=[];for(let t of n)e.push(q(t.name),q(t.target));return oi(e)}function Ste(n){for(let e of n.units){let t=or.HTML;for(let i of e.create)i.kind===k.ElementStart&&i.namespace!==t&&(ee.insertBefore(VZ(i.namespace),i),t=i.namespace)}}function Cte(n){let e=[],t=0,i=0,r=0,a=0,o=0,s=null;for(;t<n.length;)switch(n.charCodeAt(t++)){case 40:i++;break;case 41:i--;break;case 39:r===0?r=39:r===39&&n.charCodeAt(t-1)!==92&&(r=0);break;case 34:r===0?r=34:r===34&&n.charCodeAt(t-1)!==92&&(r=0);break;case 58:!s&&i===0&&r===0&&(s=Ok(n.substring(o,t-1).trim()),a=t);break;case 59:if(s&&a>0&&i===0&&r===0){let p=n.substring(a,t-1).trim();e.push(s,p),o=t,a=0,s=null}break}if(s&&a){let l=n.slice(a).trim();e.push(s,l)}return e}function Ok(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function xte(n){let e=new Map;for(let t of n.units)for(let i of t.create)Ks(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.create)if(i.kind===k.ExtractedAttribute&&i.bindingKind===Re.Attribute&&yk(i.expression)){let r=e.get(i.target);if(r!==void 0&&r.kind===k.Template&&r.templateKind===Hr.Structural)continue;if(i.name==="style"){let a=Cte(i.expression.value);for(let o=0;o<a.length-1;o+=2)ee.insertBefore(da(i.target,Re.StyleProperty,null,a[o],q(a[o+1]),null,null,Mi.STYLE),i);ee.remove(i)}else if(i.name==="class"){let a=i.expression.value.trim().split(/\s+/g);for(let o of a)ee.insertBefore(da(i.target,Re.ClassName,null,o,null,null,null,Mi.NONE),i);ee.remove(i)}}}function Ete(n){Sp(n.root,n.componentName,{index:0},n.compatibility===jr.TemplateDefinitionBuilder)}function Sp(n,e,t,i){n.fnName===null&&(n.fnName=n.job.pool.uniqueName(Ip(`${e}_${n.job.fnSuffix}`),!1));let r=new Map;for(let a of n.ops())switch(a.kind){case k.Property:case k.HostProperty:a.isAnimationTrigger&&(a.name="@"+a.name);break;case k.Listener:if(a.handlerFnName!==null)break;if(!a.hostListener&&a.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o="";a.isAnimationListener&&(a.name=`@${a.name}.${a.animationPhase}`,o="animation"),a.hostListener?a.handlerFnName=`${e}_${o}${a.name}_HostBindingHandler`:a.handlerFnName=`${n.fnName}_${a.tag.replace("-","_")}_${o}${a.name}_${a.targetSlot.slot}_listener`,a.handlerFnName=Ip(a.handlerFnName);break;case k.TwoWayListener:if(a.handlerFnName!==null)break;if(a.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");a.handlerFnName=Ip(`${n.fnName}_${a.tag.replace("-","_")}_${a.name}_${a.targetSlot.slot}_listener`);break;case k.Variable:r.set(a.xref,Ite(n,a.variable,t));break;case k.RepeaterCreate:if(!(n instanceof fo))throw new Error("AssertionError: must be compiling a component");if(a.handle.slot===null)throw new Error("Expected slot to be assigned");if(a.emptyView!==null){let p=n.job.views.get(a.emptyView);Sp(p,`${e}_${a.functionNameSuffix}Empty_${a.handle.slot+2}`,t,i)}Sp(n.job.views.get(a.xref),`${e}_${a.functionNameSuffix}_${a.handle.slot+1}`,t,i);break;case k.Projection:if(!(n instanceof fo))throw new Error("AssertionError: must be compiling a component");if(a.handle.slot===null)throw new Error("Expected slot to be assigned");if(a.fallbackView!==null){let p=n.job.views.get(a.fallbackView);Sp(p,`${e}_ProjectionFallback_${a.handle.slot}`,t,i)}break;case k.Template:if(!(n instanceof fo))throw new Error("AssertionError: must be compiling a component");let s=n.job.views.get(a.xref);if(a.handle.slot===null)throw new Error("Expected slot to be assigned");let l=a.functionNameSuffix.length===0?"":`_${a.functionNameSuffix}`;Sp(s,`${e}${l}_${a.handle.slot}`,t,i);break;case k.StyleProp:a.name=Tte(a.name),i&&(a.name=rM(a.name));break;case k.ClassProp:i&&(a.name=rM(a.name));break}for(let a of n.ops())cr(a,o=>{if(!(!(o instanceof Zo)||o.name!==null)){if(!r.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=r.get(o.xref)}})}function Ite(n,e,t){if(e.name===null)switch(e.kind){case Pn.Context:e.name=`ctx_r${t.index++}`;break;case Pn.Identifier:if(n.job.compatibility===jr.TemplateDefinitionBuilder){let i=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${i}r${++t.index}`}else e.name=`${e.identifier}_i${t.index++}`;break;default:e.name=`_r${++t.index}`;break}return e.name}function Tte(n){return n.startsWith("--")?n:Ok(n)}function rM(n){let e=n.indexOf("!important");return e>-1?n.substring(0,e):n}function Dte(n){for(let e of n.units){for(let t of e.create)(t.kind===k.Listener||t.kind===k.TwoWayListener)&&aM(t.handlerOps);aM(e.update)}}function aM(n){for(let e of n){if(e.kind!==k.Statement||!(e.statement instanceof va)||!(e.statement.expr instanceof ov))continue;let t=e.statement.expr.steps,i=!0;for(let r=e.next;r.kind!==k.ListEnd&&i;r=r.next)cr(r,(a,o)=>{if(!wo(a))return a;if(i&&!(o&ti.InChildOperation))switch(a.kind){case Le.NextContext:a.steps+=t,ee.remove(e),i=!1;break;case Le.GetCurrentView:case Le.Reference:case Le.ContextLetReference:i=!1;break}})}}var Ate="ng-container";function Mte(n){for(let e of n.units){let t=new Set;for(let i of e.create)i.kind===k.ElementStart&&i.tag===Ate&&(i.kind=k.ContainerStart,t.add(i.xref)),i.kind===k.ElementEnd&&t.has(i.xref)&&(i.kind=k.ContainerEnd)}}function kte(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function Pte(n){let e=new Map;for(let t of n.units)for(let i of t.create)Ks(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.create)(i.kind===k.ElementStart||i.kind===k.ContainerStart)&&i.nonBindable&&ee.insertAfter(OZ(i.xref),i),(i.kind===k.ElementEnd||i.kind===k.ContainerEnd)&&kte(e,i.xref).nonBindable&&ee.insertBefore(NZ(i.xref),i)}function Lte(n){for(let e of n.units)for(let t of e.ops())yn(t,i=>{if(!(i instanceof Gt)||i.operator!==Me.NullishCoalesce)return i;let r=new Va(i.lhs.clone(),n.allocateXrefId()),a=new is(r.xref);return new Jo(new Gt(Me.And,new Gt(Me.NotIdentical,r,Op),new Gt(Me.NotIdentical,a,new $n(void 0))),a.clone(),i.rhs)},ti.None)}function Go(n){return e=>e.kind===n}function Mp(n,e){return t=>t.kind===n&&e===t.expression instanceof fn}function Rte(n){return n.kind===k.Listener&&!(n.hostListener&&n.isAnimationListener)||n.kind===k.TwoWayListener}function Bte(n){return(n.kind===k.Property||n.kind===k.TwoWayProperty)&&!(n.expression instanceof fn)}var Fte=[{test:n=>n.kind===k.Listener&&n.hostListener&&n.isAnimationListener},{test:Rte}],Ote=[{test:Go(k.StyleMap),transform:xv},{test:Go(k.ClassMap),transform:xv},{test:Go(k.StyleProp)},{test:Go(k.ClassProp)},{test:Mp(k.Attribute,!0)},{test:Mp(k.Property,!0)},{test:Bte},{test:Mp(k.Attribute,!1)}],Nte=[{test:Mp(k.HostProperty,!0)},{test:Mp(k.HostProperty,!1)},{test:Go(k.Attribute)},{test:Go(k.StyleMap),transform:xv},{test:Go(k.ClassMap),transform:xv},{test:Go(k.StyleProp)},{test:Go(k.ClassProp)}],oM=new Set([k.Listener,k.TwoWayListener,k.StyleMap,k.ClassMap,k.StyleProp,k.ClassProp,k.Property,k.TwoWayProperty,k.HostProperty,k.Attribute]);function Vte(n){for(let e of n.units){sM(e.create,Fte);let t=e.job.kind===fe.Host?Nte:Ote;sM(e.update,t)}}function sM(n,e){let t=[],i=null;for(let r of n){let a=rv(r)?r.target:null;(!oM.has(r.kind)||a!==i&&i!==null&&a!==null)&&(ee.insertBefore(lM(t,e),r),t=[],i=null),oM.has(r.kind)&&(t.push(r),ee.remove(r),i=a??i)}n.push(lM(t,e))}function lM(n,e){let t=Array.from(e,()=>new Array);for(let i of n){let r=e.findIndex(a=>a.test(i));t[r].push(i)}return t.flatMap((i,r)=>{let a=e[r].transform;return a?a(i):i})}function xv(n){return n.slice(n.length-1)}function Hte(n){for(let e of n.units){let t=oS(e);for(let i of e.ops())switch(i.kind){case k.Binding:let r=Ute(t,i.target);Wte(i.name)&&r.kind===k.Projection&&ee.remove(i);break}}}function Wte(n){return n.toLowerCase()==="select"}function Ute(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an slottable target.");return t}function jte(n){for(let e of n.units)zte(e)}function zte(n){for(let e of n.update)cr(e,(t,i)=>{if(wo(t)&&t.kind===Le.PipeBinding){if(i&ti.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(n.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");qte(n,e.target,t)}else n.create.push(Sk(t.target,t.targetSlot,t.name))}})}function qte(n,e,t){for(let i=n.create.head.next;i.kind!==k.ListEnd;i=i.next){if(!Rd(i)||i.xref!==e)continue;for(;i.next.kind===k.Pipe;)i=i.next;let r=Sk(t.target,t.targetSlot,t.name);ee.insertBefore(r,i.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${t.name}`)}function $te(n){for(let e of n.units)for(let t of e.update)yn(t,i=>!(i instanceof xd)||i.args.length<=4?i:new cv(i.target,i.targetSlot,i.name,oi(i.args),i.args.length),ti.None)}function Qte(n){Nk(n.root,0)}function Nk(n,e){let t=null;for(let i of n.create)switch(i.kind){case k.I18nStart:i.subTemplateIndex=e===0?null:e,t=i;break;case k.I18nEnd:t.subTemplateIndex===null&&(e=0),t=null;break;case k.Template:e=o2(n.job.views.get(i.xref),t,i.i18nPlaceholder,e);break;case k.RepeaterCreate:let r=n.job.views.get(i.xref);e=o2(r,t,i.i18nPlaceholder,e),i.emptyView!==null&&(e=o2(n.job.views.get(i.emptyView),t,i.emptyI18nPlaceholder,e));break}return e}function o2(n,e,t,i){if(t!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");i++,Gte(n,e)}return Nk(n,i)}function Gte(n,e){if(n.create.head.next?.kind!==k.I18nStart){let t=n.job.allocateXrefId();ee.insertAfter(Wv(t,e.message,e.root,null),n.create.head),ee.insertBefore(Uv(t,null),n.create.tail)}}function Yte(n){for(let e of n.units)for(let t of e.ops())cr(t,i=>{if(!(i instanceof Jl)||i.body===null)return;let r=new Sw(i.args.length);i.fn=n.pool.getSharedConstant(r,i.body),i.body=null})}var Sw=class extends ld{numArgs;constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof Cd?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,t){let i=[];for(let a=0;a<this.numArgs;a++)i.push(new Ln("a"+a));let r=ve(t,a=>a instanceof Cd?Bt("a"+a.index):a,ti.None);return new lr(e,new ql(i,r),void 0,zn.Final)}};function Kte(n){for(let e of n.units)for(let t of e.update)yn(t,(i,r)=>r&ti.InChildOperation?i:i instanceof Ba?Xte(i):i instanceof _o?Zte(i):i,ti.None)}function Xte(n){let e=[],t=[];for(let i of n.entries)if(i.isConstant())e.push(i);else{let r=t.length;t.push(i),e.push(new Cd(r))}return new Jl(oi(e),t)}function Zte(n){let e=[],t=[];for(let i of n.entries)if(i.value.isConstant())e.push(i);else{let r=t.length;t.push(i.value),e.push(new fd(i.key,new Cd(r),i.quoted))}return new Jl(hr(e),t)}function Jte(n,e,t,i,r){return jv(V.element,n,e,t,i,r)}function eie(n,e,t,i,r){return jv(V.elementStart,n,e,t,i,r)}function jv(n,e,t,i,r,a){let o=[q(e)];return t!==null&&o.push(q(t)),r!==null?o.push(q(i),q(r)):i!==null&&o.push(q(i)),Vt(n,o,a)}function tie(n){return Vt(V.elementEnd,[],n)}function iie(n,e,t,i){return jv(V.elementContainerStart,n,null,e,t,i)}function nie(n,e,t,i){return jv(V.elementContainer,n,null,e,t,i)}function rie(){return Vt(V.elementContainerEnd,[],null)}function aie(n,e,t,i,r,a,o,s){let l=[q(n),e,q(t),q(i),q(r),q(a)];for(o!==null&&(l.push(q(o)),l.push(Be(V.templateRefExtractor)));l[l.length-1].isEquivalent(Op);)l.pop();return Vt(V.templateCreate,l,s)}function oie(){return Vt(V.disableBindings,[],null)}function sie(){return Vt(V.enableBindings,[],null)}function lie(n,e,t,i,r){let a=[q(n),e];return t!==null&&(a.push(q(!1)),a.push(Be(t))),Vt(i?V.syntheticHostListener:V.listener,a,r)}function cM(n,e){return Be(V.twoWayBindingSet).callFn([n,e])}function cie(n,e,t){return Vt(V.twoWayListener,[q(n),e],t)}function die(n,e){return Vt(V.pipe,[q(n),q(e)],null)}function uie(){return Vt(V.namespaceHTML,[],null)}function pie(){return Vt(V.namespaceSVG,[],null)}function mie(){return Vt(V.namespaceMathML,[],null)}function hie(n,e){return Vt(V.advance,n>1?[q(n)]:[],e)}function fie(n){return Be(V.reference).callFn([q(n)])}function gie(n){return Be(V.nextContext).callFn(n===1?[]:[q(n)])}function vie(){return Be(V.getCurrentView).callFn([])}function _ie(n){return Be(V.restoreView).callFn([n])}function yie(n){return Be(V.resetView).callFn([n])}function bie(n,e,t){let i=[q(n,null)];return e!==""&&i.push(q(e)),Vt(V.text,i,t)}function wie(n,e,t,i,r,a,o,s,l,p,m){let _=[q(n),q(e),t??q(null),q(i),q(r),q(a),o??q(null),s??q(null),l?Be(V.deferEnableTimerScheduling):q(null),q(m)],S;for(;(S=_[_.length-1])!==null&&S instanceof $n&&S.value===null;)_.pop();return Vt(V.defer,_,p)}var Sie=new Map([[vi.Idle,{none:V.deferOnIdle,prefetch:V.deferPrefetchOnIdle,hydrate:V.deferHydrateOnIdle}],[vi.Immediate,{none:V.deferOnImmediate,prefetch:V.deferPrefetchOnImmediate,hydrate:V.deferHydrateOnImmediate}],[vi.Timer,{none:V.deferOnTimer,prefetch:V.deferPrefetchOnTimer,hydrate:V.deferHydrateOnTimer}],[vi.Hover,{none:V.deferOnHover,prefetch:V.deferPrefetchOnHover,hydrate:V.deferHydrateOnHover}],[vi.Interaction,{none:V.deferOnInteraction,prefetch:V.deferPrefetchOnInteraction,hydrate:V.deferHydrateOnInteraction}],[vi.Viewport,{none:V.deferOnViewport,prefetch:V.deferPrefetchOnViewport,hydrate:V.deferHydrateOnViewport}],[vi.Never,{none:V.deferHydrateNever,prefetch:V.deferHydrateNever,hydrate:V.deferHydrateNever}]]);function Cie(n,e,t,i){let r=Sie.get(n)?.[t];if(r===void 0)throw new Error(`Unable to determine instruction for trigger ${n}`);return Vt(r,e.map(a=>q(a)),i)}function xie(n){return Vt(V.projectionDef,n?[n]:[],null)}function Eie(n,e,t,i,r,a,o){let s=[q(n)];return(e!==0||t!==null||i!==null)&&(s.push(q(e)),t!==null&&s.push(t),i!==null&&(t===null&&s.push(q(null)),s.push(Bt(i),q(r),q(a)))),Vt(V.projection,s,o)}function Iie(n,e,t,i){let r=[q(n),q(e)];return t!==null&&r.push(q(t)),Vt(V.i18nStart,r,i)}function Tie(n,e,t,i,r,a,o,s,l,p,m,_,S,C){let E=[q(n),Bt(e),q(t),q(i),q(r),q(a),o];return(s||l!==null)&&(E.push(q(s)),l!==null&&(E.push(Bt(l),q(p),q(m)),(_!==null||S!==null)&&E.push(q(_)),S!==null&&E.push(q(S)))),Vt(V.repeaterCreate,E,C)}function Die(n,e){return Vt(V.repeater,[n],e)}function Aie(n,e,t){return n==="prefetch"?Vt(V.deferPrefetchWhen,[e],t):n==="hydrate"?Vt(V.deferHydrateWhen,[e],t):Vt(V.deferWhen,[e],t)}function Mie(n,e){return Vt(V.declareLet,[q(n)],e)}function kie(n,e){return Be(V.storeLet).callFn([n],e)}function Pie(n){return Be(V.readContextLet).callFn([q(n)])}function Lie(n,e,t,i){let r=[q(n),q(e)];return t&&r.push(q(t)),Vt(V.i18n,r,i)}function Rie(n){return Vt(V.i18nEnd,[],n)}function Bie(n,e){let t=[q(n),q(e)];return Vt(V.i18nAttributes,t,null)}function Fie(n,e,t,i){let r=[q(n),e];return t!==null&&r.push(t),Vt(V.property,r,i)}function Oie(n,e,t,i){let r=[q(n),e];return t!==null&&r.push(t),Vt(V.twoWayProperty,r,i)}function Nie(n,e,t,i){let r=[q(n),e];return(t!==null||i!==null)&&r.push(t??q(null)),i!==null&&r.push(q(i)),Vt(V.attribute,r,null)}function Vie(n,e,t,i){let r=[q(n),e];return t!==null&&r.push(q(t)),Vt(V.styleProp,r,i)}function Hie(n,e,t){return Vt(V.classProp,[q(n),e],t)}function Wie(n,e){return Vt(V.styleMap,[n],e)}function Uie(n,e){return Vt(V.classMap,[n],e)}var dM=[V.pipeBind1,V.pipeBind2,V.pipeBind3,V.pipeBind4];function jie(n,e,t){if(t.length<1||t.length>dM.length)throw new Error("pipeBind() argument count out of bounds");let i=dM[t.length-1];return Be(i).callFn([q(n),q(e),...t])}function zie(n,e,t){return Be(V.pipeBindV).callFn([q(n),q(e),t])}function qie(n,e,t){let i=Bd(n,e);return Fd(rne,[],i,[],t)}function $ie(n,e){return Vt(V.i18nExp,[n],e)}function Qie(n,e){return Vt(V.i18nApply,[q(n)],e)}function Gie(n,e,t,i,r){let a=Bd(e,t),o=[];return i!==null&&o.push(i),Fd(ane,[q(n)],a,o,r)}function Yie(n,e,t,i,r){let a=Bd(e,t),o=[];return i!==null&&o.push(i),Fd(sne,[q(n)],a,o,r)}function Kie(n,e,t,i,r){let a=Bd(e,t),o=[];return i!==null&&o.push(q(i)),Fd(one,[q(n)],a,o,r)}function Xie(n,e,t){let i=Bd(n,e);return Fd(lne,[],i,[],t)}function Zie(n,e,t){let i=Bd(n,e);return Fd(cne,[],i,[],t)}function Jie(n,e,t,i){let r=[q(n),e];return t!==null&&r.push(t),Vt(V.hostProperty,r,i)}function ene(n,e,t){return Vt(V.syntheticHostProperty,[q(n),e],t)}function tne(n,e,t){return Vk(dne,[q(n),e],t,[],null)}function ine(n,e){return Vt(V.attachSourceLocations,[q(n),e],null)}function Bd(n,e){if(n.length<1||e.length!==n.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let t=[];if(e.length===1&&n[0]===""&&n[1]==="")t.push(e[0]);else{let i;for(i=0;i<e.length;i++)t.push(q(n[i]),e[i]);t.push(q(n[i]))}return t}function Vt(n,e,t){let i=Be(n).callFn(e,t);return Na(new va(i,t))}function nne(n,e,t){let i=[n];return e!==null&&i.push(e),Vt(V.conditional,i,t)}var rne={constant:[V.textInterpolate,V.textInterpolate1,V.textInterpolate2,V.textInterpolate3,V.textInterpolate4,V.textInterpolate5,V.textInterpolate6,V.textInterpolate7,V.textInterpolate8],variable:V.textInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},ane={constant:[V.propertyInterpolate,V.propertyInterpolate1,V.propertyInterpolate2,V.propertyInterpolate3,V.propertyInterpolate4,V.propertyInterpolate5,V.propertyInterpolate6,V.propertyInterpolate7,V.propertyInterpolate8],variable:V.propertyInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},one={constant:[V.styleProp,V.stylePropInterpolate1,V.stylePropInterpolate2,V.stylePropInterpolate3,V.stylePropInterpolate4,V.stylePropInterpolate5,V.stylePropInterpolate6,V.stylePropInterpolate7,V.stylePropInterpolate8],variable:V.stylePropInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},sne={constant:[V.attribute,V.attributeInterpolate1,V.attributeInterpolate2,V.attributeInterpolate3,V.attributeInterpolate4,V.attributeInterpolate5,V.attributeInterpolate6,V.attributeInterpolate7,V.attributeInterpolate8],variable:V.attributeInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},lne={constant:[V.styleMap,V.styleMapInterpolate1,V.styleMapInterpolate2,V.styleMapInterpolate3,V.styleMapInterpolate4,V.styleMapInterpolate5,V.styleMapInterpolate6,V.styleMapInterpolate7,V.styleMapInterpolate8],variable:V.styleMapInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},cne={constant:[V.classMap,V.classMapInterpolate1,V.classMapInterpolate2,V.classMapInterpolate3,V.classMapInterpolate4,V.classMapInterpolate5,V.classMapInterpolate6,V.classMapInterpolate7,V.classMapInterpolate8],variable:V.classMapInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},dne={constant:[V.pureFunction0,V.pureFunction1,V.pureFunction2,V.pureFunction3,V.pureFunction4,V.pureFunction5,V.pureFunction6,V.pureFunction7,V.pureFunction8],variable:V.pureFunctionV,mapping:n=>n};function Vk(n,e,t,i,r){let a=n.mapping(t.length);if(a<n.constant.length)return Be(n.constant[a]).callFn([...e,...t,...i],r);if(n.variable!==null)return Be(n.variable).callFn([...e,oi(t),...i],r);throw new Error("AssertionError: unable to call variadic function")}function Fd(n,e,t,i,r){return Na(Vk(n,e,t,i,r).toStmt())}var une=new Map([["window",V.resolveWindow],["document",V.resolveDocument],["body",V.resolveBody]]);function pne(n){for(let e of n.units)mne(e,e.create),sS(e,e.update)}function mne(n,e){for(let t of e)switch(yn(t,Hk,ti.None),t.kind){case k.Text:ee.replace(t,bie(t.handle.slot,t.initialValue,t.sourceSpan));break;case k.ElementStart:ee.replace(t,eie(t.handle.slot,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case k.Element:ee.replace(t,Jte(t.handle.slot,t.tag,t.attributes,t.localRefs,t.wholeSourceSpan));break;case k.ElementEnd:ee.replace(t,tie(t.sourceSpan));break;case k.ContainerStart:ee.replace(t,iie(t.handle.slot,t.attributes,t.localRefs,t.startSourceSpan));break;case k.Container:ee.replace(t,nie(t.handle.slot,t.attributes,t.localRefs,t.wholeSourceSpan));break;case k.ContainerEnd:ee.replace(t,rie());break;case k.I18nStart:ee.replace(t,Iie(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case k.I18nEnd:ee.replace(t,Rie(t.sourceSpan));break;case k.I18n:ee.replace(t,Lie(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case k.I18nAttributes:if(t.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");ee.replace(t,Bie(t.handle.slot,t.i18nAttributesConfig));break;case k.Template:if(!(n instanceof fo))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let i=n.job.views.get(t.xref);ee.replace(t,aie(t.handle.slot,Bt(i.fnName),i.decls,i.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case k.DisableBindings:ee.replace(t,oie());break;case k.EnableBindings:ee.replace(t,sie());break;case k.Pipe:ee.replace(t,die(t.handle.slot,t.name));break;case k.DeclareLet:ee.replace(t,Mie(t.handle.slot,t.sourceSpan));break;case k.Listener:let r=uM(n,t.handlerFnName,t.handlerOps,t.consumesDollarEvent),a=t.eventTarget?une.get(t.eventTarget):null;if(a===void 0)throw new Error(`Unexpected global target '${t.eventTarget}' defined for '${t.name}' event. Supported list of global targets: window,document,body.`);ee.replace(t,lie(t.name,r,a,t.hostListener&&t.isAnimationListener,t.sourceSpan));break;case k.TwoWayListener:ee.replace(t,cie(t.name,uM(n,t.handlerFnName,t.handlerOps,!0),t.sourceSpan));break;case k.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);ee.replace(t,Na(new lr(t.variable.name,t.initializer,void 0,zn.Final)));break;case k.Namespace:switch(t.active){case or.HTML:ee.replace(t,uie());break;case or.SVG:ee.replace(t,pie());break;case or.Math:ee.replace(t,mie());break}break;case k.Defer:let o=!!t.loadingMinimumTime||!!t.loadingAfterTime||!!t.placeholderMinimumTime;ee.replace(t,wie(t.handle.slot,t.mainSlot.slot,t.resolverFn,t.loadingSlot?.slot??null,t.placeholderSlot?.slot??null,t.errorSlot?.slot??null,t.loadingConfig,t.placeholderConfig,o,t.sourceSpan,t.flags));break;case k.DeferOn:let s=[];switch(t.trigger.kind){case vi.Never:case vi.Idle:case vi.Immediate:break;case vi.Timer:s=[t.trigger.delay];break;case vi.Interaction:case vi.Hover:case vi.Viewport:if(t.modifier==="hydrate")s=[];else{if(t.trigger.targetSlot?.slot==null||t.trigger.targetSlotViewSteps===null)throw new Error(`Slot or view steps not set in trigger reification for trigger kind ${t.trigger.kind}`);s=[t.trigger.targetSlot.slot],t.trigger.targetSlotViewSteps!==0&&s.push(t.trigger.targetSlotViewSteps)}break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${t.trigger.kind}`)}ee.replace(t,Cie(t.trigger.kind,s,t.modifier,t.sourceSpan));break;case k.ProjectionDef:ee.replace(t,xie(t.def));break;case k.Projection:if(t.handle.slot===null)throw new Error("No slot was assigned for project instruction");let l=null,p=null,m=null;if(t.fallbackView!==null){if(!(n instanceof fo))throw new Error("AssertionError: must be compiling a component");let M=n.job.views.get(t.fallbackView);if(M===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(M.fnName===null||M.decls===null||M.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");l=M.fnName,p=M.decls,m=M.vars}ee.replace(t,Eie(t.handle.slot,t.projectionSlotIndex,t.attributes,l,p,m,t.sourceSpan));break;case k.RepeaterCreate:if(t.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(n instanceof fo))throw new Error("AssertionError: must be compiling a component");let _=n.job.views.get(t.xref);if(_.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let S=null,C=null,E=null;if(t.emptyView!==null){let M=n.job.views.get(t.emptyView);if(M===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(M.fnName===null||M.decls===null||M.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");S=M.fnName,C=M.decls,E=M.vars}ee.replace(t,Tie(t.handle.slot,_.fnName,t.decls,t.vars,t.tag,t.attributes,hne(n,t),t.usesComponentInstance,S,C,E,t.emptyTag,t.emptyAttributes,t.wholeSourceSpan));break;case k.SourceLocation:let I=oi(t.locations.map(({targetSlot:M,offset:F,line:N,column:U})=>{if(M.slot===null)throw new Error("No slot was assigned for source location");return oi([q(M.slot),q(F),q(N),q(U)])}));ee.replace(t,ine(t.templatePath,I));break;case k.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${k[t.kind]}`)}}function sS(n,e){for(let t of e)switch(yn(t,Hk,ti.None),t.kind){case k.Advance:ee.replace(t,hie(t.delta,t.sourceSpan));break;case k.Property:t.expression instanceof fn?ee.replace(t,Gie(t.name,t.expression.strings,t.expression.expressions,t.sanitizer,t.sourceSpan)):ee.replace(t,Fie(t.name,t.expression,t.sanitizer,t.sourceSpan));break;case k.TwoWayProperty:ee.replace(t,Oie(t.name,t.expression,t.sanitizer,t.sourceSpan));break;case k.StyleProp:t.expression instanceof fn?ee.replace(t,Kie(t.name,t.expression.strings,t.expression.expressions,t.unit,t.sourceSpan)):ee.replace(t,Vie(t.name,t.expression,t.unit,t.sourceSpan));break;case k.ClassProp:ee.replace(t,Hie(t.name,t.expression,t.sourceSpan));break;case k.StyleMap:t.expression instanceof fn?ee.replace(t,Xie(t.expression.strings,t.expression.expressions,t.sourceSpan)):ee.replace(t,Wie(t.expression,t.sourceSpan));break;case k.ClassMap:t.expression instanceof fn?ee.replace(t,Zie(t.expression.strings,t.expression.expressions,t.sourceSpan)):ee.replace(t,Uie(t.expression,t.sourceSpan));break;case k.I18nExpression:ee.replace(t,$ie(t.expression,t.sourceSpan));break;case k.I18nApply:ee.replace(t,Qie(t.handle.slot,t.sourceSpan));break;case k.InterpolateText:ee.replace(t,qie(t.interpolation.strings,t.interpolation.expressions,t.sourceSpan));break;case k.Attribute:t.expression instanceof fn?ee.replace(t,Yie(t.name,t.expression.strings,t.expression.expressions,t.sanitizer,t.sourceSpan)):ee.replace(t,Nie(t.name,t.expression,t.sanitizer,t.namespace));break;case k.HostProperty:if(t.expression instanceof fn)throw new Error("not yet handled");t.isAnimationTrigger?ee.replace(t,ene(t.name,t.expression,t.sourceSpan)):ee.replace(t,Jie(t.name,t.expression,t.sanitizer,t.sourceSpan));break;case k.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);ee.replace(t,Na(new lr(t.variable.name,t.initializer,void 0,zn.Final)));break;case k.Conditional:if(t.processed===null)throw new Error("Conditional test was not set.");ee.replace(t,nne(t.processed,t.contextValue,t.sourceSpan));break;case k.Repeater:ee.replace(t,Die(t.collection,t.sourceSpan));break;case k.DeferWhen:ee.replace(t,Aie(t.modifier,t.expr,t.sourceSpan));break;case k.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${t.declaredName}`);case k.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${k[t.kind]}`)}}function Hk(n){if(!wo(n))return n;switch(n.kind){case Le.NextContext:return gie(n.steps);case Le.Reference:return fie(n.targetSlot.slot+1+n.offset);case Le.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${n.name}`);case Le.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case Le.RestoreView:if(typeof n.view=="number")throw new Error("AssertionError: unresolved RestoreView");return _ie(n.view);case Le.ResetView:return yie(n.expr);case Le.GetCurrentView:return vie();case Le.ReadVariable:if(n.name===null)throw new Error(`Read of unnamed variable ${n.xref}`);return Bt(n.name);case Le.ReadTemporaryExpr:if(n.name===null)throw new Error(`Read of unnamed temporary ${n.xref}`);return Bt(n.name);case Le.AssignTemporaryExpr:if(n.name===null)throw new Error(`Assign of unnamed temporary ${n.xref}`);return Bt(n.name).set(n.expr);case Le.PureFunctionExpr:if(n.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return tne(n.varOffset,n.fn,n.args);case Le.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case Le.PipeBinding:return jie(n.targetSlot.slot,n.varOffset,n.args);case Le.PipeBindingVariadic:return zie(n.targetSlot.slot,n.varOffset,n.args);case Le.SlotLiteralExpr:return q(n.slot.slot);case Le.ContextLetReference:return Pie(n.targetSlot.slot);case Le.StoreLet:return kie(n.value,n.sourceSpan);case Le.TrackContext:return Bt("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${Le[n.kind]}`)}}function uM(n,e,t,i){sS(n,t);let r=[];for(let o of t){if(o.kind!==k.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${k[o.kind]}`);r.push(o.statement)}let a=[];return i&&a.push(new Ln("$event")),qs(a,r,void 0,void 0,e)}function hne(n,e){if(e.trackByFn!==null)return e.trackByFn;let t=[new Ln("$index"),new Ln("$item")],i;if(e.trackByOps===null)i=e.usesComponentInstance?qs(t,[new sr(e.track)]):Fa(t,e.track);else{sS(n,e.trackByOps);let r=[];for(let a of e.trackByOps){if(a.kind!==k.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${k[a.kind]}`);r.push(a.statement)}i=e.usesComponentInstance||r.length!==1||!(r[0]instanceof sr)?qs(t,r):Fa(t,r[0].value)}return e.trackByFn=n.job.pool.getSharedFunctionReference(i,"_forTrack"),e.trackByFn}function fne(n){for(let e of n.units)for(let t of e.update)switch(t.kind){case k.Attribute:case k.Binding:case k.ClassProp:case k.ClassMap:case k.Property:case k.StyleProp:case k.StyleMap:t.expression instanceof cm&&ee.remove(t);break}}function gne(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case k.I18nContext:ee.remove(t);break;case k.I18nStart:t.context=null;break}}function vne(n){for(let e of n.units){let t=new Set;for(let i of e.update)switch(i.kind){case k.I18nExpression:t.add(i.i18nOwner)}for(let i of e.create)switch(i.kind){case k.I18nAttributes:if(t.has(i.xref))continue;ee.remove(i)}}}function _ne(n){for(let e of n.units)Ev(e,e.create),Ev(e,e.update)}function Ev(n,e){let t=new Map;t.set(n.xref,Bt("ctx"));for(let i of e)switch(i.kind){case k.Variable:switch(i.variable.kind){case Pn.Context:t.set(i.variable.view,new Zo(i.xref));break}break;case k.Listener:case k.TwoWayListener:Ev(n,i.handlerOps);break;case k.RepeaterCreate:i.trackByOps!==null&&Ev(n,i.trackByOps);break}n===n.job.root&&t.set(n.xref,Bt("ctx"));for(let i of e)yn(i,r=>{if(r instanceof ts){if(!t.has(r.view))throw new Error(`No context found for reference to view ${r.view} from view ${n.xref}`);return t.get(r.view)}else return r},ti.None)}function yne(n){for(let e of n.units)pM(e.create),pM(e.update)}function pM(n){for(let e of n)(e.kind===k.Listener||e.kind===k.TwoWayListener)&&yn(e,t=>t instanceof jn&&t.name==="$event"?(e.kind===k.Listener&&(e.consumesDollarEvent=!0),new ga(t.name)):t,ti.InChildOperation)}function bne(n){let e=new Map,t=new Map;for(let i of n.units)for(let r of i.create)switch(r.kind){case k.I18nContext:e.set(r.xref,r);break;case k.ElementStart:t.set(r.xref,r);break}Fs(n,n.root,e,t)}function Fs(n,e,t,i,r){let a=null,o=new Map;for(let s of e.create)switch(s.kind){case k.I18nStart:if(!s.context)throw Error("Could not find i18n context for i18n op");a={i18nBlock:s,i18nContext:t.get(s.context)};break;case k.I18nEnd:a=null;break;case k.ElementStart:if(s.i18nPlaceholder!==void 0){if(a===null)throw Error("i18n tag placeholder should only occur inside an i18n block");mM(s,a.i18nContext,a.i18nBlock,r),r&&s.i18nPlaceholder.closeName&&o.set(s.xref,r),r=void 0}break;case k.ElementEnd:let l=i.get(s.xref);if(l&&l.i18nPlaceholder!==void 0){if(a===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");hM(l,a.i18nContext,a.i18nBlock,o.get(s.xref)),o.delete(s.xref)}break;case k.Projection:if(s.i18nPlaceholder!==void 0){if(a===null)throw Error("i18n tag placeholder should only occur inside an i18n block");mM(s,a.i18nContext,a.i18nBlock,r),hM(s,a.i18nContext,a.i18nBlock,r),r=void 0}break;case k.Template:let p=n.views.get(s.xref);if(s.i18nPlaceholder===void 0)Fs(n,p,t,i);else{if(a===null)throw Error("i18n tag placeholder should only occur inside an i18n block");s.templateKind===Hr.Structural?Fs(n,p,t,i,s):(s2(n,p,s.handle.slot,s.i18nPlaceholder,a.i18nContext,a.i18nBlock,r),Fs(n,p,t,i),l2(n,p,s.handle.slot,s.i18nPlaceholder,a.i18nContext,a.i18nBlock,r),r=void 0)}break;case k.RepeaterCreate:if(r!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let m=s.handle.slot+1,_=n.views.get(s.xref);if(s.i18nPlaceholder===void 0)Fs(n,_,t,i);else{if(a===null)throw Error("i18n tag placeholder should only occur inside an i18n block");s2(n,_,m,s.i18nPlaceholder,a.i18nContext,a.i18nBlock,r),Fs(n,_,t,i),l2(n,_,m,s.i18nPlaceholder,a.i18nContext,a.i18nBlock,r),r=void 0}if(s.emptyView!==null){let S=s.handle.slot+2,C=n.views.get(s.emptyView);if(s.emptyI18nPlaceholder===void 0)Fs(n,C,t,i);else{if(a===null)throw Error("i18n tag placeholder should only occur inside an i18n block");s2(n,C,S,s.emptyI18nPlaceholder,a.i18nContext,a.i18nBlock,r),Fs(n,C,t,i),l2(n,C,S,s.emptyI18nPlaceholder,a.i18nContext,a.i18nBlock,r),r=void 0}}break}}function mM(n,e,t,i){let{startName:r,closeName:a}=n.i18nPlaceholder,o=wi.ElementTag|wi.OpenTag,s=n.handle.slot;i!==void 0&&(o|=wi.TemplateTag,s={element:s,template:i.handle.slot}),a||(o|=wi.CloseTag),Md(e.params,r,s,t.subTemplateIndex,o)}function hM(n,e,t,i){let{closeName:r}=n.i18nPlaceholder;if(r){let a=wi.ElementTag|wi.CloseTag,o=n.handle.slot;i!==void 0&&(a|=wi.TemplateTag,o={element:o,template:i.handle.slot}),Md(e.params,r,o,t.subTemplateIndex,a)}}function s2(n,e,t,i,r,a,o){let{startName:s,closeName:l}=i,p=wi.TemplateTag|wi.OpenTag;l||(p|=wi.CloseTag),o!==void 0&&Md(r.params,s,o.handle.slot,a.subTemplateIndex,p),Md(r.params,s,t,Wk(n,a,e),p)}function l2(n,e,t,i,r,a,o){let{closeName:s}=i,l=wi.TemplateTag|wi.CloseTag;s&&(Md(r.params,s,t,Wk(n,a,e),l),o!==void 0&&Md(r.params,s,o.handle.slot,a.subTemplateIndex,l))}function Wk(n,e,t){for(let i of t.create)if(i.kind===k.I18nStart)return i.subTemplateIndex;return e.subTemplateIndex}function Md(n,e,t,i,r){let a=n.get(e)??[];a.push({value:t,subTemplateIndex:i,flags:r}),n.set(e,a)}function wne(n){let e=new Map,t=new Map,i=new Map;for(let o of n.units)for(let s of o.create)switch(s.kind){case k.I18nStart:e.set(s.xref,s.subTemplateIndex);break;case k.I18nContext:t.set(s.xref,s);break;case k.IcuPlaceholder:i.set(s.xref,s);break}let r=new Map,a=o=>o.usage===Pd.I18nText?o.i18nOwner:o.context;for(let o of n.units)for(let s of o.update)if(s.kind===k.I18nExpression){let l=r.get(a(s))||0,p=e.get(s.i18nOwner)??null,m={value:l,subTemplateIndex:p,flags:wi.ExpressionIndex};Sne(s,m,t,i),r.set(a(s),l+1)}}function Sne(n,e,t,i){if(n.i18nPlaceholder!==null){let r=t.get(n.context),a=n.resolutionTime===om.Creation?r.params:r.postprocessingParams,o=a.get(n.i18nPlaceholder)||[];o.push(e),a.set(n.i18nPlaceholder,o)}n.icuPlaceholder!==null&&i.get(n.icuPlaceholder)?.expressionPlaceholders.push(e)}function Cne(n){for(let e of n.units)Iv(e,e.create,null),Iv(e,e.update,null)}function Iv(n,e,t){let i=new Map,r=new Map;for(let a of e)switch(a.kind){case k.Variable:switch(a.variable.kind){case Pn.Identifier:if(a.variable.local){if(r.has(a.variable.identifier))continue;r.set(a.variable.identifier,a.xref)}else if(i.has(a.variable.identifier))continue;i.set(a.variable.identifier,a.xref);break;case Pn.Alias:if(i.has(a.variable.identifier))continue;i.set(a.variable.identifier,a.xref);break;case Pn.SavedView:t={view:a.variable.view,variable:a.xref};break}break;case k.Listener:case k.TwoWayListener:Iv(n,a.handlerOps,t);break;case k.RepeaterCreate:a.trackByOps!==null&&Iv(n,a.trackByOps,t);break}for(let a of e)a.kind==k.Listener||a.kind===k.TwoWayListener||yn(a,o=>{if(o instanceof jn)return r.has(o.name)?new Zo(r.get(o.name)):i.has(o.name)?new Zo(i.get(o.name)):new Ur(new ts(n.job.root.xref),o.name);if(o instanceof sv&&typeof o.view=="number"){if(t===null||t.view!==o.view)throw new Error(`AssertionError: no saved view ${o.view} from view ${n.xref}`);return o.view=new Zo(t.variable),o}else return o},ti.None);for(let a of e)cr(a,o=>{if(o instanceof jn)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${o.name}`)})}var xne=new Map([[Mi.HTML,V.sanitizeHtml],[Mi.RESOURCE_URL,V.sanitizeResourceUrl],[Mi.SCRIPT,V.sanitizeScript],[Mi.STYLE,V.sanitizeStyle],[Mi.URL,V.sanitizeUrl]]),Ene=new Map([[Mi.HTML,V.trustConstantHtml],[Mi.RESOURCE_URL,V.trustConstantResourceUrl]]);function Ine(n){for(let e of n.units){let t=oS(e);if(n.kind!==fe.Host){for(let i of e.create)if(i.kind===k.ExtractedAttribute){let r=Ene.get(fM(i.securityContext))??null;i.trustedValueFn=r!==null?Be(r):null}}for(let i of e.update)switch(i.kind){case k.Property:case k.Attribute:case k.HostProperty:let r=null;if(Array.isArray(i.securityContext)&&i.securityContext.length===2&&i.securityContext.indexOf(Mi.URL)>-1&&i.securityContext.indexOf(Mi.RESOURCE_URL)>-1?r=V.sanitizeUrlOrResourceUrl:r=xne.get(fM(i.securityContext))??null,i.sanitizer=r!==null?Be(r):null,i.sanitizer===null){let a=!1;if(n.kind===fe.Host||i.kind===k.HostProperty)a=!0;else{let o=t.get(i.target);if(o===void 0||!Ks(o))throw Error("Property should have an element-like owner");a=Tne(o)}a&&Ree(i.name)&&(i.sanitizer=Be(V.validateIframeAttribute))}break}}}function Tne(n){return n.kind===k.ElementStart&&n.tag?.toLowerCase()==="iframe"}function fM(n){if(Array.isArray(n)){if(n.length>1)throw Error("AssertionError: Ambiguous security context");return n[0]||Mi.NONE}return n}function Dne(n){for(let e of n.units)for(let t of e.create)t.kind===k.TwoWayListener&&yn(t,i=>{if(!(i instanceof lv))return i;let{target:r,value:a}=i;if(r instanceof Ur||r instanceof es)return cM(r,a).or(r.set(a));if(r instanceof Zo)return cM(r,a);throw new Error("Unsupported expression in two-way action binding.")},ti.InChildOperation)}function Ane(n){for(let e of n.units){e.create.prepend([Ws(e.job.allocateXrefId(),{kind:Pn.SavedView,name:null,view:e.xref},new Z2,ca.None)]);for(let t of e.create){if(t.kind!==k.Listener&&t.kind!==k.TwoWayListener)continue;let i=e!==n.root;if(!i)for(let r of t.handlerOps)cr(r,a=>{(a instanceof av||a instanceof lm)&&(i=!0)});i&&Mne(e,t)}}}function Mne(n,e){e.handlerOps.prepend([Ws(n.job.allocateXrefId(),{kind:Pn.Context,name:null,view:n.xref},new sv(n.xref),ca.None)]);for(let t of e.handlerOps)t.kind===k.Statement&&t.statement instanceof sr&&(t.statement.value=new J2(t.statement.value))}function kne(n){let e=new Map;for(let t of n.units){let i=0;for(let r of t.create)Rd(r)&&(r.handle.slot=i,e.set(r.xref,r.handle.slot),i+=r.numSlotsUsed);t.decls=i}for(let t of n.units)for(let i of t.ops())if(i.kind===k.Template||i.kind===k.RepeaterCreate){let r=n.views.get(i.xref);i.decls=r.decls}}function Pne(n){for(let e of n.units)for(let t of e.update)if(t.kind===k.Binding)switch(t.bindingKind){case Re.ClassName:if(t.expression instanceof fn)throw new Error("Unexpected interpolation in ClassName binding");ee.replace(t,xZ(t.target,t.name,t.expression,t.sourceSpan));break;case Re.StyleProperty:ee.replace(t,CZ(t.target,t.name,t.expression,t.unit,t.sourceSpan));break;case Re.Property:case Re.Template:t.name==="style"?ee.replace(t,EZ(t.target,t.expression,t.sourceSpan)):t.name==="class"&&ee.replace(t,IZ(t.target,t.expression,t.sourceSpan));break}}function Lne(n){for(let e of n.units)e.create.prepend(Tv(e.create)),e.update.prepend(Tv(e.update))}function Tv(n){let e=0,t=[];for(let i of n){let r=new Map;cr(i,(p,m)=>{m&ti.InChildOperation||p instanceof is&&r.set(p.xref,p)});let a=0,o=new Set,s=new Set,l=new Map;cr(i,(p,m)=>{m&ti.InChildOperation||(p instanceof Va?(o.has(p.xref)||(o.add(p.xref),l.set(p.xref,`tmp_${e}_${a++}`)),gM(l,p)):p instanceof is&&(r.get(p.xref)===p&&(s.add(p.xref),a--),gM(l,p)))}),t.push(...Array.from(new Set(l.values())).map(p=>Na(new lr(p)))),e++,i.kind===k.Listener||i.kind===k.TwoWayListener?i.handlerOps.prepend(Tv(i.handlerOps)):i.kind===k.RepeaterCreate&&i.trackByOps!==null&&i.trackByOps.prepend(Tv(i.trackByOps))}return t}function gM(n,e){let t=n.get(e.xref);if(t===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=t}function Rne(n){for(let e of n.units)for(let t of e.create)if(t.kind===k.RepeaterCreate)if(t.track instanceof ga&&t.track.name==="$index")t.trackByFn=Be(V.repeaterTrackByIndex);else if(t.track instanceof ga&&t.track.name==="$item")t.trackByFn=Be(V.repeaterTrackByIdentity);else if(Bne(n.root.xref,t.track))t.usesComponentInstance=!0,t.track.receiver.receiver.view===e.xref?t.trackByFn=t.track.receiver:(t.trackByFn=Be(V.componentInstance).callFn([]).prop(t.track.receiver.name),t.track=t.trackByFn);else{t.track=ve(t.track,r=>{if(r instanceof xd||r instanceof cv)throw new Error("Illegal State: Pipes are not allowed in this context");return r instanceof ts?(t.usesComponentInstance=!0,new X2(r.view)):r},ti.None);let i=new ee;i.push(Na(new sr(t.track,t.track.sourceSpan))),t.trackByOps=i}}function Bne(n,e){if(!(e instanceof kr)||e.args.length===0||e.args.length>2||!(e.receiver instanceof Ur&&e.receiver.receiver instanceof ts)||e.receiver.receiver.view!==n)return!1;let[t,i]=e.args;return!(t instanceof ga)||t.name!=="$index"?!1:e.args.length===1?!0:!(!(i instanceof ga)||i.name!=="$item")}function Fne(n){for(let e of n.units)for(let t of e.create)t.kind===k.RepeaterCreate&&(t.track=ve(t.track,i=>{if(i instanceof jn){if(t.varNames.$index.has(i.name))return Bt("$index");if(i.name===t.varNames.$implicit)return Bt("$item")}return i},ti.None))}function One(n){for(let e of n.units){let t=0;for(let i of e.ops())t2(i)&&(t+=Nne(i));for(let i of e.ops())cr(i,r=>{wo(r)&&(n.compatibility===jr.TemplateDefinitionBuilder&&r instanceof Jl||(RA(r)&&(r.varOffset=t),t2(r)&&(t+=vM(r))))});if(n.compatibility===jr.TemplateDefinitionBuilder)for(let i of e.ops())cr(i,r=>{!wo(r)||!(r instanceof Jl)||(RA(r)&&(r.varOffset=t),t2(r)&&(t+=vM(r)))});e.vars=t}if(n instanceof um)for(let e of n.units)for(let t of e.create){if(t.kind!==k.Template&&t.kind!==k.RepeaterCreate)continue;let i=n.views.get(t.xref);t.vars=i.vars}}function Nne(n){let e;switch(n.kind){case k.Property:case k.HostProperty:case k.Attribute:return e=1,n.expression instanceof fn&&!Vne(n.expression)&&(e+=n.expression.expressions.length),e;case k.TwoWayProperty:return 1;case k.StyleProp:case k.ClassProp:case k.StyleMap:case k.ClassMap:return e=2,n.expression instanceof fn&&(e+=n.expression.expressions.length),e;case k.InterpolateText:return n.interpolation.expressions.length;case k.I18nExpression:case k.Conditional:case k.DeferWhen:case k.StoreLet:return 1;case k.RepeaterCreate:return n.emptyView?1:0;default:throw new Error(`Unhandled op: ${k[n.kind]}`)}}function vM(n){switch(n.kind){case Le.PureFunctionExpr:return 1+n.args.length;case Le.PipeBinding:return 1+n.args.length;case Le.PipeBindingVariadic:return 1+n.numArgs;case Le.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${n.constructor.name}`)}}function Vne(n){return!(n.expressions.length!==1||n.strings.length!==2||n.strings[0]!==""||n.strings[1]!=="")}function Hne(n){for(let e of n.units){cg(e.create),cg(e.update);for(let t of e.create)t.kind===k.Listener||t.kind===k.TwoWayListener?cg(t.handlerOps):t.kind===k.RepeaterCreate&&t.trackByOps!==null&&cg(t.trackByOps);dg(e.create,n.compatibility),dg(e.update,n.compatibility);for(let t of e.create)t.kind===k.Listener||t.kind===k.TwoWayListener?dg(t.handlerOps,n.compatibility):t.kind===k.RepeaterCreate&&t.trackByOps!==null&&dg(t.trackByOps,n.compatibility)}}var An=function(n){return n[n.None=0]="None",n[n.ViewContextRead=1]="ViewContextRead",n[n.ViewContextWrite=2]="ViewContextWrite",n[n.SideEffectful=4]="SideEffectful",n}(An||{});function cg(n){let e=new Map;for(let t of n)t.kind===k.Variable&&t.flags&ca.AlwaysInline&&(cr(t,i=>{if(wo(i)&&lS(i)!==An.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(t.xref,t)),yn(t,i=>i instanceof Zo&&e.has(i.xref)?e.get(i.xref).initializer.clone():i,ti.None);for(let t of e.values())ee.remove(t)}function dg(n,e){let t=new Map,i=new Map,r=new Set,a=new Map;for(let p of n){if(p.kind===k.Variable){if(t.has(p.xref)||i.has(p.xref))throw new Error(`Should not see two declarations of the same variable: ${p.xref}`);t.set(p.xref,p),i.set(p.xref,0)}a.set(p,Wne(p)),Une(p,i,r)}let o=!1;for(let p of n.reversed()){let m=a.get(p);if(p.kind===k.Variable&&i.get(p.xref)===0){if(o&&m.fences&An.ViewContextWrite||m.fences&An.SideEffectful){let _=Na(p.initializer.toStmt());a.set(_,m),ee.replace(p,_)}else jne(p,i),ee.remove(p);a.delete(p),t.delete(p.xref),i.delete(p.xref);continue}m.fences&An.ViewContextRead&&(o=!0)}let s=[];for(let[p,m]of i){let S=!!(t.get(p).flags&ca.AlwaysInline);m!==1||S||r.has(p)||s.push(p)}let l;for(;l=s.pop();){let p=t.get(l),m=a.get(p);if(!!(p.flags&ca.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let S=p.next;S.kind!==k.ListEnd;S=S.next){let C=a.get(S);if(C.variablesUsed.has(l)){if(e===jr.TemplateDefinitionBuilder&&!qne(p,S))break;if(zne(l,p.initializer,S,m.fences)){C.variablesUsed.delete(l);for(let E of m.variablesUsed)C.variablesUsed.add(E);C.fences|=m.fences,t.delete(l),i.delete(l),a.delete(p),ee.remove(p)}break}if(!Uk(C.fences,m.fences))break}}}function lS(n){switch(n.kind){case Le.NextContext:return An.ViewContextRead|An.ViewContextWrite;case Le.RestoreView:return An.ViewContextRead|An.ViewContextWrite|An.SideEffectful;case Le.StoreLet:return An.SideEffectful;case Le.Reference:case Le.ContextLetReference:return An.ViewContextRead;default:return An.None}}function Wne(n){let e=An.None,t=new Set;return cr(n,i=>{if(wo(i))switch(i.kind){case Le.ReadVariable:t.add(i.xref);break;default:e|=lS(i)}}),{fences:e,variablesUsed:t}}function Une(n,e,t){cr(n,(i,r)=>{if(!wo(i)||i.kind!==Le.ReadVariable)return;let a=e.get(i.xref);a!==void 0&&(e.set(i.xref,a+1),r&ti.InChildOperation&&t.add(i.xref))})}function jne(n,e){cr(n,t=>{if(!wo(t)||t.kind!==Le.ReadVariable)return;let i=e.get(t.xref);if(i!==void 0){if(i===0)throw new Error(`Inaccurate variable count: ${t.xref} - found another read but count is already 0`);e.set(t.xref,i-1)}})}function Uk(n,e){if(n&An.ViewContextWrite){if(e&An.ViewContextRead)return!1}else if(n&An.ViewContextRead&&e&An.ViewContextWrite)return!1;return!0}function zne(n,e,t,i){let r=!1,a=!0;return yn(t,(o,s)=>{if(!wo(o)||r||!a)return o;if(s&ti.InChildOperation&&i&An.ViewContextRead)return o;switch(o.kind){case Le.ReadVariable:if(o.xref===n)return r=!0,e;break;default:let l=lS(o);a=a&&Uk(l,i);break}return o},ti.None),r}function qne(n,e){switch(n.variable.kind){case Pn.Identifier:return n.initializer instanceof ga&&n.initializer.name==="ctx";case Pn.Context:return e.kind===k.Variable;default:return!0}}function $ne(n){for(let e of n.units){let t=null,i=null;for(let r of e.create)switch(r.kind){case k.I18nStart:t=r;break;case k.I18nEnd:t=null;break;case k.IcuStart:t===null&&(i=n.allocateXrefId(),ee.insertBefore(Wv(i,r.message,void 0,null),r));break;case k.IcuEnd:i!==null&&(ee.insertAfter(Uv(i,null),r),i=null);break}}}function Qne(n){let e=new Set;for(let t of n.units)for(let i of t.ops())cr(i,r=>{r instanceof lm&&e.add(r.target)});for(let t of n.units)for(let i of t.update)yn(i,r=>r instanceof sm&&!e.has(r.target)?r.value:r,ti.None)}function Gne(n){for(let e of n.units)for(let t of e.update){if(t.kind!==k.Variable||t.variable.kind!==Pn.Identifier||!(t.initializer instanceof sm))continue;let i=t.variable.identifier,r=t;for(;r&&r.kind!==k.ListEnd;)yn(r,a=>a instanceof jn&&a.name===i?q(void 0):a,ti.None),r=r.prev}}function Yne(n){for(let e of n.units)for(let t of e.update){if(t.kind!==k.StoreLet)continue;let i={kind:Pn.Identifier,name:null,identifier:t.declaredName,local:!0};ee.replace(t,Ws(n.allocateXrefId(),i,new sm(t.target,t.value,t.sourceSpan),ca.None))}}function Kne(n){if(!(!n.enableDebugLocations||n.relativeTemplatePath===null))for(let e of n.units){let t=[];for(let i of e.create)if(i.kind===k.ElementStart||i.kind===k.Element){let r=i.startSourceSpan.start;t.push({targetSlot:i.handle,offset:r.offset,line:r.line,column:r.col})}t.length>0&&e.create.push(GZ(n.relativeTemplatePath,t))}}var Xne=[{kind:fe.Tmpl,fn:Hte},{kind:fe.Host,fn:KJ},{kind:fe.Tmpl,fn:Ste},{kind:fe.Tmpl,fn:Qte},{kind:fe.Tmpl,fn:$ne},{kind:fe.Both,fn:_J},{kind:fe.Both,fn:Pne},{kind:fe.Both,fn:rJ},{kind:fe.Both,fn:tJ},{kind:fe.Tmpl,fn:vJ},{kind:fe.Both,fn:xte},{kind:fe.Tmpl,fn:fne},{kind:fe.Both,fn:lJ},{kind:fe.Both,fn:Vte},{kind:fe.Tmpl,fn:cJ},{kind:fe.Tmpl,fn:jte},{kind:fe.Tmpl,fn:yJ},{kind:fe.Tmpl,fn:yte},{kind:fe.Tmpl,fn:fJ},{kind:fe.Tmpl,fn:vne},{kind:fe.Tmpl,fn:eJ},{kind:fe.Tmpl,fn:ZZ},{kind:fe.Tmpl,fn:$te},{kind:fe.Both,fn:Kte},{kind:fe.Tmpl,fn:qJ},{kind:fe.Tmpl,fn:Yne},{kind:fe.Tmpl,fn:$J},{kind:fe.Tmpl,fn:Ane},{kind:fe.Both,fn:KZ},{kind:fe.Both,fn:yne},{kind:fe.Tmpl,fn:Fne},{kind:fe.Tmpl,fn:Gne},{kind:fe.Both,fn:Cne},{kind:fe.Tmpl,fn:bJ},{kind:fe.Tmpl,fn:Dne},{kind:fe.Tmpl,fn:Rne},{kind:fe.Both,fn:_ne},{kind:fe.Both,fn:Ine},{kind:fe.Tmpl,fn:bte},{kind:fe.Both,fn:Lte},{kind:fe.Both,fn:EJ},{kind:fe.Both,fn:Lne},{kind:fe.Both,fn:Hne},{kind:fe.Both,fn:Qne},{kind:fe.Tmpl,fn:kne},{kind:fe.Tmpl,fn:bne},{kind:fe.Tmpl,fn:wne},{kind:fe.Tmpl,fn:HJ},{kind:fe.Tmpl,fn:hte},{kind:fe.Tmpl,fn:GJ},{kind:fe.Both,fn:mJ},{kind:fe.Tmpl,fn:gne},{kind:fe.Both,fn:One},{kind:fe.Tmpl,fn:zJ},{kind:fe.Both,fn:Ete},{kind:fe.Tmpl,fn:gJ},{kind:fe.Tmpl,fn:Dte},{kind:fe.Tmpl,fn:Mte},{kind:fe.Tmpl,fn:xJ},{kind:fe.Tmpl,fn:Kne},{kind:fe.Tmpl,fn:Pte},{kind:fe.Both,fn:Yte},{kind:fe.Both,fn:pne},{kind:fe.Both,fn:sJ}];function jk(n,e){for(let t of Xne)(t.kind===e||t.kind===fe.Both)&&t.fn(n)}function Zne(n,e){let t=qk(n.root);return zk(n.root,e),t}function zk(n,e){for(let t of n.job.units){if(t.parent!==n.xref)continue;zk(t,e);let i=qk(t);e.statements.push(i.toDeclStmt(i.name))}}function qk(n){if(n.fnName===null)throw new Error(`AssertionError: view ${n.xref} is unnamed`);let e=[];for(let a of n.create){if(a.kind!==k.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${k[a.kind]}`);e.push(a.statement)}let t=[];for(let a of n.update){if(a.kind!==k.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${k[a.kind]}`);t.push(a.statement)}let i=Dv(1,e),r=Dv(2,t);return qs([new Ln("rf"),new Ln("ctx")],[...i,...r],void 0,void 0,n.fnName)}function Dv(n,e){return e.length===0?[]:[Lv(new Gt(Me.BitwiseAnd,Bt("rf"),q(n)),e)]}function Jne(n){if(n.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let a of n.root.create){if(a.kind!==k.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${k[a.kind]}`);e.push(a.statement)}let t=[];for(let a of n.root.update){if(a.kind!==k.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${k[a.kind]}`);t.push(a.statement)}if(e.length===0&&t.length===0)return null;let i=Dv(1,e),r=Dv(2,t);return qs([new Ln("rf"),new Ln("ctx")],[...i,...r],void 0,void 0,n.root.fnName)}var $k=jr.TemplateDefinitionBuilder,Ul=new Ad,jl="ng-template";function Cw(n){return n instanceof mr}function ere(n){return Cw(n)&&n.nodes.length===1&&n.nodes[0]instanceof Xg}function tre(n,e,t,i,r,a,o,s,l){let p=new um(n,t,$k,i,r,a,o,s,l);return ns(p.root,e),p}function ire(n,e,t){let i=new fv(n.componentName,t,$k);for(let r of n.properties??[]){let a=Re.Property;r.name.startsWith("attr.")&&(r.name=r.name.substring(5),a=Re.Attribute),r.isAnimation&&(a=Re.Animation);let o=e.calcPossibleSecurityContexts(n.componentSelector,r.name,a===Re.Attribute).filter(s=>s!==Mi.NONE);nre(i,r,a,o)}for(let[r,a]of Object.entries(n.attributes)??[]){let o=e.calcPossibleSecurityContexts(n.componentSelector,r,!0).filter(s=>s!==Mi.NONE);rre(i,r,a,o)}for(let r of n.events??[])are(i,r);return i}function nre(n,e,t,i){let r,a=e.expression.ast;a instanceof wm?r=new fn(a.strings,a.expressions.map(o=>It(o,n,e.sourceSpan)),[]):r=It(a,n,e.sourceSpan),n.root.update.push(Zl(n.root.xref,t,e.name,r,null,i,!1,!1,null,null,e.sourceSpan))}function rre(n,e,t,i){let r=Zl(n.root.xref,Re.Attribute,e,t,null,i,!0,!1,null,null,t.sourceSpan);n.root.update.push(r)}function are(n,e){let[t,i]=e.type!==fa.Animation?[null,e.targetOrPhase]:[e.targetOrPhase,null],r=aS(n.root.xref,new Pr,e.name,null,cS(n.root,e.handler,e.handlerSpan),t,i,!0,e.sourceSpan);n.root.create.push(r)}function ns(n,e){for(let t of e)if(t instanceof yo)ore(n,t);else if(t instanceof Vr)sre(n,t);else if(t instanceof wd)lre(n,t);else if(t instanceof Rl)Qk(n,t,null);else if(t instanceof _d)Gk(n,t,null);else if(t instanceof Yg)cre(n,t);else if(t instanceof Gg)dre(n,t);else if(t instanceof Kl)ure(n,t);else if(t instanceof $M)mre(n,t);else if(t instanceof bd)hre(n,t);else if(t instanceof Gw)gre(n,t);else throw new Error(`Unsupported template node: ${t.constructor.name}`)}function ore(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof mr||e.i18n instanceof Qs))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=n.job.allocateXrefId(),[i,r]=Oa(e.name),a=RZ(r,t,Ek(i),e.i18n instanceof Qs?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);n.create.push(a),_re(n,a,e),Xk(a,e);let o=null;e.i18n instanceof mr&&(o=n.job.allocateXrefId(),n.create.push(Wv(o,e.i18n,void 0,e.startSourceSpan))),ns(n,e.children);let s=FZ(t,e.endSourceSpan??e.startSourceSpan);n.create.push(s),o!==null&&ee.insertBefore(Uv(o,e.endSourceSpan??e.startSourceSpan),s)}function sre(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof mr||e.i18n instanceof Qs))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let t=n.job.allocateView(n.xref),i=e.tagName,r="";e.tagName&&([r,i]=Oa(e.tagName));let a=e.i18n instanceof Qs?e.i18n:void 0,o=Ek(r),s=i===null?"":pJ(i,o),l=vre(e)?Hr.NgTemplate:Hr.Structural,p=Hv(t.xref,l,i,s,o,a,e.startSourceSpan,e.sourceSpan);n.create.push(p),yre(n,p,e,l),Xk(p,e),ns(t,e.children);for(let{name:m,value:_}of e.variables)t.contextVariables.set(m,_!==""?_:"$implicit");if(l===Hr.NgTemplate&&e.i18n instanceof mr){let m=n.job.allocateXrefId();ee.insertAfter(Wv(m,e.i18n,void 0,e.startSourceSpan),t.create.head),ee.insertBefore(Uv(m,e.endSourceSpan??e.startSourceSpan),t.create.tail)}}function lre(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof Qs))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=null;e.children.some(a=>!(a instanceof Bv)&&(!(a instanceof Rl)||a.value.trim().length>0))&&(t=n.job.allocateView(n.xref),ns(t,e.children));let i=n.job.allocateXrefId(),r=WZ(i,e.selector,e.i18n,t?.xref??null,e.sourceSpan);for(let a of e.attributes){let o=Ul.securityContext(e.name,a.name,!0);n.update.push(Zl(r.xref,Re.Attribute,a.name,q(a.value),null,o,!0,!1,null,Yo(a.i18n),a.sourceSpan))}n.create.push(r)}function Qk(n,e,t){n.create.push(bk(n.job.allocateXrefId(),e.value,t,e.sourceSpan))}function Gk(n,e,t){let i=e.value;if(i instanceof la&&(i=i.ast),!(i instanceof wm))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${i.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof Ko))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let r=e.i18n instanceof Ko?e.i18n.children.filter(s=>s instanceof Zp).map(s=>s.name):[];if(r.length>0&&r.length!==i.expressions.length)throw Error(`Unexpected number of i18n placeholders (${i.expressions.length}) for BoundText with ${i.expressions.length} expressions`);let a=n.job.allocateXrefId();n.create.push(bk(a,"",t,e.sourceSpan));let o=n.job.compatibility?null:e.sourceSpan;n.update.push(bZ(a,new fn(i.strings,i.expressions.map(s=>It(s,n.job,o)),r),e.sourceSpan))}function cre(n,e){let t=null,i=[];for(let r=0;r<e.branches.length;r++){let a=e.branches[r],o=n.job.allocateView(n.xref),s=Av(n,o.xref,a);a.expressionAlias!==null&&o.contextVariables.set(a.expressionAlias.name,xk);let l;if(a.i18n!==void 0){if(!(a.i18n instanceof Gs))throw Error(`Unhandled i18n metadata type for if block: ${a.i18n?.constructor.name}`);l=a.i18n}let p=Hv(o.xref,Hr.Block,s,"Conditional",or.HTML,l,a.startSourceSpan,a.sourceSpan);n.create.push(p),t===null&&(t=o.xref);let m=a.expression?It(a.expression,n.job,null):null,_=new uv(m,p.xref,p.handle,a.expressionAlias);i.push(_),ns(o,a.children)}n.update.push(vk(t,null,i,e.sourceSpan))}function dre(n,e){if(e.cases.length===0)return;let t=null,i=[];for(let r of e.cases){let a=n.job.allocateView(n.xref),o=Av(n,a.xref,r),s;if(r.i18n!==void 0){if(!(r.i18n instanceof Gs))throw Error(`Unhandled i18n metadata type for switch block: ${r.i18n?.constructor.name}`);s=r.i18n}let l=Hv(a.xref,Hr.Block,o,"Case",or.HTML,s,r.startSourceSpan,r.sourceSpan);n.create.push(l),t===null&&(t=a.xref);let p=r.expression?It(r.expression,n.job,e.startSourceSpan):null,m=new uv(p,l.xref,l.handle);i.push(m),ns(a,r.children)}n.update.push(vk(t,It(e.expression,n.job,null),i,e.sourceSpan))}function ug(n,e,t,i,r){if(t!==void 0&&!(t instanceof Gs))throw Error("Unhandled i18n metadata type for defer block");if(i===void 0)return null;let a=n.job.allocateView(n.xref);ns(a,i);let o=Hv(a.xref,Hr.Block,null,`Defer${e}`,or.HTML,t,r,r);return n.create.push(o),o}function ure(n,e){let t=null;if(n.job.deferMeta.mode===0){if(!n.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");t=n.job.deferMeta.blocks.get(e)??null}let i=ug(n,"",e.i18n,e.children,e.sourceSpan),r=ug(n,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),a=ug(n,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),o=ug(n,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),s=n.job.allocateXrefId(),l=UZ(s,i.xref,i.handle,t,n.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=a?.xref??null,l.placeholderSlot=a?.handle??null,l.loadingSlot=r?.handle??null,l.errorSlot=o?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,l.flags=pre(e),n.create.push(l);let p=[],m=[];c2("hydrate",e.hydrateTriggers,p,m,n,s),c2("none",e.triggers,p,m,n,s),c2("prefetch",e.prefetchTriggers,p,m,n,s),p.some(S=>S.modifier==="none")||m.some(S=>S.modifier==="none")||p.push(Bs(s,{kind:vi.Idle},"none",null)),n.create.push(p),n.update.push(m)}function pre(n){return Object.keys(n.hydrateTriggers).length>0?1:null}function c2(n,e,t,i,r,a){if(e.idle!==void 0){let o=Bs(a,{kind:vi.Idle},n,e.idle.sourceSpan);t.push(o)}if(e.immediate!==void 0){let o=Bs(a,{kind:vi.Immediate},n,e.immediate.sourceSpan);t.push(o)}if(e.timer!==void 0){let o=Bs(a,{kind:vi.Timer,delay:e.timer.delay},n,e.timer.sourceSpan);t.push(o)}if(e.hover!==void 0){let o=Bs(a,{kind:vi.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.hover.sourceSpan);t.push(o)}if(e.interaction!==void 0){let o=Bs(a,{kind:vi.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.interaction.sourceSpan);t.push(o)}if(e.viewport!==void 0){let o=Bs(a,{kind:vi.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.viewport.sourceSpan);t.push(o)}if(e.never!==void 0){let o=Bs(a,{kind:vi.Never},n,e.never.sourceSpan);t.push(o)}if(e.when!==void 0){if(e.when.value instanceof wm)throw new Error("Unexpected interpolation in defer block when trigger");let o=MZ(a,It(e.when.value,r.job,e.when.sourceSpan),n,e.when.sourceSpan);i.push(o)}}function mre(n,e){if(e.i18n instanceof mr&&ere(e.i18n)){let t=n.job.allocateXrefId();n.create.push(qZ(t,e.i18n,YM(e.i18n).name,null));for(let[i,r]of Object.entries(z(z({},e.vars),e.placeholders)))r instanceof _d?Gk(n,r,i):Qk(n,r,i);n.create.push($Z(t))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function hre(n,e){let t=n.job.allocateView(n.xref),i=`\u0275$index_${t.xref}`,r=`\u0275$count_${t.xref}`,a=new Set;t.contextVariables.set(e.item.name,e.item.value);for(let F of e.contextVariables)F.value==="$index"&&a.add(F.name),F.name==="$index"?t.contextVariables.set("$index",F.value).set(i,F.value):F.name==="$count"?t.contextVariables.set("$count",F.value).set(r,F.value):t.aliases.add({kind:Pn.Alias,name:null,identifier:F.name,expression:fre(F,i,r)});let o=Tn(e.trackBy.span,e.sourceSpan),s=It(e.trackBy,n.job,o);ns(t,e.children);let l=null,p=null;e.empty!==null&&(l=n.job.allocateView(n.xref),ns(l,e.empty.children),p=Av(n,l.xref,e.empty));let m={$index:a,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof Gs))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof Gs))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let _=e.i18n,S=e.empty?.i18n,C=Av(n,t.xref,e),E=BZ(t.xref,l?.xref??null,C,s,m,p,_,S,e.startSourceSpan,e.sourceSpan);n.create.push(E);let I=It(e.expression,n.job,Tn(e.expression.span,e.sourceSpan)),M=AZ(E.xref,E.handle,I,e.sourceSpan);n.update.push(M)}function fre(n,e,t){switch(n.value){case"$index":return new jn(e);case"$count":return new jn(t);case"$first":return new jn(e).identical(q(0));case"$last":return new jn(e).identical(new jn(t).minus(q(1)));case"$even":return new jn(e).modulo(q(2)).identical(q(0));case"$odd":return new jn(e).modulo(q(2)).notIdentical(q(0));default:throw new Error(`AssertionError: unknown @for loop variable ${n.value}`)}}function gre(n,e){let t=n.job.allocateXrefId();n.create.push(jZ(t,e.name,e.sourceSpan)),n.update.push(PZ(t,e.name,It(e.value,n.job,e.valueSpan),e.sourceSpan))}function It(n,e,t){if(n instanceof la)return It(n.ast,e,t);if(n instanceof Yl)return n.receiver instanceof ha&&!(n.receiver instanceof Gl)?new jn(n.name):new Ur(It(n.receiver,e,t),n.name,null,Tn(n.span,t));if(n instanceof kg)return n.receiver instanceof ha?new md(new ts(e.root.xref),n.name,It(n.value,e,t),null,Tn(n.span,t)):new md(It(n.receiver,e,t),n.name,It(n.value,e,t),void 0,Tn(n.span,t));if(n instanceof Rg)return new Lp(It(n.receiver,e,t),It(n.key,e,t),It(n.value,e,t),void 0,Tn(n.span,t));if(n instanceof jp){if(n.receiver instanceof ha)throw new Error("Unexpected ImplicitReceiver");return new kr(It(n.receiver,e,t),n.args.map(i=>It(i,e,t)),void 0,Tn(n.span,t))}else{if(n instanceof oa)return q(n.value,void 0,Tn(n.span,t));if(n instanceof Wp)switch(n.operator){case"+":return new hd(Pp.Plus,It(n.expr,e,t),void 0,Tn(n.span,t));case"-":return new hd(Pp.Minus,It(n.expr,e,t),void 0,Tn(n.span,t));default:throw new Error(`AssertionError: unknown unary operator ${n.operator}`)}else if(n instanceof Pa){let i=dJ.get(n.operation);if(i===void 0)throw new Error(`AssertionError: unknown binary operator ${n.operation}`);return new Gt(i,It(n.left,e,t),It(n.right,e,t),void 0,Tn(n.span,t))}else{if(n instanceof Gl)return new ts(e.root.xref);if(n instanceof Hp)return new es(It(n.receiver,e,t),It(n.key,e,t),void 0,Tn(n.span,t));if(n instanceof vd)throw new Error("AssertionError: Chain in unknown context");if(n instanceof Og){let i=n.keys.map((r,a)=>{let o=n.values[a];return new fd(r.key,It(o,e,t),r.quoted)});return new _o(i,void 0,Tn(n.span,t))}else{if(n instanceof Fg)return new Ba(n.expressions.map(i=>It(i,e,t)));if(n instanceof Mg)return new Jo(It(n.condition,e,t),It(n.trueExp,e,t),It(n.falseExp,e,t),void 0,Tn(n.span,t));if(n instanceof Up)return It(n.expression,e,t);if(n instanceof Bg)return new xd(e.allocateXrefId(),new Pr,n.name,[It(n.exp,e,t),...n.args.map(i=>It(i,e,t))]);if(n instanceof Lg)return new Id(It(n.receiver,e,t),It(n.key,e,t),Tn(n.span,t));if(n instanceof Pg)return new Ed(It(n.receiver,e,t),n.name);if(n instanceof Hg)return new ec(It(n.receiver,e,t),n.args.map(i=>It(i,e,t)));if(n instanceof Dr)return new cm(Tn(n.span,t));if(n instanceof Ng)return PK(It(n.expression,e,t),Tn(n.span,t));if(n instanceof Vg)return bm(It(n.expression,e,t));if(n instanceof zp)return new Bp(n.elements.map(i=>new Sg(i.text,Tn(i.span,t))),n.expressions.map(i=>It(i,e,t)),Tn(n.span,t));throw new Error(`Unhandled expression type "${n.constructor.name}" in file "${t?.start.file.url}"`)}}}}function xw(n,e,t,i){let r;return e instanceof wm?r=new fn(e.strings,e.expressions.map(a=>It(a,n,null)),Object.keys(Yo(t)?.placeholders??{})):e instanceof $i?r=It(e,n,null):r=q(e),r}var Yk=new Map([[xi.Property,Re.Property],[xi.TwoWay,Re.TwoWayProperty],[xi.Attribute,Re.Attribute],[xi.Class,Re.ClassName],[xi.Style,Re.StyleProperty],[xi.Animation,Re.Animation]]);function vre(n){return Oa(n.tagName??"")[1]===jl}function Yo(n){if(n==null)return null;if(!(n instanceof mr))throw Error(`Expected i18n meta to be a Message, but got: ${n.constructor.name}`);return n}function _re(n,e,t){let i=new Array,r=new Set;for(let a of t.attributes){let o=Ul.securityContext(t.name,a.name,!0);i.push(Zl(e.xref,Re.Attribute,a.name,xw(n.job,a.value,a.i18n),null,o,!0,!1,null,Yo(a.i18n),a.sourceSpan)),a.i18n&&r.add(a.name)}for(let a of t.inputs)r.has(a.name)&&console.error(`On component ${n.job.componentName}, the binding ${a.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),i.push(Zl(e.xref,Yk.get(a.type),a.name,xw(n.job,gm(a.value),a.i18n),a.unit,a.securityContext,!1,!1,null,Yo(a.i18n)??null,a.sourceSpan));n.create.push(i.filter(a=>a?.kind===k.ExtractedAttribute)),n.update.push(i.filter(a=>a?.kind===k.Binding));for(let a of t.outputs){if(a.type===fa.Animation&&a.phase===null)throw Error("Animation listener should have a phase");a.type===fa.TwoWay?n.create.push(wk(e.xref,e.handle,a.name,e.tag,Kk(n,a.handler,a.handlerSpan),a.sourceSpan)):n.create.push(aS(e.xref,e.handle,a.name,e.tag,cS(n,a.handler,a.handlerSpan),a.phase,a.target,!1,a.sourceSpan))}i.some(a=>a?.i18nMessage)!==null&&n.create.push(Ck(n.job.allocateXrefId(),new Pr,e.xref))}function yre(n,e,t,i){let r=new Array;for(let a of t.templateAttrs)if(a instanceof yd){let o=Ul.securityContext(jl,a.name,!0);r.push(pg(n,e.xref,xi.Attribute,a.name,a.value,null,o,!0,i,Yo(a.i18n),a.sourceSpan))}else r.push(pg(n,e.xref,a.type,a.name,gm(a.value),a.unit,a.securityContext,!0,i,Yo(a.i18n),a.sourceSpan));for(let a of t.attributes){let o=Ul.securityContext(jl,a.name,!0);r.push(pg(n,e.xref,xi.Attribute,a.name,a.value,null,o,!1,i,Yo(a.i18n),a.sourceSpan))}for(let a of t.inputs)r.push(pg(n,e.xref,a.type,a.name,gm(a.value),a.unit,a.securityContext,!1,i,Yo(a.i18n),a.sourceSpan));n.create.push(r.filter(a=>a?.kind===k.ExtractedAttribute)),n.update.push(r.filter(a=>a?.kind===k.Binding));for(let a of t.outputs){if(a.type===fa.Animation&&a.phase===null)throw Error("Animation listener should have a phase");if(i===Hr.NgTemplate&&(a.type===fa.TwoWay?n.create.push(wk(e.xref,e.handle,a.name,e.tag,Kk(n,a.handler,a.handlerSpan),a.sourceSpan)):n.create.push(aS(e.xref,e.handle,a.name,e.tag,cS(n,a.handler,a.handlerSpan),a.phase,a.target,!1,a.sourceSpan))),i===Hr.Structural&&a.type!==fa.Animation){let o=Ul.securityContext(jl,a.name,!1);n.create.push(da(e.xref,Re.Property,null,a.name,null,null,null,o))}}r.some(a=>a?.i18nMessage)!==null&&n.create.push(Ck(n.job.allocateXrefId(),new Pr,e.xref))}function pg(n,e,t,i,r,a,o,s,l,p,m){let _=typeof r=="string";if(l===Hr.Structural){if(!s)switch(t){case xi.Property:case xi.Class:case xi.Style:return da(e,Re.Property,null,i,null,null,p,o);case xi.TwoWay:return da(e,Re.TwoWayProperty,null,i,null,null,p,o)}if(!_&&(t===xi.Attribute||t===xi.Animation))return null}let S=Yk.get(t);return l===Hr.NgTemplate&&(t===xi.Class||t===xi.Style||t===xi.Attribute&&!_)&&(S=Re.Property),Zl(e,S,i,xw(n.job,r,p),a,o,_,s,l,p,m)}function cS(n,e,t){e=gm(e);let i=new Array,r=e instanceof vd?e.expressions:[e];if(r.length===0)throw new Error("Expected listener to have non-empty expression list.");let a=r.map(s=>It(s,n.job,t)),o=a.pop();return i.push(...a.map(s=>Na(new va(s,s.sourceSpan)))),i.push(Na(new sr(o,o.sourceSpan))),i}function Kk(n,e,t){e=gm(e);let i=new Array;if(e instanceof vd)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let r=It(e,n.job,t),a=new jn("$event"),o=new lv(r,a);return i.push(Na(new va(o))),i.push(Na(new sr(a))),i}function gm(n){return n instanceof la?n.ast:n}function Xk(n,e){bre(n.localRefs);for(let{name:t,value:i}of e.references)n.localRefs.push({name:t,target:i})}function bre(n){if(!Array.isArray(n))throw new Error("AssertionError: expected an array")}function Tn(n,e){if(e===null)return null;let t=e.start.moveBy(n.start),i=e.start.moveBy(n.end),r=e.fullStart.moveBy(n.start);return new xt(t,i,r)}function Av(n,e,t){let i=null;for(let r of t.children)if(!(r instanceof Bv||r instanceof Gw)){if(i!==null)return null;if(r instanceof yo||r instanceof Vr&&r.tagName!==null)i=r;else return null}if(i!==null){for(let a of i.attributes){let o=Ul.securityContext(jl,a.name,!0);n.update.push(Zl(e,Re.Attribute,a.name,q(a.value),null,o,!0,!1,null,Yo(a.i18n),a.sourceSpan))}for(let a of i.inputs)if(a.type!==xi.Animation&&a.type!==xi.Attribute){let o=Ul.securityContext(jl,a.name,!0);n.create.push(da(e,Re.Property,null,a.name,null,null,null,o))}let r=i instanceof yo?i.name:i.tagName;return r===jl?null:r}return null}var wre=!1;function Sre(){return wre}function Mv(n,e){return Lv(Bt(Xw).bitwiseAnd(q(n),null,!1),e)}function Cre(n){return(n.descendants?1:0)|(n.static?2:0)|(n.emitDistinctChangesOnly?4:0)}function xre(n,e){if(Array.isArray(n.predicate)){let t=[];return n.predicate.forEach(i=>{let r=i.split(",").map(a=>q(a.trim()));t.push(...r)}),e.getConstLiteral(oi(t),!0)}else switch(n.predicate.forwardRef){case 0:case 2:return n.predicate.expression;case 1:return Be(V.resolveForwardRef).callFn([n.predicate.expression])}}function Zk(n,e,t,i){let r=[];i!==void 0&&r.push(...i),n.isSignal&&r.push(new Ur(Bt(Jp),n.propertyName)),r.push(xre(n,e),q(Cre(n))),n.read&&r.push(n.read);let a=n.isSignal?t.signalBased:t.nonSignal;return Be(a).callFn(r)}var dS=Symbol("queryAdvancePlaceholder");function Jk(n){let e=[],t=0,i=()=>{t>0&&(e.unshift(Be(V.queryAdvance).callFn(t===1?[]:[q(t)]).toStmt()),t=0)};for(let r=n.length-1;r>=0;r--){let a=n[r];a===dS?t++:(i(),e.unshift(a))}return i(),e}function Ere(n,e,t){let i=[],r=[],a=KM(s=>r.push(s),Kw);n.forEach(s=>{let l=Zk(s,e,{signalBased:V.viewQuerySignal,nonSignal:V.viewQuery});if(i.push(l.toStmt()),s.isSignal){r.push(dS);return}let p=a(),m=Be(V.loadQuery).callFn([]),_=Be(V.queryRefresh).callFn([p.set(m)]),S=Bt(Jp).prop(s.propertyName).set(s.first?p.prop("first"):p);r.push(_.and(S).toStmt())});let o=t?`${t}_Query`:null;return qs([new Ln(Xw,qw),new Ln(Jp,null)],[Mv(1,i),Mv(2,Jk(r))],ua,null,o)}function Ire(n,e,t){let i=[],r=[],a=KM(s=>r.push(s),Kw);for(let s of n){if(i.push(Zk(s,e,{nonSignal:V.contentQuery,signalBased:V.contentQuerySignal},[Bt("dirIndex")]).toStmt()),s.isSignal){r.push(dS);continue}let l=a(),p=Be(V.loadQuery).callFn([]),m=Be(V.queryRefresh).callFn([l.set(p)]),_=Bt(Jp).prop(s.propertyName).set(s.first?l.prop("first"):l);r.push(m.and(_).toStmt())}let o=t?`${t}_ContentQueries`:null;return qs([new Ln(Xw,qw),new Ln(Jp,null),new Ln("dirIndex",null)],[Mv(1,i),Mv(2,Jk(r))],ua,null,o)}var Ew=class extends dee{constructor(){super(Bk)}parse(e,t,i){return super.parse(e,t,i)}},_M=".",Tre="attr",Dre="class",Are="style",Mre="*",d2="animate-",Iw=class{_exprParser;_interpolationConfig;_schemaRegistry;errors;constructor(e,t,i,r){this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=i,this.errors=r}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,t){let i=[];for(let r of Object.keys(e)){let a=e[r];typeof a=="string"?this.parsePropertyBinding(r,a,!0,!1,t,t.start.offset,void 0,[],i,t):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${a}" (${typeof a})`,t)}return i}createDirectiveHostEventAsts(e,t){let i=[];for(let r of Object.keys(e)){let a=e[r];typeof a=="string"?this.parseEvent(r,a,!1,t,t,[],i,t):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${a}" (${typeof a})`,t)}return i}parseInterpolation(e,t,i){let r=t.start.toString(),a=t.fullStart.offset;try{let o=this._exprParser.parseInterpolation(e,r,a,i,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,t),o}catch(o){return this._reportError(`${o}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",r,a)}}parseInterpolationExpression(e,t){let i=t.start.toString(),r=t.start.offset;try{let a=this._exprParser.parseInterpolationExpression(e,i,r);return a&&this._reportExpressionParserErrors(a.errors,t),a}catch(a){return this._reportError(`${a}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}parseInlineTemplateBinding(e,t,i,r,a,o,s,l){let p=i.start.offset+Mre.length,m=this._parseTemplateBindings(e,t,i,p,r);for(let _ of m){let S=Ls(i,_.sourceSpan),C=_.key.source,E=Ls(i,_.key.span);if(_ instanceof qp){let I=_.value?_.value.source:"$implicit",M=_.value?Ls(i,_.value.span):void 0;s.push(new A2(C,I,S,E,M))}else if(_.value){let I=l?S:i,M=Ls(i,_.value.ast.sourceSpan);this._parsePropertyAst(C,_.value,!1,I,E,M,a,o)}else a.push([C,""]),this.parseLiteralAttr(C,null,E,r,void 0,a,o,E)}}_parseTemplateBindings(e,t,i,r,a){let o=i.start.toString();try{let s=this._exprParser.parseTemplateBindings(e,t,o,r,a);return this._reportExpressionParserErrors(s.errors,i),s.warnings.forEach(l=>{this._reportError(l,i,Us.WARNING)}),s.templateBindings}catch(s){return this._reportError(`${s}`,i),[]}}parseLiteralAttr(e,t,i,r,a,o,s,l){u2(e)?(e=e.substring(1),l!==void 0&&(l=Ls(l,new Nr(l.start.offset+1,l.end.offset))),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',i,Us.ERROR),this._parseAnimation(e,t,i,r,l,a,o,s)):s.push(new xp(e,this._exprParser.wrapLiteralPrimitive(t,"",r),Vs.LITERAL_ATTR,i,l,a))}parsePropertyBinding(e,t,i,r,a,o,s,l,p,m){e.length===0&&this._reportError("Property name is missing in binding",a);let _=!1;e.startsWith(d2)?(_=!0,e=e.substring(d2.length),m!==void 0&&(m=Ls(m,new Nr(m.start.offset+d2.length,m.end.offset)))):u2(e)&&(_=!0,e=e.substring(1),m!==void 0&&(m=Ls(m,new Nr(m.start.offset+1,m.end.offset)))),_?this._parseAnimation(e,t,a,o,m,s,l,p):this._parsePropertyAst(e,this.parseBinding(t,i,s||a,o),r,a,m,s,l,p)}parsePropertyInterpolation(e,t,i,r,a,o,s,l){let p=this.parseInterpolation(t,r||i,l);return p?(this._parsePropertyAst(e,p,!1,i,s,r,a,o),!0):!1}_parsePropertyAst(e,t,i,r,a,o,s,l){s.push([e,t.source]),l.push(new xp(e,t,i?Vs.TWO_WAY:Vs.DEFAULT,r,a,o))}_parseAnimation(e,t,i,r,a,o,s,l){e.length===0&&this._reportError("Animation trigger is missing",i);let p=this.parseBinding(t||"undefined",!1,o||i,r);s.push([e,p.source]),l.push(new xp(e,p,Vs.ANIMATION,i,a,o))}parseBinding(e,t,i,r){let a=(i&&i.start||"(unknown)").toString();try{let o=t?this._exprParser.parseSimpleBinding(e,a,r,this._interpolationConfig):this._exprParser.parseBinding(e,a,r,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,i),o}catch(o){return this._reportError(`${o}`,i),this._exprParser.wrapLiteralPrimitive("ERROR",a,r)}}createBoundElementProperty(e,t,i=!1,r=!0){if(t.isAnimation)return new zg(t.name,xi.Animation,Mi.NONE,t.expression,null,t.sourceSpan,t.keySpan,t.valueSpan);let a=null,o,s=null,l=t.name.split(_M),p;if(l.length>1)if(l[0]==Tre){s=l.slice(1).join(_M),i||this._validatePropertyOrAttributeName(s,t.sourceSpan,!0),p=p2(this._schemaRegistry,e,s,!0);let m=s.indexOf(":");if(m>-1){let _=s.substring(0,m),S=s.substring(m+1);s=P2(_,S)}o=xi.Attribute}else l[0]==Dre?(s=l[1],o=xi.Class,p=[Mi.NONE]):l[0]==Are&&(a=l.length>2?l[2]:null,s=l[1],o=xi.Style,p=[Mi.STYLE]);if(s===null){let m=this._schemaRegistry.getMappedPropName(t.name);s=r?m:t.name,p=p2(this._schemaRegistry,e,m,!1),o=t.type===Vs.TWO_WAY?xi.TwoWay:xi.Property,i||this._validatePropertyOrAttributeName(m,t.sourceSpan,!1)}return new zg(s,o,p[0],t.expression,a,t.sourceSpan,t.keySpan,t.valueSpan)}parseEvent(e,t,i,r,a,o,s,l){e.length===0&&this._reportError("Event name is missing in binding",r),u2(e)?(e=e.slice(1),l!==void 0&&(l=Ls(l,new Nr(l.start.offset+1,l.end.offset))),this._parseAnimationEvent(e,t,r,a,s,l)):this._parseRegularEvent(e,t,i,r,a,o,s,l)}calcPossibleSecurityContexts(e,t,i){let r=this._schemaRegistry.getMappedPropName(t);return p2(this._schemaRegistry,e,r,i)}_parseAnimationEvent(e,t,i,r,a,o){let s=jK(e,[e,""]),l=s[0],p=s[1].toLowerCase(),m=this._parseAction(t,r);a.push(new jg(l,p,fa.Animation,m,i,r,o)),l.length===0&&this._reportError("Animation event name is missing in binding",i),p?p!=="start"&&p!=="done"&&this._reportError(`The provided animation output phase value "${p}" for "@${l}" is not supported (use start or done)`,i):this._reportError(`The animation trigger output event (@${l}) is missing its phase value name (start or done are currently supported)`,i)}_parseRegularEvent(e,t,i,r,a,o,s,l){let[p,m]=UK(e,[null,e]),_=this.errors.length,S=this._parseAction(t,a),C=this.errors.length===_;o.push([e,S.source]),i&&C&&!this._isAllowedAssignmentEvent(S)&&this._reportError("Unsupported expression in a two-way binding",r),s.push(new jg(m,p,i?fa.TwoWay:fa.Regular,S,r,a,l))}_parseAction(e,t){let i=(t&&t.start||"(unknown").toString(),r=t&&t.start?t.start.offset:0;try{let a=this._exprParser.parseAction(e,i,r,this._interpolationConfig);return a&&this._reportExpressionParserErrors(a.errors,t),!a||a.ast instanceof Dr?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)):a}catch(a){return this._reportError(`${a}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}_reportError(e,t,i=Us.ERROR,r){this.errors.push(new yt(t,e,i,r))}_reportExpressionParserErrors(e,t){for(let i of e)this._reportError(i.message,t,void 0,i)}_validatePropertyOrAttributeName(e,t,i){let r=i?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,Us.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof la?this._isAllowedAssignmentEvent(e.ast):e instanceof Up?this._isAllowedAssignmentEvent(e.expression):e instanceof jp&&e.args.length===1&&e.receiver instanceof Yl&&e.receiver.name==="$any"&&e.receiver.receiver instanceof ha&&!(e.receiver.receiver instanceof Gl)?this._isAllowedAssignmentEvent(e.args[0]):e instanceof Yl||e instanceof Hp}};function u2(n){return n[0]=="@"}function p2(n,e,t,i){let r=[];return ud.parse(e).forEach(a=>{let o=a.element?[a.element]:n.allKnownElementNames(),s=new Set(a.notSelectors.filter(p=>p.isElementSelector()).map(p=>p.element)),l=o.filter(p=>!s.has(p));r.push(...l.map(p=>n.securityContext(p,t,i)))}),r.length===0?[Mi.NONE]:Array.from(new Set(r)).sort()}function Ls(n,e){let t=e.start-n.start.offset,i=e.end-n.end.offset;return new xt(n.start.moveBy(t),n.end.moveBy(i),n.fullStart.moveBy(t),n.details)}function kre(n){if(n==null||n.length===0||n[0]=="/")return!1;let e=n.match(Pre);return e===null||e[1]=="package"||e[1]=="asset"}var Pre=/^([^:/?#]+):/,Lre="select",Rre="link",Bre="rel",Fre="href",Ore="stylesheet",Nre="style",Vre="script",Hre="ngNonBindable",Wre="ngProjectAs";function e4(n){let e=null,t=null,i=null,r=!1,a="";n.attrs.forEach(l=>{let p=l.name.toLowerCase();p==Lre?e=l.value:p==Fre?t=l.value:p==Bre?i=l.value:l.name==Hre?r=!0:l.name==Wre&&l.value.length>0&&(a=l.value)}),e=Ure(e);let o=n.name.toLowerCase(),s=Or.OTHER;return M2(o)?s=Or.NG_CONTENT:o==Nre?s=Or.STYLE:o==Vre?s=Or.SCRIPT:o==Rre&&i==Ore&&(s=Or.STYLESHEET),new Tw(s,e,t,r,a)}var Or=function(n){return n[n.NG_CONTENT=0]="NG_CONTENT",n[n.STYLE=1]="STYLE",n[n.STYLESHEET=2]="STYLESHEET",n[n.SCRIPT=3]="SCRIPT",n[n.OTHER=4]="OTHER",n}(Or||{}),Tw=class{type;selectAttr;hrefAttr;nonBindable;projectAs;constructor(e,t,i,r,a){this.type=e,this.selectAttr=t,this.hrefAttr=i,this.nonBindable=r,this.projectAs=a}};function Ure(n){return n===null||n.length===0?"*":n}var jre=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,zre=/^track\s+([\S\s]*)/,qre=/^(as\s+)(.*)/,uS=/^else[^\S\r\n]+if/,$re=/^let\s+([\S\s]*)/,Qre=/^[$A-Z_][0-9A-Z_$]*$/i,yM=/(\s*)(\S+)(\s*)/,kp=new Set(["$index","$first","$last","$even","$odd","$count"]);function bM(n){return n==="empty"}function wM(n){return n==="else"||uS.test(n)}function Gre(n,e,t,i){let r=Jre(e),a=[],o=SM(n,r,i);o!==null&&a.push(new Nl(o.expression,rn(t,n.children,n.children),o.expressionAlias,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan,n.i18n));for(let _ of e)if(uS.test(_.name)){let S=SM(_,r,i);if(S!==null){let C=rn(t,_.children,_.children);a.push(new Nl(S.expression,C,S.expressionAlias,_.sourceSpan,_.startSourceSpan,_.endSourceSpan,_.nameSpan,_.i18n))}}else if(_.name==="else"){let S=rn(t,_.children,_.children);a.push(new Nl(null,S,null,_.sourceSpan,_.startSourceSpan,_.endSourceSpan,_.nameSpan,_.i18n))}let s=a.length>0?a[0].startSourceSpan:n.startSourceSpan,l=a.length>0?a[a.length-1].endSourceSpan:n.endSourceSpan,p=n.sourceSpan,m=a[a.length-1];return m!==void 0&&(p=new xt(s.start,m.sourceSpan.end)),{node:new Yg(a,p,n.startSourceSpan,l,n.nameSpan),errors:r}}function Yre(n,e,t,i){let r=[],a=Xre(n,r,i),o=null,s=null;for(let l of e)l.name==="empty"?s!==null?r.push(new yt(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?r.push(new yt(l.sourceSpan,"@empty block cannot have parameters")):s=new Kp(rn(t,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):r.push(new yt(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(a!==null)if(a.trackBy===null)r.push(new yt(n.startSourceSpan,'@for loop must have a "track" expression'));else{let l=s?.endSourceSpan??n.endSourceSpan,p=new xt(n.sourceSpan.start,l?.end??n.sourceSpan.end);o=new bd(a.itemName,a.expression,a.trackBy.expression,a.trackBy.keywordSpan,a.context,rn(t,n.children,n.children),s,p,n.sourceSpan,n.startSourceSpan,l,n.nameSpan,n.i18n)}return{node:o,errors:r}}function Kre(n,e,t){let i=eae(n),r=n.parameters.length>0?vm(n.parameters[0],t):t.parseBinding("",!1,n.sourceSpan,0),a=[],o=[],s=null;for(let l of n.children){if(!(l instanceof sa))continue;if((l.name!=="case"||l.parameters.length===0)&&l.name!=="default"){o.push(new Kg(l.name,l.sourceSpan,l.nameSpan));continue}let p=l.name==="case"?vm(l.parameters[0],t):null,m=new Yp(p,rn(e,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n);p===null?s=m:a.push(m)}return s!==null&&a.push(s),{node:new Gg(r,a,o,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan),errors:i}}function Xre(n,e,t){if(n.parameters.length===0)return e.push(new yt(n.startSourceSpan,"@for loop does not have an expression")),null;let[i,...r]=n.parameters,a=tae(i,e)?.match(jre);if(!a||a[2].trim().length===0)return e.push(new yt(i.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,s]=a;kp.has(o)&&e.push(new yt(i.sourceSpan,`@for loop item name cannot be one of ${Array.from(kp).join(", ")}.`));let l=i.expression.split(" ")[0],p=new xt(i.sourceSpan.start,i.sourceSpan.start.moveBy(l.length)),m={itemName:new $s(o,"$implicit",p,p),trackBy:null,expression:vm(i,t,s),context:Array.from(kp,_=>{let S=new xt(n.startSourceSpan.end,n.startSourceSpan.end);return new $s(_,_,S,S)})};for(let _ of r){let S=_.expression.match($re);if(S!==null){let E=new xt(_.sourceSpan.start.moveBy(S[0].length-S[1].length),_.sourceSpan.end);Zre(_.sourceSpan,S[1],E,o,m.context,e);continue}let C=_.expression.match(zre);if(C!==null){if(m.trackBy!==null)e.push(new yt(_.sourceSpan,'@for loop can only have one "track" expression'));else{let E=vm(_,t,C[1]);E.ast instanceof Dr&&e.push(new yt(n.startSourceSpan,'@for loop must have a "track" expression'));let I=new xt(_.sourceSpan.start,_.sourceSpan.start.moveBy(5));m.trackBy={expression:E,keywordSpan:I}}continue}e.push(new yt(_.sourceSpan,`Unrecognized @for loop parameter "${_.expression}"`))}return m}function Zre(n,e,t,i,r,a){let o=e.split(","),s=t.start;for(let l of o){let p=l.split("="),m=p.length===2?p[0].trim():"",_=p.length===2?p[1].trim():"";if(m.length===0||_.length===0)a.push(new yt(n,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!kp.has(_))a.push(new yt(n,`Unknown "let" parameter variable "${_}". The allowed variables are: ${Array.from(kp).join(", ")}`));else if(m===i)a.push(new yt(n,`Invalid @for loop "let" parameter. Variable cannot be called "${i}"`));else if(r.some(S=>S.name===m))a.push(new yt(n,`Duplicate "let" parameter variable "${_}"`));else{let[,S,C]=p[0].match(yM)??[],E=S!==void 0&&p.length===2?new xt(s.moveBy(S.length),s.moveBy(S.length+C.length)):t,I;if(p.length===2){let[,F,N]=p[1].match(yM)??[];I=F!==void 0?new xt(s.moveBy(p[0].length+1+F.length),s.moveBy(p[0].length+1+F.length+N.length)):void 0}let M=new xt(E.start,I?.end??E.end);r.push(new $s(m,_,M,E,I))}s=s.moveBy(l.length+1)}}function Jre(n){let e=[],t=!1;for(let i=0;i<n.length;i++){let r=n[i];r.name==="else"?(t?e.push(new yt(r.startSourceSpan,"Conditional can only have one @else block")):n.length>1&&i<n.length-1?e.push(new yt(r.startSourceSpan,"@else block must be last inside the conditional")):r.parameters.length>0&&e.push(new yt(r.startSourceSpan,"@else block cannot have parameters")),t=!0):uS.test(r.name)||e.push(new yt(r.startSourceSpan,`Unrecognized conditional block @${r.name}`))}return e}function eae(n){let e=[],t=!1;if(n.parameters.length!==1)return e.push(new yt(n.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let i of n.children)if(!(i instanceof pm||i instanceof tc&&i.value.trim().length===0)){if(!(i instanceof sa)||i.name!=="case"&&i.name!=="default"){e.push(new yt(i.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}i.name==="default"?(t?e.push(new yt(i.startSourceSpan,"@switch block can only have one @default block")):i.parameters.length>0&&e.push(new yt(i.startSourceSpan,"@default block cannot have parameters")),t=!0):i.name==="case"&&i.parameters.length!==1&&e.push(new yt(i.startSourceSpan,"@case block must have exactly one parameter"))}return e}function vm(n,e,t){let i,r;return typeof t=="string"?(i=Math.max(0,n.expression.lastIndexOf(t)),r=i+t.length):(i=0,r=n.expression.length),e.parseBinding(n.expression.slice(i,r),!1,n.sourceSpan,n.sourceSpan.start.offset+i)}function SM(n,e,t){if(n.parameters.length===0)return e.push(new yt(n.startSourceSpan,"Conditional block does not have an expression")),null;let i=vm(n.parameters[0],t),r=null;for(let a=1;a<n.parameters.length;a++){let o=n.parameters[a],s=o.expression.match(qre);if(s===null)e.push(new yt(o.sourceSpan,`Unrecognized conditional parameter "${o.expression}"`));else if(n.name!=="if")e.push(new yt(o.sourceSpan,'"as" expression is only allowed on the primary @if block'));else if(r!==null)e.push(new yt(o.sourceSpan,'Conditional can only have one "as" expression'));else{let l=s[2].trim();if(Qre.test(l)){let p=o.sourceSpan.start.moveBy(s[1].length),m=new xt(p,p.moveBy(l.length));r=new $s(l,l,m,m)}else e.push(new yt(o.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}}return{expression:i,expressionAlias:r}}function tae(n,e){let t=n.expression,i=/^\s$/,r=0,a=0,o=t.length-1;for(let s=0;s<t.length;s++){let l=t[s];if(l==="(")a=s+1,r++;else{if(i.test(l))continue;break}}if(r===0)return t;for(let s=t.length-1;s>-1;s--){let l=t[s];if(l===")"){if(o=s,r--,r===0)break}else{if(i.test(l))continue;break}}return r!==0?(e.push(new yt(n.sourceSpan,"Unclosed parentheses in expression")),null):t.slice(a,o)}var iae=/^\d+\.?\d*(ms|s)?$/,nae=/^\s$/,CM=new Map([[La,Ar],[cd,rd],[Xo,Ra]]),Mr=function(n){return n.IDLE="idle",n.TIMER="timer",n.INTERACTION="interaction",n.IMMEDIATE="immediate",n.HOVER="hover",n.VIEWPORT="viewport",n.NEVER="never",n}(Mr||{});function rae({expression:n,sourceSpan:e},t,i){let r=n.indexOf("never"),a=new xt(e.start.moveBy(r),e.start.moveBy(r+5)),o=pS(n,e),s=mS(n,e);r===-1?i.push(new yt(e,'Could not find "never" keyword in expression')):hS("never",t,i,new F2(a,e,o,null,s))}function m2({expression:n,sourceSpan:e},t,i,r){let a=n.indexOf("when"),o=new xt(e.start.moveBy(a),e.start.moveBy(a+4)),s=pS(n,e),l=mS(n,e);if(a===-1)r.push(new yt(e,'Could not find "when" keyword in expression'));else{let p=_m(n,a+1),m=t.parseBinding(n.slice(p),!1,e,e.start.offset+p);hS("when",i,r,new B2(m,e,s,o,l))}}function h2({expression:n,sourceSpan:e},t,i,r){let a=n.indexOf("on"),o=new xt(e.start.moveBy(a),e.start.moveBy(a+2)),s=pS(n,e),l=mS(n,e);if(a===-1)i.push(new yt(e,'Could not find "on" keyword in expression'));else{let p=_m(n,a+1);new Dw(n,p,e,t,i,n.startsWith("hydrate")?pae:uae,r,s,o,l).parse()}}function pS(n,e){return n.startsWith("prefetch")?new xt(e.start,e.start.moveBy(8)):null}function mS(n,e){return n.startsWith("hydrate")?new xt(e.start,e.start.moveBy(7)):null}var Dw=class{expression;start;span;triggers;errors;validator;placeholder;prefetchSpan;onSourceSpan;hydrateSpan;index=0;tokens;constructor(e,t,i,r,a,o,s,l,p,m){this.expression=e,this.start=t,this.span=i,this.triggers=r,this.errors=a,this.validator=o,this.placeholder=s,this.prefetchSpan=l,this.onSourceSpan=p,this.hydrateSpan=m,this.tokens=new fm().tokenize(e.slice(t))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(pa))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(Xo)){this.advance();let t=this.errors.length,i=this.consumeParameters();if(this.errors.length!==t)break;this.consumeTrigger(e,i),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,t){let i=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),r=new xt(i,i.moveBy(e.strValue.length)),a=i.moveBy(this.token().end-e.index),o=e.index===0,s=o?this.onSourceSpan:null,l=o?this.prefetchSpan:null,p=o?this.hydrateSpan:null,m=new xt(o?this.span.start:i,a);try{switch(e.toString()){case Mr.IDLE:this.trackTrigger("idle",aae(t,r,m,l,s,p));break;case Mr.TIMER:this.trackTrigger("timer",oae(t,r,m,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Mr.INTERACTION:this.trackTrigger("interaction",cae(t,r,m,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case Mr.IMMEDIATE:this.trackTrigger("immediate",sae(t,r,m,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Mr.HOVER:this.trackTrigger("hover",lae(t,r,m,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case Mr.VIEWPORT:this.trackTrigger("viewport",dae(t,r,m,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(_){this.error(e,_.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(Xo))return this.unexpectedToken(this.token()),e;this.advance();let t=[],i="";for(;this.index<this.tokens.length;){let r=this.token();if(r.isCharacter(Ra)&&t.length===0){i.length&&e.push(i);break}if(r.type===Ot.Character&&CM.has(r.numValue)&&t.push(CM.get(r.numValue)),t.length>0&&r.isCharacter(t[t.length-1])&&t.pop(),t.length===0&&r.isCharacter(pa)&&i.length>0){e.push(i),i="",this.advance();continue}i+=this.tokenText(),this.advance()}return(!this.token().isCharacter(Ra)||t.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(pa)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,t){hS(e,this.triggers,this.errors,t)}error(e,t){let i=this.span.start.moveBy(this.start+e.index),r=i.moveBy(e.end-e.index);this.errors.push(new yt(new xt(i,r),t))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function hS(n,e,t,i){e[n]?t.push(new yt(i.sourceSpan,`Duplicate "${n}" trigger is not allowed`)):e[n]=i}function aae(n,e,t,i,r,a){if(n.length>0)throw new Error(`"${Mr.IDLE}" trigger cannot have parameters`);return new O2(e,t,i,r,a)}function oae(n,e,t,i,r,a){if(n.length!==1)throw new Error(`"${Mr.TIMER}" trigger must have exactly one parameter`);let o=kv(n[0]);if(o===null)throw new Error(`Could not parse time value of trigger "${Mr.TIMER}"`);return new V2(o,e,t,i,r,a)}function sae(n,e,t,i,r,a){if(n.length>0)throw new Error(`"${Mr.IMMEDIATE}" trigger cannot have parameters`);return new N2(e,t,i,r,a)}function lae(n,e,t,i,r,a,o,s){return s(Mr.HOVER,n,o),new qg(n[0]??null,e,t,i,r,a)}function cae(n,e,t,i,r,a,o,s){return s(Mr.INTERACTION,n,o),new $g(n[0]??null,e,t,i,r,a)}function dae(n,e,t,i,r,a,o,s){return s(Mr.VIEWPORT,n,o),new Qg(n[0]??null,e,t,i,r,a)}function uae(n,e,t){if(e.length>1)throw new Error(`"${n}" trigger can only have zero or one parameters`);if(e.length===0){if(t===null)throw new Error(`"${n}" trigger with no parameters can only be placed on an @defer that has a @placeholder block`);if(t.children.length!==1||!(t.children[0]instanceof yo))throw new Error(`"${n}" trigger with no parameters can only be placed on an @defer that has a @placeholder block with exactly one root element node`)}}function pae(n,e){if(e.length>0)throw new Error(`Hydration trigger "${n}" cannot have parameters`)}function _m(n,e=0){let t=!1;for(let i=e;i<n.length;i++)if(nae.test(n[i]))t=!0;else if(t)return i;return-1}function kv(n){let e=n.match(iae);if(!e)return null;let[t,i]=e;return parseFloat(t)*(i==="s"?1e3:1)}var mae=/^prefetch\s+when\s/,hae=/^prefetch\s+on\s/,fae=/^hydrate\s+when\s/,gae=/^hydrate\s+on\s/,vae=/^hydrate\s+never(\s*)$/,t4=/^minimum\s/,_ae=/^after\s/,yae=/^when\s/,bae=/^on\s/;function Aw(n){return n==="placeholder"||n==="loading"||n==="error"}function wae(n,e,t,i){let r=[],{placeholder:a,loading:o,error:s}=Sae(e,r,t),{triggers:l,prefetchTriggers:p,hydrateTriggers:m}=Iae(n,i,r,a),_=n.endSourceSpan,S=n.sourceSpan.end;if(e.length>0){let I=e[e.length-1];_=I.endSourceSpan,S=I.sourceSpan.end}let C=new xt(n.sourceSpan.start,S);return{node:new Kl(rn(t,n.children,n.children),l,p,m,a,o,s,n.nameSpan,C,n.sourceSpan,n.startSourceSpan,_,n.i18n),errors:r}}function Sae(n,e,t){let i=null,r=null,a=null;for(let o of n)try{if(!Aw(o.name)){e.push(new yt(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":i!==null?e.push(new yt(o.startSourceSpan,"@defer block can only have one @placeholder block")):i=Cae(o,t);break;case"loading":r!==null?e.push(new yt(o.startSourceSpan,"@defer block can only have one @loading block")):r=xae(o,t);break;case"error":a!==null?e.push(new yt(o.startSourceSpan,"@defer block can only have one @error block")):a=Eae(o,t);break}}catch(s){e.push(new yt(o.startSourceSpan,s.message))}return{placeholder:i,loading:r,error:a}}function Cae(n,e){let t=null;for(let i of n.parameters)if(t4.test(i.expression)){if(t!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let r=kv(i.expression.slice(_m(i.expression)));if(r===null)throw new Error('Could not parse time value of parameter "minimum"');t=r}else throw new Error(`Unrecognized parameter in @placeholder block: "${i.expression}"`);return new $p(rn(e,n.children,n.children),t,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function xae(n,e){let t=null,i=null;for(let r of n.parameters)if(_ae.test(r.expression)){if(t!=null)throw new Error('@loading block can only have one "after" parameter');let a=kv(r.expression.slice(_m(r.expression)));if(a===null)throw new Error('Could not parse time value of parameter "after"');t=a}else if(t4.test(r.expression)){if(i!=null)throw new Error('@loading block can only have one "minimum" parameter');let a=kv(r.expression.slice(_m(r.expression)));if(a===null)throw new Error('Could not parse time value of parameter "minimum"');i=a}else throw new Error(`Unrecognized parameter in @loading block: "${r.expression}"`);return new Qp(rn(e,n.children,n.children),t,i,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function Eae(n,e){if(n.parameters.length>0)throw new Error("@error block cannot have parameters");return new Gp(rn(e,n.children,n.children),n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function Iae(n,e,t,i){let r={},a={},o={};for(let s of n.parameters)yae.test(s.expression)?m2(s,e,r,t):bae.test(s.expression)?h2(s,r,t,i):mae.test(s.expression)?m2(s,e,a,t):hae.test(s.expression)?h2(s,a,t,i):fae.test(s.expression)?m2(s,e,o,t):gae.test(s.expression)?h2(s,o,t,i):vae.test(s.expression)?rae(s,o,t):t.push(new yt(s.sourceSpan,"Unrecognized trigger"));return o.never&&Object.keys(o).length>1&&t.push(new yt(n.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:r,prefetchTriggers:a,hydrateTriggers:o}}var Tae=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,xM=1,EM=2,IM=3,TM=4,DM=5,Dae=6,vp=7,Rs={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},AM="*";function Aae(n,e,t){let i=new Mw(e,t),r=rn(i,n,n),a=e.errors.concat(i.errors),o={nodes:r,errors:a,styleUrls:i.styleUrls,styles:i.styles,ngContentSelectors:i.ngContentSelectors};return t.collectCommentNodes&&(o.commentNodes=i.commentNodes),o}var Mw=class{bindingParser;options;errors=[];styles=[];styleUrls=[];ngContentSelectors=[];commentNodes=[];inI18nBlock=!1;processedNodes=new Set;constructor(e,t){this.bindingParser=e,this.options=t}visitElement(e){let t=Cw(e.i18n);t&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let i=e4(e);if(i.type===Or.SCRIPT)return null;if(i.type===Or.STYLE){let M=kae(e);return M!==null&&this.styles.push(M),null}else if(i.type===Or.STYLESHEET&&kre(i.hrefAttr))return this.styleUrls.push(i.hrefAttr),null;let r=cX(e.name),a=[],o=[],s=[],l=[],p=[],m={},_=[],S=[],C=!1;for(let M of e.attrs){let F=!1,N=MM(M.name),U=!1;if(M.i18n&&(m[M.name]=M.i18n),N.startsWith(AM)){C&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",M.sourceSpan),U=!0,C=!0;let j=M.value,$=N.substring(AM.length),X=[],te=M.valueSpan?M.valueSpan.start.offset:M.sourceSpan.start.offset+M.name.length;this.bindingParser.parseInlineTemplateBinding($,j,M.sourceSpan,te,[],_,X,!0),S.push(...X.map(G=>new $s(G.name,G.value,G.sourceSpan,G.keySpan,G.valueSpan)))}else F=this.parseAttribute(r,M,[],a,o,s,l);!F&&!U&&p.push(this.visitAttribute(M))}let E;i.nonBindable?E=rn(Mae,e.children).flat(1/0):E=rn(this,e.children,e.children);let I;if(i.type===Or.NG_CONTENT){let M=i.selectAttr,F=e.attrs.map(N=>this.visitAttribute(N));I=new wd(M,F,E,e.sourceSpan,e.i18n),this.ngContentSelectors.push(M)}else if(r){let M=this.extractAttributes(e.name,a,m);I=new Vr(e.name,p,M.bound,o,[],E,l,s,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let M=this.extractAttributes(e.name,a,m);I=new yo(e.name,p,M.bound,o,E,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(C){let M=this.extractAttributes("ng-template",_,m),F=[];M.literal.forEach($=>F.push($)),M.bound.forEach($=>F.push($));let N=I instanceof yo?{attributes:I.attributes,inputs:I.inputs,outputs:I.outputs}:{attributes:[],inputs:[],outputs:[]},U=r&&t?void 0:e.i18n,j=I instanceof Vr?null:I.name;I=new Vr(j,N.attributes,N.inputs,N.outputs,F,[I],[],S,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,U)}return t&&(this.inI18nBlock=!1),I}visitAttribute(e){return new yd(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!Cw(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let t=e.i18n,i={},r={};return Object.keys(t.placeholders).forEach(a=>{let o=t.placeholders[a];if(a.startsWith(mX)){let s=a.trim(),l=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);i[s]=new _d(l,o.sourceSpan)}else r[a]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new $M(i,r,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new Bv(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,t){let i=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return i.errors.length===0&&i.ast instanceof Dr&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new Gw(e.name,i,e.sourceSpan,e.nameSpan,e.valueSpan)}visitBlockParameter(){return null}visitBlock(e,t){let i=Array.isArray(t)?t.indexOf(e):-1;if(i===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let r=null;switch(e.name){case"defer":r=wae(e,this.findConnectedBlocks(i,t,Aw),this,this.bindingParser);break;case"switch":r=Kre(e,this,this.bindingParser);break;case"for":r=Yre(e,this.findConnectedBlocks(i,t,bM),this,this.bindingParser);break;case"if":r=Gre(e,this.findConnectedBlocks(i,t,wM),this,this.bindingParser);break;default:let a;Aw(e.name)?(a=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):bM(e.name)?(a=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):wM(e.name)?(a=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):a=`Unrecognized block @${e.name}.`,r={node:new Kg(e.name,e.sourceSpan,e.nameSpan),errors:[new yt(e.sourceSpan,a)]};break}return this.errors.push(...r.errors),r.node}findConnectedBlocks(e,t,i){let r=[];for(let a=e+1;a<t.length;a++){let o=t[a];if(!(o instanceof pm)){if(o instanceof tc&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof sa)||!i(o.name))break;r.push(o),this.processedNodes.add(o)}}return r}extractAttributes(e,t,i){let r=[],a=[];return t.forEach(o=>{let s=i[o.name];if(o.isLiteral)a.push(new yd(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,s));else{let l=this.bindingParser.createBoundElementProperty(e,o,!0,!1);r.push(L2.fromBoundElementProperty(l,s))}}),{bound:r,literal:a}}parseAttribute(e,t,i,r,a,o,s){let l=MM(t.name),p=t.value,m=t.sourceSpan,_=t.valueSpan?t.valueSpan.start.offset:m.start.offset;function S(F,N,U){let j=t.name.length-l.length,$=F.start.moveBy(N.length+j),X=$.moveBy(U.length);return new xt($,X,$,U)}let C=l.match(Tae);if(C){if(C[xM]!=null){let F=C[vp],N=S(m,C[xM],F);this.bindingParser.parsePropertyBinding(F,p,!1,!1,m,_,t.valueSpan,i,r,N)}else if(C[EM])if(e){let F=C[vp],N=S(m,C[EM],F);this.parseVariable(F,p,m,N,t.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',m);else if(C[IM]){let F=C[vp],N=S(m,C[IM],F);this.parseReference(F,p,m,N,t.valueSpan,s)}else if(C[TM]){let F=[],N=C[vp],U=S(m,C[TM],N);this.bindingParser.parseEvent(N,p,!1,m,t.valueSpan||m,i,F,U),f2(F,a)}else if(C[DM]){let F=C[vp],N=S(m,C[DM],F);this.bindingParser.parsePropertyBinding(F,p,!1,!0,m,_,t.valueSpan,i,r,N),this.parseAssignmentEvent(F,p,m,t.valueSpan,i,a,N)}else if(C[Dae]){let F=S(m,"",l);this.bindingParser.parseLiteralAttr(l,p,m,_,t.valueSpan,i,r,F)}return!0}let E=null;if(l.startsWith(Rs.BANANA_BOX.start)?E=Rs.BANANA_BOX:l.startsWith(Rs.PROPERTY.start)?E=Rs.PROPERTY:l.startsWith(Rs.EVENT.start)&&(E=Rs.EVENT),E!==null&&l.endsWith(E.end)&&l.length>E.start.length+E.end.length){let F=l.substring(E.start.length,l.length-E.end.length),N=S(m,E.start,F);if(E.start===Rs.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(F,p,!1,!0,m,_,t.valueSpan,i,r,N),this.parseAssignmentEvent(F,p,m,t.valueSpan,i,a,N);else if(E.start===Rs.PROPERTY.start)this.bindingParser.parsePropertyBinding(F,p,!1,!1,m,_,t.valueSpan,i,r,N);else{let U=[];this.bindingParser.parseEvent(F,p,!1,m,t.valueSpan||m,i,U,N),f2(U,a)}return!0}let I=S(m,"",l);return this.bindingParser.parsePropertyInterpolation(l,p,m,t.valueSpan,i,r,I,t.valueTokens??null)}_visitTextWithInterpolation(e,t,i,r){let a=kk(e),o=this.bindingParser.parseInterpolation(a,t,i);return o?new _d(o,t,r):new Rl(a,t)}parseVariable(e,t,i,r,a,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',i):e.length===0&&this.reportError("Variable does not have a name",i),o.push(new $s(e,t,i,r,a))}parseReference(e,t,i,r,a,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',i):e.length===0?this.reportError("Reference does not have a name",i):o.some(s=>s.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,i),o.push(new Xp(e,t,i,r,a))}parseAssignmentEvent(e,t,i,r,a,o,s){let l=[];this.bindingParser.parseEvent(`${e}Change`,t,!0,i,r||i,a,l,s),f2(l,o)}reportError(e,t,i=Us.ERROR){this.errors.push(new yt(t,e,i))}},kw=class{visitElement(e){let t=e4(e);if(t.type===Or.SCRIPT||t.type===Or.STYLE||t.type===Or.STYLESHEET)return null;let i=rn(this,e.children,null);return new yo(e.name,rn(this,e.attrs),[],[],i,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new yd(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new Rl(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,t){let i=[new Rl(e.startSourceSpan.toString(),e.startSourceSpan),...rn(this,e.children)];return e.endSourceSpan!==null&&i.push(new Rl(e.endSourceSpan.toString(),e.endSourceSpan)),i}visitBlockParameter(e,t){return null}visitLetDeclaration(e,t){return new Rl(`@let ${e.name} = ${e.value};`,e.sourceSpan)}},Mae=new kw;function MM(n){return/^data-/i.test(n)?n.substring(5):n}function f2(n,e){e.push(...n.map(t=>R2.fromParsedEvent(t)))}function kae(n){return n.children.length!==1||!(n.children[0]instanceof tc)?null:n.children[0].value}var Pae=[" ",`
`,"\r","	"];function Lae(n,e,t={}){let{interpolationConfig:i,preserveWhitespaces:r,enableI18nLegacyMessageIdFormat:a}=t,o=Pv(i),l=new Ew().parse(n,e,Mt(z({leadingTriviaChars:Pae},t),{tokenizeExpansionForms:!0,tokenizeBlocks:t.enableBlockSyntax??!0,tokenizeLet:t.enableLetSyntax??!0}));if(!t.alwaysAttemptHtmlToR3AstConversion&&l.errors&&l.errors.length>0){let j={interpolationConfig:i,preserveWhitespaces:r,errors:l.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&(j.commentNodes=[]),j}let p=l.rootNodes,m=!(t.preserveSignificantWhitespace??!0),_=new Cv(i,!r,a,void 0,t.preserveSignificantWhitespace,m),S=_.visitAllWithErrors(p);if(!t.alwaysAttemptHtmlToR3AstConversion&&S.errors&&S.errors.length>0){let j={interpolationConfig:i,preserveWhitespaces:r,errors:S.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&(j.commentNodes=[]),j}p=S.rootNodes,r||(p=rn(new wv(!0,void 0,!1),p),_.hasI18nMeta&&(p=rn(new Cv(i,!1,void 0,void 0,!0,m),p)));let{nodes:C,errors:E,styleUrls:I,styles:M,ngContentSelectors:F,commentNodes:N}=Aae(p,o,{collectCommentNodes:!!t.collectCommentNodes});E.push(...l.errors,...S.errors);let U={interpolationConfig:i,preserveWhitespaces:r,errors:E.length>0?E:null,nodes:C,styleUrls:I,styles:M,ngContentSelectors:F};return t.collectCommentNodes&&(U.commentNodes=N),U}var Rae=new Ad;function Pv(n=ho){return new Iw(new Sv(new fm),n,Rae,[])}var i4="%COMP%",Bae=`_nghost-${i4}`,Fae=`_ngcontent-${i4}`;function n4(n,e,t){let i=new Ys,r=jw(n.selector);return i.set("type",n.type.value),r.length>0&&i.set("selectors",id(r)),n.queries.length>0&&i.set("contentQueries",Ire(n.queries,e,n.name)),n.viewQueries.length&&i.set("viewQuery",Ere(n.viewQueries,e,n.name)),i.set("hostBindings",zae(n.host,n.typeSourceSpan,t,e,n.selector||"",n.name,i)),i.set("inputs",bA(n.inputs,!0)),i.set("outputs",bA(n.outputs)),n.exportAs!==null&&i.set("exportAs",oi(n.exportAs.map(a=>q(a)))),n.isStandalone===!1&&i.set("standalone",q(!1)),n.isSignal&&i.set("signals",q(!0)),i}function r4(n,e){let t=[],i=e.providers,r=e.viewProviders;if(i||r){let a=[i||new Ba([])];r&&a.push(r),t.push(Be(V.ProvidersFeature).callFn(a))}if(e.hostDirectives?.length&&t.push(Be(V.HostDirectivesFeature).callFn([Yae(e.hostDirectives)])),e.usesInheritance&&t.push(Be(V.InheritDefinitionFeature)),e.fullInheritance&&t.push(Be(V.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&t.push(Be(V.NgOnChangesFeature)),"externalStyles"in e&&e.externalStyles?.length){let a=e.externalStyles.map(o=>q(o));t.push(Be(V.ExternalStylesFeature).callFn([oi(a)]))}t.length&&n.set("features",oi(t))}function Oae(n,e,t){let i=n4(n,e,t);r4(i,n);let r=Be(V.defineDirective).callFn([i.toLiteralMap()],void 0,!0),a=jae(n);return{expression:r,type:a,statements:[]}}function Nae(n,e,t){let i=n4(n,e,t);r4(i,n);let r=n.selector&&ud.parse(n.selector),a=r&&r[0];if(a){let C=a.getAttrs();C.length&&i.set("attrs",e.getConstLiteral(oi(C.map(E=>E!=null?q(E):q(void 0))),!0))}let o=n.name,s=null;if(n.defer.mode===1&&n.defer.dependenciesFn!==null){let C=`${o}_DeferFn`;e.statements.push(new lr(C,n.defer.dependenciesFn,void 0,zn.Final)),s=Bt(C)}let l=tre(n.name,n.template.nodes,e,n.relativeContextFilePath,n.i18nUseExternalIds,n.defer,s,n.relativeTemplatePath,Sre());jk(l,fe.Tmpl);let p=Zne(l,e);if(l.contentSelectors!==null&&i.set("ngContentSelectors",l.contentSelectors),i.set("decls",q(l.root.decls)),i.set("vars",q(l.root.vars)),l.consts.length>0&&(l.constsInitializers.length>0?i.set("consts",Fa([],[...l.constsInitializers,new sr(oi(l.consts))])):i.set("consts",oi(l.consts))),i.set("template",p),n.declarationListEmitMode!==3&&n.declarations.length>0)i.set("dependencies",Hae(oi(n.declarations.map(C=>C.type)),n.declarationListEmitMode));else if(n.declarationListEmitMode===3){let C=[n.type.value];n.rawImports&&C.push(n.rawImports),i.set("dependencies",Be(V.getComponentDepsFactory).callFn(C))}n.encapsulation===null&&(n.encapsulation=Al.Emulated);let m=!!n.externalStyles?.length;if(n.styles&&n.styles.length){let E=(n.encapsulation==Al.Emulated?Gae(n.styles,Fae,Bae):n.styles).reduce((I,M)=>(M.trim().length>0&&I.push(e.getConstLiteral(q(M))),I),[]);E.length>0&&(m=!0,i.set("styles",oi(E)))}!m&&n.encapsulation===Al.Emulated&&(n.encapsulation=Al.None),n.encapsulation!==Al.Emulated&&i.set("encapsulation",q(n.encapsulation)),n.animations!==null&&i.set("data",hr([{key:"animation",value:n.animations,quoted:!1}])),n.changeDetection!==null&&(typeof n.changeDetection=="number"&&n.changeDetection!==Uw.Default?i.set("changeDetection",q(n.changeDetection)):typeof n.changeDetection=="object"&&i.set("changeDetection",n.changeDetection));let _=Be(V.defineComponent).callFn([i.toLiteralMap()],void 0,!0),S=Vae(n);return{expression:_,type:S,statements:[]}}function Vae(n){let e=a4(n);return e.push(Lw(n.template.ngContentSelectors)),e.push(qn(q(n.isStandalone))),e.push(o4(n)),n.isSignal&&e.push(qn(q(n.isSignal))),qn(Be(V.ComponentDeclaration,e))}function Hae(n,e){switch(e){case 0:return n;case 1:return Fa([],n);case 2:let t=n.prop("map").callFn([Be(V.resolveForwardRef)]);return Fa([],t);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function Wae(n){return qn(q(n))}function Pw(n){let e=Object.keys(n).map(t=>{let i=Array.isArray(n[t])?n[t][0]:n[t];return{key:t,value:q(i),quoted:!0}});return hr(e)}function Lw(n){return n.length>0?qn(oi(n.map(e=>q(e)))):vo}function a4(n){let e=n.selector!==null?n.selector.replace(/\n/g,""):null;return[Rv(n.type.type,n.typeArgumentCount),e!==null?Wae(e):vo,n.exportAs!==null?Lw(n.exportAs):vo,qn(Uae(n)),qn(Pw(n.outputs)),Lw(n.queries.map(t=>t.propertyName))]}function Uae(n){return hr(Object.keys(n.inputs).map(e=>{let t=n.inputs[e],i=[{key:"alias",value:q(t.bindingPropertyName),quoted:!0},{key:"required",value:q(t.required),quoted:!0}];return t.isSignal&&i.push({key:"isSignal",value:q(t.isSignal),quoted:!0}),{key:e,value:hr(i),quoted:!0}}))}function jae(n){let e=a4(n);return e.push(vo),e.push(qn(q(n.isStandalone))),e.push(o4(n)),n.isSignal&&e.push(qn(q(n.isSignal))),qn(Be(V.DirectiveDeclaration,e))}function zae(n,e,t,i,r,a,o){let s=t.createBoundHostProperties(n.properties,e),l=t.createDirectiveHostEventAsts(n.listeners,e);n.specialAttributes.styleAttr&&(n.attributes.style=q(n.specialAttributes.styleAttr)),n.specialAttributes.classAttr&&(n.attributes.class=q(n.specialAttributes.classAttr));let p=ire({componentName:a,componentSelector:r,properties:s,events:l,attributes:n.attributes},t,i);jk(p,fe.Host),o.set("hostAttrs",p.root.attributes);let m=p.root.vars;return m!==null&&m>0&&o.set("hostVars",q(m)),Jne(p)}var qae=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function $ae(n){let e={},t={},i={},r={};for(let a of Object.keys(n)){let o=n[a],s=a.match(qae);if(s===null)switch(a){case"class":if(typeof o!="string")throw new Error("Class binding must be string");r.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");r.styleAttr=o;break;default:typeof o=="string"?e[a]=q(o):e[a]=o}else if(s[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");i[s[1]]=o}else if(s[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");t[s[2]]=o}}return{attributes:e,listeners:t,properties:i,specialAttributes:r}}function Qae(n,e){let t=Pv();return t.createDirectiveHostEventAsts(n.listeners,e),t.createBoundHostProperties(n.properties,e),t.errors}function Gae(n,e,t){let i=new G2;return n.map(r=>i.shimCssText(r,e,t))}function o4(n){return n.hostDirectives?.length?qn(oi(n.hostDirectives.map(e=>hr([{key:"directive",value:bm(e.directive.type),quoted:!1},{key:"inputs",value:Pw(e.inputs||{}),quoted:!1},{key:"outputs",value:Pw(e.outputs||{}),quoted:!1}])))):vo}function Yae(n){let e=[],t=!1;for(let i of n){if(!i.inputs&&!i.outputs)e.push(i.directive.type);else{let r=[{key:"directive",value:i.directive.type,quoted:!1}];if(i.inputs){let a=kM(i.inputs);a&&r.push({key:"inputs",value:a,quoted:!1})}if(i.outputs){let a=kM(i.outputs);a&&r.push({key:"outputs",value:a,quoted:!1})}e.push(hr(r))}i.isForwardReference&&(t=!0)}return t?new zs([],[new sr(oi(e))]):oi(e)}function kM(n){let e=[];for(let t in n)n.hasOwnProperty(t)&&e.push(q(t),q(n[t]));return e.length>0?oi(e):null}var Rw=class{directiveMatcher;constructor(e){this.directiveMatcher=e}bind(e){if(!e.template)throw new Error("Empty bound targets are not supported");let t=new Map,i=[],r=new Map,a=new Map,o=new Map,s=new Map,l=new Map,p=new Map,m=new Set,_=new Set,S=[];if(e.template){let C=Bw.apply(e.template);Kae(C,o),Fw.apply(e.template,this.directiveMatcher,t,i,r,a),Ow.applyWithScope(e.template,C,s,l,p,m,_,S)}return new Nw(e,t,i,r,a,s,l,p,o,m,_,S)}},Bw=class n{parentScope;rootNode;namedEntities=new Map;elementsInScope=new Set;childScopes=new Map;isDeferred;constructor(e,t){this.parentScope=e,this.rootNode=t,this.isDeferred=e!==null&&e.isDeferred?!0:t instanceof Kl}static newRootScope(){return new n(null,null)}static apply(e){let t=n.newRootScope();return t.ingest(e),t}ingest(e){e instanceof Vr?(e.variables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof Nl?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(t=>t.visit(this))):e instanceof bd?(this.visitVariable(e.item),e.contextVariables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof Yp||e instanceof Kp||e instanceof Kl||e instanceof Gp||e instanceof $p||e instanceof Qp||e instanceof wd?e.children.forEach(t=>t.visit(this)):e.forEach(t=>t.visit(this))}visitElement(e){e.references.forEach(t=>this.visitReference(t)),e.children.forEach(t=>t.visit(this)),this.elementsInScope.add(e)}visitTemplate(e){e.references.forEach(t=>this.visitReference(t)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let t=this.childScopes.get(e);if(t===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return t}ingestScopedNode(e){let t=new n(this,e);t.ingest(e),this.childScopes.set(e,t)}},Fw=class n{matcher;directives;eagerDirectives;bindings;references;isInDeferBlock=!1;constructor(e,t,i,r,a){this.matcher=e,this.directives=t,this.eagerDirectives=i,this.bindings=r,this.references=a}static apply(e,t,i,r,a,o){new n(t,i,r,a,o).ingest(e)}ingest(e){e.forEach(t=>t.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitElementOrTemplate(e){let t=gX(e),i=[];this.matcher.match(t,(a,o)=>i.push(...o)),i.length>0&&(this.directives.set(e,i),this.isInDeferBlock||this.eagerDirectives.push(...i)),e.references.forEach(a=>{let o=null;if(a.value.trim()==="")o=i.find(s=>s.isComponent)||null;else if(o=i.find(s=>s.exportAs!==null&&s.exportAs.some(l=>l===a.value))||null,o===null)return;o!==null?this.references.set(a,{directive:o,node:e}):this.references.set(a,e)});let r=(a,o)=>{let s=i.find(p=>p[o].hasBindingPropertyName(a.name)),l=s!==void 0?s:e;this.bindings.set(a,l)};e.inputs.forEach(a=>r(a,"inputs")),e.attributes.forEach(a=>r(a,"inputs")),e instanceof Vr&&e.templateAttrs.forEach(a=>r(a,"inputs")),e.outputs.forEach(a=>r(a,"outputs")),e.children.forEach(a=>a.visit(this))}visitDeferredBlock(e){let t=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(i=>i.visit(this)),this.isInDeferBlock=t,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockError(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(t=>t.visit(this))}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){e.children.forEach(t=>t.visit(this))}visitForLoopBlock(e){e.item.visit(this),e.contextVariables.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(t=>t.visit(this))}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(t=>t.visit(this))}visitContent(e){e.children.forEach(t=>t.visit(this))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},Ow=class n extends Ug{bindings;symbols;usedPipes;eagerPipes;deferBlocks;nestingLevel;scope;rootNode;level;visitNode;constructor(e,t,i,r,a,o,s,l,p){super(),this.bindings=e,this.symbols=t,this.usedPipes=i,this.eagerPipes=r,this.deferBlocks=a,this.nestingLevel=o,this.scope=s,this.rootNode=l,this.level=p,this.visitNode=m=>m.visit(this)}visit(e,t){e instanceof $i?e.visit(this,t):e.visit(this)}static applyWithScope(e,t,i,r,a,o,s,l){let p=e instanceof Vr?e:null;new n(i,r,o,s,l,a,t,p,0).ingest(e)}ingest(e){if(e instanceof Vr)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Nl)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof bd)this.visitNode(e.item),e.contextVariables.forEach(t=>this.visitNode(t)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Kl){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.push([e,this.scope]),e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof Yp||e instanceof Kp||e instanceof Gp||e instanceof $p||e instanceof Qp||e instanceof wd?(e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)):e.forEach(this.visitNode)}visitElement(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.children.forEach(this.visitNode),e.references.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitText(e){}visitTextAttribute(e){}visitUnknownBlock(e){}visitDeferredTrigger(){}visitIcu(e){Object.keys(e.vars).forEach(t=>e.vars[t].visit(this)),Object.keys(e.placeholders).forEach(t=>e.placeholders[t].visit(this))}visitBoundAttribute(e){e.value.visit(this)}visitBoundEvent(e){e.handler.visit(this)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.hydrateTriggers.when?.value.visit(this),e.hydrateTriggers.never?.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.expression.visit(this),e.cases.forEach(this.visitNode)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitBoundText(e){e.value.visit(this)}visitLetDeclaration(e){e.value.visit(this),this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitPipe(e,t){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,t)}visitPropertyRead(e,t){return this.maybeMap(e,e.name),super.visitPropertyRead(e,t)}visitSafePropertyRead(e,t){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,t)}visitPropertyWrite(e,t){return this.maybeMap(e,e.name),super.visitPropertyWrite(e,t)}ingestScopedNode(e){let t=this.scope.getChildScope(e);new n(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,t,e,this.level+1).ingest(e)}maybeMap(e,t){if(!(e.receiver instanceof ha)||e.receiver instanceof Gl)return;let i=this.scope.lookup(t);i!==null&&this.bindings.set(e,i)}},Nw=class{target;directives;eagerDirectives;bindings;references;exprTargets;symbols;nestingLevel;scopedNodeEntities;usedPipes;eagerPipes;deferredBlocks;deferredScopes;constructor(e,t,i,r,a,o,s,l,p,m,_,S){this.target=e,this.directives=t,this.eagerDirectives=i,this.bindings=r,this.references=a,this.exprTargets=o,this.symbols=s,this.nestingLevel=l,this.scopedNodeEntities=p,this.usedPipes=m,this.eagerPipes=_,this.deferredBlocks=S.map(C=>C[0]),this.deferredScopes=new Map(S)}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(t=>t.forEach(i=>e.add(i))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,t){if(!(t instanceof $g)&&!(t instanceof Qg)&&!(t instanceof qg))return null;let i=t.reference;if(i===null){let a=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof Bv)){if(a!==null)return null;o instanceof yo&&(a=o)}}return a}let r=this.findEntityInScope(e,i);if(r instanceof Xp&&this.getDefinitionNodeOfSymbol(r)!==e){let a=this.getReferenceTarget(r);if(a!==null)return this.referenceTargetToElement(a)}if(e.placeholder!==null){let a=this.findEntityInScope(e.placeholder,i),o=a instanceof Xp?this.getReferenceTarget(a):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let t of this.deferredBlocks){if(!this.deferredScopes.has(t))continue;let i=[this.deferredScopes.get(t)];for(;i.length>0;){let r=i.pop();if(r.elementsInScope.has(e))return!0;i.push(...r.childScopes.values())}}return!1}findEntityInScope(e,t){let i=this.getEntitiesInScope(e);for(let r of i)if(r.name===t)return r;return null}referenceTargetToElement(e){return e instanceof yo?e:e instanceof Vr?null:this.referenceTargetToElement(e.node)}};function Kae(n,e){let t=new Map;function i(a){if(t.has(a.rootNode))return t.get(a.rootNode);let o=a.namedEntities,s;return a.parentScope!==null?s=new Map([...i(a.parentScope),...o]):s=new Map(o),t.set(a.rootNode,s),s}let r=[n];for(;r.length>0;){let a=r.pop();for(let o of a.childScopes.values())r.push(o);i(a)}for(let[a,o]of t)e.set(a,new Set(o.values()))}var Vw=class{},Hw=class{jitEvaluator;FactoryTarget=$o;ResourceLoader=Vw;elementSchemaRegistry=new Ad;constructor(e=new q2){this.jitEvaluator=e}compilePipe(e,t,i){let r={type:Dn(i.type),typeArgumentCount:0,pipeName:i.pipeName,pure:i.pure,isStandalone:i.isStandalone},a=MA(r);return this.jitExpression(a.expression,e,t,[])}compilePipeDeclaration(e,t,i){let r=moe(i),a=MA(r);return this.jitExpression(a.expression,e,t,[])}compileInjectable(e,t,i){let{expression:r,statements:a}=wA({name:i.name,type:Dn(i.type),typeArgumentCount:i.typeArgumentCount,providedIn:OM(i.providedIn),useClass:Zc(i,"useClass"),useFactory:FM(i,"useFactory"),useValue:Zc(i,"useValue"),useExisting:Zc(i,"useExisting"),deps:i.deps?.map(d4)},!0);return this.jitExpression(r,e,t,a)}compileInjectableDeclaration(e,t,i){let{expression:r,statements:a}=wA({name:i.type.name,type:Dn(i.type),typeArgumentCount:0,providedIn:OM(i.providedIn),useClass:Zc(i,"useClass"),useFactory:FM(i,"useFactory"),useValue:Zc(i,"useValue"),useExisting:Zc(i,"useExisting"),deps:i.deps?.map(NM)},!0);return this.jitExpression(r,e,t,a)}compileInjector(e,t,i){let r={type:Dn(i.type),providers:i.providers&&i.providers.length>0?new Nt(i.providers):null,imports:i.imports.map(o=>new Nt(o))},a=AA(r);return this.jitExpression(a.expression,e,t,[])}compileInjectorDeclaration(e,t,i){let r=hoe(i),a=AA(r);return this.jitExpression(a.expression,e,t,[])}compileNgModule(e,t,i){let r={kind:js.Global,type:Dn(i.type),bootstrap:i.bootstrap.map(Dn),declarations:i.declarations.map(Dn),publicDeclarationTypes:null,imports:i.imports.map(Dn),includeImportTypes:!0,exports:i.exports.map(Dn),selectorScopeMode:iv.Inline,containsForwardDecls:!1,schemas:i.schemas?i.schemas.map(Dn):null,id:i.id?new Nt(i.id):null},a=HX(r);return this.jitExpression(a.expression,e,t,[])}compileNgModuleDeclaration(e,t,i){let r=WX(i);return this.jitExpression(r,e,t,[])}compileDirective(e,t,i){let r=RM(i);return this.compileDirectiveFromMeta(e,t,r)}compileDirectiveDeclaration(e,t,i){let r=this.createParseSourceSpan("Directive",i.type.name,t),a=l4(i,r);return this.compileDirectiveFromMeta(e,t,a)}compileDirectiveFromMeta(e,t,i){let r=new Tg,a=Pv(),o=Oae(i,r,a);return this.jitExpression(o.expression,e,t,r.statements)}compileComponent(e,t,i){let{template:r,interpolation:a,defer:o}=c4(i.template,i.name,t,i.preserveWhitespaces,i.interpolation,void 0),s=Mt(z(z({},i),RM(i)),{selector:i.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:r,declarations:i.declarations.map(eoe),declarationListEmitMode:0,defer:o,styles:[...i.styles,...r.styles],encapsulation:i.encapsulation,interpolation:a,changeDetection:i.changeDetection??null,animations:i.animations!=null?new Nt(i.animations):null,viewProviders:i.viewProviders!=null?new Nt(i.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),l=`ng:///${i.name}.js`;return this.compileComponentFromMeta(e,l,s)}compileComponentDeclaration(e,t,i){let r=this.createParseSourceSpan("Component",i.type.name,t),a=Jae(i,r,t);return this.compileComponentFromMeta(e,t,a)}compileComponentFromMeta(e,t,i){let r=new Tg,a=Pv(i.interpolation),o=Nae(i,r,a);return this.jitExpression(o.expression,e,t,r.statements)}compileFactory(e,t,i){let r=Ml({name:i.name,type:Dn(i.type),typeArgumentCount:i.typeArgumentCount,deps:noe(i.deps),target:i.target});return this.jitExpression(r.expression,e,t,r.statements)}compileFactoryDeclaration(e,t,i){let r=Ml({name:i.type.name,type:Dn(i.type),typeArgumentCount:0,deps:Array.isArray(i.deps)?i.deps.map(NM):i.deps,target:i.target});return this.jitExpression(r.expression,e,t,r.statements)}createParseSourceSpan(e,t,i){return LX(e,t,i)}jitExpression(e,t,i,r){let a=[...r,new lr("$def",e,void 0,zn.Exported)];return this.jitEvaluator.evaluateStatements(i,a,new Q2(t),!0).$def}};function PM(n){return Mt(z({},n),{isSignal:n.isSignal,predicate:s4(n.predicate),read:n.read?new Nt(n.read):null,static:n.static,emitDistinctChangesOnly:n.emitDistinctChangesOnly})}function LM(n){return{propertyName:n.propertyName,first:n.first??!1,predicate:s4(n.predicate),descendants:n.descendants??!1,read:n.read?new Nt(n.read):null,static:n.static??!1,emitDistinctChangesOnly:n.emitDistinctChangesOnly??!0,isSignal:!!n.isSignal}}function s4(n){return Array.isArray(n)?n:Qw(new Nt(n),1)}function RM(n){let e=poe(n.inputs||[]),t=v2(n.outputs||[]),i=n.propMetadata,r={},a={};for(let s in i)i.hasOwnProperty(s)&&i[s].forEach(l=>{loe(l)?r[s]={bindingPropertyName:l.alias||s,classPropertyName:s,required:l.required||!1,isSignal:!!l.isSignal,transformFunction:l.transform!=null?new Nt(l.transform):null}:coe(l)&&(a[s]=l.alias||s)});let o=n.hostDirectives?.length?n.hostDirectives.map(s=>typeof s=="function"?{directive:Dn(s),inputs:null,outputs:null,isForwardReference:!1}:{directive:Dn(s.directive),isForwardReference:!1,inputs:s.inputs?v2(s.inputs):null,outputs:s.outputs?v2(s.outputs):null}):null;return Mt(z({},n),{typeArgumentCount:0,typeSourceSpan:n.typeSourceSpan,type:Dn(n.type),deps:null,host:z({},aoe(n.propMetadata,n.typeSourceSpan,n.host)),inputs:z(z({},e),r),outputs:z(z({},t),a),queries:n.queries.map(PM),providers:n.providers!=null?new Nt(n.providers):null,viewQueries:n.viewQueries.map(PM),fullInheritance:!1,hostDirectives:o})}function l4(n,e){let t=n.hostDirectives?.length?n.hostDirectives.map(i=>({directive:Dn(i.directive),isForwardReference:!1,inputs:i.inputs?BM(i.inputs):null,outputs:i.outputs?BM(i.outputs):null})):null;return{name:n.type.name,type:Dn(n.type),typeSourceSpan:e,selector:n.selector??null,inputs:n.inputs?doe(n.inputs):{},outputs:n.outputs??{},host:Xae(n.host),queries:(n.queries??[]).map(LM),viewQueries:(n.viewQueries??[]).map(LM),providers:n.providers!==void 0?new Nt(n.providers):null,exportAs:n.exportAs??null,usesInheritance:n.usesInheritance??!1,lifecycle:{usesOnChanges:n.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:n.isStandalone??qM(n.version),isSignal:n.isSignal??!1,hostDirectives:t}}function Xae(n={}){return{attributes:Zae(n.attributes??{}),listeners:n.listeners??{},properties:n.properties??{},specialAttributes:{classAttr:n.classAttribute,styleAttr:n.styleAttribute}}}function BM(n){let e=null;for(let t=1;t<n.length;t+=2)e=e||{},e[n[t-1]]=n[t];return e}function Zae(n){let e={};for(let t of Object.keys(n))e[t]=new Nt(n[t]);return e}function Jae(n,e,t){let{template:i,interpolation:r,defer:a}=c4(n.template,n.type.name,t,n.preserveWhitespaces??!1,n.interpolation,n.deferBlockDependencies),o=[];if(n.dependencies)for(let s of n.dependencies)switch(s.kind){case"directive":case"component":o.push(g2(s));break;case"pipe":o.push(ioe(s));break}else(n.components||n.directives||n.pipes)&&(n.components&&o.push(...n.components.map(s=>g2(s,!0))),n.directives&&o.push(...n.directives.map(s=>g2(s))),n.pipes&&o.push(...toe(n.pipes)));return Mt(z({},l4(n,e)),{template:i,styles:n.styles??[],declarations:o,viewProviders:n.viewProviders!==void 0?new Nt(n.viewProviders):null,animations:n.animations!==void 0?new Nt(n.animations):null,defer:a,changeDetection:n.changeDetection??Uw.Default,encapsulation:n.encapsulation??Al.Emulated,interpolation:r,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null})}function eoe(n){return Mt(z({},n),{type:new Nt(n.type)})}function g2(n,e=null){return{kind:Nv.Directive,isComponent:e||n.kind==="component",selector:n.selector,type:new Nt(n.type),inputs:n.inputs??[],outputs:n.outputs??[],exportAs:n.exportAs??null}}function toe(n){return n?Object.keys(n).map(e=>({kind:Nv.Pipe,name:e,type:new Nt(n[e])})):[]}function ioe(n){return{kind:Nv.Pipe,name:n.name,type:new Nt(n.type)}}function c4(n,e,t,i,r,a){let o=r?Zg.fromArray(r):ho,s=Lae(n,t,{preserveWhitespaces:i,interpolationConfig:o});if(s.errors!==null){let m=s.errors.map(_=>_.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${m}`)}let p=new Rw(new gg).bind({template:s.nodes});return{template:s,interpolation:o,defer:roe(p,a)}}function Zc(n,e){if(n.hasOwnProperty(e))return Qw(new Nt(n[e]),0)}function FM(n,e){if(n.hasOwnProperty(e))return new Nt(n[e])}function OM(n){let e=typeof n=="function"?new Nt(n):new $n(n??null);return Qw(e,0)}function noe(n){return n==null?null:n.map(d4)}function d4(n){let e=n.attribute!=null,t=n.token===null?null:new Nt(n.token),i=e?new Nt(n.attribute):t;return u4(i,e,n.host,n.optional,n.self,n.skipSelf)}function NM(n){let e=n.attribute??!1,t=n.token===null?null:new Nt(n.token);return u4(t,e,n.host??!1,n.optional??!1,n.self??!1,n.skipSelf??!1)}function u4(n,e,t,i,r,a){let o=e?q("unknown"):null;return{token:n,attributeNameType:o,host:t,optional:i,self:r,skipSelf:a}}function roe(n,e){let t=n.getDeferBlocks(),i=new Map;for(let r=0;r<t.length;r++){let a=e?.[r];i.set(t[r],a?new Nt(a):null)}return{mode:0,blocks:i}}function aoe(n,e,t){let i=$ae(t||{}),r=Qae(i,e);if(r.length)throw new Error(r.map(a=>a.msg).join(`
`));for(let a in n)n.hasOwnProperty(a)&&n[a].forEach(o=>{ooe(o)?i.properties[o.hostPropertyName||a]=ZK("this",a):soe(o)&&(i.listeners[o.eventName||a]=`${a}(${(o.args||[]).join(",")})`)});return i}function ooe(n){return n.ngMetadataName==="HostBinding"}function soe(n){return n.ngMetadataName==="HostListener"}function loe(n){return n.ngMetadataName==="Input"}function coe(n){return n.ngMetadataName==="Output"}function doe(n){return Object.keys(n).reduce((e,t)=>{let i=n[t];return typeof i=="string"||Array.isArray(i)?e[t]=uoe(i):e[t]={bindingPropertyName:i.publicName,classPropertyName:t,transformFunction:i.transformFunction!==null?new Nt(i.transformFunction):null,required:i.isRequired,isSignal:i.isSignal},e},{})}function uoe(n){return typeof n=="string"?{bindingPropertyName:n,classPropertyName:n,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:n[0],classPropertyName:n[1],transformFunction:n[2]?new Nt(n[2]):null,required:!1,isSignal:!1}}function poe(n){return n.reduce((e,t)=>{if(typeof t=="string"){let[i,r]=p4(t);e[r]={bindingPropertyName:i,classPropertyName:r,required:!1,isSignal:!1,transformFunction:null}}else e[t.name]={bindingPropertyName:t.alias||t.name,classPropertyName:t.name,required:t.required||!1,isSignal:!1,transformFunction:t.transform!=null?new Nt(t.transform):null};return e},{})}function v2(n){return n.reduce((e,t)=>{let[i,r]=p4(t);return e[r]=i,e},{})}function p4(n){let[e,t]=n.split(":",2).map(i=>i.trim());return[t??e,e]}function moe(n){return{name:n.type.name,type:Dn(n.type),typeArgumentCount:0,pipeName:n.name,deps:null,pure:n.pure??!0,isStandalone:n.isStandalone??qM(n.version)}}function hoe(n){return{name:n.type.name,type:Dn(n.type),providers:n.providers!==void 0&&n.providers.length>0?new Nt(n.providers):null,imports:n.imports!==void 0?n.imports.map(e=>new Nt(e)):[]}}function foe(n){let e=n.ng||(n.ng={});e.\u0275compilerFacade=new Hw}var pDe=new C2("19.2.14");var Ww=class{closedByParent=!1;implicitNamespacePrefix=null;isVoid=!1;ignoreFirstLf=!1;canSelfClose=!0;preventNamespaceInheritance=!1;requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return mo.PARSABLE_DATA}},mDe=new Ww;foe(Cp);BS(ig,nA).catch(n=>console.error(n));
